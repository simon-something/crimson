/* Decompiled from: grim.dll */

/* grim_noop @ 10001160 */

/* debug stub (no-op) */

void grim_noop(void)

{
  return;
}



/* FUN_100019f0 @ 100019f0 */

undefined4 FUN_100019f0(void)

{
  FILE *_File;
  int iVar1;
  
  _File = fopen(s_crimson_cfg_10053234,&DAT_10053240);
  iVar1 = 0;
  if (_File != (FILE *)0x0) {
    fwrite(&grim_config_blob,0x480,1,_File);
    iVar1 = fclose(_File);
  }
  return CONCAT31((int3)((uint)iVar1 >> 8),1);
}



/* FUN_10001a30 @ 10001a30 */

undefined4 FUN_10001a30(void)

{
  FILE *_File;
  long lVar1;
  undefined4 uVar2;
  int iVar3;
  
  _File = fopen(s_crimson_cfg_10053234,&DAT_10053244);
  if (_File == (FILE *)0x0) {
    FUN_100019f0();
    _File = fopen(s_crimson_cfg_10053234,&DAT_10053244);
    if (_File == (FILE *)0x0) {
      return 0;
    }
  }
  fseek(_File,0,2);
  lVar1 = ftell(_File);
  if (lVar1 != 0x480) {
    fclose(_File);
    uVar2 = FUN_100019f0();
    return CONCAT31((int3)((uint)uVar2 >> 8),1);
  }
  fseek(_File,0,0);
  fread(&grim_config_blob,0x480,1,_File);
  iVar3 = fclose(_File);
  return CONCAT31((int3)((uint)iVar3 >> 8),1);
}



/* FUN_10001e90 @ 10001e90 */

/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */

void FUN_10001e90(void)

{
  HWND pHVar1;
  HRESULT HVar2;
  uint wParam;
  WPARAM WVar3;
  char *pcVar4;
  UINT UVar5;
  LPARAM LVar6;
  
  wParam = DAT_1005cec8 & 0xff;
  LVar6 = 0;
  UVar5 = 0xf1;
  DAT_10053064 = (byte)(DAT_1005a4a4 >> 0x13) & 1;
  pHVar1 = GetDlgItem(DAT_1005b2b0,0x3ed);
  SendMessageA(pHVar1,UVar5,wParam,LVar6);
  DAT_1005d400 = DAT_1005d0c8;
  HVar2 = (*grim_d3d8_probe->lpVtbl->CheckDeviceType)
                    (grim_d3d8_probe,0,D3DDEVTYPE_HAL,D3DFMT_X8R8G8B8,D3DFMT_X8R8G8B8,0);
  LVar6 = 0;
  WVar3 = 0;
  DAT_10053065 = -1 < HVar2;
  UVar5 = 0x14b;
  pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
  SendMessageA(pHVar1,UVar5,WVar3,LVar6);
  if (DAT_10053064 != 0) {
    pcVar4 = s_640x480__windowed__10053440;
    WVar3 = 0;
    UVar5 = 0x143;
    pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
    SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
    pcVar4 = s_800x600__windowed__1005342c;
    WVar3 = 0;
    UVar5 = 0x143;
    pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
    SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
    pcVar4 = s_960x600__wide_window__10053414;
    WVar3 = 0;
    UVar5 = 0x143;
    pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
    SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
    pcVar4 = s_1024x768__windowed__10053400;
    WVar3 = 0;
    UVar5 = 0x143;
    pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
    SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
  }
  pcVar4 = s_640x480x16_100533f4;
  WVar3 = 0;
  UVar5 = 0x143;
  pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
  SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
  pcVar4 = s_800x600x16_100533e8;
  WVar3 = 0;
  UVar5 = 0x143;
  pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
  SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
  pcVar4 = s_960x600x16__wide__100533d4;
  WVar3 = 0;
  UVar5 = 0x143;
  pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
  SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
  pcVar4 = s_1024x768x16_100533c8;
  WVar3 = 0;
  UVar5 = 0x143;
  pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
  SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
  if (DAT_10053065 != '\0') {
    pcVar4 = s_640x480x32_100533bc;
    WVar3 = 0;
    UVar5 = 0x143;
    pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
    SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
    pcVar4 = s_800x600x32_100533b0;
    WVar3 = 0;
    UVar5 = 0x143;
    pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
    SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
    pcVar4 = s_960x600x32__wide__1005339c;
    WVar3 = 0;
    UVar5 = 0x143;
    pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
    SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
    pcVar4 = s_1024x768x32_10053390;
    WVar3 = 0;
    UVar5 = 0x143;
    pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
    SendMessageA(pHVar1,UVar5,WVar3,(LPARAM)pcVar4);
  }
  if (DAT_1005ce18 == 0x280) {
    WVar3 = 0;
  }
  else if (DAT_1005ce18 == 800) {
    WVar3 = 1;
  }
  else if (DAT_1005ce18 == 0x3c0) {
    WVar3 = 2;
  }
  else if (DAT_1005ce18 == 0x400) {
    WVar3 = 3;
  }
  else {
    WVar3 = (-(uint)(DAT_1005ce18 != 0x690) & 0xfffffffd) + 4;
  }
  if ((DAT_1005cc08 != '\x01') || (DAT_10053064 == 0)) {
    if (DAT_1005ce38 == 0x10) {
      WVar3 = WVar3 + 4;
    }
    else if (DAT_1005ce38 == 0x20) {
      WVar3 = WVar3 + 8;
    }
    if (DAT_10053064 == 0) {
      WVar3 = WVar3 - 4;
    }
  }
  LVar6 = 0;
  UVar5 = 0x14e;
  pHVar1 = GetDlgItem(DAT_1005b2b0,0x3f9);
  SendMessageA(pHVar1,UVar5,WVar3,LVar6);
  return;
}



/* grim_config_dialog_proc @ 10002120 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* dialog procedure for the Grim2D config UI */

int grim_config_dialog_proc(int hwnd,uint msg,uint wparam,int lparam)

{
  undefined4 uVar1;
  HRESULT HVar2;
  LRESULT LVar3;
  char *pcVar4;
  HWND pHVar5;
  UINT UVar6;
  HRESULT HVar7;
  undefined4 *puVar8;
  UINT Adapter;
  bool bVar9;
  UINT UVar10;
  char *pcVar11;
  WPARAM WVar12;
  int iVar13;
  LPARAM LVar14;
  char *pcStack_404;
  char cStack_400;
  undefined4 uStack_3ff;
  char acStack_200 [512];
  
  if (msg == 0x10) {
LAB_10002629:
    grim_config_dialog_canceled = 1;
LAB_10002631:
    EndDialog((HWND)hwnd,wparam & 0xffff);
  }
  else {
    if (msg == 0x110) {
      iVar13 = 5;
      DAT_1005b2b0 = hwnd;
      pHVar5 = GetDlgItem((HWND)hwnd,0x3f2);
      ShowWindow(pHVar5,iVar13);
      iVar13 = 0;
      pHVar5 = GetDlgItem((HWND)hwnd,0x40b);
      ShowWindow(pHVar5,iVar13);
      SendMessageA((HWND)hwnd,0x80,1,DAT_10059778);
      SendMessageA((HWND)hwnd,0x80,0,DAT_10059778);
      GetLocalTime((LPSYSTEMTIME)&DAT_1005c408);
      UVar6 = (*grim_d3d8_probe->lpVtbl->GetAdapterCount)(grim_d3d8_probe);
      Adapter = 0;
      DAT_1005befc = '\0';
      if (0 < (int)UVar6) {
        do {
          (*grim_d3d8_probe->lpVtbl->GetAdapterIdentifier)
                    (grim_d3d8_probe,Adapter,2,(D3DADAPTER_IDENTIFIER8 *)&DAT_10059788);
          if (Adapter == 0) {
            pcVar11 = s__s__default__1005330c;
          }
          else {
            pcVar11 = &DAT_10053308;
          }
          sprintf(acStack_200,pcVar11,&DAT_10059988);
          HVar7 = (*grim_d3d8_probe->lpVtbl->CheckDeviceType)
                            (grim_d3d8_probe,Adapter,D3DDEVTYPE_HAL,D3DFMT_R5G6B5,D3DFMT_R5G6B5,0);
          if ((-1 < HVar7) ||
             (HVar7 = (*grim_d3d8_probe->lpVtbl->CheckDeviceType)
                                (grim_d3d8_probe,Adapter,D3DDEVTYPE_HAL,D3DFMT_X8R8G8B8,
                                 D3DFMT_X8R8G8B8,0), -1 < HVar7)) {
            pcVar11 = acStack_200;
            WVar12 = 0;
            UVar10 = 0x143;
            pHVar5 = GetDlgItem((HWND)hwnd,0x3f1);
            SendMessageA(pHVar5,UVar10,WVar12,(LPARAM)pcVar11);
            DAT_1005befc = '\x01';
          }
          Adapter = Adapter + 1;
        } while ((int)Adapter < (int)UVar6);
      }
      LVar14 = 0;
      UVar10 = 0x14e;
      WVar12 = DAT_1005d3e8;
      pHVar5 = GetDlgItem((HWND)hwnd,0x3f1);
      SendMessageA(pHVar5,UVar10,WVar12,LVar14);
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0x147;
      pHVar5 = GetDlgItem((HWND)hwnd,0x3f1);
      DAT_1005d3e8 = SendMessageA(pHVar5,UVar10,WVar12,LVar14);
      FUN_10001e90();
      if (DAT_1005befc == '\0') {
        pcVar11 = s_No_supported_display_adapters_de_10053454;
        WVar12 = 0;
        UVar10 = 0x143;
        pHVar5 = GetDlgItem((HWND)hwnd,0x3f1);
        SendMessageA(pHVar5,UVar10,WVar12,(LPARAM)pcVar11);
        iVar13 = MessageBoxA((HWND)hwnd,s_No_supported_display_adapters_we_10053248,
                             s_Crimsonland_100532fc,0x33);
        if (iVar13 != 6) {
          grim_config_dialog_canceled = 1;
          EndDialog((HWND)hwnd,wparam & 0xffff);
        }
      }
      return 1;
    }
    if (msg != 0x111) {
      return 0;
    }
    switch(wparam & 0xffff) {
    case 1000:
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0xf0;
      pHVar5 = GetDlgItem((HWND)hwnd,0x3ef);
      LVar3 = SendMessageA(pHVar5,UVar10,WVar12,LVar14);
      LVar14 = 0;
      WVar12 = 0;
      DAT_1005d0c8 = LVar3 != 0;
      UVar10 = 0x147;
      pHVar5 = GetDlgItem((HWND)hwnd,0x3f9);
      WVar12 = SendMessageA(pHVar5,UVar10,WVar12,LVar14);
      cStack_400 = '\0';
      puVar8 = &uStack_3ff;
      for (iVar13 = 0x7f; iVar13 != 0; iVar13 = iVar13 + -1) {
        *puVar8 = 0;
        puVar8 = puVar8 + 1;
      }
      *(undefined2 *)puVar8 = 0;
      *(undefined1 *)((int)puVar8 + 2) = 0;
      pcVar11 = &cStack_400;
      UVar10 = 0x148;
      pHVar5 = GetDlgItem((HWND)hwnd,0x3f9);
      SendMessageA(pHVar5,UVar10,WVar12,(LPARAM)pcVar11);
      pcVar11 = strstr(&cStack_400,s_window_10053494);
      DAT_1005b280 = pcVar11 != (char *)0x0;
      pcVar11 = strchr(&cStack_400,0x78);
      *pcVar11 = '\0';
      pcVar4 = strchr(pcVar11 + 1,0x78);
      if (pcVar4 == (char *)0x0) {
        pcStack_404 = &DAT_10053490;
      }
      else {
        *pcVar4 = '\0';
        pcStack_404 = pcVar4 + 1;
        pcVar4[4] = '\0';
      }
      DAT_10053054 = atoi(&cStack_400);
      DAT_10053058 = atoi(pcVar11 + 1);
      DAT_1005ce18 = DAT_10053054;
      _DAT_1005ce28 = DAT_10053058;
      iVar13 = atoi(pcStack_404);
      bVar9 = iVar13 == 0x10;
      DAT_1005b2b8 = CONCAT31(DAT_1005b2b8._1_3_,bVar9);
      DAT_1005ce38 = (-(uint)bVar9 & 0xfffffff0) + 0x20;
      sprintf(&cStack_400,s_w___d_h__d_bpp__d_1005347c,DAT_10053054,DAT_10053058,bVar9);
      grim_config_dialog_canceled = 0;
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0x147;
      pHVar5 = GetDlgItem((HWND)hwnd,0x3f1);
      DAT_1005d3e8 = SendMessageA(pHVar5,UVar10,WVar12,LVar14);
      goto LAB_10002631;
    case 0x3e9:
      goto LAB_10002629;
    case 0x3f1:
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0x147;
      pHVar5 = GetDlgItem((HWND)hwnd,0x3f1);
      DAT_1005d3e8 = SendMessageA(pHVar5,UVar10,WVar12,LVar14);
      FUN_10001e90();
      return 0;
    case 0x3f2:
      HVar2 = HlinkNavigateString((IUnknown *)0x0,u_http___www_crimsonland_com_10053524);
      if (HVar2 < 0) {
        MessageBoxA((HWND)0x0,s_Failed_to_open_browser_at_http___100534ec,s_Crimsonland_100532fc,
                    0x30);
        return 0;
      }
      break;
    case 0x3f5:
      UVar10 = WinExec(s_explorer_exe_manual_html_100534d0,3);
      if (UVar10 < 0x20) {
        MessageBoxA((HWND)0x0,s_Failed_to_open_the_Crimsonland_M_1005349c,s_Crimsonland_100532fc,
                    0x30);
        return 0;
      }
      break;
    case 0x3fb:
      uVar1 = FUN_10001a30();
      if ((char)uVar1 != '\0') {
        DialogBoxParamA(grim_module_handle,(LPCSTR)0x89,(HWND)hwnd,(DLGPROC)&LAB_10001ad0,0);
        return 0;
      }
      MessageBoxA((HWND)hwnd,s_Unable_to_load_configuration_fil_1005355c,
                  s_Parental_lock_problem_1005359c,0x40);
      return 0;
    case 0x3fc:
      LVar14 = 0;
      WVar12 = 0;
      UVar10 = 0x147;
      pHVar5 = GetDlgItem((HWND)hwnd,0x3f1);
      DAT_1005d3e8 = SendMessageA(pHVar5,UVar10,WVar12,LVar14);
      DialogBoxParamA(grim_module_handle,(LPCSTR)0x8a,(HWND)hwnd,(DLGPROC)&LAB_10001170,0);
      return 0;
    }
  }
  return 0;
}



/* grim_window_create @ 10002680 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* registers the window class and creates the main game window */

BOOL grim_window_create(void)

{
  HWND hWndParent;
  int nHeight;
  int nWidth;
  int iVar1;
  int iVar2;
  uint uVar3;
  WINBOOL WVar4;
  DWORD dwExStyle;
  DWORD dwStyle;
  HMENU hMenu;
  HMODULE hInstance;
  LPVOID lpParam;
  tagRECT local_10;
  
  if (DAT_10059780 == (HMODULE)0x0) {
    DAT_10059780 = GetModuleHandleA((LPCSTR)0x0);
  }
  _DAT_10059dc8 = 0x30;
  _DAT_10059dcc = 3;
  _DAT_10059dd0 = &LAB_100033b0;
  _DAT_10059dd4 = 0;
  _DAT_10059dd8 = 0;
  _DAT_10059de0 = DAT_10059778;
  DAT_10059ddc = DAT_10059780;
  _DAT_10059de4 = LoadCursorA((HINSTANCE)0x0,(LPCSTR)0x7f00);
  _DAT_10059de8 = GetStockObject(4);
  _DAT_10059dec = 0;
  DAT_10059df0 = s_Crimson_100535dc;
  _DAT_10059df4 = DAT_10059778;
  RegisterClassExA((WNDCLASSEXA *)&DAT_10059dc8);
  lpParam = (LPVOID)0x0;
  if (DAT_1005cc08 == '\0') {
    hMenu = (HMENU)0x0;
    hInstance = DAT_10059780;
    hWndParent = GetDesktopWindow();
    nHeight = GetSystemMetrics(1);
    nWidth = GetSystemMetrics(0);
    dwStyle = 0x80000000;
    dwExStyle = 8;
    iVar1 = 0;
    iVar2 = 0;
  }
  else {
    iVar1 = GetSystemMetrics(0);
    iVar2 = GetSystemMetrics(1);
    local_10.left = iVar1 / 2 - (grim_backbuffer_width >> 1);
    local_10.right = (grim_backbuffer_width >> 1) + iVar1 / 2;
    local_10.top = iVar2 / 2 - (grim_backbuffer_height >> 1);
    local_10.bottom = (grim_backbuffer_height >> 1) + iVar2 / 2;
    AdjustWindowRectEx(&local_10,0xcb0000,0,0x40000);
    lpParam = (LPVOID)0x0;
    hMenu = (HMENU)0x0;
    hInstance = DAT_10059780;
    hWndParent = GetDesktopWindow();
    nHeight = local_10.bottom - local_10.top;
    nWidth = local_10.right - local_10.left;
    dwStyle = 0xcb0000;
    dwExStyle = 0x40000;
    iVar1 = local_10.left;
    iVar2 = local_10.top;
  }
  DAT_1005d3f8 = CreateWindowExA(dwExStyle,DAT_10059df0,DAT_1005bac8,dwStyle,iVar1,iVar2,nWidth,
                                 nHeight,hWndParent,hMenu,hInstance,lpParam);
  if (DAT_1005d3f8 == (HWND)0x0) {
    grim_error_text = s_WIN__Could_not_create_the_main_w_100535b4;
    uVar3 = grim_window_destroy();
    return uVar3 & 0xffffff00;
  }
  ShowWindow(DAT_1005d3f8,1);
  UpdateWindow(DAT_1005d3f8);
  SetFocus(DAT_1005d3f8);
  ShowWindow(DAT_1005d3f8,1);
  WVar4 = UpdateWindow(DAT_1005d3f8);
  return CONCAT31((int3)((uint)WVar4 >> 8),1);
}



/* grim_window_destroy @ 10002880 */

/* posts quit and destroys the main window */

BOOL grim_window_destroy(void)

{
  WINBOOL WVar1;
  
  PostQuitMessage(0);
  if (DAT_1005d3f8 != (HWND)0x0) {
    DestroyWindow(DAT_1005d3f8);
  }
  if (DAT_1005d3fc != 0) {
    DestroyWindow(DAT_1005d3f8);
  }
  WVar1 = UnregisterClassA(DAT_10059df0,DAT_10059ddc);
  return WVar1;
}



/* grim_backup_textures @ 100028d0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* backup texture surfaces before device reset */

int grim_backup_textures(void)

{
  undefined4 extraout_EAX;
  HRESULT HVar1;
  int iVar2;
  ULONG UVar3;
  uint extraout_EAX_00;
  uint extraout_EAX_01;
  uint extraout_EAX_02;
  uint extraout_EAX_03;
  uint extraout_EAX_04;
  int *piVar4;
  int iVar5;
  IDirect3DSurface8 *local_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  undefined4 uStack_8;
  undefined4 uStack_4;
  
  grim_noop();
  if (DAT_1005d810 != '\0') {
    grim_noop();
    if (DAT_1005d810 != '\0') {
      return CONCAT31((int3)((uint)extraout_EAX >> 8),1);
    }
  }
  iVar5 = 0;
  local_14 = (IDirect3DSurface8 *)0x0;
  if (-1 < DAT_1005305c) {
    piVar4 = &grim_texture_slots;
    do {
      if ((*piVar4 != 0) && (*(char *)(*piVar4 + 8) != '\0')) {
        grim_noop();
        iVar2 = *piVar4;
        HVar1 = (*grim_d3d_device->lpVtbl->CreateImageSurface)
                          (grim_d3d_device,*(UINT *)(iVar2 + 0xc),*(UINT *)(iVar2 + 0x10),
                           grim_texture_format,(IDirect3DSurface8 **)(iVar2 + 0x14));
        if (HVar1 < 0) {
          grim_error_text = s_D3D__Unable_to_backup_texture____10053678;
          grim_noop();
          grim_noop();
          return extraout_EAX_00 & 0xffffff00;
        }
        iVar2 = (**(code **)(**(int **)(*piVar4 + 4) + 0x3c))(*(int **)(*piVar4 + 4),0,&local_14);
        if (iVar2 < 0) {
          piVar4 = *(int **)((&grim_texture_slots)[iVar5] + 0x14);
          if (piVar4 != (int *)0x0) {
            iVar2 = (**(code **)(*piVar4 + 8))(piVar4);
            if (iVar2 == 0) {
              *(undefined4 *)((&grim_texture_slots)[iVar5] + 0x14) = 0;
            }
          }
          grim_error_text = s_D3D__Unable_to_backup_texture____10053644;
          grim_noop();
          grim_noop();
          return extraout_EAX_01 & 0xffffff00;
        }
        HVar1 = (*grim_d3d_device->lpVtbl->CopyRects)
                          (grim_d3d_device,local_14,(RECT *)0x0,0,
                           *(IDirect3DSurface8 **)(*piVar4 + 0x14),(POINT *)0x0);
        if (HVar1 < 0) {
          piVar4 = *(int **)((&grim_texture_slots)[iVar5] + 0x14);
          if (piVar4 != (int *)0x0) {
            iVar2 = (**(code **)(*piVar4 + 8))(piVar4);
            if (iVar2 == 0) {
              *(undefined4 *)((&grim_texture_slots)[iVar5] + 0x14) = 0;
            }
          }
          if (local_14 != (IDirect3DSurface8 *)0x0) {
            UVar3 = (*local_14->lpVtbl->Release)(local_14);
            if (UVar3 == 0) {
              local_14 = (IDirect3DSurface8 *)0x0;
            }
          }
          grim_error_text = s_D3D__Unable_to_backup_texture____10053618;
          grim_noop();
          uStack_10 = CONCAT31(uStack_10._1_3_,1);
          _DAT_1005d0f8 = uStack_10;
          _DAT_1005d0fc = uStack_c;
          _DAT_1005d100 = uStack_8;
          _DAT_1005d104 = uStack_4;
          if (HVar1 == -0x7789f798) {
            grim_noop();
            return extraout_EAX_02 & 0xffffff00;
          }
          if (HVar1 == -0x7789f794) {
            grim_noop();
            return extraout_EAX_03 & 0xffffff00;
          }
          grim_noop();
          return extraout_EAX_04 & 0xffffff00;
        }
        if (local_14 != (IDirect3DSurface8 *)0x0) {
          UVar3 = (*local_14->lpVtbl->Release)(local_14);
          if (UVar3 == 0) {
            local_14 = (IDirect3DSurface8 *)0x0;
          }
        }
      }
      iVar5 = iVar5 + 1;
      piVar4 = piVar4 + 1;
    } while (iVar5 <= DAT_1005305c);
  }
  DAT_1005d810 = '\x01';
  return CONCAT31((int3)((uint)DAT_1005305c >> 8),1);
}



/* grim_restore_textures @ 10002b40 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* restore texture surfaces after device reset */

int grim_restore_textures(void)

{
  int *piVar1;
  uint in_EAX;
  uint extraout_EAX;
  int iVar2;
  HRESULT HVar3;
  ULONG UVar4;
  uint extraout_EAX_00;
  uint extraout_EAX_01;
  int *piVar5;
  int iVar6;
  IDirect3DSurface8 *local_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  undefined4 uStack_8;
  undefined4 uStack_4;
  
  if (DAT_1005d804 != '\0') {
    return in_EAX & 0xffffff00;
  }
  grim_noop();
  if (DAT_1005d810 == '\0') {
    grim_noop();
    if (DAT_1005d810 == '\0') {
      return extraout_EAX & 0xffffff00;
    }
  }
  iVar6 = 0;
  local_14 = (IDirect3DSurface8 *)0x0;
  if (-1 < DAT_1005305c) {
    piVar5 = &grim_texture_slots;
    do {
      iVar2 = *piVar5;
      if (((iVar2 != 0) && (*(char *)(iVar2 + 8) != '\0')) && (*(int *)(iVar2 + 0x14) != 0)) {
        grim_noop();
        piVar1 = *(int **)(*piVar5 + 4);
        if (piVar1 != (int *)0x0) {
          iVar2 = (**(code **)(*piVar1 + 0x3c))(piVar1,0,&local_14);
          if (iVar2 < 0) {
            grim_error_text = s_D3D__Unable_to_recreate_texture__10053704;
            grim_noop();
            return extraout_EAX_00 & 0xffffff00;
          }
        }
        HVar3 = (*grim_d3d_device->lpVtbl->CopyRects)
                          (grim_d3d_device,*(IDirect3DSurface8 **)(*piVar5 + 0x14),(RECT *)0x0,0,
                           local_14,(POINT *)0x0);
        if (HVar3 < 0) {
          if (local_14 != (IDirect3DSurface8 *)0x0) {
            UVar4 = (*local_14->lpVtbl->Release)(local_14);
            if (UVar4 == 0) {
              local_14 = (IDirect3DSurface8 *)0x0;
            }
          }
          piVar5 = *(int **)((&grim_texture_slots)[iVar6] + 0x14);
          if (piVar5 != (int *)0x0) {
            iVar2 = (**(code **)(*piVar5 + 8))(piVar5);
            if (iVar2 == 0) {
              *(undefined4 *)((&grim_texture_slots)[iVar6] + 0x14) = 0;
            }
          }
          uStack_10 = CONCAT31(uStack_10._1_3_,1);
          _DAT_1005d0f8 = uStack_10;
          DAT_1005d810 = 0;
          grim_error_text = s_D3D__Unable_to_restore_texture____100536d8;
          _DAT_1005d0fc = uStack_c;
          _DAT_1005d100 = uStack_8;
          _DAT_1005d104 = uStack_4;
          grim_noop();
          return extraout_EAX_01 & 0xffffff00;
        }
        if (local_14 != (IDirect3DSurface8 *)0x0) {
          UVar4 = (*local_14->lpVtbl->Release)(local_14);
          if (UVar4 == 0) {
            local_14 = (IDirect3DSurface8 *)0x0;
          }
        }
        piVar1 = *(int **)(*piVar5 + 0x14);
        if (piVar1 != (int *)0x0) {
          iVar2 = (**(code **)(*piVar1 + 8))(piVar1);
          if (iVar2 == 0) {
            *(undefined4 *)(*piVar5 + 0x14) = 0;
          }
        }
      }
      iVar6 = iVar6 + 1;
      piVar5 = piVar5 + 1;
    } while (iVar6 <= DAT_1005305c);
  }
  DAT_1005d810 = 0;
  return CONCAT31((int3)((uint)DAT_1005305c >> 8),1);
}



/* FUN_10002cf0 @ 10002cf0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */

undefined4 FUN_10002cf0(void)

{
  int *piVar1;
  ULONG UVar2;
  int iVar3;
  HRESULT HVar4;
  undefined4 unaff_EBX;
  undefined4 unaff_EBP;
  int *piVar5;
  int iVar6;
  undefined4 uStack_10;
  undefined4 uStack_c;
  
  grim_noop();
  if ((grim_render_target_surface != (LPDIRECT3DSURFACE8)0x0) &&
     (UVar2 = (*grim_render_target_surface->lpVtbl->Release)(grim_render_target_surface), UVar2 == 0
     )) {
    grim_render_target_surface = (LPDIRECT3DSURFACE8)0x0;
  }
  if ((grim_backbuffer_surface != (LPDIRECT3DSURFACE8)0x0) &&
     (UVar2 = (*grim_backbuffer_surface->lpVtbl->Release)(grim_backbuffer_surface), UVar2 == 0)) {
    grim_backbuffer_surface = (LPDIRECT3DSURFACE8)0x0;
  }
  iVar6 = 0;
  if (-1 < DAT_1005305c) {
    piVar5 = &grim_texture_slots;
    do {
      iVar3 = *piVar5;
      if ((((iVar3 != 0) && (*(char *)(iVar3 + 8) != '\0')) &&
          (piVar1 = *(int **)(iVar3 + 4), piVar1 != (int *)0x0)) &&
         (iVar3 = (**(code **)(*piVar1 + 8))(piVar1), iVar3 == 0)) {
        *(undefined4 *)(*piVar5 + 4) = 0;
      }
      iVar6 = iVar6 + 1;
      piVar5 = piVar5 + 1;
    } while (iVar6 <= DAT_1005305c);
  }
  iVar6 = (*grim_d3d_device->lpVtbl->Reset)
                    (grim_d3d_device,(D3DPRESENT_PARAMETERS *)&grim_present_width);
  do {
    if (iVar6 == 0) {
      FUN_10004520();
      iVar6 = 0;
      if (-1 < DAT_1005305c) {
        piVar5 = &grim_texture_slots;
        do {
          iVar3 = *piVar5;
          if (((iVar3 != 0) && (*(char *)(iVar3 + 8) != '\0')) &&
             (HVar4 = (*grim_d3d_device->lpVtbl->CreateTexture)
                                (grim_d3d_device,*(UINT *)(iVar3 + 0xc),*(UINT *)(iVar3 + 0x10),1,1,
                                 grim_texture_format,D3DPOOL_DEFAULT,
                                 (IDirect3DTexture8 **)(iVar3 + 4)), HVar4 < 0)) {
            grim_error_text = s_D3D__Unable_to_recreate_a_textur_100537e0;
            grim_noop();
            *(undefined4 *)(*piVar5 + 4) = 0;
            Sleep(200);
          }
          iVar6 = iVar6 + 1;
          piVar5 = piVar5 + 1;
        } while (iVar6 <= DAT_1005305c);
      }
      iVar6 = grim_restore_textures();
      if ((char)iVar6 == '\0') {
        grim_noop();
      }
      grim_noop();
      DAT_1005d808 = 0;
      return 0;
    }
    DAT_1005d808 = DAT_1005d808 + 1;
    Sleep(500);
    if (3 < DAT_1005d808) {
      grim_error_text = s_D3D__Unable_to_restore_device__10053804;
      iVar6 = MessageBoxA(DAT_1005d3f8,s_D3D__Unable_to_restore_device__10053804,&DAT_10053824,5);
      if (iVar6 == 2) {
        grim_noop();
        return 0x88760869;
      }
      iVar6 = 0;
      if (-1 < DAT_1005305c) {
        piVar5 = &grim_texture_slots;
        do {
          iVar3 = *piVar5;
          if ((iVar3 != 0) && (*(char *)(iVar3 + 8) != '\0')) {
            piVar1 = *(int **)(iVar3 + 0x14);
            if ((piVar1 != (int *)0x0) && (iVar3 = (**(code **)(*piVar1 + 8))(piVar1), iVar3 == 0))
            {
              *(undefined4 *)(*piVar5 + 0x14) = 0;
            }
            piVar1 = *(int **)(*piVar5 + 4);
            if ((piVar1 != (int *)0x0) && (iVar3 = (**(code **)(*piVar1 + 8))(piVar1), iVar3 == 0))
            {
              *(undefined4 *)(*piVar5 + 4) = 0;
            }
            _DAT_1005d0f8 = CONCAT31((int3)((uint)unaff_EBP >> 8),1);
            _DAT_1005d100 = uStack_10;
            _DAT_1005d104 = uStack_c;
            _DAT_1005d0fc = unaff_EBX;
            unaff_EBP = _DAT_1005d0f8;
          }
          iVar6 = iVar6 + 1;
          piVar5 = piVar5 + 1;
        } while (iVar6 <= DAT_1005305c);
      }
    }
    iVar6 = (*grim_d3d_device->lpVtbl->Reset)
                      (grim_d3d_device,(D3DPRESENT_PARAMETERS *)&grim_present_width);
  } while( true );
}



/* FUN_10002f60 @ 10002f60 */

/* [binja] BOOL __fastcall sub_10002f60(void* arg1) */

bool __fastcall FUN_10002f60(void *arg1)

{
  undefined1 uVar1;
  WINBOOL WVar2;
  
  uVar1 = 0;
  if (*(HGDIOBJ *)((int)arg1 + 0x1c) != (HGDIOBJ)0x0) {
    WVar2 = DeleteObject(*(HGDIOBJ *)((int)arg1 + 0x1c));
    uVar1 = (undefined1)WVar2;
    *(undefined4 *)((int)arg1 + 0x1c) = 0;
  }
  return (bool)uVar1;
}



/* FUN_10002f80 @ 10002f80 */

/* [binja] uint32_t __fastcall sub_10002f80(void* arg1) */

uint __fastcall FUN_10002f80(void *arg1)

{
  int iVar1;
  DWORD DVar2;
  uint uVar3;
  
  DVar2 = timeGetTime();
  iVar1 = *(int *)((int)arg1 + 4);
  if (iVar1 < 0) {
    *(DWORD *)((int)arg1 + 4) = DVar2;
    return DVar2 & 0xffffff00;
  }
  *(DWORD *)((int)arg1 + 4) = DVar2;
  uVar3 = *(int *)((int)arg1 + 8) + (DVar2 - iVar1);
  *(uint *)((int)arg1 + 8) = uVar3;
  if ((int)uVar3 < 0x1e) {
    return uVar3 & 0xffffff00;
  }
  *(int *)((int)arg1 + 8) = (int)uVar3 % 0x1e;
  return CONCAT31((int3)((uint)((int)uVar3 / 0x1e) >> 8),1);
}



/* FUN_10002fc0 @ 10002fc0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* [binja] int32_t __fastcall sub_10002fc0(char* arg1) */

int __fastcall FUN_10002fc0(char *arg1)

{
  int iVar1;
  undefined4 *puVar2;
  tagRECT local_10;
  
  grim_noop();
  *arg1 = '\0';
  arg1[4] = -1;
  arg1[5] = -1;
  arg1[6] = -1;
  arg1[7] = -1;
  arg1[8] = '\0';
  arg1[9] = '\0';
  arg1[10] = '\0';
  arg1[0xb] = '\0';
  arg1[0x1c] = '\0';
  arg1[0x1d] = '\0';
  arg1[0x1e] = '\0';
  arg1[0x1f] = '\0';
  arg1[0x24] = '\0';
  arg1[0x25] = '\0';
  arg1[0x26] = '\0';
  arg1[0x27] = '\0';
  arg1[0x29] = '\0';
  arg1[0x28] = '\0';
  arg1[0x14] = '\0';
  arg1[0x15] = '\0';
  arg1[0x16] = '\0';
  arg1[0x17] = '\0';
  GetClientRect(DAT_1005d3f8,&local_10);
  *(LONG *)(arg1 + 0x10) = local_10.right;
  *(LONG *)(arg1 + 0xc) = local_10.bottom;
  *(undefined4 *)(arg1 + 0x10) = grim_backbuffer_width;
  *(undefined4 *)(arg1 + 0xc) = grim_backbuffer_height;
  puVar2 = &DAT_10059e3c;
  for (iVar1 = 0x41; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  _getcwd((char *)&DAT_10059e3c,0x104);
  local_10.left = local_10.left & 0xffffff00;
  _DAT_1005d1c8 = local_10.left;
  _DAT_1005d1cc = local_10.top;
  _DAT_1005d1d4 = local_10.bottom;
  _DAT_1005d1d0 = local_10.right;
  return CONCAT31((int3)((uint)local_10.bottom >> 8),1);
}



/* FUN_10003090 @ 10003090 */

/* [binja] int32_t sub_10003090() */

int __fastcall FUN_10003090(void)

{
  uint uVar1;
  int extraout_EAX;
  void *in_ECX;
  
  uVar1 = FUN_10002f80(in_ECX);
  if ((char)uVar1 != '\0') {
    grim_noop();
    return extraout_EAX;
  }
  return uVar1;
}



/* FUN_100030b0 @ 100030b0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */

undefined4 FUN_100030b0(void)

{
  int *piVar1;
  HRESULT HVar2;
  ULONG UVar3;
  int iVar4;
  int extraout_EAX;
  uint uVar5;
  undefined4 unaff_EBX;
  undefined4 unaff_EBP;
  undefined4 unaff_ESI;
  int *piVar6;
  int iVar7;
  undefined4 uStack_10;
  
  uVar5 = 0;
  if (grim_d3d_device == (LPDIRECT3DDEVICE8)0x0) {
LAB_100033a0:
    return uVar5 & 0xffffff00;
  }
  HVar2 = (*grim_d3d_device->lpVtbl->TestCooperativeLevel)(grim_d3d_device);
  DAT_1005c898 = HVar2 == 0;
  if ((!(bool)DAT_1005c898) && (HVar2 == -0x7789f797)) {
    Sleep(100);
    if ((grim_render_target_surface != (LPDIRECT3DSURFACE8)0x0) &&
       (UVar3 = (*grim_render_target_surface->lpVtbl->Release)(grim_render_target_surface),
       UVar3 == 0)) {
      grim_render_target_surface = (LPDIRECT3DSURFACE8)0x0;
    }
    if ((grim_backbuffer_surface != (LPDIRECT3DSURFACE8)0x0) &&
       (UVar3 = (*grim_backbuffer_surface->lpVtbl->Release)(grim_backbuffer_surface), UVar3 == 0)) {
      grim_backbuffer_surface = (LPDIRECT3DSURFACE8)0x0;
    }
    iVar7 = 0;
    if (-1 < DAT_1005305c) {
      piVar6 = &grim_texture_slots;
      do {
        iVar4 = *piVar6;
        if ((((iVar4 != 0) && (*(char *)(iVar4 + 8) != '\0')) &&
            (piVar1 = *(int **)(iVar4 + 4), piVar1 != (int *)0x0)) &&
           (iVar4 = (**(code **)(*piVar1 + 8))(piVar1), iVar4 == 0)) {
          *(undefined4 *)(*piVar6 + 4) = 0;
        }
        iVar7 = iVar7 + 1;
        piVar6 = piVar6 + 1;
      } while (iVar7 <= DAT_1005305c);
    }
    HVar2 = (*grim_d3d_device->lpVtbl->Reset)
                      (grim_d3d_device,(D3DPRESENT_PARAMETERS *)&grim_present_width);
    if (HVar2 == 0) {
      FUN_10004520();
      iVar7 = 0;
      if (-1 < DAT_1005305c) {
        piVar6 = &grim_texture_slots;
        do {
          iVar4 = *piVar6;
          if (((iVar4 != 0) && (*(char *)(iVar4 + 8) != '\0')) &&
             (HVar2 = (*grim_d3d_device->lpVtbl->CreateTexture)
                                (grim_d3d_device,*(UINT *)(iVar4 + 0xc),*(UINT *)(iVar4 + 0x10),1,1,
                                 grim_texture_format,D3DPOOL_DEFAULT,
                                 (IDirect3DTexture8 **)(iVar4 + 4)), HVar2 < 0)) {
            grim_error_text = s_D3D__Unable_to_recreate_a_textur_100537e0;
            *(undefined4 *)(*piVar6 + 4) = 0;
            grim_noop();
            grim_noop();
          }
          iVar7 = iVar7 + 1;
          piVar6 = piVar6 + 1;
        } while (iVar7 <= DAT_1005305c);
      }
      iVar7 = grim_restore_textures();
      DAT_1005d808 = 0;
      return CONCAT31((int3)((uint)iVar7 >> 8),1);
    }
    DAT_1005d808 = DAT_1005d808 + 1;
    Sleep(500);
    HVar2 = extraout_EAX;
    if (DAT_1005d808 == 5) {
      iVar7 = 0;
      HVar2 = DAT_1005305c;
      if (DAT_1005305c < 0) goto LAB_10003396;
      piVar6 = &grim_texture_slots;
      do {
        iVar4 = *piVar6;
        if ((iVar4 != 0) && (*(char *)(iVar4 + 8) != '\0')) {
          piVar1 = *(int **)(iVar4 + 0x14);
          if ((piVar1 != (int *)0x0) && (iVar4 = (**(code **)(*piVar1 + 8))(piVar1), iVar4 == 0)) {
            *(undefined4 *)(*piVar6 + 0x14) = 0;
          }
          piVar1 = *(int **)(*piVar6 + 4);
          if ((piVar1 != (int *)0x0) && (iVar4 = (**(code **)(*piVar1 + 8))(piVar1), iVar4 == 0)) {
            *(undefined4 *)(*piVar6 + 4) = 0;
          }
          _DAT_1005d0f8 = CONCAT31((int3)((uint)unaff_ESI >> 8),1);
          _DAT_1005d104 = uStack_10;
          _DAT_1005d0fc = unaff_EBP;
          _DAT_1005d100 = unaff_EBX;
          unaff_ESI = _DAT_1005d0f8;
        }
        iVar7 = iVar7 + 1;
        piVar6 = piVar6 + 1;
        HVar2 = DAT_1005305c;
      } while (iVar7 <= DAT_1005305c);
    }
    if (6 < DAT_1005d808) {
      grim_error_text = s_D3D__Unable_to_restore_device__10053804;
      uVar5 = MessageBoxA(DAT_1005d3f8,s_D3D__Unable_to_restore_device__10053804,&DAT_10053824,5);
      if (uVar5 == 2) goto LAB_100033a0;
      iVar7 = 0;
      HVar2 = DAT_1005305c;
      if (-1 < DAT_1005305c) {
        piVar6 = &grim_texture_slots;
        do {
          iVar4 = *piVar6;
          if ((iVar4 != 0) && (*(char *)(iVar4 + 8) != '\0')) {
            piVar1 = *(int **)(iVar4 + 0x14);
            if ((piVar1 != (int *)0x0) && (iVar4 = (**(code **)(*piVar1 + 8))(piVar1), iVar4 == 0))
            {
              *(undefined4 *)(*piVar6 + 0x14) = 0;
            }
            piVar1 = *(int **)(*piVar6 + 4);
            if ((piVar1 != (int *)0x0) && (iVar4 = (**(code **)(*piVar1 + 8))(piVar1), iVar4 == 0))
            {
              *(undefined4 *)(*piVar6 + 4) = 0;
            }
            _DAT_1005d0f8 = CONCAT31((int3)((uint)unaff_ESI >> 8),1);
            _DAT_1005d104 = uStack_10;
            _DAT_1005d0fc = unaff_EBP;
            _DAT_1005d100 = unaff_EBX;
            unaff_ESI = _DAT_1005d0f8;
          }
          iVar7 = iVar7 + 1;
          piVar6 = piVar6 + 1;
          HVar2 = DAT_1005305c;
        } while (iVar7 <= DAT_1005305c);
      }
    }
  }
LAB_10003396:
  return CONCAT31((int3)((uint)HVar2 >> 8),1);
}



/* FUN_10003c00 @ 10003c00 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */

undefined4 FUN_10003c00(void)

{
  float fVar1;
  char cVar2;
  WINBOOL WVar3;
  HRESULT HVar4;
  int iVar5;
  float *pfVar6;
  tagMSG *ptVar7;
  tagMSG local_1c;
  
  ptVar7 = &local_1c;
  for (iVar5 = 7; iVar5 != 0; iVar5 = iVar5 + -1) {
    ptVar7->hwnd = (HWND)0x0;
    ptVar7 = (tagMSG *)&ptVar7->message;
  }
  PeekMessageA(&local_1c,(HWND)0x0,0,0,0);
  FUN_10004920();
  FUN_10004970();
  FUN_10004920();
  FUN_10004970();
  FUN_10004970();
  FUN_10002fc0(&DAT_1005bbd8);
  SetFocus(DAT_1005d3f8);
  SetForegroundWindow(DAT_1005d3f8);
  if (DAT_1005d3f8 != (HWND)0x0) {
    do {
      while( true ) {
        do {
          while( true ) {
            while( true ) {
              if (local_1c.message == 0x12) goto LAB_10003e30;
              WVar3 = PeekMessageA(&local_1c,(HWND)0x0,0,0,1);
              if (WVar3 == 0) break;
              TranslateMessage(&local_1c);
              DispatchMessageA(&local_1c);
            }
            if (DAT_1005d804 == '\0') {
              FUN_10004970();
            }
            if ((((grim_paused_flag == '\0') && (DAT_1005d804 == '\0')) && (DAT_1005c898 != '\0'))
               && (DAT_1005a470 == '\0')) {
              if (DAT_1005cc38 != '\0') {
                grim_keyboard_poll();
                pfVar6 = (float *)&DAT_1005a058;
                do {
                  fVar1 = *pfVar6 - _grim_frame_dt;
                  *pfVar6 = fVar1;
                  if (fVar1 < 0.0) {
                    *pfVar6 = 0.0;
                  }
                  pfVar6 = pfVar6 + 1;
                } while ((int)pfVar6 < 0x1005a458);
              }
              grim_joystick_poll();
              _DAT_1005cf14 = &grim_joystick_state;
              if (grim_input_cached == '\0') {
                _grim_mouse_x_cached = grim_mouse_x;
                _grim_mouse_y_cached = grim_mouse_y;
                grim_mouse_poll();
              }
            }
            DAT_1005c898 = '\0';
            if (DAT_1005d804 != '\0') {
              DAT_1005a470 = '\x01';
              FUN_10003090();
            }
            if (DAT_1005a470 == '\0') break;
            if (DAT_1005d804 == '\0') {
              Sleep(0x32);
            }
          }
        } while ((DAT_1005d804 != '\0') || (grim_d3d_device == (LPDIRECT3DDEVICE8)0x0));
        HVar4 = (*grim_d3d_device->lpVtbl->TestCooperativeLevel)(grim_d3d_device);
        DAT_1005c898 = HVar4 == 0;
        if (!(bool)DAT_1005c898) break;
        if (DAT_1005d811 != '\0') {
          (*DAT_10059770)();
          DAT_1005d811 = '\0';
        }
        cVar2 = (*DAT_1005977c)();
        if (cVar2 == '\0') goto LAB_10003e30;
        if (DAT_1005d3b4 != (int *)0x0) {
          (**(code **)(*DAT_1005d3b4 + 0x14))();
        }
        if (grim_render_disabled == '\0') {
          (*grim_d3d_device->lpVtbl->Present)
                    (grim_d3d_device,(RECT *)0x0,(RECT *)0x0,(HWND)0x0,(RGNDATA *)0x0);
        }
      }
      Sleep(500);
      HVar4 = (*grim_d3d_device->lpVtbl->TestCooperativeLevel)(grim_d3d_device);
      DAT_1005c898 = HVar4 == 0;
    } while ((HVar4 != -0x7789f797) || (iVar5 = FUN_10002cf0(), iVar5 != -0x7789f797));
  }
LAB_10003e30:
  timeEndPeriod(1);
  thunk_FUN_10002f60(&DAT_1005bbd8);
  if (grim_input_cached != '\0') {
    ShowCursor(1);
  }
  grim_window_destroy();
  return 0;
}



/* grim_d3d_init @ 10003e60 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* creates the Direct3D8 interface, configures display mode, and opens the window */

int grim_d3d_init(void)

{
  byte bVar1;
  char *pcVar2;
  HRESULT HVar3;
  uint uVar4;
  BOOL BVar5;
  undefined4 uVar6;
  HRSRC pHVar7;
  HGLOBAL pvVar8;
  LPVOID pvVar9;
  int *piVar10;
  int iVar11;
  undefined4 *puVar12;
  D3DDISPLAYMODE DStack_43c;
  D3DADAPTER_IDENTIFIER8 DStack_42c;
  
  DAT_1005c898 = 0;
  grim_d3d8 = (LPDIRECT3D8)0x0;
  grim_d3d_device = (LPDIRECT3DDEVICE8)0x0;
  DAT_1005b2b4 = D3DDEVTYPE_HAL;
  if ((char)DAT_1005cec8 == '\x01') {
    DAT_1005b2b4 = D3DDEVTYPE_REF;
  }
  grim_d3d8 = Direct3DCreate8(0xdc);
  if (grim_d3d8 == (IDirect3D8 *)0x0) {
    grim_error_text = s_D3D__Could_not_init_DirectX_8_1__10053a60;
    return 0;
  }
  (*grim_d3d8->lpVtbl->GetDeviceCaps)(grim_d3d8,DAT_1005d3e8,DAT_1005b2b4,(D3DCAPS8 *)&DAT_1005a498)
  ;
  bVar1 = 0;
  (*grim_d3d8->lpVtbl->GetAdapterIdentifier)(grim_d3d8,DAT_1005d3e8,2,&DStack_42c);
  pcVar2 = strchr(DStack_42c.Description,0x56);
  if (((((pcVar2 != (char *)0x0) && (pcVar2[1] == 'o')) && (pcVar2[2] == 'o')) &&
      ((pcVar2[3] == 'd' && (pcVar2[4] == 'o')))) && ((pcVar2[5] == 'o' && (pcVar2[6] == '3')))) {
    bVar1 = 1;
  }
  HVar3 = (*grim_d3d8->lpVtbl->GetAdapterDisplayMode)(grim_d3d8,0,&DStack_43c);
  if (HVar3 < 0) {
    grim_error_text = s_D3D__Error_getting_adapter_displ_10053a34;
    uVar4 = 0;
    if ((grim_d3d8 != (LPDIRECT3D8)0x0) &&
       (uVar4 = (*grim_d3d8->lpVtbl->Release)(grim_d3d8), uVar4 == 0)) {
      grim_d3d8 = (LPDIRECT3D8)0x0;
    }
    return uVar4 & 0xffffff00;
  }
  BVar5 = grim_window_create();
  uVar6 = DAT_1005ceb8;
  if ((char)BVar5 == '\0') {
    return BVar5;
  }
  puVar12 = &grim_present_width;
  for (iVar11 = 0xd; iVar11 != 0; iVar11 = iVar11 + -1) {
    *puVar12 = 0;
    puVar12 = puVar12 + 1;
  }
  _DAT_10059e04 = uVar6;
  if (DAT_1005cc08 != '\x01') {
    _DAT_10059e0c = bVar1 + 1;
    _DAT_10059e24 = 0;
    _DAT_10059e28 = 0x80000000;
  }
  else {
    _DAT_10059e0c = 1;
    grim_texture_format = (IDirect3D8 *)DStack_43c.Format;
  }
  _DAT_10059e14 = (uint)(DAT_1005cc08 == '\x01');
  grim_present_height = grim_backbuffer_height;
  grim_present_width = grim_backbuffer_width;
  _DAT_10059e00 = grim_texture_format;
  _DAT_10059e08 = 0;
  _DAT_10059e20 = 1;
  _DAT_10059e18 = (uint)(DAT_1005ced8 != '\0');
  _DAT_10059e1c = 0x50;
  _DAT_10059e10 = DAT_1005d3fc;
  if (DAT_1005d3fc == (HWND)0x0) {
    _DAT_10059e10 = DAT_1005d3f8;
  }
  HVar3 = (*grim_d3d8->lpVtbl->CreateDevice)
                    (grim_d3d8,DAT_1005d3e8,DAT_1005b2b4,DAT_1005d3f8,0x20,
                     (D3DPRESENT_PARAMETERS *)&grim_present_width,&grim_d3d_device);
  if (HVar3 < 0) {
    grim_error_text = s_D3D__Could_not_set_the_requested_10053a04;
    MessageBoxA((HWND)0x0,s_D3D__Could_not_set_the_requested_10053a04,&DAT_10053824,0);
    FUN_10004280();
    uVar4 = grim_window_destroy();
    return uVar4 & 0xffffff00;
  }
  (*grim_d3d8->lpVtbl->GetDeviceCaps)(grim_d3d8,DAT_1005d3e8,DAT_1005b2b4,(D3DCAPS8 *)&DAT_1005a498)
  ;
  uVar6 = FUN_10004350();
  if ((char)uVar6 == '\0') {
    FUN_10004280();
    uVar4 = grim_window_destroy();
    return uVar4 & 0xffffff00;
  }
  puVar12 = &grim_texture_slots;
  for (iVar11 = 0x100; iVar11 != 0; iVar11 = iVar11 + -1) {
    *puVar12 = 0;
    puVar12 = puVar12 + 1;
  }
  if (grim_preferred_texture_format != (void *)0x0) {
    iVar11 = grim_is_texture_format_supported((uint)grim_preferred_texture_format);
    if ((char)iVar11 == '\0') {
      grim_preferred_texture_format = (void *)0x0;
    }
    else if (grim_preferred_texture_format != (void *)0x0) goto LAB_10004142;
  }
  iVar11 = grim_select_texture_format();
  if ((char)iVar11 == '\0') {
    grim_error_text = s_D3D__Could_not_find_any_compatib_100539d0;
    FUN_10004280();
    grim_window_destroy();
  }
LAB_10004142:
  FUN_10004520();
  pHVar7 = FindResourceA(grim_module_handle,(LPCSTR)0x6f,(LPCSTR)0xa);
  pvVar8 = LoadResource(grim_module_handle,pHVar7);
  pvVar9 = LockResource(pvVar8);
  piVar10 = (int *)SizeofResource(grim_module_handle,pHVar7);
  uVar4 = FUN_1000cb5c((int **)grim_d3d_device,pvVar9,piVar10,-1,-1,1,0,
                       grim_preferred_texture_format,1,-1,(int **)0xffffffff,0,0,0,0x1005d3ec);
  if ((int)uVar4 < 0) {
    grim_error_text = s_D3D__Unable_to_load_default_font_100539a4;
    return uVar4 & 0xffffff00;
  }
  pHVar7 = FindResourceA(grim_module_handle,(LPCSTR)0x71,(LPCSTR)0xa);
  pvVar8 = LoadResource(grim_module_handle,pHVar7);
  pvVar9 = LockResource(pvVar8);
  piVar10 = (int *)SizeofResource(grim_module_handle,pHVar7);
  uVar4 = FUN_1000cb5c((int **)grim_d3d_device,pvVar9,piVar10,-1,-1,1,0,
                       grim_preferred_texture_format,1,-1,(int **)0xffffffff,0,0,0,0x1005d3f0);
  if ((int)uVar4 < 0) {
    grim_error_text = s_D3D__Unable_to_load_grim_splash_t_10053978;
    return uVar4 & 0xffffff00;
  }
  grim_backbuffer_surface = (LPDIRECT3DSURFACE8)0x0;
  grim_render_target_surface = (LPDIRECT3DSURFACE8)0x0;
  _DAT_1005d094 = grim_d3d8;
  _DAT_1005d0a4 = grim_d3d_device;
  DAT_1005c898 = 1;
  return CONCAT31((int3)((uint)grim_d3d8 >> 8),1);
}



/* FUN_10004280 @ 10004280 */

/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */

void FUN_10004280(void)

{
  void *texture;
  ULONG UVar1;
  int iVar2;
  undefined4 *puVar3;
  
  if (grim_backbuffer_surface != (LPDIRECT3DSURFACE8)0x0) {
    UVar1 = (*grim_backbuffer_surface->lpVtbl->Release)(grim_backbuffer_surface);
    if (UVar1 == 0) {
      grim_backbuffer_surface = (LPDIRECT3DSURFACE8)0x0;
    }
  }
  if (grim_render_target_surface != (LPDIRECT3DSURFACE8)0x0) {
    UVar1 = (*grim_render_target_surface->lpVtbl->Release)(grim_render_target_surface);
    if (UVar1 == 0) {
      grim_render_target_surface = (LPDIRECT3DSURFACE8)0x0;
    }
  }
  if (grim_font_texture != (int *)0x0) {
    iVar2 = (**(code **)(*grim_font_texture + 8))(grim_font_texture);
    if (iVar2 == 0) {
      grim_font_texture = (int *)0x0;
    }
  }
  if (DAT_1005d3f0 != (int *)0x0) {
    iVar2 = (**(code **)(*DAT_1005d3f0 + 8))(DAT_1005d3f0);
    if (iVar2 == 0) {
      DAT_1005d3f0 = (int *)0x0;
    }
  }
  puVar3 = &grim_texture_slots;
  do {
    texture = (void *)*puVar3;
    if (texture != (void *)0x0) {
      grim_texture_release(texture);
      operator_delete(texture);
      *puVar3 = 0;
    }
    puVar3 = puVar3 + 1;
  } while ((int)puVar3 < 0x1005d804);
  FUN_100044e0();
  if (grim_d3d_device != (LPDIRECT3DDEVICE8)0x0) {
    (*grim_d3d_device->lpVtbl->Release)(grim_d3d_device);
  }
  grim_d3d_device = (LPDIRECT3DDEVICE8)0x0;
  if (grim_d3d8 != (LPDIRECT3D8)0x0) {
    (*grim_d3d8->lpVtbl->Release)(grim_d3d8);
  }
  grim_d3d8 = (LPDIRECT3D8)0x0;
  return;
}



/* FUN_10004350 @ 10004350 */

/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */

uint FUN_10004350(void)

{
  ushort uVar1;
  short sVar2;
  uint uVar3;
  HRESULT HVar4;
  
  grim_vertex_capacity = 0x100;
  uVar3 = (*grim_d3d_device->lpVtbl->CreateVertexBuffer)
                    (grim_d3d_device,0x1c00,0x218,0,D3DPOOL_SYSTEMMEM,&grim_vertex_buffer);
  if ((int)uVar3 < 0) {
    grim_error_text = s_D3D__Internal__Could_not_create_v_10053ac4;
    return uVar3 & 0xffffff00;
  }
  HVar4 = (*grim_d3d_device->lpVtbl->CreateIndexBuffer)
                    (grim_d3d_device,grim_vertex_capacity * 0xc,0x218,D3DFMT_INDEX16,
                     D3DPOOL_SYSTEMMEM,&DAT_10059bb8);
  if (-1 < HVar4) {
    uVar3 = (*DAT_10059bb8->lpVtbl->Lock)(DAT_10059bb8,0,0,(BYTE **)&DAT_1005b2c0,0x2000);
    if (-1 < (int)uVar3) {
      if (grim_vertex_capacity != 0) {
        sVar2 = 2;
        do {
          *DAT_1005b2c0 = sVar2 + -2;
          DAT_1005b2c0 = DAT_1005b2c0 + 1;
          *DAT_1005b2c0 = sVar2 + -1;
          DAT_1005b2c0 = DAT_1005b2c0 + 1;
          *DAT_1005b2c0 = sVar2;
          DAT_1005b2c0 = DAT_1005b2c0 + 1;
          *DAT_1005b2c0 = sVar2;
          DAT_1005b2c0 = DAT_1005b2c0 + 1;
          *DAT_1005b2c0 = sVar2 + 1;
          DAT_1005b2c0 = DAT_1005b2c0 + 1;
          *DAT_1005b2c0 = sVar2 + -2;
          DAT_1005b2c0 = DAT_1005b2c0 + 1;
          uVar1 = sVar2 + 2;
          sVar2 = sVar2 + 4;
        } while (uVar1 < grim_vertex_capacity);
      }
      (*DAT_10059bb8->lpVtbl->Unlock)(DAT_10059bb8);
      (*grim_d3d_device->lpVtbl->SetStreamSource)(grim_d3d_device,0,grim_vertex_buffer,0x1c);
      HVar4 = (*grim_d3d_device->lpVtbl->SetIndices)(grim_d3d_device,DAT_10059bb8,0);
      return CONCAT31((int3)((uint)HVar4 >> 8),1);
    }
    DAT_1005c898 = 0;
    return uVar3 & 0xffffff00;
  }
  grim_error_text = s_D3D__Internal__Could_not_create_i_10053a94;
  uVar3 = FUN_100044e0();
  return uVar3 & 0xffffff00;
}



/* FUN_100044e0 @ 100044e0 */

void FUN_100044e0(void)

{
  if (grim_vertex_buffer != (int *)0x0) {
    (**(code **)(*grim_vertex_buffer + 8))(grim_vertex_buffer);
  }
  grim_vertex_buffer = (int *)0x0;
  if (DAT_10059bb8 != (int *)0x0) {
    (**(code **)(*DAT_10059bb8 + 8))(DAT_10059bb8);
  }
  DAT_10059bb8 = (int *)0x0;
  return;
}



/* FUN_10004520 @ 10004520 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */

void FUN_10004520(void)

{
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_LIGHTING,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_SPECULARENABLE,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_ZENABLE,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_ZWRITEENABLE,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_FOGENABLE,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_NORMALIZENORMALS,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_CULLMODE,1);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_SHADEMODE,2);
  (*grim_d3d_device->lpVtbl->SetRenderState)
            (grim_d3d_device,D3DRS_DITHERENABLE,_DAT_1005d108 & 0xff);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_ALPHATESTENABLE,1);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_ALPHAFUNC,7);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_ALPHAREF,4);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_MINFILTER,2);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_MAGFILTER,2);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_MIPFILTER,0);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,4);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG1,2);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG2,0);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,4);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG1,2);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG2,0);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLOROP,1);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAOP,1);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_TEXCOORDINDEX,0);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_TEXCOORDINDEX,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_WRAP0,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_WRAP1,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_WRAP2,0);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_WRAP3,0);
  (*grim_d3d_device->lpVtbl->SetStreamSource)(grim_d3d_device,0,grim_vertex_buffer,0x1c);
  (*grim_d3d_device->lpVtbl->SetIndices)(grim_d3d_device,DAT_10059bb8,0);
  (*grim_d3d_device->lpVtbl->SetVertexShader)(grim_d3d_device,0x144);
  (*grim_d3d_device->lpVtbl->SetRenderState)
            (grim_d3d_device,D3DRS_ALPHABLENDENABLE,DAT_1005cca8 & 0xff);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_SRCBLEND,DAT_1005ccb8);
  (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_DESTBLEND,DAT_1005ccc8);
  return;
}



/* grim_is_texture_format_supported @ 100047f0 */

/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* checks device support for a texture format */

int __cdecl grim_is_texture_format_supported(uint format)

{
  HRESULT HVar1;
  
  HVar1 = (*grim_d3d8->lpVtbl->CheckDeviceFormat)
                    (grim_d3d8,DAT_1005d3e8,DAT_1005b2b4,grim_texture_format,0,D3DRTYPE_TEXTURE,
                     format);
  return CONCAT31((int3)((uint)HVar1 >> 8),-1 < HVar1);
}



/* grim_select_texture_format @ 10004830 */

/* chooses the first supported texture format */

int grim_select_texture_format(void)

{
  int iVar1;
  uint3 uVar2;
  
  iVar1 = grim_is_texture_format_supported(0x15);
  if ((char)iVar1 != '\0') {
    grim_preferred_texture_format = 0x15;
    return CONCAT31((int3)((uint)iVar1 >> 8),1);
  }
  iVar1 = grim_is_texture_format_supported(0x33545844);
  if ((char)iVar1 != '\0') {
    grim_preferred_texture_format = 0x33545844;
    return CONCAT31((int3)((uint)iVar1 >> 8),1);
  }
  iVar1 = grim_is_texture_format_supported(0x1a);
  if ((char)iVar1 != '\0') {
    grim_preferred_texture_format = 0x1a;
    return CONCAT31((int3)((uint)iVar1 >> 8),1);
  }
  iVar1 = grim_is_texture_format_supported(0x19);
  if ((char)iVar1 != '\0') {
    grim_preferred_texture_format = 0x19;
    return CONCAT31((int3)((uint)iVar1 >> 8),1);
  }
  iVar1 = grim_is_texture_format_supported(0x14);
  if ((char)iVar1 != '\0') {
    grim_preferred_texture_format = 0x14;
    return CONCAT31((int3)((uint)iVar1 >> 8),1);
  }
  iVar1 = grim_is_texture_format_supported(0x16);
  if ((char)iVar1 != '\0') {
    grim_preferred_texture_format = 0x16;
    return CONCAT31((int3)((uint)iVar1 >> 8),1);
  }
  iVar1 = grim_is_texture_format_supported(0x14);
  if ((char)iVar1 != '\0') {
    grim_preferred_texture_format = 0x14;
    return CONCAT31((int3)((uint)iVar1 >> 8),1);
  }
  iVar1 = grim_is_texture_format_supported(0x17);
  uVar2 = (uint3)((uint)iVar1 >> 8);
  if ((char)iVar1 != '\0') {
    grim_preferred_texture_format = 0x17;
    return CONCAT31(uVar2,1);
  }
  grim_error_text = s_D3D__No_supported_texture_format_10053af4;
  return (uint)uVar2 << 8;
}



/* FUN_10004920 @ 10004920 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_10004920(void)

{
  _DAT_1005d3b0 = 0x3a83126f;
  DAT_10059dc4 = timeGetTime();
  _grim_fps = 0;
  _grim_frame_dt = 0;
  grim_time_ms = 0;
  DAT_1005a470 = 0;
  DAT_1005bad0 = DAT_10059dc4;
  DAT_1005bad4 = DAT_10059dc4;
  timeBeginPeriod(1);
  return;
}



/* FUN_10004970 @ 10004970 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_10004970(void)

{
  ulonglong uVar1;
  uint uVar2;
  
  DAT_10059dc4 = DAT_1005bad0;
  do {
    DAT_1005bad0 = timeGetTime();
    uVar2 = DAT_1005bad0 - DAT_10059dc4;
  } while (uVar2 < 2);
  if (DAT_1005a470 == '\0') {
    grim_time_ms = grim_time_ms + uVar2;
    DAT_1005d814 = DAT_1005d814 + 1;
    _grim_frame_dt = (float)uVar2 * _DAT_1005d3b0;
    DAT_1005d818 = DAT_1005d818 + uVar2;
  }
  else {
    _grim_frame_dt = 0.0;
    DAT_1005bad4 = DAT_1005bad4 + uVar2;
  }
  uVar2 = DAT_1005d814;
  if (500 < DAT_1005d818) {
    DAT_1005d814 = 0;
    uVar1 = (ulonglong)DAT_1005d818;
    DAT_1005d818 = DAT_1005d818 - 500;
    _grim_fps = (float)uVar2 / ((float)uVar1 * _DAT_1005d3b0);
  }
  return;
}



/* grim_texture_init @ 10004a50 */

/* allocates/copies texture name and zeroes fields */

void * __thiscall grim_texture_init(void *this,void *texture,char *name)

{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  uint uVar4;
  char *pcVar5;
  
  uVar3 = 0xffffffff;
  pcVar2 = texture;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar2;
    pcVar2 = pcVar2 + 1;
  } while (cVar1 != '\0');
  pcVar2 = operator_new(~uVar3);
  uVar3 = 0xffffffff;
  *(char **)this = pcVar2;
  do {
    pcVar5 = texture;
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    pcVar5 = (char *)((int)texture + 1);
    cVar1 = *(char *)texture;
    texture = pcVar5;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  pcVar5 = pcVar5 + -uVar3;
  for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)pcVar2 = *(undefined4 *)pcVar5;
    pcVar5 = pcVar5 + 4;
    pcVar2 = pcVar2 + 4;
  }
  for (uVar3 = uVar3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *pcVar2 = *pcVar5;
    pcVar5 = pcVar5 + 1;
    pcVar2 = pcVar2 + 1;
  }
  *(undefined4 *)((int)this + 4) = 0;
  *(undefined1 *)((int)this + 8) = 0;
  *(undefined4 *)((int)this + 0x14) = 0;
  return this;
}



/* grim_texture_release @ 10004ab0 */

/* releases COM objects and frees texture name */

void __fastcall grim_texture_release(void *texture)

{
  int *piVar1;
  
  piVar1 = *(int **)((int)texture + 4);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 8))(piVar1);
  }
  piVar1 = *(int **)((int)texture + 0x14);
  *(undefined4 *)((int)texture + 4) = 0;
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 8))(piVar1);
  }
  *(undefined4 *)((int)texture + 0x14) = 0;
  if (*(void **)texture != (void *)0x0) {
    operator_delete(*(void **)texture);
  }
  *(undefined4 *)texture = 0;
  return;
}



/* FUN_10004b00 @ 10004b00 */

bool __cdecl FUN_10004b00(char *param_1,char *param_2)

{
  char cVar1;
  uint uVar2;
  uint uVar3;
  char *pcVar4;
  
  uVar2 = 0xffffffff;
  pcVar4 = param_1;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    cVar1 = *pcVar4;
    pcVar4 = pcVar4 + 1;
  } while (cVar1 != '\0');
  uVar2 = ~uVar2;
  uVar3 = 0xffffffff;
  pcVar4 = param_2;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar4;
    pcVar4 = pcVar4 + 1;
  } while (cVar1 != '\0');
  uVar3 = ~uVar3;
  if ((-1 < (int)(uVar2 - 4)) && (-1 < (int)(uVar3 - 4))) {
    if ((param_1[uVar2 - 4] == param_2[uVar3 - 4]) && (param_1[uVar2 - 3] == param_2[uVar3 - 3])) {
      return param_1[uVar2 - 2] == param_2[uVar3 - 2];
    }
  }
  return false;
}



/* FUN_10004b70 @ 10004b70 */

/* [binja] char* sub_10004b70(char* arg1, void** arg2, int32_t* arg3, int32_t* arg4) */

char * __cdecl FUN_10004b70(char *arg1,void **arg2,int *arg3,int *arg4)

{
  char *pcVar1;
  int iVar2;
  char *pcVar3;
  int *piVar4;
  char *pcVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  uint *in_stack_00000014;
  undefined *local_2a4 [33];
  undefined1 local_220 [64];
  int local_1e0;
  int local_1dc;
  int local_184;
  uint local_180;
  int local_178;
  uint local_168;
  uint local_38;
  uint local_34;
  int *local_30;
  char *local_2c;
  int local_28;
  int local_24;
  int *local_20;
  uint local_1c;
  char *local_18;
  undefined1 local_14 [4];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_1004b7e8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_1000a810((int)local_14);
  local_8 = 0;
  local_18 = (char *)0x0;
  local_20 = (int *)FUN_1000a880(arg1,&local_38);
  *arg4 = 0;
  *in_stack_00000014 = 0;
  local_28 = *local_20;
  local_30 = local_20 + 1;
  if (local_30 != (int *)0x0) {
    local_1e0 = FUN_1003ab10(local_2a4);
    local_2a4[0] = &DAT_10004e90;
    iVar2 = setjmp3(local_220,3,&DAT_1000a8ee,local_8,&FuncInfo_100516e8);
    if (iVar2 == 0) {
      FUN_10009a50(&local_1e0,0x3d,0x1a8);
      FUN_1003a990((int)&local_1e0,local_30,local_28);
      FUN_10009b30(&local_1e0,'\x01');
      FUN_10009ec0(&local_1e0);
      uVar7 = local_180 * local_184 * 4 + 0x12;
      *arg3 = uVar7;
      pcVar3 = operator_new(uVar7);
      if (pcVar3 != (char *)0x0) {
        *arg4 = local_184;
        *in_stack_00000014 = local_180;
        local_18 = pcVar3 + 0x12;
        piVar4 = (int *)(**(code **)(local_1dc + 8))(&local_1e0,1,local_178 * local_184,1);
        if (local_168 < local_180) {
          do {
            FUN_1000a070(&local_1e0,piVar4,1);
            uVar7 = 0;
            if (*arg4 != 0) {
              iVar2 = 0;
              pcVar5 = pcVar3 + 0x12 + (*in_stack_00000014 - local_168) * *arg4 * 4 + 2;
              do {
                pcVar5[1] = -1;
                uVar7 = uVar7 + 1;
                pcVar1 = (char *)(*piVar4 + iVar2);
                iVar2 = iVar2 + 3;
                *pcVar5 = *pcVar1;
                pcVar5[-1] = *(char *)(*piVar4 + -2 + iVar2);
                pcVar5[-2] = *(char *)(*piVar4 + -1 + iVar2);
                pcVar5 = pcVar5 + 4;
              } while (uVar7 < (uint)*arg4);
            }
          } while (local_168 < local_180);
        }
        local_18 = pcVar3;
        FUN_10009e00(&local_1e0);
        FUN_10009b20((int)&local_1e0);
        *pcVar3 = '\0';
        pcVar3[1] = '\0';
        pcVar3[2] = '\x02';
        pcVar3[3] = '\0';
        pcVar3[4] = '\0';
        pcVar3[5] = '\0';
        pcVar3[6] = '\0';
        pcVar3[7] = '\0';
        pcVar3[8] = '\0';
        pcVar3[9] = '\0';
        pcVar3[10] = '\0';
        pcVar3[0xb] = '\0';
        *(short *)(pcVar3 + 0xc) = (short)*arg4;
        *(short *)(pcVar3 + 0xe) = (short)*in_stack_00000014;
        local_1c = (uint)*(ushort *)(pcVar3 + 0xe);
        uVar7 = 0;
        local_2c = (char *)(local_28 + 4 + (int)local_20);
        pcVar3[0x10] = ' ';
        pcVar3[0x11] = '\b';
        local_24 = 0;
        iVar2 = 0;
        while (local_1c = local_1c - 1, -1 < (int)local_1c) {
          iVar8 = 0;
          uVar6 = (uint)*(ushort *)(pcVar3 + 0xc);
          if (uVar6 != 0) {
            do {
              if ((int)uVar7 < 1) {
                uVar7 = (uint)(byte)local_2c[iVar2];
                local_24 = iVar2 + 2;
                local_34 = (uint)(byte)local_2c[iVar2 + 1];
                iVar8 = iVar8 + -1;
              }
              else {
                uVar7 = uVar7 - 1;
                pcVar3[(uVar6 * local_1c + iVar8) * 4 + 0x15] = (char)local_34;
              }
              iVar8 = iVar8 + 1;
              uVar6 = (uint)*(ushort *)(pcVar3 + 0xc);
              iVar2 = local_24;
            } while (iVar8 < (int)uVar6);
          }
        }
        if (local_20 != (int *)0x0) {
          operator_delete(local_20);
        }
        local_8 = 0xffffffff;
        grim_noop();
        ExceptionList = local_10;
        return pcVar3;
      }
      local_18 = pcVar3;
      FUN_10009b20((int)&local_1e0);
    }
    else {
      FUN_10009b20((int)&local_1e0);
      if (local_18 != (char *)0x0) {
        operator_delete(local_18);
      }
    }
  }
  local_8 = 0xffffffff;
  grim_noop();
  ExceptionList = local_10;
  return (char *)0x0;
}



/* grim_texture_load_file @ 10004ec0 */

/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* loads texture data from file path */

int __thiscall grim_texture_load_file(void *this,void *texture,ushort *path)

{
  undefined4 *arg14;
  bool bVar1;
  uint in_EAX;
  void **arg2;
  FILE *_File;
  uint uVar2;
  int *piVar3;
  int iVar4;
  uint3 uVar5;
  char *pcVar6;
  bool bVar7;
  int iStack_2c;
  void *local_28;
  undefined4 uStack_24;
  int *piStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  
  if (texture == (void *)0x0) {
    return in_EAX & 0xffffff00;
  }
  piVar3 = *(int **)((int)this + 4);
  arg14 = (undefined4 *)((int)this + 4);
  local_28 = this;
  if (piVar3 != (int *)0x0) {
    (**(code **)(*piVar3 + 8))(piVar3);
  }
  *arg14 = 0;
  pcVar6 = (char *)0x0;
  bVar7 = false;
  if (DAT_1005bc14 != '\0') {
    pcVar6 = (char *)FUN_10005ae0(texture);
    bVar7 = pcVar6 != (char *)0x0;
  }
  bVar1 = FUN_10004b00(texture,&DAT_10053b20);
  if (!bVar1) {
    if ((DAT_1005bc14 != '\0') && (bVar7)) {
      piVar3 = (int *)FUN_10005b80(texture);
      iVar4 = FUN_1000cb5c((int **)grim_d3d_device,pcVar6,piVar3,-1,-1,1,0,
                           grim_preferred_texture_format,1,-1,(int **)0xffffffff,0,(int)&uStack_1c,0
                           ,(int)arg14);
      uVar5 = (uint3)((uint)iVar4 >> 8);
      if (-1 < iVar4) {
        *(undefined4 *)((int)this + 0xc) = uStack_1c;
        *(undefined4 *)((int)this + 0x10) = uStack_18;
        return CONCAT31(uVar5,1);
      }
      *arg14 = 0;
      return (uint)uVar5 << 8;
    }
    uVar2 = FUN_1000cb9c((int **)grim_d3d_device,texture,-1,-1,1,0,grim_preferred_texture_format,1,
                         -1,(int **)0xffffffff,0,(int)&uStack_1c,0,(int)arg14);
    if (-1 < (int)uVar2) {
      *(undefined4 *)((int)this + 0xc) = uStack_1c;
      *(undefined4 *)((int)this + 0x10) = uStack_18;
      return CONCAT31((int3)((uint)uStack_1c >> 8),1);
    }
    *arg14 = 0;
    return uVar2 & 0xffffff00;
  }
  if ((DAT_1005bc14 == '\0') || (!bVar7)) {
    _File = fopen(texture,&DAT_10053244);
    if (_File == (FILE *)0x0) {
      return 0;
    }
    fseek(_File,0,2);
    arg2 = (void **)ftell(_File);
    fseek(_File,0,0);
    pcVar6 = operator_new((uint)arg2);
    fread(pcVar6,(size_t)arg2,1,_File);
    fclose(_File);
  }
  else {
    arg2 = (void **)FUN_10005b80(texture);
  }
  pcVar6 = FUN_10004b70(pcVar6,arg2,(int *)&piStack_20,&iStack_2c);
  uVar2 = 0;
  if (pcVar6 != (char *)0x0) {
    *(int *)((int)local_28 + 0xc) = iStack_2c;
    *(undefined4 *)((int)local_28 + 0x10) = uStack_24;
    uVar2 = FUN_1000cb5c((int **)grim_d3d_device,pcVar6,piStack_20,-1,-1,1,0,
                         grim_preferred_texture_format,1,-1,(int **)0xffffffff,0,(int)&uStack_1c,0,
                         (int)arg14);
    if ((int)uVar2 < 0) {
      *arg14 = 0;
      return uVar2 & 0xffffff00;
    }
  }
  return CONCAT31((int3)(uVar2 >> 8),1);
}



/* grim_texture_name_equals @ 10005110 */

/* compares stored texture name */

int __thiscall grim_texture_name_equals(void *this,void *texture,char *name)

{
  byte bVar1;
  byte *pbVar2;
  int iVar3;
  bool bVar4;
  
  pbVar2 = *(byte **)this;
  if ((pbVar2 == (byte *)0x0) || (texture == (void *)0x0)) {
    return (uint)pbVar2 & 0xffffff00;
  }
  while( true ) {
    bVar1 = *pbVar2;
    bVar4 = bVar1 < *(byte *)texture;
    if (bVar1 != *(byte *)texture) break;
    if (bVar1 == 0) {
      return 1;
    }
    bVar1 = pbVar2[1];
    bVar4 = bVar1 < *(byte *)((int)texture + 1);
    if (bVar1 != *(byte *)((int)texture + 1)) break;
    pbVar2 = pbVar2 + 2;
    texture = (void *)((int)texture + 2);
    if (bVar1 == 0) {
      return 1;
    }
  }
  iVar3 = (1 - (uint)bVar4) - (uint)(bVar4 != 0);
  return CONCAT31((int3)((uint)iVar3 >> 8),iVar3 == 0);
}



/* grim_find_texture_by_name @ 10005170 */

/* returns texture handle index for name */

int __cdecl grim_find_texture_by_name(char *name)

{
  int iVar1;
  int iVar2;
  char *unaff_EDI;
  undefined4 *puVar3;
  
  iVar2 = 0;
  if (0 < DAT_1005305c + 1) {
    puVar3 = &grim_texture_slots;
    do {
      if ((void *)*puVar3 != (void *)0x0) {
        iVar1 = grim_texture_name_equals((void *)*puVar3,name,unaff_EDI);
        if ((char)iVar1 != '\0') {
          return iVar2;
        }
      }
      iVar2 = iVar2 + 1;
      puVar3 = puVar3 + 1;
    } while (iVar2 < DAT_1005305c + 1);
  }
  return -1;
}



/* grim_find_free_texture_slot @ 100051c0 */

/* finds the first free texture slot */

int grim_find_free_texture_slot(void)

{
  int iVar1;
  int *piVar2;
  
  iVar1 = 0;
  piVar2 = &grim_texture_slots;
  do {
    if (*piVar2 == 0) {
      return iVar1;
    }
    piVar2 = piVar2 + 1;
    iVar1 = iVar1 + 1;
  } while ((int)piVar2 < 0x1005d804);
  return -1;
}



/* grim_load_texture_internal @ 100051e0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* allocates texture slot and loads file */

int grim_load_texture_internal(char *name,ushort *path)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  void *pvVar4;
  uint extraout_EAX;
  ushort *unaff_EDI;
  void *local_c;
  undefined *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &DAT_1004b80b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  iVar2 = grim_find_free_texture_slot();
  if (iVar2 == -1) {
    grim_error_text = s_All_texture_slots_are_used__10053b60;
    ExceptionList = local_c;
    return -0x100;
  }
  uVar3 = grim_find_texture_by_name(name);
  if (uVar3 != 0xffffffff) {
    grim_error_text = s_D3D__Texture_slot_not_free__10053b44;
    ExceptionList = local_c;
    return uVar3 & 0xffffff00;
  }
  pvVar4 = operator_new(0x18);
  local_4 = 0;
  if (pvVar4 == (void *)0x0) {
    pvVar4 = (void *)0x0;
  }
  else {
    pvVar4 = grim_texture_init(pvVar4,name,(char *)unaff_EDI);
  }
  local_4 = 0xffffffff;
  uVar3 = grim_texture_load_file(pvVar4,path,unaff_EDI);
  iVar1 = DAT_1005305c;
  if ((char)uVar3 == '\0') {
    grim_error_text = s_D3D__Could_not_load_a_texture__10053b24;
    if (pvVar4 != (void *)0x0) {
      grim_texture_release(pvVar4);
      operator_delete(pvVar4);
      uVar3 = extraout_EAX;
    }
    ExceptionList = local_c;
    return uVar3 & 0xffffff00;
  }
  (&grim_texture_slots)[iVar2] = pvVar4;
  if (iVar1 < iVar2) {
    DAT_1005305c = iVar2;
  }
  ExceptionList = local_c;
  return CONCAT31((int3)((uint)iVar1 >> 8),1);
}



/* FUN_100052f0 @ 100052f0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_100052f0(void)

{
  char cVar1;
  float fVar2;
  float *pfVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  float *pfVar8;
  undefined4 *puVar9;
  char *pcVar10;
  undefined4 *puVar11;
  char *pcVar12;
  int local_14;
  uint local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  _DAT_1005cbf8 = local_10;
  DAT_1005a47c = 0;
  grim_config_var1_table = 0;
  DAT_1005a480 = 0;
  grim_config_var0_table = 0;
  _grim_config_var2_table = 0;
  _grim_config_var3_table = 0;
  puVar9 = &grim_config_var0_table;
  puVar11 = &DAT_1005cb98;
  for (iVar4 = 0x1fc; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar11 = *puVar9;
    puVar9 = puVar9 + 1;
    puVar11 = puVar11 + 1;
  }
  DAT_1005a484 = 0;
  DAT_1005a478 = 0;
  _DAT_1005ce5c = local_c;
  _DAT_1005ce58 = local_10;
  _DAT_1005ce64 = &LAB_10001140;
  _DAT_1005cbe8 = local_10;
  _DAT_1005ce60 = local_8;
  _DAT_1005cbf4 = &LAB_10001150;
  _DAT_1005cbf0 = local_8;
  _DAT_1005cbec = local_c;
  _DAT_1005cbe4 = &LAB_10001150;
  _DAT_1005cbdc = local_c;
  _DAT_1005cbd8 = local_10;
  _DAT_1005cc04 = &DAT_10053824;
  uVar5 = local_10 >> 8;
  local_10 = uVar5 << 8;
  _DAT_1005cbe0 = local_8;
  _DAT_1005cc08 = local_10;
  _DAT_1005cbfc = local_c;
  _DAT_1005cc00 = local_8;
  _DAT_1005cc14 = local_4;
  _DAT_1005cc0c = local_c;
  _DAT_1005cc10 = local_8;
  _DAT_1005ce28 = 0x1e0;
  _DAT_1005ce2c = local_c;
  _DAT_1005ce30 = local_8;
  _DAT_1005ce34 = local_4;
  DAT_1005ce18 = 0x10;
  _DAT_1005ce1c = local_c;
  _DAT_1005ce20 = local_8;
  local_10 = uVar5 << 8;
  _DAT_1005ce24 = local_4;
  _DAT_1005cc38 = local_10;
  _DAT_1005cc3c = local_c;
  local_10 = uVar5 << 8;
  _DAT_1005cc44 = local_4;
  _DAT_1005cc48 = local_10;
  _DAT_1005cc50 = local_8;
  _DAT_1005cc54 = local_4;
  _DAT_1005cc40 = local_8;
  _DAT_1005cc6c = local_c;
  _DAT_1005cc70 = local_8;
  _DAT_1005cc4c = local_c;
  local_10 = uVar5 << 8;
  _DAT_1005cc68 = local_10;
  _DAT_1005cebc = local_c;
  _DAT_1005cec0 = local_8;
  local_10 = uVar5 << 8;
  _DAT_1005cec4 = local_4;
  _grim_input_cached = local_10;
  _DAT_1005cc5c = local_c;
  _DAT_1005cc60 = local_8;
  local_10 = uVar5 << 8;
  _DAT_1005cc64 = local_4;
  _DAT_1005cc74 = local_4;
  _DAT_1005d0f8 = local_10;
  _DAT_1005d0fc = local_c;
  _DAT_1005d100 = local_8;
  local_10 = CONCAT31(SUB43(_DAT_1005cbf8,1),1);
  _DAT_1005d104 = local_4;
  _DAT_1005d108 = local_10;
  _DAT_1005d10c = local_c;
  _DAT_1005d110 = local_8;
  _DAT_1005d114 = local_4;
  _DAT_1005d118 = 0x3f800000;
  _DAT_1005d11c = local_c;
  _DAT_1005d120 = local_8;
  _DAT_1005d124 = local_4;
  _grim_font_texture_bound = 0x3f800000;
  _DAT_1005ccfc = local_c;
  _DAT_1005cd00 = local_8;
  _DAT_1005cd04 = local_4;
  DAT_1005cd08 = 0x3f800000;
  DAT_1005ceb8 = 1;
  _DAT_1005cd0c = local_c;
  _DAT_1005cd10 = local_8;
  _DAT_1005cd14 = local_4;
  _DAT_1005d1cc = local_c;
  _DAT_1005ccac = local_c;
  _DAT_1005d1c8 = 0x3f800001;
  _DAT_1005d1d4 = local_4;
  DAT_1005ccb8 = 5;
  _DAT_1005d1d0 = local_8;
  _DAT_1005ccb0 = local_8;
  _DAT_1005ccbc = local_c;
  DAT_1005cca8 = 0x3f800001;
  _DAT_1005ccc0 = local_8;
  DAT_1005ccc8 = 6;
  _DAT_1005ccb4 = local_4;
  _DAT_1005cccc = local_c;
  _DAT_1005ccd0 = local_8;
  _DAT_1005ccc4 = local_4;
  DAT_1005b288 = 0x3f000000;
  DAT_1005b28c = 0x3f800000;
  _DAT_1005ccd4 = local_4;
  grim_uv_v0 = 0;
  grim_uv_u1 = 0x3f800000;
  DAT_1005d138 = 0x42c80000;
  DAT_1005d148 = 0;
  DAT_1005d158 = 0;
  grim_error_text = &DAT_1005d828;
  DAT_1005d3ac = 0;
  DAT_1005bc14 = 0;
  DAT_1005a670 = 0;
  DAT_1005a458 = 0;
  grim_backbuffer_width = 0x280;
  grim_backbuffer_height = 0x1e0;
  grim_texture_format = 0x17;
  grim_preferred_texture_format = 0;
  DAT_1005d3f8 = 0;
  grim_color_slot0 = 0xffffffff;
  grim_color_slot3 = 0xffffffff;
  DAT_1005bc0c = 0xffffffff;
  DAT_1005bc08 = 0xffffffff;
  grim_uv_u0 = 0;
  grim_uv_v1 = 0;
  DAT_1005b2a0 = 0x3f800000;
  DAT_1005b2a4 = 0x3f800000;
  DAT_1005b2a8 = 0;
  _grim_mouse_button_latch = 0;
  DAT_1005b2ac = 0x3f800000;
  _DAT_1005c8ec = 0;
  uVar5 = 0xffffffff;
  pcVar10 = s_Grim___No_Title_10053b7c;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    cVar1 = *pcVar10;
    pcVar10 = pcVar10 + 1;
  } while (cVar1 != '\0');
  DAT_1005bac8 = operator_new(~uVar5);
  uVar5 = 0xffffffff;
  pcVar10 = s_Grim___No_Title_10053b7c;
  do {
    pcVar12 = pcVar10;
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    pcVar12 = pcVar10 + 1;
    cVar1 = *pcVar10;
    pcVar10 = pcVar12;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  pcVar10 = pcVar12 + -uVar5;
  pcVar12 = DAT_1005bac8;
  for (uVar6 = uVar5 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
    *(undefined4 *)pcVar12 = *(undefined4 *)pcVar10;
    pcVar10 = pcVar10 + 4;
    pcVar12 = pcVar12 + 4;
  }
  for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
    *pcVar12 = *pcVar10;
    pcVar10 = pcVar10 + 1;
    pcVar12 = pcVar12 + 1;
  }
  puVar9 = &DAT_1005a058;
  for (iVar4 = 0x100; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar9 = 0;
    puVar9 = puVar9 + 1;
  }
  DAT_1005977c = &LAB_10001140;
  DAT_10059770 = &LAB_10001150;
  DAT_1005d3a8 = &LAB_10001150;
  _DAT_1005cc94 = _strdup(&DAT_1005d828);
  puVar9 = &grim_font2_glyph_widths;
  for (iVar4 = 0x40; iVar4 != 0; iVar4 = iVar4 + -1) {
    *puVar9 = 0;
    puVar9 = puVar9 + 1;
  }
  local_14 = 0;
  pfVar8 = (float *)&grim_font2_uv_v;
  do {
    local_10 = 0;
    pfVar3 = pfVar8;
    do {
      fVar2 = (float)(int)local_10;
      local_10 = local_10 + 1;
      pfVar3[-1] = fVar2 * 0.0625;
      *pfVar3 = (float)local_14 * 0.0625;
      pfVar3 = pfVar3 + 2;
    } while ((int)local_10 < 0x10);
    local_14 = local_14 + 1;
    pfVar8 = pfVar8 + 0x20;
  } while (local_14 < 0x10);
  iVar4 = 0;
  puVar9 = &grim_subrect_ptr_table;
  for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
    *puVar9 = 0;
    puVar9 = puVar9 + 1;
  }
  do {
    (&grim_font2_char_map)[iVar4] = (char)iVar4;
    iVar4 = iVar4 + 1;
  } while (iVar4 < 0x100);
  DAT_1005a654 = 0xe4;
  DAT_1005a666 = 0xf6;
  DAT_1005a634 = 0xc4;
  DAT_1005a646 = 0xd6;
  DAT_1005a635 = 0xc5;
  DAT_1005a655 = 0xe5;
  _grim_subrect_ptr0 = &grim_subrect_table_0;
  _grim_subrect_ptr1 = &grim_subrect_table_1;
  _grim_subrect_ptr2 = &grim_subrect_table_2;
  _grim_subrect_ptr3 = &grim_subrect_table;
  local_14 = 0;
  pfVar8 = (float *)&DAT_1005d38c;
  do {
    local_10 = 0;
    pfVar3 = pfVar8;
    do {
      fVar2 = (float)(int)local_10;
      local_10 = local_10 + 1;
      pfVar3[-1] = fVar2 * 0.5;
      *pfVar3 = (float)local_14 * 0.5;
      pfVar3 = pfVar3 + 2;
    } while ((int)local_10 < 2);
    local_14 = local_14 + 1;
    pfVar8 = pfVar8 + 4;
  } while (local_14 < 2);
  local_14 = 0;
  pfVar8 = (float *)&DAT_1005cb0c;
  do {
    local_10 = 0;
    pfVar3 = pfVar8;
    do {
      fVar2 = (float)(int)local_10;
      local_10 = local_10 + 1;
      pfVar3[-1] = fVar2 * 0.25;
      *pfVar3 = (float)local_14 * 0.25;
      pfVar3 = pfVar3 + 2;
    } while ((int)local_10 < 4);
    local_14 = local_14 + 1;
    pfVar8 = pfVar8 + 8;
  } while (local_14 < 4);
  local_14 = 0;
  pfVar8 = (float *)&DAT_1005c90c;
  do {
    local_10 = 0;
    pfVar3 = pfVar8;
    do {
      fVar2 = (float)(int)local_10;
      local_10 = local_10 + 1;
      pfVar3[-1] = fVar2 * 0.125;
      *pfVar3 = (float)local_14 * 0.125;
      pfVar3 = pfVar3 + 2;
    } while ((int)local_10 < 8);
    local_14 = local_14 + 1;
    pfVar8 = pfVar8 + 0x10;
  } while (local_14 < 8);
  local_14 = 0;
  pfVar8 = (float *)&DAT_1005a67c;
  do {
    local_10 = 0;
    pfVar3 = pfVar8;
    do {
      fVar2 = (float)(int)local_10;
      local_10 = local_10 + 1;
      pfVar3[-1] = fVar2 * 0.0625;
      *pfVar3 = (float)local_14 * 0.0625;
      pfVar3 = pfVar3 + 2;
    } while ((int)local_10 < 0x10);
    local_14 = local_14 + 1;
    pfVar8 = pfVar8 + 0x20;
  } while (local_14 < 0x10);
  return;
}



/* FUN_10005a40 @ 10005a40 */

uint __cdecl FUN_10005a40(char *param_1)

{
  FILE *_File;
  uint extraout_EAX;
  uint uVar1;
  int iVar2;
  
  _File = fopen(param_1,&DAT_10053244);
  if (_File == (FILE *)0x0) {
    DAT_1005bc14 = 0;
    uVar1 = 0;
    if (DAT_1005a670 != (void *)0x0) {
      operator_delete(DAT_1005a670);
      uVar1 = extraout_EAX;
    }
    DAT_1005a670 = (void *)0x0;
    return uVar1 & 0xffffff00;
  }
  fseek(_File,0,2);
  DAT_1005a458 = ftell(_File);
  fseek(_File,0,0);
  DAT_1005a670 = operator_new(DAT_1005a458 + 1);
  fread(DAT_1005a670,DAT_1005a458,1,_File);
  iVar2 = fclose(_File);
  return CONCAT31((int3)((uint)iVar2 >> 8),1);
}



/* FUN_10005ae0 @ 10005ae0 */

int __cdecl FUN_10005ae0(byte *param_1)

{
  char cVar1;
  byte bVar2;
  byte *pbVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  byte *pbVar8;
  char *pcVar9;
  bool bVar10;
  
  uVar5 = 0xffffffff;
  pcVar9 = PTR_DAT_10053040;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar9 + 1;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  do {
    if (DAT_1005a458 <= (int)uVar5) {
      return 0;
    }
    pbVar3 = (byte *)(DAT_1005a670 + uVar5);
    uVar6 = 0xffffffff;
    pbVar8 = pbVar3;
    do {
      if (uVar6 == 0) break;
      uVar6 = uVar6 - 1;
      bVar2 = *pbVar8;
      pbVar8 = pbVar8 + 1;
    } while (bVar2 != 0);
    iVar7 = ~uVar6 - 1;
    pbVar8 = param_1;
    do {
      bVar2 = *pbVar3;
      bVar10 = bVar2 < *pbVar8;
      if (bVar2 != *pbVar8) {
LAB_10005b41:
        iVar4 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
        goto LAB_10005b46;
      }
      if (bVar2 == 0) break;
      bVar2 = pbVar3[1];
      bVar10 = bVar2 < pbVar8[1];
      if (bVar2 != pbVar8[1]) goto LAB_10005b41;
      pbVar3 = pbVar3 + 2;
      pbVar8 = pbVar8 + 2;
    } while (bVar2 != 0);
    iVar4 = 0;
LAB_10005b46:
    if (iVar4 == 0) {
      return DAT_1005a670 + iVar7 + 5 + uVar5;
    }
    uVar5 = *(int *)(DAT_1005a670 + iVar7 + 1 + uVar5) + iVar7 + 5 + uVar5;
  } while( true );
}



/* FUN_10005b80 @ 10005b80 */

undefined4 __cdecl FUN_10005b80(byte *param_1)

{
  char cVar1;
  byte bVar2;
  byte *pbVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  byte *pbVar8;
  char *pcVar9;
  bool bVar10;
  
  uVar5 = 0xffffffff;
  pcVar9 = PTR_DAT_10053040;
  do {
    if (uVar5 == 0) break;
    uVar5 = uVar5 - 1;
    cVar1 = *pcVar9;
    pcVar9 = pcVar9 + 1;
  } while (cVar1 != '\0');
  uVar5 = ~uVar5;
  do {
    if (DAT_1005a458 <= (int)uVar5) {
      return 0;
    }
    pbVar3 = (byte *)(DAT_1005a670 + uVar5);
    uVar6 = 0xffffffff;
    pbVar8 = pbVar3;
    do {
      if (uVar6 == 0) break;
      uVar6 = uVar6 - 1;
      bVar2 = *pbVar8;
      pbVar8 = pbVar8 + 1;
    } while (bVar2 != 0);
    iVar7 = ~uVar6 - 1;
    pbVar8 = param_1;
    do {
      bVar2 = *pbVar3;
      bVar10 = bVar2 < *pbVar8;
      if (bVar2 != *pbVar8) {
LAB_10005be1:
        iVar4 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
        goto LAB_10005be6;
      }
      if (bVar2 == 0) break;
      bVar2 = pbVar3[1];
      bVar10 = bVar2 < pbVar8[1];
      if (bVar2 != pbVar8[1]) goto LAB_10005be1;
      pbVar3 = pbVar3 + 2;
      pbVar8 = pbVar8 + 2;
    } while (bVar2 != 0);
    iVar4 = 0;
LAB_10005be6:
    if (iVar4 == 0) {
      return *(undefined4 *)(DAT_1005a670 + iVar7 + 1 + uVar5);
    }
    uVar5 = *(int *)(DAT_1005a670 + iVar7 + 1 + uVar5) + iVar7 + 5 + uVar5;
  } while( true );
}



/* grim_set_key_char_buffer @ 10005c20 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x54 (provisional): set input character ring buffer */

void grim_set_key_char_buffer(uchar *buffer,int *count,int size)

{
  PTR_DAT_10053048 = buffer;
  PTR_DAT_1005304c = (undefined *)count;
  DAT_10053050 = size;
  return;
}



/* grim_get_key_char @ 10005c40 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x50 (provisional) */

int grim_get_key_char(void)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  
  if (DAT_1005d3e4 != 0) {
    iVar1 = DAT_1005d3c4;
    if (0 < DAT_1005d3e4) {
      puVar2 = &DAT_1005d3c4;
      iVar3 = DAT_1005d3e4;
      do {
        *puVar2 = puVar2[1];
        puVar2 = puVar2 + 1;
        iVar3 = iVar3 + -1;
      } while (iVar3 != 0);
    }
    DAT_1005d3e4 = DAT_1005d3e4 + -1;
    return iVar1;
  }
  return 0;
}



/* grim_release @ 10005c80 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x0: delete interface */

void grim_release(void)

{
  void *in_ECX;
  
  operator_delete(in_ECX);
  return;
}



/* grim_set_paused @ 10005c90 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x4 (provisional): pause game tick update */

void grim_set_paused(int paused)

{
  grim_paused_flag = (undefined1)paused;
  return;
}



/* grim_get_version @ 10005ca0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x8 (provisional): engine version constant */

float grim_get_version(void)

{
  return 1.21;
}



/* grim_check_device @ 10005cb0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xc: device creation test */

int grim_check_device(void)

{
  uint uVar1;
  HRESULT HVar2;
  ULONG UVar3;
  int iVar4;
  LPDIRECT3DDEVICE8 arg3;
  LPDIRECT3DDEVICE8 pDestSurface;
  IDirect3DSurface8 *pIStack_4;
  
  pIStack_4 = (IDirect3DSurface8 *)0x0;
  pDestSurface = grim_d3d_device;
  uVar1 = (*grim_d3d_device->lpVtbl->CreateImageSurface)
                    (grim_d3d_device,grim_present_width,grim_present_height,D3DFMT_A8R8G8B8,
                     &pIStack_4);
  if ((int)uVar1 < 0) {
    return uVar1 & 0xffffff00;
  }
  arg3 = grim_d3d_device;
  HVar2 = (*grim_d3d_device->lpVtbl->GetFrontBuffer)
                    (grim_d3d_device,(IDirect3DSurface8 *)pDestSurface);
  if (HVar2 < 0) {
    UVar3 = (*arg3->lpVtbl->Release)(arg3);
    return UVar3 & 0xffffff00;
  }
  iVar4 = FUN_1000ae52((int)pDestSurface,0,(int *)arg3,0,(int *)0x0);
  if (iVar4 < 0) {
    UVar3 = (*arg3->lpVtbl->Release)(arg3);
    return UVar3 & 0xffffff00;
  }
  UVar3 = (*arg3->lpVtbl->Release)(arg3);
  return CONCAT31((int3)(UVar3 >> 8),1);
}



/* grim_apply_config @ 10005d40 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0x10: opens D3D config dialog and applies settings */

int grim_apply_config(void)

{
  uint uVar1;
  int *in_ECX;
  
  if (DAT_10059778 == (HICON)0x0) {
    DAT_10059778 = LoadIconA(grim_module_handle,(LPCSTR)0x72);
  }
  grim_config_dialog_canceled = '\0';
  grim_d3d8_probe = Direct3DCreate8(0xdc);
  if (grim_d3d8_probe == (IDirect3D8 *)0x0) {
    grim_error_text = s_D3D__Could_not_init_DirectX_8_1__10053a60;
    uVar1 = MessageBoxA((HWND)0x0,s_D3D__Could_not_init_DirectX_8_1__10053a60,&DAT_10053824,0);
    return uVar1 & 0xffffff00;
  }
  (*grim_d3d8_probe->lpVtbl->GetDeviceCaps)
            (grim_d3d8_probe,0,D3DDEVTYPE_HAL,(D3DCAPS8 *)&DAT_1005a498);
  DialogBoxParamA(grim_module_handle,(LPCSTR)0x74,(HWND)0x0,grim_config_dialog_proc,0);
  (*grim_d3d8_probe->lpVtbl->Release)(grim_d3d8_probe);
  if (grim_config_dialog_canceled == '\0') {
    (**(code **)(*in_ECX + 0x20))(0x54,DAT_1005d400);
    if ((char)DAT_1005b2b8 == '\0') {
      (**(code **)(*in_ECX + 0x20))(0x2b,0x20);
    }
    else {
      (**(code **)(*in_ECX + 0x20))(0x2b,0x10);
    }
    (**(code **)(*in_ECX + 0x20))(0x54,DAT_1005d400);
    (**(code **)(*in_ECX + 0x20))(8,DAT_1005b280);
    (**(code **)(*in_ECX + 0x20))(0x34,0);
    (**(code **)(*in_ECX + 0x20))(8,DAT_1005b280);
    (**(code **)(*in_ECX + 0x20))(0x29,DAT_10053054);
    (**(code **)(*in_ECX + 0x20))(0x2a,DAT_10053058);
  }
  return (uint)(grim_config_dialog_canceled == '\0');
}



/* grim_init_system @ 10005eb0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Grim2D vtable 0x14: Grim2D init; returns success */

int __fastcall grim_init_system(void)

{
  uint uVar1;
  undefined4 *puVar2;
  int *in_ECX;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
  puVar2 = &DAT_10059e3c;
  for (iVar3 = 0x41; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  _getcwd((char *)&DAT_10059e3c,0x104);
  iVar3 = grim_d3d_init();
  if ((char)iVar3 == '\0') {
    return iVar3;
  }
  if ((DAT_1005cc48 == '\x01') && (grim_input_cached == '\0')) {
    iVar3 = grim_mouse_init();
    if ((char)iVar3 == '\0') {
      grim_error_text = s_DI8__Could_not_initialize_mouse__10053bf4;
      grim_mouse_shutdown();
      FUN_10004280();
      uVar1 = grim_window_destroy();
      return uVar1 & 0xffffff00;
    }
  }
  if (DAT_1005cc38 == '\x01') {
    iVar3 = grim_keyboard_init(DAT_1005d3f8);
    if ((char)iVar3 == '\0') {
      grim_error_text = s_DI8__Could_not_initialize_keyboa_10053bd0;
      grim_mouse_shutdown();
      grim_keyboard_shutdown();
      FUN_10004280();
      uVar1 = grim_window_destroy();
      return uVar1 & 0xffffff00;
    }
  }
  if (DAT_1005cc68 == '\x01') {
    iVar3 = grim_joystick_init(DAT_1005d3f8);
    if ((char)iVar3 == '\0') {
      grim_error_text = s_DI8__Could_not_initialize_joysti_10053bac;
      DAT_1005cc68 = '\0';
    }
  }
  FUN_10004920();
  FUN_10004970();
  (**(code **)(*in_ECX + 0x20))(0x15,2);
  _DAT_1005d0b4 = &DAT_1005d3f8;
  (**(code **)(*in_ECX + 0x20))(0x10);
  puVar2 = (undefined4 *)FUN_10005ae0((byte *)s_load_smallFnt_dat_10053b8c);
  if (puVar2 != (undefined4 *)0x0) {
    puVar4 = puVar2;
    puVar5 = &grim_font2_glyph_widths;
    for (iVar3 = 0x40; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
  }
  return CONCAT31((int3)((uint)puVar2 >> 8),1);
}



/* grim_shutdown @ 10005ff0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x18 (provisional): Grim2D shutdown */

void grim_shutdown(void)

{
  FUN_10005a40(&DAT_1005d828);
  grim_mouse_shutdown();
  grim_keyboard_shutdown();
  FUN_1000a330();
  FUN_10004280();
  grim_window_destroy();
  return;
}



/* grim_apply_settings @ 10006020 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x1c: apply Grim2D settings after config load */

void grim_apply_settings(void)

{
  FUN_10003c00();
  return;
}



/* grim_set_texture_stage_ops @ 10006030 */

/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* sets D3D texture stage states for a small set of blend modes (mode 0..3) */

uint __cdecl grim_set_texture_stage_ops(uint mode)

{
  HRESULT HVar1;
  
  switch(mode) {
  case 0:
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,3);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG2,0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,3);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG2,0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLOROP,1);
    HVar1 = (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAOP,1);
    return CONCAT31((int3)((uint)HVar1 >> 8),1);
  case 1:
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG2,0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG2,0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLOROP,1);
    HVar1 = (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAOP,1);
    return CONCAT31((int3)((uint)HVar1 >> 8),1);
  case 2:
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG2,0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG2,0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLOROP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLORARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLORARG2,1);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAOP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAARG2,1);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,2,D3DTSS_COLOROP,1);
    HVar1 = (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,2,D3DTSS_ALPHAOP,1);
    return CONCAT31((int3)((uint)HVar1 >> 8),1);
  case 3:
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,7);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG2,0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,7);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG2,0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLOROP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLORARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLORARG2,1);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAOP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAARG2,1);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,2,D3DTSS_COLOROP,1);
    HVar1 = (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,2,D3DTSS_ALPHAOP,1);
    return CONCAT31((int3)((uint)HVar1 >> 8),1);
  case 4:
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,0x18);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG2,3);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLOROP,1);
    HVar1 = (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAOP,1);
    return CONCAT31((int3)((uint)HVar1 >> 8),1);
  case 5:
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,0x18);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG2,0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLOROP,1);
    HVar1 = (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAOP,1);
    return CONCAT31((int3)((uint)HVar1 >> 8),1);
  case 6:
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLORARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,1);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLOROP,0x18);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLORARG1,2);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_COLORARG2,1);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,1,D3DTSS_ALPHAOP,1);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,2,D3DTSS_COLOROP,1);
    HVar1 = (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,2,D3DTSS_ALPHAOP,1);
    return CONCAT31((int3)((uint)HVar1 >> 8),1);
  default:
    return mode & 0xffffff00;
  }
}



/* grim_set_config_var @ 10006580 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0x20: config/state dispatcher; updates config tables, some IDs map to D3D
   render/texture state; extra args for some IDs */

void grim_set_config_var(uint id,uint value)

{
  byte bVar1;
  undefined1 uVar2;
  undefined1 uVar3;
  undefined1 uVar4;
  WORD WVar5;
  uint uVar6;
  int iVar7;
  undefined4 uVar8;
  char *pcVar9;
  uint uVar10;
  uint *puVar11;
  WORD *pWVar12;
  byte *pbVar13;
  int iVar14;
  byte *pbVar15;
  bool bVar16;
  uint in_stack_0000000c;
  uint in_stack_00000010;
  byte *in_stack_00000014;
  D3DGAMMARAMP DStack_600;
  
  switch(id) {
  case 5:
    DAT_1005d3a8 = in_stack_00000014;
    return;
  case 6:
    DAT_10059770 = in_stack_00000014;
    return;
  case 7:
    if (DAT_1005bac8 != (byte *)0x0) {
      operator_delete(DAT_1005bac8);
    }
    uVar6 = 0xffffffff;
    pbVar13 = in_stack_00000014;
    do {
      if (uVar6 == 0) break;
      uVar6 = uVar6 - 1;
      bVar1 = *pbVar13;
      pbVar13 = pbVar13 + 1;
    } while (bVar1 != 0);
    DAT_1005bac8 = operator_new(~uVar6);
    uVar6 = 0xffffffff;
    do {
      pbVar13 = in_stack_00000014;
      if (uVar6 == 0) break;
      uVar6 = uVar6 - 1;
      pbVar13 = in_stack_00000014 + 1;
      bVar1 = *in_stack_00000014;
      in_stack_00000014 = pbVar13;
    } while (bVar1 != 0);
    uVar6 = ~uVar6;
    pbVar13 = pbVar13 + -uVar6;
    pbVar15 = DAT_1005bac8;
    for (uVar10 = uVar6 >> 2; uVar10 != 0; uVar10 = uVar10 - 1) {
      *(undefined4 *)pbVar15 = *(undefined4 *)pbVar13;
      pbVar13 = pbVar13 + 4;
      pbVar15 = pbVar15 + 4;
    }
    for (uVar6 = uVar6 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
      *pbVar15 = *pbVar13;
      pbVar13 = pbVar13 + 1;
      pbVar15 = pbVar15 + 1;
    }
    *(byte **)(&grim_config_var3_table + id * 0x10) = DAT_1005bac8;
    return;
  default:
    puVar11 = &grim_config_var0_table + id * 4;
    *puVar11 = value;
    goto LAB_10006b54;
  case 0xb:
  case 0xc:
  case 0xe:
  case 0x42:
    *(char *)(&grim_config_var0_table + id * 4) = (char)value;
    return;
  case 0xd:
    *(char *)(&grim_config_var0_table + id * 4) = (char)value;
    if (grim_input_cached != '\0') {
      DAT_1005cc48 = 1;
      return;
    }
    break;
  case 0x10:
    pbVar15 = &DAT_1005d828;
    pbVar13 = in_stack_00000014;
    do {
      bVar1 = *pbVar13;
      bVar16 = bVar1 < *pbVar15;
      if (bVar1 != *pbVar15) {
LAB_10006882:
        iVar14 = (1 - (uint)bVar16) - (uint)(bVar16 != 0);
        goto LAB_10006887;
      }
      if (bVar1 == 0) break;
      bVar1 = pbVar13[1];
      bVar16 = bVar1 < pbVar15[1];
      if (bVar1 != pbVar15[1]) goto LAB_10006882;
      pbVar13 = pbVar13 + 2;
      pbVar15 = pbVar15 + 2;
    } while (bVar1 != 0);
    iVar14 = 0;
LAB_10006887:
    if (iVar14 == 0) {
      if (*(void **)(&grim_config_var3_table + id * 0x10) != (void *)0x0) {
        operator_delete(*(void **)(&grim_config_var3_table + id * 0x10));
      }
      _DAT_1005cc94 = _strdup(&DAT_1005d828);
      DAT_1005bc14 = 0;
    }
    uVar8 = FUN_10005a40((char *)in_stack_00000014);
    DAT_1005bc14 = (undefined1)uVar8;
    if (*(void **)(&grim_config_var3_table + id * 0x10) != (void *)0x0) {
      operator_delete(*(void **)(&grim_config_var3_table + id * 0x10));
    }
    pcVar9 = _strdup((char *)in_stack_00000014);
    *(char **)(&grim_config_var3_table + id * 0x10) = pcVar9;
    *(undefined1 *)(&grim_config_var0_table + id * 4) = DAT_1005bc14;
    return;
  case 0x12:
    if (*(char *)(&grim_config_var0_table + id * 4) != (char)value) {
      (*grim_d3d_device->lpVtbl->SetRenderState)
                (grim_d3d_device,D3DRS_ALPHABLENDENABLE,value & 0xff);
      *(char *)(&grim_config_var0_table + id * 4) = (char)value;
      return;
    }
    break;
  case 0x13:
    if ((&grim_config_var0_table)[id * 4] != value) {
      (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_SRCBLEND,value);
      (&grim_config_var0_table)[id * 4] = value;
      return;
    }
    break;
  case 0x14:
    if ((&grim_config_var0_table)[id * 4] != value) {
      (*grim_d3d_device->lpVtbl->SetRenderState)(grim_d3d_device,D3DRS_DESTBLEND,value);
      (&grim_config_var0_table)[id * 4] = value;
      return;
    }
    break;
  case 0x15:
    if (0 < (int)value) {
      if (2 < (int)value) {
        if (value != 3) {
          return;
        }
        if ((&grim_config_var0_table)[id * 4] != 3) {
          (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_MAXANISOTROPY,3)
          ;
        }
      }
      if ((&grim_config_var0_table)[id * 4] == 3) {
        (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_MAXANISOTROPY,1);
      }
      (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_MINFILTER,value);
      (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_MAGFILTER,value);
      (&grim_config_var0_table)[id * 4] = value;
      return;
    }
    break;
  case 0x1a:
    uVar6 = grim_set_texture_stage_ops(value);
    if ((char)uVar6 == '\0') {
      return;
    }
    puVar11 = &grim_config_var0_table + id * 4;
    *puVar11 = value;
LAB_10006b54:
    puVar11[1] = in_stack_0000000c;
    puVar11[2] = in_stack_00000010;
    puVar11[3] = (uint)in_stack_00000014;
    break;
  case 0x1b:
    (&grim_config_var0_table)[id * 4] = value;
    (&grim_config_var1_table)[id * 4] = in_stack_0000000c;
    *(uint *)(&grim_config_var2_table + id * 0x10) = in_stack_00000010;
    *(byte **)(&grim_config_var3_table + id * 0x10) = in_stack_00000014;
    uVar2 = ftol();
    uVar3 = ftol();
    uVar4 = ftol();
    (*grim_d3d_device->lpVtbl->SetRenderState)
              (grim_d3d_device,D3DRS_TEXTUREFACTOR,(uint)CONCAT21(CONCAT11(uVar2,uVar3),uVar4));
    return;
  case 0x1c:
    iVar14 = 0;
    pWVar12 = DStack_600.green;
    do {
      iVar7 = ftol();
      if (iVar7 < 0x10000) {
        if (iVar7 < 0) {
          iVar7 = 0;
        }
      }
      else {
        iVar7 = 0xffff;
      }
      WVar5 = (WORD)iVar7;
      ((D3DGAMMARAMP *)(pWVar12 + -0x100))->red[0] = WVar5;
      *pWVar12 = WVar5;
      pWVar12[0x100] = WVar5;
      iVar14 = iVar14 + 1;
      pWVar12 = pWVar12 + 1;
    } while (iVar14 < 0x100);
    (*grim_d3d_device->lpVtbl->SetGammaRamp)(grim_d3d_device,1,&DStack_600);
    (&grim_config_var0_table)[id * 4] = value;
    (&grim_config_var1_table)[id * 4] = in_stack_0000000c;
    *(uint *)(&grim_config_var2_table + id * 0x10) = in_stack_00000010;
    *(byte **)(&grim_config_var3_table + id * 0x10) = in_stack_00000014;
    return;
  case 0x29:
    grim_backbuffer_width = value;
    (&grim_config_var0_table)[id * 4] = value;
    return;
  case 0x2a:
    grim_backbuffer_height = value;
    (&grim_config_var0_table)[id * 4] = value;
    return;
  case 0x2b:
    (&grim_config_var0_table)[id * 4] = value;
    grim_texture_format = (value != 0x20) + 0x16;
    return;
  case 0x2d:
    DAT_1005977c = in_stack_00000014;
    return;
  case 0x34:
    *(char *)(&grim_config_var0_table + id * 4) = (char)value;
    return;
  case 0x36:
    (*grim_d3d_device->lpVtbl->Present)
              (grim_d3d_device,(RECT *)0x0,(RECT *)0x0,(HWND)0x0,(RGNDATA *)0x0);
    return;
  case 0x52:
    (&grim_config_var0_table)[id * 4] = value;
    (&grim_config_var1_table)[id * 4] = in_stack_0000000c;
    *(uint *)(&grim_config_var2_table + id * 0x10) = in_stack_00000010;
    *(byte **)(&grim_config_var3_table + id * 0x10) = in_stack_00000014;
    DAT_1005d3fc = *(undefined4 *)in_stack_00000014;
    return;
  case 0x55:
    grim_render_disabled = (char)value;
    return;
  }
  return;
}



/* grim_get_config_var @ 10006c30 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x24 (provisional): fills 4 dwords for config entry (id 0..0x7f) */

void grim_get_config_var(uint *out,int id)

{
  if ((-1 < id) && (id < 0x80)) {
    *out = (&grim_config_var0_table)[id * 4];
    out[1] = (&grim_config_var1_table)[id * 4];
    out[2] = *(uint *)(&grim_config_var2_table + id * 0x10);
    out[3] = *(uint *)(&grim_config_var3_table + id * 0x10);
    return;
  }
  *out = DAT_1005a478;
  out[1] = DAT_1005a47c;
  out[2] = DAT_1005a480;
  out[3] = DAT_1005a484;
  return;
}



/* grim_get_error_text @ 10006ca0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x28: error string for MessageBox */

char * grim_get_error_text(void)

{
  return grim_error_text;
}



/* grim_clear_color @ 10006cb0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0x2c: packs RGBA into device clear color */

void grim_clear_color(float r,float g,float b,float a)

{
  IDirect3DDevice8Vtbl *pIVar1;
  LPDIRECT3DDEVICE8 This;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  float z;
  DWORD stencil;
  
  This = grim_d3d_device;
  if ((grim_render_disabled == '\0') && (DAT_1005c898 != '\0')) {
    stencil = 0;
    z = 0.0;
    pIVar1 = grim_d3d_device->lpVtbl;
    uVar2 = ftol();
    iVar3 = ftol();
    uVar4 = ftol();
    uVar5 = ftol();
    (*pIVar1->Clear)(This,0,(D3DRECT *)0x0,1,
                     ((uVar2 & 0xff | iVar3 << 8) << 8 | uVar4 & 0xff) << 8 | uVar5 & 0xff,z,stencil
                    );
  }
  return;
}



/* grim_set_render_target @ 10006d50 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0x30 (provisional): set render target; -1 resets */

int grim_set_render_target(int target_index)

{
  undefined4 in_EAX;
  uint uVar1;
  ULONG UVar2;
  
  UVar2 = CONCAT31((int3)((uint)in_EAX >> 8),grim_render_disabled);
  if (grim_render_disabled == '\0') {
    if (target_index < 0) {
      if (grim_backbuffer_surface != (LPDIRECT3DSURFACE8)0x0) {
        if (grim_render_target_surface != (LPDIRECT3DSURFACE8)0x0) {
          (*grim_render_target_surface->lpVtbl->Release)(grim_render_target_surface);
        }
        grim_render_target_surface = (LPDIRECT3DSURFACE8)0x0;
        uVar1 = (*grim_d3d_device->lpVtbl->SetRenderTarget)
                          (grim_d3d_device,grim_backbuffer_surface,(IDirect3DSurface8 *)0x0);
        if ((int)uVar1 < 0) {
          return uVar1 & 0xffffff00;
        }
        UVar2 = 0;
        if (grim_backbuffer_surface != (LPDIRECT3DSURFACE8)0x0) {
          UVar2 = (*grim_backbuffer_surface->lpVtbl->Release)(grim_backbuffer_surface);
        }
        grim_backbuffer_surface = (LPDIRECT3DSURFACE8)0x0;
      }
    }
    else {
      if (grim_render_target_surface != (LPDIRECT3DSURFACE8)0x0) {
        (*grim_render_target_surface->lpVtbl->Release)(grim_render_target_surface);
        grim_render_target_surface = (LPDIRECT3DSURFACE8)0x0;
      }
      if (grim_backbuffer_surface == (LPDIRECT3DSURFACE8)0x0) {
        (*grim_d3d_device->lpVtbl->GetRenderTarget)(grim_d3d_device,&grim_backbuffer_surface);
      }
      uVar1 = (**(code **)(**(int **)((&grim_texture_slots)[target_index] + 4) + 0x3c))
                        (*(int **)((&grim_texture_slots)[target_index] + 4),0,
                         &grim_render_target_surface);
      if ((int)uVar1 < 0) {
        return uVar1 & 0xffffff00;
      }
      UVar2 = (*grim_d3d_device->lpVtbl->SetRenderTarget)
                        (grim_d3d_device,grim_render_target_surface,(IDirect3DSurface8 *)0x0);
      if ((int)UVar2 < 0) {
        uVar1 = 0;
        if (grim_render_target_surface != (LPDIRECT3DSURFACE8)0x0) {
          uVar1 = (*grim_render_target_surface->lpVtbl->Release)(grim_render_target_surface);
        }
        grim_render_target_surface = (LPDIRECT3DSURFACE8)0x0;
        return uVar1 & 0xffffff00;
      }
    }
  }
  return CONCAT31((int3)(UVar2 >> 8),1);
}



/* grim_get_time_ms @ 10006e40 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x34: accumulated time (ms) */

int grim_get_time_ms(void)

{
  return grim_time_ms;
}



/* grim_set_time_ms @ 10006e50 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x38: set accumulated time */

void grim_set_time_ms(int ms)

{
  grim_time_ms = ms;
  return;
}



/* grim_get_frame_dt @ 10006e60 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x3c: clamped frame delta */

float grim_get_frame_dt(void)

{
  if (0.1 < _grim_frame_dt) {
    return 0.1;
  }
  return _grim_frame_dt;
}



/* grim_get_fps @ 10006e90 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x40: frames per second */

float grim_get_fps(void)

{
  return _grim_fps;
}



/* FUN_10006ea0 @ 10006ea0 */

undefined4 FUN_10006ea0(void)

{
  float fVar1;
  float fVar2;
  int iVar3;
  
  fVar2 = DAT_1005d158;
  fVar1 = DAT_1005d138;
  iVar3 = (*grim_interface_instance->vtable->grim_get_joystick_y)();
  if ((float)iVar3 - fVar2 < -fVar1) {
    return 1;
  }
  return 0;
}



/* FUN_10006ef0 @ 10006ef0 */

undefined4 FUN_10006ef0(void)

{
  float fVar1;
  float fVar2;
  int iVar3;
  
  fVar2 = DAT_1005d158;
  fVar1 = DAT_1005d138;
  iVar3 = (*grim_interface_instance->vtable->grim_get_joystick_y)();
  if (fVar1 < (float)iVar3 - fVar2) {
    return 1;
  }
  return 0;
}



/* FUN_10006f40 @ 10006f40 */

undefined4 FUN_10006f40(void)

{
  float fVar1;
  float fVar2;
  int iVar3;
  
  fVar2 = DAT_1005d148;
  fVar1 = DAT_1005d138;
  iVar3 = (*grim_interface_instance->vtable->grim_get_joystick_x)();
  if ((float)iVar3 - fVar2 < -fVar1) {
    return 1;
  }
  return 0;
}



/* FUN_10006f90 @ 10006f90 */

undefined4 FUN_10006f90(void)

{
  float fVar1;
  float fVar2;
  int iVar3;
  
  fVar2 = DAT_1005d148;
  fVar1 = DAT_1005d138;
  iVar3 = (*grim_interface_instance->vtable->grim_get_joystick_x)();
  if (fVar1 < (float)iVar3 - fVar2) {
    return 1;
  }
  return 0;
}



/* grim_is_key_active @ 10006fe0 */

/* Grim2D vtable 0x80: routes key/mouse/joystick IDs */

int __thiscall grim_is_key_active(void *this,int key)

{
  float fVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  
  if (key < 0x100) {
    iVar2 = (**(code **)(*(int *)this + 0x44))(key);
    return iVar2;
  }
  if (key == 0x100) {
    iVar2 = (**(code **)(*(int *)this + 0x58))(0);
    return iVar2;
  }
  if (key == 0x101) {
    iVar2 = (**(code **)(*(int *)this + 0x58))(1);
    return iVar2;
  }
  if (key == 0x102) {
    iVar2 = (**(code **)(*(int *)this + 0x58))(2);
    return iVar2;
  }
  if (key == 0x103) {
    iVar2 = (**(code **)(*(int *)this + 0x58))(3);
    return iVar2;
  }
  if (key == 0x104) {
    iVar2 = (**(code **)(*(int *)this + 0x58))(4);
    return iVar2;
  }
  uVar3 = 1;
  do {
    if (key == uVar3 + 0x11e) {
      iVar2 = (**(code **)(*(int *)this + 0xa8))(uVar3 - 1);
      return iVar2;
    }
    uVar3 = uVar3 + 1;
  } while ((int)uVar3 < 0xd);
  if (key == 0x131) {
    iVar2 = FUN_10006ea0();
    return iVar2;
  }
  if (key == 0x132) {
    iVar2 = FUN_10006ef0();
    return iVar2;
  }
  if (key == 0x133) {
    iVar2 = FUN_10006f40();
    return iVar2;
  }
  if (key == 0x134) {
    iVar2 = FUN_10006f90();
    return iVar2;
  }
  if (key == 0x13f) {
    fVar1 = (float)grim_joystick_state.lX;
  }
  else if (key == 0x140) {
    fVar1 = (float)grim_joystick_state.lY;
  }
  else if (key == 0x141) {
    fVar1 = (float)grim_joystick_state.lZ;
  }
  else if (key == 0x153) {
    fVar1 = (float)grim_joystick_state.lRx;
  }
  else if (key == 0x154) {
    fVar1 = (float)grim_joystick_state.lRy;
  }
  else {
    if (key != 0x155) {
      if (DAT_1005d3b4 == (int *)0x0) {
        return uVar3 & 0xffffff00;
      }
      iVar2 = 0;
      iVar5 = 0x16d;
      do {
        uVar3 = 0;
        iVar4 = iVar5;
        do {
          if (key == iVar4) {
            iVar2 = (**(code **)(*DAT_1005d3b4 + 0xc))(iVar2,uVar3);
            return iVar2;
          }
          uVar3 = uVar3 + 1;
          iVar4 = iVar4 + 1;
        } while ((int)uVar3 < 5);
        iVar5 = iVar5 + 5;
        iVar2 = iVar2 + 1;
      } while (iVar5 < 0x17c);
      return uVar3 & 0xffffff00;
    }
    fVar1 = (float)grim_joystick_state.lRz;
  }
  if (0.5 < ABS(fVar1 * 0.001)) {
    return 1;
  }
  return 0;
}



/* grim_get_config_float @ 100071b0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x84: config float lookup (scaled) */

float grim_get_config_float(int id)

{
  int iVar1;
  int *in_ECX;
  int iVar2;
  float10 fVar3;
  
  if (0xff < id) {
    if (id == 0x13f) {
      return (float)grim_joystick_state.lX * 0.001;
    }
    if (id == 0x140) {
      return (float)grim_joystick_state.lY * 0.001;
    }
    if (id == 0x141) {
      return (float)grim_joystick_state.lZ * 0.001;
    }
    if (id == 0x153) {
      return (float)grim_joystick_state.lRx * 0.001;
    }
    if (id == 0x154) {
      return (float)grim_joystick_state.lRy * 0.001;
    }
    if (id == 0x155) {
      return (float)grim_joystick_state.lRz * 0.001;
    }
    if (id == 0x15f) {
      fVar3 = (float10)(**(code **)(*in_ECX + 0x70))();
      return (float)fVar3;
    }
    if (id == 0x160) {
      fVar3 = (float10)(**(code **)(*in_ECX + 0x74))();
      return (float)fVar3;
    }
    iVar2 = 0;
    iVar1 = 0x168;
    do {
      if (id == iVar1 + -5) {
        fVar3 = (float10)(**(code **)(*in_ECX + 0x78))(iVar2);
        return (float)fVar3;
      }
      if (id == iVar1) {
        fVar3 = (float10)(**(code **)(*in_ECX + 0x7c))(iVar2);
        return (float)fVar3;
      }
      iVar2 = iVar2 + 1;
      iVar1 = iVar1 + 1;
    } while (iVar1 < 0x16b);
  }
  return 0.0;
}



/* grim_get_slot_float @ 100072c0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x88 (provisional): float slot accessor */

float grim_get_slot_float(int index)

{
  return *(float *)(&grim_slot_floats + index * 4);
}



/* grim_get_slot_int @ 100072d0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x8c (provisional): int slot accessor */

int grim_get_slot_int(int index)

{
  return *(int *)(&grim_slot_ints + index * 4);
}



/* grim_set_slot_float @ 100072e0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x90 (provisional): float slot setter */

void grim_set_slot_float(int index,float value)

{
  *(float *)(&grim_slot_floats + index * 4) = value;
  return;
}



/* grim_set_slot_int @ 10007300 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x94 (provisional): int slot setter */

void grim_set_slot_int(int index,int value)

{
  *(int *)(&grim_slot_ints + index * 4) = value;
  return;
}



/* grim_is_key_down @ 10007320 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x44 (provisional) */

int grim_is_key_down(uint key)

{
  int iVar1;
  
  iVar1 = grim_keyboard_key_down(key);
  return iVar1;
}



/* grim_flush_input @ 10007330 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x4c (provisional): clear buffered input/device state */

void grim_flush_input(void)

{
  int iVar1;
  undefined4 *puVar2;
  DWORD DStack_4;
  
  DStack_4 = 10;
  puVar2 = &grim_keyboard_state;
  for (iVar1 = 0x40; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  iVar1 = 0;
  do {
    (*grim_keyboard_device->lpVtbl->GetDeviceData)
              (grim_keyboard_device,0x14,(LPDIDEVICEOBJECTDATA)&grim_keyboard_event_buffer,&DStack_4
               ,0);
    if (99 < iVar1) break;
    iVar1 = iVar1 + 1;
  } while (DStack_4 != 0);
  DAT_1005d3e4 = 0;
  puVar2 = &grim_keyboard_state;
  for (iVar1 = 0x40; iVar1 != 0; iVar1 = iVar1 + -1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  return;
}



/* grim_was_key_pressed @ 10007390 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Grim2D vtable 0x48 (provisional) */

int grim_was_key_pressed(uint key)

{
  float fVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  
  iVar2 = grim_keyboard_key_down(key);
  if ((char)iVar2 == '\0') {
    uVar3 = key & 0xff;
    (&DAT_1005a058)[uVar3] = 0;
    (&DAT_10059f44)[uVar3] = 1;
  }
  else {
    uVar4 = key & 0xff;
    fVar1 = (float)(&DAT_1005a058)[uVar4];
    uVar3 = CONCAT22((short)((uint)iVar2 >> 0x10),
                     (ushort)(fVar1 < 0.0) << 8 | (ushort)NAN(fVar1) << 10 |
                     (ushort)(fVar1 == 0.0) << 0xe);
    if ((fVar1 == 0.0) != 0) {
      fVar1 = _DAT_10053044;
      if ((&DAT_10059f44)[uVar4] == '\0') {
        fVar1 = _DAT_10053044 * 0.2;
      }
      (&DAT_1005a058)[uVar4] = fVar1;
      (&DAT_10059f44)[uVar4] = 0;
      return CONCAT31((int3)(uVar3 >> 8),1);
    }
  }
  return uVar3 & 0xffffff00;
}



/* grim_is_mouse_button_down @ 10007410 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x58: cached mouse button state or poll */

int grim_is_mouse_button_down(int button)

{
  int iVar1;
  
  if (grim_input_cached != '\0') {
    return CONCAT31((int3)((uint)button >> 8),(&grim_mouse_button_cache)[button]);
  }
  iVar1 = grim_mouse_button_down(button);
  return iVar1;
}



/* grim_was_mouse_button_pressed @ 10007440 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x5c (provisional): edge-triggered mouse button */

int grim_was_mouse_button_pressed(int button)

{
  char cVar1;
  undefined4 in_EAX;
  uint3 uVar3;
  undefined4 uVar2;
  int *in_ECX;
  undefined1 uVar4;
  
  uVar3 = (uint3)((uint)in_EAX >> 8);
  if (grim_input_cached == '\0') {
    cVar1 = (**(code **)(*in_ECX + 0x58))(button);
    if ((cVar1 == '\0') || ((&grim_mouse_button_latch)[button] == '\0')) {
      uVar4 = 0;
    }
    else {
      uVar4 = 1;
    }
    uVar2 = (**(code **)(*in_ECX + 0x58))(button);
    (&grim_mouse_button_latch)[button] = (char)uVar2 == '\0';
    return CONCAT31((int3)((uint)uVar2 >> 8),uVar4);
  }
  cVar1 = (&grim_mouse_button_cache)[button];
  if ((cVar1 != '\0') && ((&grim_mouse_button_latch)[button] != '\0')) {
    (&grim_mouse_button_latch)[button] = cVar1 == '\0';
    return CONCAT31(uVar3,1);
  }
  (&grim_mouse_button_latch)[button] = cVar1 == '\0';
  return (uint)uVar3 << 8;
}



/* grim_get_mouse_dx @ 100074d0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x70: cached mouse delta X */

float grim_get_mouse_dx(void)

{
  return _grim_mouse_dx;
}



/* grim_get_mouse_dy @ 100074e0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x74: cached mouse delta Y */

float grim_get_mouse_dy(void)

{
  return _grim_mouse_dy;
}



/* grim_get_mouse_dx_indexed @ 100074f0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x78: alias of get_mouse_dx */

float grim_get_mouse_dx_indexed(int index)

{
  int *in_ECX;
  float10 fVar1;
  
  fVar1 = (float10)(**(code **)(*in_ECX + 0x70))();
  return (float)fVar1;
}



/* grim_get_mouse_dy_indexed @ 10007500 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x7c: alias of get_mouse_dy */

float grim_get_mouse_dy_indexed(int index)

{
  int *in_ECX;
  float10 fVar1;
  
  fVar1 = (float10)(**(code **)(*in_ECX + 0x74))();
  return (float)fVar1;
}



/* grim_get_mouse_x @ 10007510 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x68: cached mouse X position */

float grim_get_mouse_x(void)

{
  return _grim_mouse_x_cached;
}



/* grim_get_mouse_y @ 10007520 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x6c: cached mouse Y position */

float grim_get_mouse_y(void)

{
  return _grim_mouse_y_cached;
}



/* grim_set_mouse_pos @ 10007530 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x64: set cached mouse position */

void grim_set_mouse_pos(float x,float y)

{
  grim_mouse_x = x;
  grim_mouse_y = y;
  _grim_mouse_x_cached = x;
  _grim_mouse_y_cached = y;
  return;
}



/* grim_get_mouse_wheel_delta @ 10007560 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x60 (provisional) */

float grim_get_mouse_wheel_delta(void)

{
  if (grim_input_cached != '\0') {
    return _DAT_1005d3b8;
  }
  return _DAT_1005db58;
}



/* grim_get_joystick_x @ 10007580 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x98 (provisional): joystick axis X */

int grim_get_joystick_x(void)

{
  return grim_joystick_state.lX;
}



/* grim_get_joystick_y @ 10007590 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x9c (provisional): joystick axis Y */

int grim_get_joystick_y(void)

{
  return grim_joystick_state.lY;
}



/* grim_get_joystick_z @ 100075a0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xa0 (provisional): joystick axis Z */

int grim_get_joystick_z(void)

{
  return grim_joystick_state.lZ;
}



/* grim_get_joystick_pov @ 100075b0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xa4 (provisional): joystick POV hat value */

int grim_get_joystick_pov(int index)

{
  return grim_joystick_state.rgdwPOV[index];
}



/* grim_is_joystick_button_down @ 100075c0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xa8 (provisional): joystick button state */

int grim_is_joystick_button_down(int button)

{
  byte bVar1;
  undefined3 extraout_var;
  
  bVar1 = FUN_1000a310(button);
  return CONCAT31(extraout_var,bVar1);
}



/* grim_create_texture @ 100075d0 */

/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xac: create blank texture in a free slot */

int grim_create_texture(char *name,int width,int height)

{
  uint uVar1;
  uint uVar2;
  void *pvVar3;
  void *unaff_EDI;
  LPDIRECT3DDEVICE8 name_00;
  undefined4 uVar4;
  void *pvVar5;
  IDirect3DTexture8 *local_10;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_1004b82b;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  uVar1 = grim_find_free_texture_slot();
  if ((int)uVar1 < 0) {
    ExceptionList = local_c;
    return uVar1 & 0xffffff00;
  }
  pvVar5 = (void *)0x1;
  uVar4 = 1;
  name_00 = grim_d3d_device;
  uVar2 = (*grim_d3d_device->lpVtbl->CreateTexture)
                    (grim_d3d_device,width,height,1,1,grim_texture_format,D3DPOOL_DEFAULT,&local_10)
  ;
  if ((int)uVar2 < 0) {
    grim_error_text = s_D3D__Could_not_create_a_texture__10053c18;
    ExceptionList = pvVar5;
    return uVar2 & 0xffffff00;
  }
  pvVar3 = operator_new(0x18);
  if (pvVar3 == (void *)0x0) {
    pvVar3 = (void *)0x0;
  }
  else {
    pvVar3 = grim_texture_init(pvVar3,unaff_EDI,(char *)name_00);
  }
  (&grim_texture_slots)[uVar1] = pvVar3;
  *(undefined4 *)((int)pvVar3 + 4) = uVar4;
  *(undefined1 *)((&grim_texture_slots)[uVar1] + 8) = 1;
  *(int *)((&grim_texture_slots)[uVar1] + 0xc) = width;
  *(int *)((&grim_texture_slots)[uVar1] + 0x10) = height;
  uVar2 = DAT_1005305c;
  if ((int)DAT_1005305c < (int)uVar1) {
    DAT_1005305c = uVar1;
  }
  ExceptionList = pvVar5;
  return CONCAT31((int3)(uVar2 >> 8),1);
}



/* grim_load_texture @ 100076e0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xb4 (provisional) */

int grim_load_texture(char *name,char *path)

{
  int iVar1;
  
  iVar1 = grim_load_texture_internal(name,(ushort *)path);
  return iVar1;
}



/* grim_destroy_texture @ 10007700 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xbc (provisional): release texture handle */

void grim_destroy_texture(int handle)

{
  void *texture;
  int iVar1;
  bool bVar2;
  
  texture = (void *)(&grim_texture_slots)[handle];
  if (texture != (void *)0x0) {
    grim_texture_release(texture);
    operator_delete(texture);
    iVar1 = DAT_1005305c;
    bVar2 = handle == DAT_1005305c;
    (&grim_texture_slots)[handle] = 0;
    if (bVar2) {
      DAT_1005305c = iVar1 + -1;
    }
  }
  return;
}



/* grim_get_texture_handle @ 10007740 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xc0: lookup texture handle by name */

int grim_get_texture_handle(char *name)

{
  int iVar1;
  
  iVar1 = grim_find_texture_by_name(name);
  return iVar1;
}



/* grim_validate_texture @ 10007750 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xb8: validate texture handle/device */

int grim_validate_texture(int handle)

{
  void *pvVar1;
  int in_stack_00000008;
  
  if ((&grim_texture_slots)[handle] == 0) {
    return 0;
  }
  pvVar1 = FUN_1000c1e8(in_stack_00000008,2,*(int **)((&grim_texture_slots)[handle] + 4),0);
  return CONCAT31((int3)((uint)pvVar1 >> 8),-1 < (int)pvVar1);
}



/* grim_recreate_texture @ 10007790 */

/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xb0: recreate D3D texture surface */

int grim_recreate_texture(int handle)

{
  uint uVar1;
  int iVar2;
  undefined4 unaff_retaddr;
  
  iVar2 = (&grim_texture_slots)[handle];
  if (iVar2 == 0) {
    return 0;
  }
  uVar1 = FUN_1000b297(*(void **)(iVar2 + 0x10),(int **)grim_d3d_device,*(int *)(iVar2 + 0xc),
                       (int)*(void **)(iVar2 + 0x10),1);
  if ((int)uVar1 < 0) {
    return uVar1 & 0xffffff00;
  }
  iVar2 = FUN_1000b3fe((int *)handle,*(int **)((&grim_texture_slots)[handle] + 4),0,0,2.24208e-44);
  if (iVar2 < 0) {
    uVar1 = (**(code **)(*(int *)handle + 8))(handle);
    return uVar1 & 0xffffff00;
  }
  (**(code **)(**(int **)((&grim_texture_slots)[handle] + 4) + 8))
            (*(int **)((&grim_texture_slots)[handle] + 4));
  *(undefined4 *)((&grim_texture_slots)[handle] + 4) = unaff_retaddr;
  return CONCAT31((int3)((uint)unaff_retaddr >> 8),1);
}



/* grim_bind_texture @ 10007830 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xc4: bind texture handle to stage */

void grim_bind_texture(int handle,int stage)

{
  IDirect3DBaseTexture8 *pTexture;
  
  if (((-1 < handle) && ((&grim_texture_slots)[handle] != 0)) &&
     (pTexture = *(IDirect3DBaseTexture8 **)((&grim_texture_slots)[handle] + 4),
     pTexture != (IDirect3DBaseTexture8 *)0x0)) {
    (*grim_d3d_device->lpVtbl->SetTexture)(grim_d3d_device,stage,pTexture);
    _grim_bound_texture_handle = handle;
  }
  return;
}



/* grim_draw_fullscreen_quad @ 10007870 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xc8: full-screen quad with current texture */

void grim_draw_fullscreen_quad(void)

{
  int *in_ECX;
  
  (**(code **)(*in_ECX + 0xfc))(0);
  (**(code **)(*in_ECX + 0xe8))();
  (**(code **)(*in_ECX + 0x11c))(0,0,(float)grim_backbuffer_width,(float)grim_backbuffer_height);
  (**(code **)(*in_ECX + 0xf0))();
  return;
}



/* grim_draw_rect_filled @ 100078e0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xd0: UI panel fill/quad */

void grim_draw_rect_filled(float *xy,float w,float h)

{
  int *in_ECX;
  int in_stack_00000010;
  undefined4 *puVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  
  if (0.0 < *(float *)(in_stack_00000010 + 0xc)) {
    (*grim_d3d_device->lpVtbl->SetTexture)(grim_d3d_device,0,(IDirect3DBaseTexture8 *)0x0);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,3);
    uVar3 = 3;
    uVar2 = 4;
    puVar1 = (undefined4 *)0x0;
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,3);
    (**(code **)(*in_ECX + 0x110))();
    (**(code **)(*in_ECX + 0xfc))(0);
    (**(code **)(*in_ECX + 0xe8))();
    (**(code **)(*in_ECX + 0x11c))(*puVar1,puVar1[1],uVar2,uVar3);
    (**(code **)(*in_ECX + 0xf0))();
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,4);
  }
  return;
}



/* grim_draw_fullscreen_color @ 100079b0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xcc: fullscreen color/fade overlay */

void grim_draw_fullscreen_color(float r,float g,float b,float a)

{
  int *in_ECX;
  LPDIRECT3DDEVICE8 pIVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  
  if (0.0 < a) {
    (*grim_d3d_device->lpVtbl->SetTexture)(grim_d3d_device,0,(IDirect3DBaseTexture8 *)0x0);
    uVar4 = 3;
    uVar3 = 1;
    uVar2 = 0;
    pIVar1 = grim_d3d_device;
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,3);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,3);
    (**(code **)(*in_ECX + 0x114))(pIVar1,uVar2,uVar3,uVar4);
    (**(code **)(*in_ECX + 0xfc))(0);
    (**(code **)(*in_ECX + 0xe8))();
    (**(code **)(*in_ECX + 0x11c))(0,0,(float)grim_backbuffer_width,(float)grim_backbuffer_height);
    (**(code **)(*in_ECX + 0xf0))();
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,4);
    (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,4);
  }
  return;
}



/* grim_begin_batch @ 10007ac0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xe8 (provisional): begin draw batch */

void grim_begin_batch(void)

{
  int iVar1;
  
  if (((grim_render_disabled == '\0') && (grim_batch_active == '\0')) &&
     (grim_batch_active = '\x01', DAT_1005c898 != '\0')) {
    (*grim_d3d_device->lpVtbl->BeginScene)(grim_d3d_device);
    iVar1 = (**(code **)(*grim_vertex_buffer + 0x2c))
                      (grim_vertex_buffer,0,0,&grim_vertex_write_ptr,0x2800);
    if (iVar1 < 0) {
      DAT_1005c898 = '\0';
    }
    grim_vertex_count._0_2_ = 0;
  }
  return;
}



/* grim_end_batch @ 10007b20 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xf0 (provisional): end draw batch/flush */

void grim_end_batch(void)

{
  if ((grim_render_disabled == '\0') && (grim_batch_active != '\0')) {
    (**(code **)(*grim_vertex_buffer + 0x30))(grim_vertex_buffer);
    if (DAT_1005c898 != '\0') {
      if ((short)grim_vertex_count != 0) {
        (*grim_d3d_device->lpVtbl->DrawIndexedPrimitive)
                  (grim_d3d_device,D3DPT_TRIANGLELIST,0,grim_vertex_count & 0xffff,0,
                   (grim_vertex_count & 0xffff) >> 1);
      }
      (*grim_d3d_device->lpVtbl->EndScene)(grim_d3d_device);
      grim_batch_active = '\0';
    }
  }
  return;
}



/* grim_draw_circle_filled @ 10007b90 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xd8 (provisional): triangle fan circle fill */

void grim_draw_circle_filled(float x,float y,float radius)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  float10 fVar5;
  float10 fVar6;
  int iVar7;
  float fStack_30;
  undefined4 **ppuStack_2c;
  float fStack_10;
  float fStack_c;
  float fStack_8;
  
  if ((grim_batch_active == '\0') && (grim_batch_active = '\x01', DAT_1005c898 != '\0')) {
    ppuStack_2c = (undefined4 **)0x10007bc2;
    (*grim_d3d_device->lpVtbl->BeginScene)(grim_d3d_device);
    ppuStack_2c = &grim_vertex_write_ptr;
    fStack_30 = 0.0;
    iVar1 = (**(code **)(*grim_vertex_buffer + 0x2c))(grim_vertex_buffer,0);
    if (iVar1 < 0) {
      DAT_1005c898 = '\0';
    }
    grim_vertex_count = grim_vertex_count & 0xffff0000;
    (*grim_d3d_device->lpVtbl->SetTexture)(grim_d3d_device,0,(IDirect3DBaseTexture8 *)0x0);
    ppuStack_2c = (undefined4 **)fStack_c;
    fStack_30 = fStack_10;
    pfVar3 = &fStack_30;
    pfVar4 = (float *)grim_vertex_write_ptr;
    for (iVar1 = 7; iVar1 != 0; iVar1 = iVar1 + -1) {
      *pfVar4 = *pfVar3;
      pfVar3 = pfVar3 + 1;
      pfVar4 = pfVar4 + 1;
    }
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    grim_vertex_count._0_2_ = (short)grim_vertex_count + 1;
    iVar1 = ftol();
    iVar7 = 0;
    if (-1 < iVar1) {
      do {
        iVar2 = 7;
        fVar5 = ((float10)iVar7 * (float10)6.2831855) / (float10)iVar1;
        fVar6 = (float10)fcos(fVar5);
        fStack_30 = (float)(fVar6 * (float10)fStack_8 + (float10)fStack_10);
        fVar5 = (float10)fsin(fVar5);
        ppuStack_2c = (undefined4 **)(float)(fVar5 * (float10)fStack_8 + (float10)fStack_c);
        pfVar3 = &fStack_30;
        pfVar4 = (float *)grim_vertex_write_ptr;
        for (; iVar2 != 0; iVar2 = iVar2 + -1) {
          *pfVar4 = *pfVar3;
          pfVar3 = pfVar3 + 1;
          pfVar4 = pfVar4 + 1;
        }
        grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
        grim_vertex_count._0_2_ = (short)grim_vertex_count + 1;
        iVar7 = iVar7 + 1;
      } while (iVar7 <= iVar1);
    }
    (**(code **)(*grim_vertex_buffer + 0x30))(grim_vertex_buffer);
    if (DAT_1005c898 != '\0') {
      (*grim_d3d_device->lpVtbl->DrawPrimitive)
                (grim_d3d_device,D3DPT_TRIANGLEFAN,0,(grim_vertex_count & 0xffff) - 2);
      (*grim_d3d_device->lpVtbl->EndScene)(grim_d3d_device);
      grim_batch_active = '\0';
    }
  }
  return;
}



/* grim_draw_circle_outline @ 10007d40 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xdc (provisional): triangle strip ring/outline */

void grim_draw_circle_outline(float x,float y,float radius)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  float *pfVar4;
  float10 fVar5;
  float10 fVar6;
  int iVar7;
  float fStack_30;
  float **ppfStack_2c;
  float fStack_10;
  float fStack_c;
  float fStack_8;
  
  if ((grim_batch_active == '\0') && (grim_batch_active = '\x01', DAT_1005c898 != '\0')) {
    ppfStack_2c = (float **)0x10007d72;
    (*grim_d3d_device->lpVtbl->BeginScene)(grim_d3d_device);
    ppfStack_2c = &grim_vertex_write_ptr;
    fStack_30 = 0.0;
    iVar1 = (**(code **)(*grim_vertex_buffer + 0x2c))(grim_vertex_buffer,0);
    if (iVar1 < 0) {
      DAT_1005c898 = '\0';
    }
    grim_vertex_count = grim_vertex_count & 0xffff0000;
    iVar1 = ftol();
    iVar7 = 0;
    if (-1 < iVar1) {
      do {
        iVar2 = 7;
        fVar5 = ((float10)iVar7 * (float10)6.2831855) / (float10)iVar1;
        fVar6 = (float10)fcos(fVar5);
        fStack_30 = (float)(fVar6 * (float10)fStack_8 + (float10)fStack_10);
        fVar5 = (float10)fsin(fVar5);
        ppfStack_2c = (float **)(float)(fVar5 * (float10)fStack_8 + (float10)fStack_c);
        pfVar3 = &fStack_30;
        pfVar4 = grim_vertex_write_ptr;
        for (; iVar2 != 0; iVar2 = iVar2 + -1) {
          *pfVar4 = *pfVar3;
          pfVar3 = pfVar3 + 1;
          pfVar4 = pfVar4 + 1;
        }
        fStack_30 = (float)(((float10)fStack_8 + (float10)2.0) * (float10)(float)fVar6 +
                           (float10)fStack_10);
        grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
        grim_vertex_count._0_2_ = (short)grim_vertex_count + 1;
        ppfStack_2c = (float **)
                      (float)(((float10)fStack_8 + (float10)2.0) * fVar5 + (float10)fStack_c);
        pfVar3 = &fStack_30;
        pfVar4 = grim_vertex_write_ptr;
        for (iVar2 = 7; iVar2 != 0; iVar2 = iVar2 + -1) {
          *pfVar4 = *pfVar3;
          pfVar3 = pfVar3 + 1;
          pfVar4 = pfVar4 + 1;
        }
        grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
        grim_vertex_count._0_2_ = (short)grim_vertex_count + 1;
        iVar7 = iVar7 + 1;
      } while (iVar7 <= iVar1);
    }
    (**(code **)(*grim_vertex_buffer + 0x30))(grim_vertex_buffer);
    if (DAT_1005c898 != '\0') {
      (*grim_d3d_device->lpVtbl->DrawPrimitive)
                (grim_d3d_device,D3DPT_TRIANGLESTRIP,0,(grim_vertex_count & 0xffff) - 2);
      (*grim_d3d_device->lpVtbl->EndScene)(grim_d3d_device);
      grim_batch_active = '\0';
    }
  }
  return;
}



/* grim_set_rotation @ 10007f30 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xfc: precompute sin/cos (+45deg) for rotation matrix */

void grim_set_rotation(float radians)

{
  float10 fVar1;
  
  _grim_rotation_radians = radians;
  fVar1 = (float10)fcos((float10)radians + (float10)0.7853982);
  grim_rotation_cos = (float)fVar1;
  fVar1 = (float10)fsin((float10)radians + (float10)0.7853982);
  _DAT_1005a460 = grim_rotation_cos;
  _DAT_1005a46c = grim_rotation_cos;
  DAT_10059f40 = (float)fVar1;
  _DAT_1005a468 = -DAT_10059f40;
  _DAT_1005a464 = DAT_10059f40;
  return;
}



/* grim_set_color @ 10007f90 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x114 (provisional) */

void grim_set_color(float r,float g,float b,float a)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  
  uVar1 = ftol();
  iVar2 = ftol();
  uVar3 = ftol();
  uVar4 = ftol();
  grim_color_slot0 = ((uVar1 & 0xff | iVar2 << 8) << 8 | uVar3 & 0xff) << 8 | uVar4 & 0xff;
  grim_color_slot3 = grim_color_slot0;
  DAT_1005bc0c = grim_color_slot0;
  DAT_1005bc08 = grim_color_slot0;
  return;
}



/* grim_set_color_ptr @ 10008040 */

/* Grim2D vtable 0x110: set color from float[4] */

void grim_set_color_ptr(float *rgba)

{
  undefined1 uVar1;
  undefined1 uVar2;
  undefined1 uVar3;
  undefined1 uVar4;
  
  uVar1 = ftol();
  uVar2 = ftol();
  uVar3 = ftol();
  uVar4 = ftol();
  rgba = (float *)CONCAT31(CONCAT21(CONCAT11(uVar1,uVar2),uVar3),uVar4);
  grim_color_slot0 = rgba;
  grim_color_slot3 = rgba;
  DAT_1005bc0c = rgba;
  DAT_1005bc08 = rgba;
  return;
}



/* grim_draw_line @ 100080b0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xe0 (provisional): builds line quad from endpoints */

void grim_draw_line(float *p0,float *p1,float thickness)

{
  int *in_ECX;
  undefined *puVar1;
  undefined *puVar2;
  
  if ((DAT_10059bb4 & 1) == 0) {
    DAT_10059bb4 = DAT_10059bb4 | 1;
    FUN_1000a92c((_onexit_t)&DAT_10008140);
  }
  puVar2 = &grim_line_dx;
  puVar1 = &grim_line_dx;
  _grim_line_dx = *p1 - *p0;
  _grim_line_dy = p1[1] - p0[1];
  thunk_FUN_1000cc2c();
  _grim_line_dx = _grim_line_dy * (float)p0;
  _grim_line_dy = _grim_line_dx * (float)p0;
  (**(code **)(*in_ECX + 0xe4))(p0,p1,&grim_line_dx,puVar1,puVar2);
  return;
}



/* grim_draw_line_quad @ 10008150 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xe4 (provisional): line quad from endpoints + half-width vector */

void grim_draw_line_quad(float *p0,float *p1,float *half_vec)

{
  int *in_ECX;
  
  (**(code **)(*in_ECX + 0x138))
            (*p0 - *half_vec,p0[1] - half_vec[1],*p0 + *half_vec,p0[1] + half_vec[1],*p1 + *half_vec
             ,p1[1] + half_vec[1],*p1 - *half_vec,p1[1] - half_vec[1]);
  return;
}



/* grim_set_color_slot @ 100081c0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x118 (provisional): set color slot */

void grim_set_color_slot(int index,float r,float g,float b,float a)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  
  uVar1 = ftol();
  iVar2 = ftol();
  uVar3 = ftol();
  uVar4 = ftol();
  (&grim_color_slot0)[index] = ((uVar1 & 0xff | iVar2 << 8) << 8 | uVar3 & 0xff) << 8 | uVar4 & 0xff
  ;
  return;
}



/* grim_set_atlas_frame @ 10008230 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x104 (provisional) */

void grim_set_atlas_frame(int atlas_size,int frame)

{
  float fVar1;
  
  fVar1 = 1.0 / (float)atlas_size;
  DAT_1005b2a8 = *(float *)((&grim_subrect_ptr_table)[atlas_size] + frame * 8);
  grim_uv_v1 = *(float *)((&grim_subrect_ptr_table)[atlas_size] + 4 + frame * 8);
  grim_uv_u0 = DAT_1005b2a8;
  grim_uv_v0 = grim_uv_v1;
  grim_uv_u1 = DAT_1005b2a8 + fVar1;
  DAT_1005b2a0 = DAT_1005b2a8 + fVar1;
  DAT_1005b2a4 = grim_uv_v1 + fVar1;
  DAT_1005b2ac = grim_uv_v1 + fVar1;
  return;
}



/* grim_set_sub_rect @ 100082c0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x108: atlas sub-rect from grid table */

void grim_set_sub_rect(int atlas_size,int width,int height,int frame)

{
  float fVar1;
  
  DAT_1005b2a8 = *(float *)((&grim_subrect_ptr_table)[atlas_size] + frame * 8);
  grim_uv_v1 = *(float *)((&grim_subrect_ptr_table)[atlas_size] + 4 + frame * 8);
  grim_uv_u0 = DAT_1005b2a8;
  grim_uv_v0 = grim_uv_v1;
  grim_uv_u1 = (float)width * (1.0 / (float)atlas_size) + DAT_1005b2a8;
  DAT_1005b2a0 = grim_uv_u1;
  fVar1 = (1.0 / (float)atlas_size) * (float)height;
  DAT_1005b2a4 = fVar1 + grim_uv_v1;
  DAT_1005b2ac = fVar1 + grim_uv_v1;
  return;
}



/* grim_set_uv @ 10008350 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x100 (provisional) */

void grim_set_uv(float u0,float v0,float u1,float v1)

{
  grim_uv_u0 = u0;
  grim_uv_v0 = v0;
  grim_uv_u1 = u1;
  grim_uv_v1 = v0;
  DAT_1005b2a0 = u1;
  DAT_1005b2a4 = v1;
  DAT_1005b2a8 = u0;
  DAT_1005b2ac = v1;
  return;
}



/* grim_set_uv_point @ 100083a0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x10c: set UV point */

void grim_set_uv_point(int index,float u,float v)

{
  (&grim_uv_u0)[index * 2] = u;
  (&grim_uv_v0)[index * 2] = v;
  return;
}



/* grim_flush_batch @ 100083c0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xec: flush batch when vertex buffer fills */

void grim_flush_batch(void)

{
  int iVar1;
  
  if ((grim_render_disabled == '\0') && (grim_batch_active != '\0')) {
    (**(code **)(*grim_vertex_buffer + 0x30))(grim_vertex_buffer);
    (*grim_d3d_device->lpVtbl->DrawIndexedPrimitive)
              (grim_d3d_device,D3DPT_TRIANGLELIST,0,grim_vertex_count & 0xffff,0,
               (grim_vertex_count & 0xffff) >> 1);
    iVar1 = (**(code **)(*grim_vertex_buffer + 0x2c))
                      (grim_vertex_buffer,0,0,&grim_vertex_write_ptr,0x2800);
    if (-1 < iVar1) {
      grim_vertex_count = grim_vertex_count & 0xffff0000;
    }
  }
  return;
}



/* grim_submit_vertices_offset_color @ 10008430 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x130: translate + apply color */

void grim_submit_vertices_offset_color(float *verts,int count,float *offset,float *color)

{
  int *in_ECX;
  uint uVar1;
  int iVar2;
  float *pfVar3;
  
  if (grim_render_disabled == '\0') {
    pfVar3 = grim_vertex_write_ptr;
    for (uVar1 = (uint)(count * 0x1c) >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
      *pfVar3 = *verts;
      verts = verts + 1;
      pfVar3 = pfVar3 + 1;
    }
    for (iVar2 = 0; iVar2 != 0; iVar2 = iVar2 + -1) {
      *(undefined1 *)pfVar3 = *(undefined1 *)verts;
      verts = (float *)((int)verts + 1);
      pfVar3 = (float *)((int)pfVar3 + 1);
    }
    iVar2 = count;
    if (0 < count) {
      do {
        pfVar3 = grim_vertex_write_ptr;
        *grim_vertex_write_ptr = *offset + *grim_vertex_write_ptr;
        pfVar3[1] = offset[1] + pfVar3[1];
        grim_vertex_write_ptr[4] = *color;
        grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
    }
    grim_vertex_count._0_2_ = (ushort)grim_vertex_count + (short)count;
    if (grim_vertex_capacity <= (ushort)grim_vertex_count) {
      (**(code **)(*in_ECX + 0xec))();
    }
  }
  return;
}



/* grim_submit_vertices_transform_color @ 100084e0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x134: rotate + translate + apply color */

void grim_submit_vertices_transform_color
               (float *verts,int count,float *offset,float *matrix,float *color)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int *in_ECX;
  uint uVar5;
  int iVar6;
  float *pfVar7;
  
  if (grim_render_disabled == '\0') {
    pfVar7 = grim_vertex_write_ptr;
    for (uVar5 = (uint)(count * 0x1c) >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pfVar7 = *verts;
      verts = verts + 1;
      pfVar7 = pfVar7 + 1;
    }
    for (iVar6 = 0; iVar6 != 0; iVar6 = iVar6 + -1) {
      *(undefined1 *)pfVar7 = *(undefined1 *)verts;
      verts = (float *)((int)verts + 1);
      pfVar7 = (float *)((int)pfVar7 + 1);
    }
    iVar6 = count;
    if (0 < count) {
      do {
        pfVar7 = grim_vertex_write_ptr;
        fVar1 = grim_vertex_write_ptr[1];
        fVar2 = matrix[1];
        fVar3 = *grim_vertex_write_ptr;
        fVar4 = *matrix;
        grim_vertex_write_ptr[1] =
             *grim_vertex_write_ptr * matrix[2] + grim_vertex_write_ptr[1] * matrix[3];
        *pfVar7 = fVar3 * fVar4 + fVar1 * fVar2;
        pfVar7 = grim_vertex_write_ptr;
        *grim_vertex_write_ptr = *offset + *grim_vertex_write_ptr;
        pfVar7[1] = offset[1] + pfVar7[1];
        grim_vertex_write_ptr[4] = *color;
        grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
        iVar6 = iVar6 + -1;
      } while (iVar6 != 0);
    }
    grim_vertex_count._0_2_ = (ushort)grim_vertex_count + (short)count;
    if (grim_vertex_capacity <= (ushort)grim_vertex_count) {
      (**(code **)(*in_ECX + 0xec))();
    }
  }
  return;
}



/* grim_submit_vertices_transform @ 100085c0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x128: copy verts, rotate, translate */

void grim_submit_vertices_transform(float *verts,int count,float *offset,float *matrix)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int *in_ECX;
  uint uVar5;
  int iVar6;
  float *pfVar7;
  
  if (grim_render_disabled == '\0') {
    pfVar7 = grim_vertex_write_ptr;
    for (uVar5 = (uint)(count * 0x1c) >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
      *pfVar7 = *verts;
      verts = verts + 1;
      pfVar7 = pfVar7 + 1;
    }
    for (iVar6 = 0; iVar6 != 0; iVar6 = iVar6 + -1) {
      *(undefined1 *)pfVar7 = *(undefined1 *)verts;
      verts = (float *)((int)verts + 1);
      pfVar7 = (float *)((int)pfVar7 + 1);
    }
    iVar6 = count;
    if (0 < count) {
      do {
        pfVar7 = grim_vertex_write_ptr;
        fVar1 = grim_vertex_write_ptr[1];
        fVar2 = matrix[1];
        fVar3 = *matrix;
        fVar4 = *grim_vertex_write_ptr;
        grim_vertex_write_ptr[1] =
             *grim_vertex_write_ptr * matrix[2] + grim_vertex_write_ptr[1] * matrix[3];
        *pfVar7 = fVar3 * fVar4 + fVar1 * fVar2;
        pfVar7 = grim_vertex_write_ptr;
        *grim_vertex_write_ptr = *offset + *grim_vertex_write_ptr;
        pfVar7[1] = offset[1] + pfVar7[1];
        grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
        iVar6 = iVar6 + -1;
      } while (iVar6 != 0);
    }
    grim_vertex_count._0_2_ = (ushort)grim_vertex_count + (short)count;
    if (grim_vertex_capacity <= (ushort)grim_vertex_count) {
      (**(code **)(*in_ECX + 0xec))();
    }
  }
  return;
}



/* grim_submit_vertices_offset @ 10008680 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x12c: copy verts, translate */

void grim_submit_vertices_offset(float *verts,int count,float *offset)

{
  int *in_ECX;
  uint uVar1;
  int iVar2;
  float *pfVar3;
  
  if (grim_render_disabled == '\0') {
    pfVar3 = grim_vertex_write_ptr;
    for (uVar1 = (uint)(count * 0x1c) >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
      *pfVar3 = *verts;
      verts = verts + 1;
      pfVar3 = pfVar3 + 1;
    }
    for (iVar2 = 0; iVar2 != 0; iVar2 = iVar2 + -1) {
      *(undefined1 *)pfVar3 = *(undefined1 *)verts;
      verts = (float *)((int)verts + 1);
      pfVar3 = (float *)((int)pfVar3 + 1);
    }
    iVar2 = count;
    if (0 < count) {
      do {
        pfVar3 = grim_vertex_write_ptr;
        *grim_vertex_write_ptr = *grim_vertex_write_ptr + *offset;
        pfVar3[1] = offset[1] + pfVar3[1];
        grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
        iVar2 = iVar2 + -1;
      } while (iVar2 != 0);
    }
    grim_vertex_count._0_2_ = (ushort)grim_vertex_count + (short)count;
    if (grim_vertex_capacity <= (ushort)grim_vertex_count) {
      (**(code **)(*in_ECX + 0xec))();
    }
  }
  return;
}



/* grim_draw_quad_xy @ 10008720 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x120: draw quad from xy pointer */

void grim_draw_quad_xy(float *xy,float w,float h)

{
  int *in_ECX;
  
  (**(code **)(*in_ECX + 0x11c))(*xy,xy[1],w,h);
  return;
}



/* grim_draw_quad_rotated_matrix @ 10008750 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x124 (provisional): quad with rotation matrix */

void grim_draw_quad_rotated_matrix(float x,float y,float w,float h)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int *in_ECX;
  float fStack_20;
  float fStack_1c;
  float fStack_18;
  float fStack_14;
  float fStack_10;
  float fStack_c;
  float fStack_8;
  float fStack_4;
  
  if ((grim_render_disabled == '\0') && (DAT_1005c898 != '\0')) {
    if (grim_batch_active == '\0') {
      (**(code **)(*in_ECX + 0xe8))();
    }
    if (_grim_rotation_radians == 0.0) {
      fStack_18 = x + w;
      fStack_20 = x;
      fStack_1c = y;
      fStack_14 = y;
      fStack_c = y + h;
      fStack_8 = x;
      fStack_10 = fStack_18;
      fStack_4 = fStack_c;
    }
    else {
      fVar3 = w * 0.5;
      fStack_8 = fVar3 + x;
      fVar1 = h * 0.5;
      fStack_4 = fVar1 + y;
      fVar2 = w * -0.5;
      fVar4 = h * -0.5;
      fStack_20 = _DAT_1005a460 * fVar2 + _DAT_1005a464 * fVar4 + fStack_8;
      fStack_1c = fStack_4 + _DAT_1005a468 * fVar2 + fVar4 * _DAT_1005a46c;
      fStack_18 = _DAT_1005a460 * fVar3 + _DAT_1005a464 * fVar4 + fStack_8;
      fStack_14 = fStack_4 + _DAT_1005a468 * fVar3 + fVar4 * _DAT_1005a46c;
      fStack_10 = _DAT_1005a460 * fVar3 + _DAT_1005a464 * fVar1 + fStack_8;
      fStack_c = fStack_4 + _DAT_1005a468 * fVar3 + _DAT_1005a46c * fVar1;
      fStack_8 = _DAT_1005a460 * fVar2 + _DAT_1005a464 * fVar1 + fStack_8;
      fStack_4 = fStack_4 + _DAT_1005a468 * fVar2 + _DAT_1005a46c * fVar1;
    }
    *grim_vertex_write_ptr = fStack_20;
    grim_vertex_write_ptr[1] = fStack_1c;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = grim_color_slot0;
    grim_vertex_write_ptr[5] = grim_uv_u0;
    grim_vertex_write_ptr[6] = grim_uv_v0;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    *grim_vertex_write_ptr = fStack_18;
    grim_vertex_write_ptr[1] = fStack_14;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = DAT_1005bc08;
    grim_vertex_write_ptr[5] = grim_uv_u1;
    grim_vertex_write_ptr[6] = grim_uv_v1;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    *grim_vertex_write_ptr = fStack_10;
    grim_vertex_write_ptr[1] = fStack_c;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = DAT_1005bc0c;
    grim_vertex_write_ptr[5] = DAT_1005b2a0;
    grim_vertex_write_ptr[6] = DAT_1005b2a4;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    *grim_vertex_write_ptr = fStack_8;
    grim_vertex_write_ptr[1] = fStack_4;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = grim_color_slot3;
    grim_vertex_write_ptr[5] = DAT_1005b2a8;
    grim_vertex_write_ptr[6] = DAT_1005b2ac;
    grim_vertex_count._0_2_ = (ushort)grim_vertex_count + 4;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    if (grim_vertex_capacity <= (ushort)grim_vertex_count) {
      (**(code **)(*in_ECX + 0xec))();
    }
  }
  return;
}



/* grim_draw_quad @ 10008b10 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x11c (provisional) */

void grim_draw_quad(float x,float y,float w,float h)

{
  float fVar1;
  float fVar2;
  float fVar3;
  int *in_ECX;
  float fStack_28;
  float fStack_24;
  float fStack_20;
  float fStack_1c;
  float fStack_18;
  float fStack_14;
  float fStack_10;
  
  if ((grim_render_disabled == '\0') && (DAT_1005c898 != '\0')) {
    if (grim_batch_active == '\0') {
      (**(code **)(*in_ECX + 0xe8))();
    }
    if (_grim_rotation_radians == 0.0) {
      fStack_20 = x + w;
      fStack_28 = x;
      fStack_24 = y;
      fStack_1c = y;
      fVar1 = y + h;
      fStack_10 = x;
      fStack_18 = fStack_20;
      fStack_14 = fVar1;
    }
    else {
      fStack_10 = w * 0.5 + x;
      fVar1 = h * 0.5 + y;
      fVar2 = h * h + w * w;
      fVar3 = (float)(0x5f3759df - ((int)fVar2 >> 1));
      fVar2 = (1.5 - fVar2 * 0.5 * fVar3 * fVar3) * fVar3 * fVar2 * 0.5;
      fVar3 = grim_rotation_cos * fVar2;
      fVar2 = fVar2 * DAT_10059f40;
      fStack_28 = fStack_10 - fVar3;
      fStack_24 = fVar1 - fVar2;
      fStack_20 = fStack_10 + fVar2;
      fStack_1c = -fVar3 + fVar1;
      fStack_18 = fStack_10 + fVar3;
      fStack_14 = fVar1 + fVar2;
      fStack_10 = -fVar2 + fStack_10;
      fVar1 = fVar1 + fVar3;
    }
    *grim_vertex_write_ptr = fStack_28;
    grim_vertex_write_ptr[1] = fStack_24;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = grim_color_slot0;
    grim_vertex_write_ptr[5] = grim_uv_u0;
    grim_vertex_write_ptr[6] = grim_uv_v0;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    *grim_vertex_write_ptr = fStack_20;
    grim_vertex_write_ptr[1] = fStack_1c;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = DAT_1005bc08;
    grim_vertex_write_ptr[5] = grim_uv_u1;
    grim_vertex_write_ptr[6] = grim_uv_v1;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    *grim_vertex_write_ptr = fStack_18;
    grim_vertex_write_ptr[1] = fStack_14;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = DAT_1005bc0c;
    grim_vertex_write_ptr[5] = DAT_1005b2a0;
    grim_vertex_write_ptr[6] = DAT_1005b2a4;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    *grim_vertex_write_ptr = fStack_10;
    grim_vertex_write_ptr[1] = fVar1;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = grim_color_slot3;
    grim_vertex_write_ptr[5] = DAT_1005b2a8;
    grim_vertex_write_ptr[6] = DAT_1005b2ac;
    grim_vertex_count._0_2_ = (ushort)grim_vertex_count + 4;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    if (grim_vertex_capacity <= (ushort)grim_vertex_count) {
      (**(code **)(*in_ECX + 0xec))();
    }
  }
  return;
}



/* grim_submit_vertex_raw @ 10008e30 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xf4: push 1 raw vertex (7 floats) */

void grim_submit_vertex_raw(float *vertex)

{
  int *in_ECX;
  int iVar1;
  float *pfVar2;
  
  if ((grim_render_disabled == '\0') && (DAT_1005c898 != '\0')) {
    if (grim_batch_active == '\0') {
      (**(code **)(*in_ECX + 0xe8))();
    }
    pfVar2 = grim_vertex_write_ptr;
    for (iVar1 = 7; iVar1 != 0; iVar1 = iVar1 + -1) {
      *pfVar2 = *vertex;
      vertex = vertex + 1;
      pfVar2 = pfVar2 + 1;
    }
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    grim_vertex_count._0_2_ = (ushort)grim_vertex_count + 1;
    if (grim_vertex_capacity <= (ushort)grim_vertex_count) {
      (**(code **)(*in_ECX + 0xec))();
    }
  }
  return;
}



/* grim_submit_quad_raw @ 10008eb0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0xf8: push 4 raw vertices (28 floats) */

void grim_submit_quad_raw(float *verts)

{
  int *in_ECX;
  int iVar1;
  float *pfVar2;
  
  if (grim_render_disabled == '\0') {
    pfVar2 = grim_vertex_write_ptr;
    for (iVar1 = 0x1c; iVar1 != 0; iVar1 = iVar1 + -1) {
      *pfVar2 = *verts;
      verts = verts + 1;
      pfVar2 = pfVar2 + 1;
    }
    grim_vertex_count._0_2_ = (ushort)grim_vertex_count + 4;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 0x1c;
    if (grim_vertex_capacity <= (ushort)grim_vertex_count) {
      (**(code **)(*in_ECX + 0xec))();
    }
  }
  return;
}



/* grim_draw_rect_outline @ 10008f10 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0xd4: UI panel outline/frame (4 edge quads) */

void grim_draw_rect_outline(float *xy,float w,float h)

{
  int *in_ECX;
  int iVar1;
  float *unaff_retaddr;
  float fVar2;
  float fVar3;
  undefined4 uVar4;
  
  (*grim_d3d_device->lpVtbl->SetTexture)(grim_d3d_device,0,(IDirect3DBaseTexture8 *)0x0);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,3);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,3);
  uVar4 = 0;
  (**(code **)(*in_ECX + 0xfc))(0);
  (**(code **)(*in_ECX + 0xe8))();
  if (w == 1.0) {
    iVar1 = *in_ECX;
    w = 1.0;
  }
  else {
    if ((float)xy != 1.0) {
      fVar3 = unaff_retaddr[1];
      (**(code **)(*in_ECX + 0x11c))(*unaff_retaddr,fVar3,xy,0x3f800000);
      fVar2 = unaff_retaddr[1];
      (**(code **)(*in_ECX + 0x11c))(*unaff_retaddr,fVar2,0x3f800000,uVar4);
      (**(code **)(*in_ECX + 0x11c))
                (*unaff_retaddr,(float)xy + unaff_retaddr[1],fVar3 + 1.0,0x3f800000);
      (**(code **)(*in_ECX + 0x11c))(fVar2 + *unaff_retaddr,unaff_retaddr[1],0x3f800000,uVar4);
      goto LAB_1000903e;
    }
    iVar1 = *in_ECX;
    xy = (float *)0x3f800000;
  }
  (**(code **)(iVar1 + 0x11c))(*unaff_retaddr,unaff_retaddr[1],xy,w);
LAB_1000903e:
  (**(code **)(*in_ECX + 0xf0))();
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_COLOROP,4);
  (*grim_d3d_device->lpVtbl->SetTextureStageState)(grim_d3d_device,0,D3DTSS_ALPHAOP,4);
  return;
}



/* grim_draw_quad_points @ 10009080 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x138 (provisional): push quad using 4 points */

void grim_draw_quad_points(float x0,float y0,float x1,float y1,float x2,float y2,float x3,float y3)

{
  int *in_ECX;
  
  if ((grim_render_disabled == '\0') && (DAT_1005c898 != '\0')) {
    if (grim_batch_active == '\0') {
      (**(code **)(*in_ECX + 0xe8))();
    }
    *grim_vertex_write_ptr = x0;
    grim_vertex_write_ptr[1] = y0;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = grim_color_slot0;
    grim_vertex_write_ptr[5] = grim_uv_u0;
    grim_vertex_write_ptr[6] = grim_uv_v0;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    *grim_vertex_write_ptr = x1;
    grim_vertex_write_ptr[1] = y1;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = DAT_1005bc08;
    grim_vertex_write_ptr[5] = grim_uv_u1;
    grim_vertex_write_ptr[6] = grim_uv_v1;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    *grim_vertex_write_ptr = x2;
    grim_vertex_write_ptr[1] = y2;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = DAT_1005bc0c;
    grim_vertex_write_ptr[5] = DAT_1005b2a0;
    grim_vertex_write_ptr[6] = DAT_1005b2a4;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    *grim_vertex_write_ptr = x3;
    grim_vertex_write_ptr[1] = y3;
    grim_vertex_write_ptr[2] = DAT_1005b288;
    grim_vertex_write_ptr[3] = DAT_1005b28c;
    grim_vertex_write_ptr[4] = grim_color_slot3;
    grim_vertex_write_ptr[5] = DAT_1005b2a8;
    grim_vertex_write_ptr[6] = DAT_1005b2ac;
    grim_vertex_count._0_2_ = (ushort)grim_vertex_count + 4;
    grim_vertex_write_ptr = grim_vertex_write_ptr + 7;
    if (grim_vertex_capacity <= (ushort)grim_vertex_count) {
      (**(code **)(*in_ECX + 0xec))();
    }
  }
  return;
}



/* grim_draw_text_mono @ 100092b0 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* Grim2D vtable 0x13c: fixed 16px mono text */

void grim_draw_text_mono(float x,float y,char *text)

{
  char cVar1;
  float fVar2;
  float fVar3;
  bool bVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  int iVar9;
  int *in_ECX;
  uint uVar10;
  float fVar11;
  char *pcVar12;
  float unaff_retaddr;
  float fVar13;
  float fVar14;
  float fStack_5c;
  int iStack_58;
  float fStack_44;
  
  if ((grim_render_disabled == '\0') && (text != (char *)0x0)) {
    if (grim_font_texture_bound == '\0') {
      (*grim_d3d_device->lpVtbl->SetTexture)(grim_d3d_device,0,grim_font_texture);
    }
    fStack_44 = y;
    fVar14 = 0.0;
    (**(code **)(*in_ECX + 0xfc))(0);
    (**(code **)(*in_ECX + 0xe8))();
    fVar2 = fStack_5c * 32.0;
    uVar10 = 0xffffffff;
    pcVar12 = text;
    do {
      if (uVar10 == 0) break;
      uVar10 = uVar10 - 1;
      cVar1 = *pcVar12;
      pcVar12 = pcVar12 + 1;
    } while (cVar1 != '\0');
    fVar3 = fStack_5c * 16.0;
    bVar4 = false;
    iStack_58 = 0;
    if (0 < (int)(~uVar10 - 1)) {
      do {
        fVar7 = DAT_1005b644;
        fVar6 = DAT_1005b640;
        fVar13 = DAT_1005b5d4;
        fVar5 = DAT_1005b5d0;
        cVar1 = text[iStack_58];
        fVar11 = unaff_retaddr;
        fVar8 = unaff_retaddr;
        if (cVar1 != '\n') {
          if (cVar1 == -0x59) {
            bVar4 = true;
            fVar11 = x;
            fVar8 = fStack_44;
          }
          else {
            if (cVar1 == -0x1b) {
              fStack_44 = fStack_44 + fVar3;
              (**(code **)(*in_ECX + 0x100))
                        (DAT_1005b5d0,DAT_1005b5d4,DAT_1005b5d0 + 0.0625,DAT_1005b5d4 + 0.0625);
              (**(code **)(*in_ECX + 0x11c))(fVar5,fVar13 + 1.0,fVar2,fVar2);
              fVar14 = DAT_1005b43c;
              (**(code **)(*in_ECX + 0x100))
                        (DAT_1005b438,DAT_1005b43c,DAT_1005b438 + 0.0625,DAT_1005b43c + 0.0625);
              iVar9 = *in_ECX;
              fVar13 = fVar14 - 6.0;
              x = fVar5;
            }
            else if (cVar1 == -0x1c) {
              (**(code **)(*in_ECX + 0x100))
                        (DAT_1005b5d0,DAT_1005b5d4,DAT_1005b5d0 + 0.0625,DAT_1005b5d4 + 0.0625);
              (**(code **)(*in_ECX + 0x11c))(fVar5,fVar13 + 1.0,fVar2,fVar2);
              fStack_44 = DAT_1005b3d8 + 0.0625;
              fVar13 = DAT_1005b3dc;
              (**(code **)(*in_ECX + 0x100))
                        (DAT_1005b3d8,DAT_1005b3dc,fStack_44,DAT_1005b3dc + 0.0625);
              iVar9 = *in_ECX;
              x = fVar5;
              fVar14 = fVar13;
            }
            else if (cVar1 == -10) {
              fStack_44 = fStack_44 + fVar3;
              (**(code **)(*in_ECX + 0x100))
                        (DAT_1005b640,DAT_1005b644,DAT_1005b640 + 0.0625,DAT_1005b644 + 0.0625);
              (**(code **)(*in_ECX + 0x11c))(fVar6,fVar7 + 1.0,fVar2,fVar2);
              fVar13 = DAT_1005b3dc;
              (**(code **)(*in_ECX + 0x100))
                        (DAT_1005b3d8,DAT_1005b3dc,DAT_1005b3d8 + 0.0625,DAT_1005b3dc + 0.0625);
              iVar9 = *in_ECX;
              x = fVar6;
              fVar14 = fVar13;
            }
            else {
              if (bVar4) {
                bVar4 = false;
              }
              else {
                x = fStack_44 + fVar3;
                fStack_44 = x;
              }
              (**(code **)(*in_ECX + 0x100))
                        ((&grim_font2_uv_u)[cVar1 * 2],(&grim_font2_uv_v)[cVar1 * 2],
                         (float)(&grim_font2_uv_u)[cVar1 * 2] + 0.0625,
                         (float)(&grim_font2_uv_v)[cVar1 * 2] + 0.0625);
              iVar9 = *in_ECX;
              fVar13 = fVar14 + 1.0;
            }
            (**(code **)(iVar9 + 0x11c))(x,fVar13,fVar2,fVar2);
            fVar11 = x;
            fVar8 = fStack_44;
          }
        }
        fStack_44 = fVar8;
        iStack_58 = iStack_58 + 1;
        text = (char *)y;
        x = fVar11;
      } while (iStack_58 < (int)(~uVar10 - 1));
    }
    (**(code **)(*in_ECX + 0xf0))();
  }
  return;
}



/* grim_measure_text_width @ 100096c0 */

/* Grim2D vtable 0x14c: small font width metric (handles newlines) */

int grim_measure_text_width(char *text)

{
  char cVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  char *pcVar5;
  int iVar6;
  
  if (text == (char *)0x0) {
    return 0;
  }
  uVar3 = 0xffffffff;
  iVar2 = 0;
  iVar4 = 0;
  pcVar5 = text;
  do {
    if (uVar3 == 0) break;
    uVar3 = uVar3 - 1;
    cVar1 = *pcVar5;
    pcVar5 = pcVar5 + 1;
  } while (cVar1 != '\0');
  iVar6 = 0;
  if (0 < (int)(~uVar3 - 1)) {
    do {
      if (text[iVar6] == 10) {
        if (iVar2 < iVar4) {
          iVar2 = iVar4;
        }
        iVar4 = 0;
      }
      else {
        iVar4 = iVar4 + (uint)*(byte *)((int)&grim_font2_glyph_widths +
                                       (uint)(byte)(&grim_font2_char_map)[(byte)text[iVar6]]);
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < (int)(~uVar3 - 1));
    if (iVar2 < iVar4) {
      iVar2 = iVar4;
    }
  }
  return iVar2;
}



/* grim_draw_text_small @ 10009730 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x144: small font draw (GRIM_Font2) */

void grim_draw_text_small(float x,float y,char *text)

{
  char cVar1;
  int *in_ECX;
  uint uVar2;
  uint uVar3;
  char *pcVar4;
  int iVar5;
  undefined4 unaff_retaddr;
  undefined4 uVar6;
  int iVar7;
  undefined4 uStack_14;
  
  if ((grim_render_disabled == '\0') && (text != (char *)0x0)) {
    ftol();
    ftol();
    if ((grim_font2_texture_handle != -1) ||
       (grim_font2_texture_handle = (**(code **)(*in_ECX + 0xc0))(s_GRIM_Font2_10053c3c),
       grim_font2_texture_handle != -1)) {
      iVar7 = grim_font2_texture_handle;
      (**(code **)(*in_ECX + 0xc4))(grim_font2_texture_handle,0);
      if (DAT_1005ccd8 != 1) {
        (**(code **)(*in_ECX + 0x20))(0x15,1);
      }
      uVar6 = 0;
      (**(code **)(*in_ECX + 0xfc))(0);
      (**(code **)(*in_ECX + 0xe8))();
      uVar2 = 0xffffffff;
      pcVar4 = text;
      do {
        if (uVar2 == 0) break;
        uVar2 = uVar2 - 1;
        cVar1 = *pcVar4;
        pcVar4 = pcVar4 + 1;
      } while (cVar1 != '\0');
      iVar5 = 0;
      if (0 < (int)(~uVar2 - 1)) {
        do {
          uVar3 = (uint)(byte)(&grim_font2_char_map)[(byte)text[iVar5]];
          if (text[iVar5] != 10) {
            (**(code **)(*in_ECX + 0x100))
                      ((float)(&grim_font2_uv_u)[uVar3 * 2] + 0.001953125,
                       (float)(&grim_font2_uv_v)[uVar3 * 2] + 0.001953125,
                       ((float)*(byte *)((int)&grim_font2_glyph_widths + uVar3) * 0.00390625 +
                       (float)(&grim_font2_uv_u)[uVar3 * 2] + 0.001953125) - 0.001953125,
                       ((float)(&grim_font2_uv_v)[uVar3 * 2] + 0.001953125 + 0.0625) - 0.001953125);
            (**(code **)(*in_ECX + 0x11c))(uVar6,iVar7,uStack_14,0x41800000);
          }
          iVar5 = iVar5 + 1;
        } while (iVar5 < (int)(~uVar2 - 1));
      }
      (**(code **)(*in_ECX + 0xf0))();
      (**(code **)(*in_ECX + 0x20))(0x15,unaff_retaddr);
    }
  }
  return;
}



/* grim_draw_text_mono_fmt @ 10009940 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x140: printf-style wrapper around draw_text_mono (cdecl varargs, explicit self) */

void grim_draw_text_mono_fmt(IGrim2D *self,float x,float y,char *fmt,...)

{
  vsprintf(&grim_printf_buffer,fmt,&stack0x00000014);
  (*self->vtable->grim_draw_text_mono)(x,y,&grim_printf_buffer);
  return;
}



/* grim_draw_text_small_fmt @ 10009980 */

/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* Grim2D vtable 0x148: formatted small-font text (cdecl varargs, explicit self; vsprintf + vtable
   0x144) */

void grim_draw_text_small_fmt(IGrim2D *self,float x,float y,char *fmt,...)

{
  vsprintf(&grim_printf_buffer_alt,fmt,&stack0x00000014);
  (*self->vtable->grim_draw_text_small)(x,y,&grim_printf_buffer_alt);
  return;
}



/* GRIM__GetInterface @ 100099c0 */

/* WARNING: Enum "_D3DFORMAT": Some values do not have unique names */
/* export: constructs (singleton) Grim2D interface instance backed by grim_interface_vtable */

IGrim2D * GRIM__GetInterface(void)

{
                    /* 0x99c0  1  GRIM__GetInterface */
  grim_d3d8_probe = Direct3DCreate8(0xdc);
  if (grim_d3d8_probe == (IDirect3D8 *)0x0) {
    grim_error_text = s_D3D__Could_not_init_DirectX_8_1__10053a60;
    MessageBoxA((HWND)0x0,s_D3D__Could_not_init_DirectX_8_1__10053a60,&DAT_10053824,0);
    return (IGrim2D *)0x0;
  }
  (*grim_d3d8_probe->lpVtbl->Release)(grim_d3d8_probe);
  FUN_100052f0();
  grim_interface_instance = operator_new(4);
  if (grim_interface_instance != (IGrim2D *)0x0) {
    grim_interface_instance->vtable = &grim_interface_vtable;
    return grim_interface_instance;
  }
  grim_interface_instance = (IGrim2D *)0x0;
  return (IGrim2D *)0x0;
}



/* DllMain @ 10009a20 */

/* DLL entrypoint (process attach): caches module handle and loads dialog icon */

BOOL DllMain(HINSTANCE hinstDLL,DWORD fdwReason,LPVOID lpvReserved)

{
  if (fdwReason == 1) {
    grim_module_handle = hinstDLL;
    DAT_10059778 = LoadIconA((HINSTANCE)hinstDLL,(LPCSTR)0x72);
  }
  return 1;
}



/* FUN_10009a50 @ 10009a50 */

void __cdecl FUN_10009a50(int *param_1,int param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  
  param_1[1] = 0;
  if (param_2 != 0x3d) {
    *(undefined4 *)(*param_1 + 0x14) = 10;
    *(undefined4 *)(*param_1 + 0x18) = 0x3d;
    *(int *)(*param_1 + 0x1c) = param_2;
    (**(code **)*param_1)(param_1);
  }
  if (param_3 != 0x1a8) {
    *(undefined4 *)(*param_1 + 0x14) = 0x13;
    *(undefined4 *)(*param_1 + 0x18) = 0x1a8;
    *(int *)(*param_1 + 0x1c) = param_3;
    (**(code **)*param_1)(param_1);
  }
  iVar3 = *param_1;
  piVar1 = param_1;
  for (iVar2 = 0x6a; iVar2 != 0; iVar2 = iVar2 + -1) {
    *piVar1 = 0;
    piVar1 = piVar1 + 1;
  }
  *param_1 = iVar3;
  *(undefined1 *)(param_1 + 3) = 1;
  FUN_1003d0d0((int)param_1);
  param_1[2] = 0;
  param_1[5] = 0;
  param_1[0x24] = 0;
  iVar3 = 4;
  param_1[0x25] = 0;
  param_1[0x26] = 0;
  param_1[0x27] = 0;
  piVar1 = param_1 + 0x2c;
  do {
    piVar1[-4] = 0;
    *piVar1 = 0;
    piVar1 = piVar1 + 1;
    iVar3 = iVar3 + -1;
  } while (iVar3 != 0);
  FUN_1003b770((int)param_1);
  FUN_1003acd0((int)param_1);
  param_1[4] = 200;
  return;
}



/* FUN_10009b20 @ 10009b20 */

void __cdecl FUN_10009b20(int param_1)

{
  FUN_1003dd30(param_1);
  return;
}



/* FUN_10009b30 @ 10009b30 */

int __cdecl FUN_10009b30(int *param_1,char param_2)

{
  int iVar1;
  
  if ((param_1[4] != 200) && (param_1[4] != 0xc9)) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  iVar1 = FUN_10009ba0(param_1);
  if (iVar1 == 1) {
    iVar1 = 1;
  }
  else if (iVar1 == 2) {
    if (param_2 != '\0') {
      *(undefined4 *)(*param_1 + 0x14) = 0x32;
      (**(code **)*param_1)(param_1);
    }
    FUN_1003dd00((int)param_1);
    return 2;
  }
  return iVar1;
}



/* FUN_10009ba0 @ 10009ba0 */

int __cdecl FUN_10009ba0(int *param_1)

{
  int iVar1;
  
  iVar1 = 0;
  switch(param_1[4]) {
  case 200:
    (**(code **)(param_1[99] + 4))(param_1);
    (**(code **)(param_1[5] + 8))(param_1);
    param_1[4] = 0xc9;
  case 0xc9:
    iVar1 = (**(code **)param_1[99])(param_1);
    if (iVar1 == 1) {
      FUN_10009c60(param_1);
      param_1[4] = 0xca;
      return 1;
    }
    break;
  case 0xca:
    return 1;
  case 0xcb:
  case 0xcc:
  case 0xcd:
  case 0xce:
  case 0xcf:
  case 0xd0:
  case 0xd2:
    iVar1 = (**(code **)param_1[99])(param_1);
    return iVar1;
  default:
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  return iVar1;
}



/* FUN_10009c60 @ 10009c60 */

void __cdecl FUN_10009c60(int *param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar1 = param_1[8];
  if (iVar1 == 1) {
    param_1[9] = 1;
    param_1[10] = 1;
    goto LAB_10009daf;
  }
  if (iVar1 != 3) {
    if (iVar1 == 4) {
      if ((*(char *)((int)param_1 + 0x106) == '\0') || (*(char *)((int)param_1 + 0x107) == '\0')) {
        param_1[9] = 4;
        param_1[10] = 4;
      }
      else {
        if (*(char *)((int)param_1 + 0x107) != '\x02') {
          *(undefined4 *)(*param_1 + 0x14) = 0x6e;
          *(uint *)(*param_1 + 0x18) = (uint)*(byte *)((int)param_1 + 0x107);
          (**(code **)(*param_1 + 4))(param_1,0xffffffff);
        }
        param_1[9] = 5;
        param_1[10] = 4;
      }
    }
    else {
      param_1[9] = 0;
      param_1[10] = 0;
    }
    goto LAB_10009daf;
  }
  if ((char)param_1[0x40] == '\0') {
    if (*(char *)((int)param_1 + 0x106) == '\0') {
      piVar2 = (int *)param_1[0x31];
      iVar1 = *piVar2;
      iVar3 = piVar2[0x15];
      iVar4 = piVar2[0x2a];
      if (iVar1 == 1) {
        if ((iVar3 == 2) && (iVar4 == 3)) {
          param_1[9] = 3;
          param_1[10] = 2;
          goto LAB_10009daf;
        }
      }
      else if (((iVar1 == 0x52) && (iVar3 == 0x47)) && (iVar4 == 0x42)) goto LAB_10009d62;
      iVar5 = *param_1;
      *(int *)(iVar5 + 0x18) = iVar1;
      *(int *)(iVar5 + 0x1c) = iVar3;
      *(int *)(iVar5 + 0x20) = iVar4;
      *(undefined4 *)(*param_1 + 0x14) = 0x6b;
      (**(code **)(*param_1 + 4))(param_1,1);
    }
    else {
      if (*(char *)((int)param_1 + 0x107) == '\0') {
LAB_10009d62:
        param_1[9] = 2;
        param_1[10] = 2;
        goto LAB_10009daf;
      }
      if (*(char *)((int)param_1 + 0x107) != '\x01') {
        *(undefined4 *)(*param_1 + 0x14) = 0x6e;
        *(uint *)(*param_1 + 0x18) = (uint)*(byte *)((int)param_1 + 0x107);
        (**(code **)(*param_1 + 4))(param_1,0xffffffff);
      }
    }
  }
  param_1[9] = 3;
  param_1[10] = 2;
LAB_10009daf:
  param_1[0xe] = 0;
  param_1[0xb] = 1;
  param_1[0xc] = 1;
  param_1[0xf] = 0x3ff00000;
  *(undefined1 *)(param_1 + 0x10) = 0;
  *(undefined1 *)((int)param_1 + 0x41) = 0;
  param_1[0x11] = 0;
  *(undefined1 *)(param_1 + 0x12) = 1;
  *(undefined1 *)((int)param_1 + 0x49) = 1;
  *(undefined1 *)((int)param_1 + 0x4a) = 0;
  param_1[0x13] = 2;
  *(undefined1 *)(param_1 + 0x14) = 1;
  param_1[0x15] = 0x100;
  param_1[0x1d] = 0;
  *(undefined1 *)(param_1 + 0x16) = 0;
  *(undefined1 *)((int)param_1 + 0x59) = 0;
  *(undefined1 *)((int)param_1 + 0x5a) = 0;
  return;
}



/* FUN_10009e00 @ 10009e00 */

undefined4 __cdecl FUN_10009e00(int *param_1)

{
  char cVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  
  iVar3 = param_1[4];
  if (((iVar3 == 0xcd) || (iVar3 == 0xce)) && ((char)param_1[0x10] == '\0')) {
    if ((uint)param_1[0x1e] < (uint)param_1[0x18]) {
      *(undefined4 *)(*param_1 + 0x14) = 0x42;
      (**(code **)*param_1)(param_1);
    }
    (**(code **)(param_1[0x5f] + 4))(param_1);
    param_1[4] = 0xd2;
  }
  else if (iVar3 == 0xcf) {
    param_1[4] = 0xd2;
  }
  else if (iVar3 != 0xd2) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  puVar2 = (undefined4 *)param_1[99];
  cVar1 = *(char *)((int)puVar2 + 0x11);
  while( true ) {
    if (cVar1 != '\0') {
      (**(code **)(param_1[5] + 0x18))(param_1);
      uVar4 = FUN_1003dd00((int)param_1);
      return CONCAT31((int3)((uint)uVar4 >> 8),1);
    }
    iVar3 = (*(code *)*puVar2)(param_1);
    if (iVar3 == 0) break;
    puVar2 = (undefined4 *)param_1[99];
    cVar1 = *(char *)((int)puVar2 + 0x11);
  }
  return 0;
}



/* FUN_10009ec0 @ 10009ec0 */

uint __cdecl FUN_10009ec0(int *param_1)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  
  if (param_1[4] == 0xca) {
    uVar2 = FUN_1003e040(param_1);
    if ((char)param_1[0x10] != '\0') {
      param_1[4] = 0xcf;
      return CONCAT31((int3)((uint)uVar2 >> 8),1);
    }
    param_1[4] = 0xcb;
  }
  if (param_1[4] == 0xcb) {
    if (*(char *)(param_1[99] + 0x10) != '\0') {
      while( true ) {
        if ((undefined4 *)param_1[2] != (undefined4 *)0x0) {
          (**(code **)param_1[2])(param_1);
        }
        iVar3 = (**(code **)param_1[99])(param_1);
        if (iVar3 == 0) {
          return 0;
        }
        if (iVar3 == 2) break;
        iVar1 = param_1[2];
        if ((iVar1 != 0) && ((iVar3 == 3 || (iVar3 == 1)))) {
          *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + 1;
          iVar3 = param_1[2];
          if (*(int *)(iVar3 + 8) <= *(int *)(iVar3 + 4)) {
            *(int *)(iVar3 + 8) = param_1[0x46] + *(int *)(iVar3 + 8);
          }
        }
      }
    }
    param_1[0x21] = param_1[0x1f];
    uVar4 = FUN_10009fa0((int)param_1);
    return uVar4;
  }
  if (param_1[4] != 0xcc) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  uVar4 = FUN_10009fa0((int)param_1);
  return uVar4;
}



/* FUN_10009fa0 @ 10009fa0 */

uint __cdecl FUN_10009fa0(int param_1)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  
  if (*(int *)(param_1 + 0x10) != 0xcc) {
    (*(code *)**(undefined4 **)(param_1 + 0x17c))(param_1);
    *(undefined4 *)(param_1 + 0x78) = 0;
    *(undefined4 *)(param_1 + 0x10) = 0xcc;
  }
  if (*(char *)(*(int *)(param_1 + 0x17c) + 8) != '\0') {
    puVar1 = (uint *)(param_1 + 0x78);
    do {
      uVar3 = *puVar1;
      if (uVar3 < *(uint *)(param_1 + 0x60)) {
        do {
          if (*(int *)(param_1 + 8) != 0) {
            *(uint *)(*(int *)(param_1 + 8) + 4) = uVar3;
            *(undefined4 *)(*(int *)(param_1 + 8) + 8) = *(undefined4 *)(param_1 + 0x60);
            (*(code *)**(undefined4 **)(param_1 + 8))(param_1);
          }
          uVar2 = *puVar1;
          (**(code **)(*(int *)(param_1 + 0x180) + 4))(param_1,0,puVar1,0);
          uVar3 = *puVar1;
          if (uVar3 == uVar2) {
            return uVar3 & 0xffffff00;
          }
        } while (uVar3 < *(uint *)(param_1 + 0x60));
      }
      (**(code **)(*(int *)(param_1 + 0x17c) + 4))(param_1);
      (*(code *)**(undefined4 **)(param_1 + 0x17c))(param_1);
      *puVar1 = 0;
    } while (*(char *)(*(int *)(param_1 + 0x17c) + 8) != '\0');
  }
  iVar4 = (*(char *)(param_1 + 0x41) != '\0') + 0xcd;
  *(int *)(param_1 + 0x10) = iVar4;
  return CONCAT31((int3)((uint)iVar4 >> 8),1);
}



/* FUN_1000a070 @ 1000a070 */

int __cdecl FUN_1000a070(int *param_1,undefined4 param_2,undefined4 param_3)

{
  int *piVar1;
  
  piVar1 = param_1;
  if (param_1[4] != 0xcd) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  if ((uint)piVar1[0x18] <= (uint)piVar1[0x1e]) {
    *(undefined4 *)(*piVar1 + 0x14) = 0x77;
    (**(code **)(*piVar1 + 4))(piVar1,0xffffffff);
    return 0;
  }
  if (piVar1[2] != 0) {
    *(int *)(piVar1[2] + 4) = piVar1[0x1e];
    *(int *)(piVar1[2] + 8) = piVar1[0x18];
    (**(code **)piVar1[2])(piVar1);
  }
  param_1 = (int *)0x0;
  (**(code **)(piVar1[0x60] + 4))(piVar1,param_2,&param_1,param_3);
  piVar1[0x1e] = piVar1[0x1e] + (int)param_1;
  return (int)param_1;
}



/* grim_joystick_init @ 1000a1c0 */

/* initializes DirectInput joystick device and acquires it */

int __cdecl grim_joystick_init(int hwnd)

{
  HWND pHVar1;
  HMODULE pHVar2;
  uint uVar3;
  HRESULT HVar4;
  uint3 uVar6;
  int iVar5;
  DWORD DVar7;
  REFIID pIVar8;
  LPDIRECTINPUT8A *ppIVar9;
  LPDIRECTINPUT8A pIVar10;
  
  if ((hwnd == 0) && (pHVar1 = GetForegroundWindow(), pHVar1 == (HWND)0x0)) {
    GetDesktopWindow();
  }
  if (grim_dinput_joystick == (LPDIRECTINPUT8A)0x0) {
    ppIVar9 = &grim_dinput_joystick;
    pIVar8 = (REFIID)&DAT_1005034c;
    DVar7 = 0x800;
    pIVar10 = grim_dinput_joystick;
    pHVar2 = GetModuleHandleA((LPCSTR)0x0);
    uVar3 = DirectInput8Create(pHVar2,DVar7,pIVar8,ppIVar9,(LPUNKNOWN)pIVar10);
    if ((int)uVar3 < 0) {
      grim_dinput_joystick = (LPDIRECTINPUT8A)0x0;
      return uVar3 & 0xffffff00;
    }
  }
  if (grim_joystick_device == (LPDIRECTINPUTDEVICE8A)0x0) {
    HVar4 = (*grim_dinput_joystick->lpVtbl->EnumDevices)
                      (grim_dinput_joystick,4,(LPDIENUMDEVICESCALLBACKA)&LAB_1000a110,(LPVOID)0x0,1)
    ;
    uVar6 = (uint3)((uint)HVar4 >> 8);
    if (HVar4 < 0) {
      return (uint)uVar6 << 8;
    }
    if (DAT_1005d948 == '\0') {
      return (uint)uVar6 << 8;
    }
    uVar3 = (*grim_joystick_device->lpVtbl->SetDataFormat)
                      (grim_joystick_device,(LPCDIDATAFORMAT)&DAT_1004fe74);
    if ((int)uVar3 < 0) {
      return uVar3 & 0xffffff00;
    }
    uVar3 = (*grim_joystick_device->lpVtbl->SetCooperativeLevel)(grim_joystick_device,(HWND)hwnd,5);
    if ((int)uVar3 < 0) {
      return uVar3 & 0xffffff00;
    }
    uVar3 = (*grim_joystick_device->lpVtbl->EnumObjects)
                      (grim_joystick_device,(LPDIENUMDEVICEOBJECTSCALLBACKA)&LAB_1000a150,
                       (LPVOID)hwnd,0);
    if ((int)uVar3 < 0) {
      return uVar3 & 0xffffff00;
    }
    if (grim_joystick_device != (LPDIRECTINPUTDEVICE8A)0x0) {
      (*grim_joystick_device->lpVtbl->Acquire)(grim_joystick_device);
    }
  }
  iVar5 = grim_joystick_poll();
  return CONCAT31((int3)((uint)iVar5 >> 8),1);
}



/* grim_joystick_poll @ 1000a2b0 */

/* polls the joystick device and updates cached state */

int grim_joystick_poll(void)

{
  HRESULT HVar1;
  uint uVar2;
  
  uVar2 = 0;
  if ((grim_dinput_joystick != (LPDIRECTINPUT8A)0x0) &&
     (uVar2 = 0, grim_joystick_device != (LPDIRECTINPUTDEVICE8A)0x0)) {
    HVar1 = (*grim_joystick_device->lpVtbl->Poll)(grim_joystick_device);
    if (-1 < HVar1) {
      HVar1 = (*grim_joystick_device->lpVtbl->GetDeviceState)
                        (grim_joystick_device,0x110,&grim_joystick_state);
      return CONCAT31((int3)((uint)HVar1 >> 8),-1 < HVar1);
    }
    uVar2 = (*grim_joystick_device->lpVtbl->Acquire)(grim_joystick_device);
    while (uVar2 == 0x8007001e) {
      uVar2 = (*grim_joystick_device->lpVtbl->Acquire)(grim_joystick_device);
    }
  }
  return uVar2 & 0xffffff00;
}



/* FUN_1000a310 @ 1000a310 */

byte __cdecl FUN_1000a310(uint param_1)

{
  return grim_joystick_state.rgbButtons[param_1 & 0xff] >> 7;
}



/* FUN_1000a330 @ 1000a330 */

void FUN_1000a330(void)

{
  if (grim_joystick_device != (LPDIRECTINPUTDEVICE8A)0x0) {
    (*grim_joystick_device->lpVtbl->Unacquire)(grim_joystick_device);
    (*grim_joystick_device->lpVtbl->Release)(grim_joystick_device);
    grim_joystick_device = (LPDIRECTINPUTDEVICE8A)0x0;
  }
  if (grim_dinput_joystick != (LPDIRECTINPUT8A)0x0) {
    (*grim_dinput_joystick->lpVtbl->Release)(grim_dinput_joystick);
    grim_dinput_joystick = (LPDIRECTINPUT8A)0x0;
  }
  return;
}



/* grim_keyboard_key_down @ 1000a370 */

/* reads the cached key state array */

int __cdecl grim_keyboard_key_down(uint key)

{
  return (uint)(*(byte *)((int)&grim_keyboard_state + (key & 0xff)) >> 7);
}



/* grim_keyboard_init @ 1000a390 */

/* initializes DirectInput keyboard device and acquires it */

int __cdecl grim_keyboard_init(int hwnd)

{
  HWND pHVar1;
  HMODULE pHVar2;
  uint uVar3;
  int iVar4;
  DWORD DVar5;
  REFIID pIVar6;
  LPDIRECTINPUT8A *ppIVar7;
  LPDIRECTINPUT8A pIVar8;
  DIPROPHEADER DStack_14;
  undefined4 uStack_4;
  
  if ((hwnd == 0) && (pHVar1 = GetForegroundWindow(), pHVar1 == (HWND)0x0)) {
    GetDesktopWindow();
  }
  if (grim_dinput_keyboard == (LPDIRECTINPUT8A)0x0) {
    ppIVar7 = &grim_dinput_keyboard;
    pIVar6 = (REFIID)&DAT_1005034c;
    DVar5 = 0x800;
    pIVar8 = grim_dinput_keyboard;
    pHVar2 = GetModuleHandleA((LPCSTR)0x0);
    uVar3 = DirectInput8Create(pHVar2,DVar5,pIVar6,ppIVar7,(LPUNKNOWN)pIVar8);
    if ((int)uVar3 < 0) {
      grim_dinput_keyboard = (LPDIRECTINPUT8A)0x0;
      return uVar3 & 0xffffff00;
    }
  }
  if (grim_keyboard_device == (LPDIRECTINPUTDEVICE8A)0x0) {
    uVar3 = (*grim_dinput_keyboard->lpVtbl->CreateDevice)
                      (grim_dinput_keyboard,(REFGUID)&DAT_1005029c,&grim_keyboard_device,
                       (LPUNKNOWN)0x0);
    if ((int)uVar3 < 0) {
      return uVar3 & 0xffffff00;
    }
    uVar3 = (*grim_keyboard_device->lpVtbl->SetDataFormat)
                      (grim_keyboard_device,(LPCDIDATAFORMAT)&DAT_1005007c);
    if ((int)uVar3 < 0) {
      return uVar3 & 0xffffff00;
    }
    uVar3 = (*grim_keyboard_device->lpVtbl->SetCooperativeLevel)
                      (grim_keyboard_device,(HWND)hwnd,0x16);
    if ((int)uVar3 < 0) {
      return uVar3 & 0xffffff00;
    }
    DStack_14.dwSize = 0x14;
    DStack_14.dwHeaderSize = 0x10;
    DStack_14.dwObj = 0;
    DStack_14.dwHow = 0;
    uStack_4 = 10;
    (*grim_keyboard_device->lpVtbl->SetProperty)(grim_keyboard_device,(REFGUID)0x1,&DStack_14);
    if (grim_keyboard_device != (LPDIRECTINPUTDEVICE8A)0x0) {
      (*grim_keyboard_device->lpVtbl->Acquire)(grim_keyboard_device);
    }
  }
  iVar4 = grim_keyboard_poll();
  return CONCAT31((int3)((uint)iVar4 >> 8),1);
}



/* grim_keyboard_poll @ 1000a4a0 */

/* polls the keyboard device and updates cached key state */

int grim_keyboard_poll(void)

{
  int *piVar1;
  uint uVar2;
  int *piVar3;
  int iVar4;
  undefined4 *puVar5;
  DWORD DStack_4;
  
  uVar2 = 0;
  if (grim_keyboard_device != (LPDIRECTINPUTDEVICE8A)0x0) {
    uVar2 = (*grim_keyboard_device->lpVtbl->Acquire)(grim_keyboard_device);
    while ((uVar2 == 0x8007001e || (uVar2 == 0x80070005))) {
      uVar2 = (*grim_keyboard_device->lpVtbl->Acquire)(grim_keyboard_device);
    }
    if (-1 < (int)uVar2) {
      puVar5 = &grim_keyboard_state;
      for (iVar4 = 0x40; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar5 = 0;
        puVar5 = puVar5 + 1;
      }
      (*grim_keyboard_device->lpVtbl->GetDeviceState)
                (grim_keyboard_device,0x100,&grim_keyboard_state);
      DStack_4 = 10;
      piVar3 = (int *)(*grim_keyboard_device->lpVtbl->GetDeviceData)
                                (grim_keyboard_device,0x14,
                                 (LPDIDEVICEOBJECTDATA)&grim_keyboard_event_buffer,&DStack_4,0);
      if ((-1 < (int)piVar3) && (0 < (int)DStack_4)) {
        piVar3 = &grim_keyboard_event_buffer;
        do {
          iVar4 = *piVar3;
          piVar1 = piVar3 + 1;
          piVar3 = piVar3 + 5;
          DStack_4 = DStack_4 - 1;
          *(char *)((int)&grim_keyboard_state + iVar4) = (char)*piVar1;
        } while (DStack_4 != 0);
      }
      return CONCAT31((int3)((uint)piVar3 >> 8),1);
    }
  }
  return uVar2 & 0xffffff00;
}



/* grim_keyboard_shutdown @ 1000a550 */

/* releases DirectInput keyboard objects */

void grim_keyboard_shutdown(void)

{
  if (grim_keyboard_device != (LPDIRECTINPUTDEVICE8A)0x0) {
    (*grim_keyboard_device->lpVtbl->Unacquire)(grim_keyboard_device);
    (*grim_keyboard_device->lpVtbl->Release)(grim_keyboard_device);
    grim_keyboard_device = (LPDIRECTINPUTDEVICE8A)0x0;
  }
  if (grim_dinput_keyboard != (LPDIRECTINPUT8A)0x0) {
    (*grim_dinput_keyboard->lpVtbl->Release)(grim_dinput_keyboard);
    grim_dinput_keyboard = (LPDIRECTINPUT8A)0x0;
  }
  return;
}



/* grim_mouse_button_down @ 1000a590 */

/* reads the cached mouse button state */

int __cdecl grim_mouse_button_down(int button)

{
  return CONCAT31((int3)((uint)button >> 8),grim_mouse_state.rgbButtons[button] >> 7);
}



/* grim_mouse_init @ 1000a5a0 */

/* initializes DirectInput mouse device and acquires it */

int grim_mouse_init(void)

{
  HWND hwnd;
  HWND pHVar1;
  HMODULE pHVar2;
  uint uVar3;
  int iVar4;
  DWORD DVar5;
  REFIID pIVar6;
  LPDIRECTINPUT8A *ppIVar7;
  LPDIRECTINPUT8A pIVar8;
  
  hwnd = DAT_1005d3f8;
  if ((DAT_1005d3f8 == (HWND)0x0) && (pHVar1 = GetForegroundWindow(), pHVar1 == (HWND)0x0)) {
    GetDesktopWindow();
  }
  if (grim_dinput_mouse == (LPDIRECTINPUT8A)0x0) {
    ppIVar7 = &grim_dinput_mouse;
    pIVar6 = (REFIID)&DAT_1005034c;
    DVar5 = 0x800;
    pIVar8 = grim_dinput_mouse;
    pHVar2 = GetModuleHandleA((LPCSTR)0x0);
    uVar3 = DirectInput8Create(pHVar2,DVar5,pIVar6,ppIVar7,(LPUNKNOWN)pIVar8);
    if ((int)uVar3 < 0) {
      grim_dinput_mouse = (LPDIRECTINPUT8A)0x0;
      return uVar3 & 0xffffff00;
    }
  }
  if (grim_mouse_device == (LPDIRECTINPUTDEVICE8A)0x0) {
    uVar3 = (*grim_dinput_mouse->lpVtbl->CreateDevice)
                      (grim_dinput_mouse,(REFGUID)&DAT_100502ac,&grim_mouse_device,(LPUNKNOWN)0x0);
    if ((int)uVar3 < 0) {
      return uVar3 & 0xffffff00;
    }
    uVar3 = (*grim_mouse_device->lpVtbl->SetDataFormat)
                      (grim_mouse_device,(LPCDIDATAFORMAT)&DAT_10050284);
    if ((int)uVar3 < 0) {
      return uVar3 & 0xffffff00;
    }
    uVar3 = (*grim_mouse_device->lpVtbl->SetCooperativeLevel)(grim_mouse_device,hwnd,5);
    if ((int)uVar3 < 0) {
      return uVar3 & 0xffffff00;
    }
    if (grim_mouse_device != (LPDIRECTINPUTDEVICE8A)0x0) {
      (*grim_mouse_device->lpVtbl->Acquire)(grim_mouse_device);
    }
  }
  iVar4 = grim_mouse_poll();
  return CONCAT31((int3)((uint)iVar4 >> 8),1);
}



/* grim_mouse_poll @ 1000a670 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* polls the mouse device and updates cached position/delta */

int grim_mouse_poll(void)

{
  int iVar1;
  int iVar2;
  HRESULT HVar3;
  int extraout_EAX;
  int iVar4;
  
  iVar2 = 0;
  if (grim_mouse_device != (LPDIRECTINPUTDEVICE8A)0x0) {
    grim_mouse_state.lX = 0;
    _DAT_1005db58 = 0.0;
    grim_mouse_state.lY = 0;
    _grim_mouse_dy = 0.0;
    grim_mouse_state.lZ = 0;
    _grim_mouse_dx = 0.0;
    grim_mouse_state.rgbButtons[0] = '\0';
    grim_mouse_state.rgbButtons[1] = '\0';
    grim_mouse_state.rgbButtons[2] = '\0';
    grim_mouse_state.rgbButtons[3] = '\0';
    grim_mouse_state.rgbButtons[4] = '\0';
    grim_mouse_state.rgbButtons[5] = '\0';
    grim_mouse_state.rgbButtons[6] = '\0';
    grim_mouse_state.rgbButtons[7] = '\0';
    iVar1 = (*grim_mouse_device->lpVtbl->GetDeviceState)(grim_mouse_device,0x14,&grim_mouse_state);
    iVar2 = 0;
    while (-1 < iVar1) {
      iVar4 = iVar2 + 1;
      _grim_mouse_dx = (float)grim_mouse_state.lX + _grim_mouse_dx;
      _grim_mouse_dy = (float)grim_mouse_state.lY + _grim_mouse_dy;
      _DAT_1005db58 = (float)grim_mouse_state.lZ + _DAT_1005db58;
      if ((99 < iVar2) ||
         (((grim_mouse_state.lX == 0 && (grim_mouse_state.lY == 0)) &&
          (iVar2 = 0, grim_mouse_state.lZ == 0)))) {
        if (2 < iVar4) {
          grim_noop();
          iVar2 = extraout_EAX;
        }
        grim_mouse_x = grim_mouse_x + _grim_mouse_dx;
        grim_mouse_y = grim_mouse_y + _grim_mouse_dy;
        _DAT_1005db4c = _DAT_1005db4c + _DAT_1005db58;
        goto LAB_1000a7cb;
      }
      grim_mouse_state.lX = 0;
      grim_mouse_state.lY = 0;
      grim_mouse_state.lZ = 0;
      grim_mouse_state.rgbButtons[0] = '\0';
      grim_mouse_state.rgbButtons[1] = '\0';
      grim_mouse_state.rgbButtons[2] = '\0';
      grim_mouse_state.rgbButtons[3] = '\0';
      grim_mouse_state.rgbButtons[4] = '\0';
      grim_mouse_state.rgbButtons[5] = '\0';
      grim_mouse_state.rgbButtons[6] = '\0';
      grim_mouse_state.rgbButtons[7] = '\0';
      iVar1 = (*grim_mouse_device->lpVtbl->GetDeviceState)(grim_mouse_device,0x14,&grim_mouse_state)
      ;
      iVar2 = iVar4;
    }
    iVar2 = (*grim_mouse_device->lpVtbl->Acquire)(grim_mouse_device);
    if (iVar2 == -0x7ff8ffe2) {
      do {
        HVar3 = (*grim_mouse_device->lpVtbl->Acquire)(grim_mouse_device);
      } while (HVar3 == -0x7ff8ffe2);
      return CONCAT31((int3)((uint)HVar3 >> 8),1);
    }
  }
LAB_1000a7cb:
  return CONCAT31((int3)((uint)iVar2 >> 8),1);
}



/* grim_mouse_shutdown @ 1000a7d0 */

/* releases DirectInput mouse objects */

void grim_mouse_shutdown(void)

{
  if (grim_mouse_device != (LPDIRECTINPUTDEVICE8A)0x0) {
    (*grim_mouse_device->lpVtbl->Unacquire)(grim_mouse_device);
    (*grim_mouse_device->lpVtbl->Release)(grim_mouse_device);
    grim_mouse_device = (LPDIRECTINPUTDEVICE8A)0x0;
  }
  if (grim_dinput_mouse != (LPDIRECTINPUT8A)0x0) {
    (*grim_dinput_mouse->lpVtbl->Release)(grim_dinput_mouse);
    grim_dinput_mouse = (LPDIRECTINPUT8A)0x0;
  }
  return;
}



/* FUN_1000a810 @ 1000a810 */

/* [binja] int32_t __fastcall sub_1000a810(int32_t arg1) __pure */

int __fastcall FUN_1000a810(int arg1)

{
  return arg1;
}



/* FUN_1000a820 @ 1000a820 */

undefined4 __cdecl FUN_1000a820(int param_1)

{
  if (((param_1 != 0) && (param_1 != 1)) && (param_1 + -2 != 0)) {
    return CONCAT31((int3)((uint)(param_1 + -2) >> 8),1);
  }
  return 0;
}



/* FUN_1000a840 @ 1000a840 */

/* [binja] bool __stdcall sub_1000a840(int32_t* arg1, uint32_t arg2, int32_t arg3, int32_t arg4) */

bool FUN_1000a840(int *arg1,uint arg2,int arg3,int arg4)

{
  void *pvVar1;
  uint uVar2;
  undefined4 uVar3;
  
  uVar2 = arg2;
  pvVar1 = operator_new(arg2);
  *arg1 = (int)pvVar1;
  arg2 = uVar2;
  uVar2 = FUN_10046400(pvVar1,&arg2,arg3,arg4);
  uVar3 = FUN_1000a820(uVar2);
  return (char)uVar3 == '\0';
}



/* FUN_1000a880 @ 1000a880 */

/* [binja] char* __stdcall sub_1000a880(char* arg1, uint32_t* arg2) */

char * FUN_1000a880(char *arg1,uint *arg2)

{
  uint arg2_00;
  int arg4;
  char *arg3;
  
  if (*arg1 != '\x01') {
    return (char *)0x0;
  }
  arg2_00 = *(uint *)(arg1 + 5);
  arg4 = *(int *)(arg1 + 1);
  arg3 = arg1 + 9;
  *arg2 = arg2_00;
  arg1 = (char *)0x0;
  FUN_1000a840((int *)&arg1,arg2_00,(int)arg3,arg4);
  return arg1;
}



/* FUN_1000a900 @ 1000a900 */

void __cdecl FUN_1000a900(_onexit_t param_1)

{
  if (DAT_1005dbcc == -1) {
    _onexit((_onexit_t)param_1);
    return;
  }
  __dllonexit(param_1,&DAT_1005dbcc,&DAT_1005dbc8);
  return;
}



/* FUN_1000a92c @ 1000a92c */

int __cdecl FUN_1000a92c(_onexit_t param_1)

{
  int iVar1;
  
  iVar1 = FUN_1000a900(param_1);
  return (iVar1 != 0) - 1;
}



/* FUN_1000a93e @ 1000a93e */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* [binja] int32_t __stdcall sub_1000a93e(int32_t arg1) */

int FUN_1000a93e(int arg1)

{
  int iVar1;
  undefined4 *_Memory;
  undefined4 *puVar2;
  int in_stack_00000008;
  
  if (in_stack_00000008 == 0) {
    if (0 < DAT_1005db5c) {
      DAT_1005db5c = DAT_1005db5c + -1;
      goto LAB_1000a954;
    }
LAB_1000a97c:
    iVar1 = 0;
  }
  else {
LAB_1000a954:
    _DAT_1005dbc0 = *(undefined4 *)_adjust_fdiv_exref;
    if (in_stack_00000008 == 1) {
      DAT_1005dbcc = malloc(0x80);
      if (DAT_1005dbcc == (undefined4 *)0x0) goto LAB_1000a97c;
      *DAT_1005dbcc = 0;
      DAT_1005dbc8 = DAT_1005dbcc;
      initterm(&DAT_10053000,&DAT_10053034);
      DAT_1005db5c = DAT_1005db5c + 1;
    }
    else if ((in_stack_00000008 == 0) &&
            (_Memory = DAT_1005dbcc, puVar2 = DAT_1005dbc8, DAT_1005dbcc != (undefined4 *)0x0)) {
      while (puVar2 = puVar2 + -1, _Memory <= puVar2) {
        if ((code *)*puVar2 != (code *)0x0) {
          (*(code *)*puVar2)();
          _Memory = DAT_1005dbcc;
        }
      }
      free(_Memory);
      DAT_1005dbcc = (undefined4 *)0x0;
    }
    iVar1 = 1;
  }
  return iVar1;
}



/* entry @ 1000a9e9 */

/* [binja] int32_t __stdcall _start(HINSTANCE arg1, int32_t arg2, int32_t arg3) */

int entry(HINSTANCE arg1,int arg2,int arg3)

{
  int iVar1;
  BOOL BVar2;
  int iVar3;
  
  iVar1 = arg2;
  iVar3 = DAT_1005db5c;
  if (arg2 != 0) {
    if ((arg2 != 1) && (arg2 != 2)) goto LAB_1000aa31;
    if ((DAT_1005dbc4 != (code *)0x0) && (iVar3 = (*DAT_1005dbc4)(arg1,arg2,arg3), iVar3 == 0)) {
      return 0;
    }
    iVar3 = FUN_1000a93e((int)arg1);
  }
  if (iVar3 == 0) {
    return 0;
  }
LAB_1000aa31:
  BVar2 = DllMain(arg1,arg2,(LPVOID)arg3);
  if (arg2 == 1) {
    if (BVar2 != 0) {
      return BVar2;
    }
    FUN_1000a93e((int)arg1);
  }
  if ((arg2 != 0) && (arg2 != 3)) {
    return BVar2;
  }
  iVar3 = FUN_1000a93e((int)arg1);
  arg2 = BVar2;
  if (iVar3 == 0) {
    arg2 = 0;
  }
  if (arg2 != 0) {
    if (DAT_1005dbc4 != (code *)0x0) {
      iVar3 = (*DAT_1005dbc4)(arg1,iVar1,arg3);
      return iVar3;
    }
    return arg2;
  }
  return 0;
}



/* grim_format_info_lookup @ 1000aaa6 */

/* returns pointer to the D3D format descriptor entry (fallbacks to default) */

int * __cdecl grim_format_info_lookup(int format)

{
  int *piVar1;
  
  piVar1 = &DAT_1004c3b0;
  while( true ) {
    if (PTR_DAT_10053c50 <= piVar1) {
      return &DAT_1004c388;
    }
    if (format == *piVar1) break;
    piVar1 = piVar1 + 9;
  }
  return piVar1;
}



/* FUN_1000aaca @ 1000aaca */

/* [binja] int32_t __fastcall sub_1000aaca(void* arg1, int32_t arg2) */

int __fastcall FUN_1000aaca(void *arg1,int arg2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  uint *puVar5;
  uint local_8;
  
  uVar3 = 0;
  if (*(int *)(&DAT_1004c9c0 + (*(int *)((int)arg1 + 4) * 5 + *(int *)(arg2 + 4)) * 4) != 0) {
    local_8 = 0;
    puVar5 = (uint *)((int)arg1 + 0xc);
    iVar4 = 5;
    do {
      uVar1 = *puVar5;
      if (uVar1 != 0) {
        local_8 = local_8 + 1;
      }
      uVar2 = *(uint *)((arg2 - (int)arg1) + (int)puVar5);
      if (uVar1 < uVar2) {
        if (uVar1 == 0) {
          uVar3 = uVar3 + 0x100;
        }
        else {
          uVar3 = uVar3 + (uVar2 - uVar1);
        }
      }
      else if (uVar2 < uVar1) {
        if (uVar2 == 0) {
          uVar3 = uVar3 + 0x1000000;
        }
        else {
          uVar3 = uVar3 + (uVar1 - uVar2) * 0x10000;
        }
      }
      puVar5 = puVar5 + 1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    if (local_8 != uVar3 >> 0x18) {
      return uVar3;
    }
  }
  return -1;
}



/* FUN_1000ab3f @ 1000ab3f */

int __cdecl FUN_1000ab3f(int *param_1,int param_2,int *param_3)

{
  int *arg2;
  uint uVar1;
  uint uVar2;
  int *piVar3;
  
  uVar2 = 0xffffffff;
  piVar3 = &DAT_1004c388;
  do {
    if (*param_1 == 0) {
      return *piVar3;
    }
    arg2 = grim_format_info_lookup(*param_1);
    if ((*arg2 != 0) && ((arg2[1] != 1 || (param_2 != 0)))) {
      if (*param_3 == *arg2) {
        return *param_3;
      }
      uVar1 = FUN_1000aaca(param_3,(int)arg2);
      if (((uVar1 != 0xffffffff) && (uVar1 <= uVar2)) &&
         ((uVar1 != uVar2 || ((uint)arg2[2] < (uint)piVar3[2])))) {
        uVar2 = uVar1;
        piVar3 = arg2;
      }
    }
    param_1 = param_1 + 1;
  } while( true );
}



/* FUN_1000abad @ 1000abad */

int __cdecl FUN_1000abad(int *param_1,undefined4 param_2,undefined4 param_3,int *param_4)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  int *arg2;
  int *piVar4;
  int *piVar5;
  undefined4 local_ec;
  undefined4 local_e8;
  undefined1 local_18 [12];
  undefined4 local_c;
  int *local_8;
  
  local_8 = (int *)0x0;
  grim_d3d_debug_set_mute(1);
  if (param_1 != (int *)0x0) {
    (**(code **)(*param_1 + 0x18))(param_1,&local_8);
    (**(code **)(*param_1 + 0x1c))(param_1,&local_ec);
    (**(code **)(*param_1 + 0x20))(param_1,local_18);
  }
  uVar3 = 0xffffffff;
  arg2 = &DAT_1004c3b0;
  piVar5 = &DAT_1004c388;
  piVar4 = &DAT_1004c388;
  if (&DAT_1004c3b0 < PTR_DAT_10053c50) {
    do {
      piVar5 = piVar4;
      if ((*arg2 != 0) &&
         ((param_1 == (int *)0x0 ||
          (iVar1 = (**(code **)(*local_8 + 0x28))
                             (local_8,local_e8,local_ec,local_c,param_2,param_3,*arg2), -1 < iVar1))
         )) {
        piVar5 = arg2;
        if (*param_4 == *arg2) break;
        piVar5 = piVar4;
        if ((((arg2[8] != 0) && (uVar2 = FUN_1000aaca(param_4,(int)arg2), uVar2 != 0xffffffff)) &&
            (uVar2 <= uVar3)) && ((uVar2 != uVar3 || ((uint)arg2[2] < (uint)piVar4[2])))) {
          uVar3 = uVar2;
          piVar5 = arg2;
        }
      }
      arg2 = arg2 + 9;
      piVar4 = piVar5;
    } while (arg2 < PTR_DAT_10053c50);
  }
  if (local_8 != (int *)0x0) {
    (**(code **)(*local_8 + 8))(local_8);
    local_8 = (int *)0x0;
  }
  grim_d3d_debug_set_mute(0);
  return *piVar5;
}



/* FUN_1000ac8f @ 1000ac8f */

int __cdecl FUN_1000ac8f(int param_1)

{
  if (param_1 == 0x36314c20) {
    return 0x32;
  }
  if (param_1 == 0x36314c41) {
    return 0x33;
  }
  if (param_1 == 0x36315220) {
    return 0x14;
  }
  if (param_1 != 0x36315241) {
    return param_1;
  }
  return 0x15;
}



/* FUN_1000acc0 @ 1000acc0 */

/* [binja] int32_t __stdcall sub_1000acc0(int32_t* arg1, int32_t arg2, int32_t* arg3, int32_t arg4,
   int32_t arg5, int32_t arg6, int32_t arg7, int32_t* arg8, int32_t arg9, int32_t arg10) */

int FUN_1000acc0(int *arg1,int arg2,int *arg3,int arg4,int arg5,int arg6,int arg7,int *arg8,int arg9
                ,int arg10)

{
  int iVar1;
  int iVar2;
  int unaff_ESI;
  int *piVar3;
  int unaff_EDI;
  int *piVar4;
  int local_b8 [19];
  void **local_6c;
  int local_68;
  int local_64;
  undefined4 local_60;
  int local_5c [4];
  undefined4 local_4c;
  undefined4 local_48;
  int local_44 [7];
  int local_28;
  int local_24;
  int local_20 [4];
  int local_10 [3];
  
  FUN_1001284c(local_10);
  FUN_10016121(local_20);
  if (arg1 == (int *)0x0) {
    iVar2 = -0x7789f794;
  }
  else if ((arg4 == 0) || (arg8 == (int *)0x0)) {
    iVar2 = -0x7789f794;
  }
  else {
    if (arg9 == -1) {
      arg9 = 0x80004;
    }
    iVar1 = FUN_100161bb(local_20,(char *)local_b8,arg1,(int *)arg2,(int)arg3,(int *)0x0,0,unaff_ESI
                        );
    if (-1 < iVar1) {
      local_68 = arg5;
      local_6c = (void **)arg4;
      local_64 = arg6;
      local_60 = 0;
      local_5c[0] = *arg8;
      local_5c[1] = arg8[1];
      local_5c[2] = arg8[2];
      local_5c[3] = arg8[3];
      local_4c = 0;
      local_48 = 1;
      piVar3 = local_5c;
      piVar4 = local_44;
      for (iVar2 = 6; iVar2 != 0; iVar2 = iVar2 + -1) {
        *piVar4 = *piVar3;
        piVar3 = piVar3 + 1;
        piVar4 = piVar4 + 1;
      }
      local_28 = arg10;
      local_24 = arg7;
      iVar1 = FUN_10016007(local_10,local_b8,&local_6c,(void ***)arg9,unaff_EDI);
      iVar2 = 0;
      if (-1 < iVar1) goto LAB_1000ad85;
    }
    iVar2 = iVar1;
  }
LAB_1000ad85:
  FUN_100161b6((char *)local_20);
  FUN_10012856(local_10);
  return iVar2;
}



/* FUN_1000ad9f @ 1000ad9f */

/* [binja] int32_t sub_1000ad9f(int32_t arg1, int32_t arg2, int32_t* arg3, int32_t arg4, int32_t*
   arg5, int32_t* arg6) */

int FUN_1000ad9f(int arg1,int arg2,int *arg3,int arg4,int *arg5,int *arg6)

{
  int unaff_EBP;
  int *unaff_ESI;
  int iVar1;
  
  seh_prolog();
  FUN_10010285((int *)(unaff_EBP + -0x70));
  *(undefined4 *)(unaff_EBP + -4) = 0;
  FUN_10016121((int *)(unaff_EBP + -0x1c));
  *(undefined1 *)(unaff_EBP + -4) = 1;
  if ((*(int *)(unaff_EBP + 8) == 0) || (*(int *)(unaff_EBP + 0x10) == 0)) {
    iVar1 = -0x7789f794;
  }
  else {
    iVar1 = FUN_100161bb((void *)(unaff_EBP + -0x1c),(char *)(unaff_EBP + -0xbc),
                         *(int **)(unaff_EBP + 0x10),*(int **)(unaff_EBP + 0x14),
                         *(int *)(unaff_EBP + 0x18),(int *)0x0,1,(int)unaff_ESI);
    if (((-1 < iVar1) &&
        (iVar1 = FUN_10010313((void *)(unaff_EBP + -0x70),(int *)(unaff_EBP + -0xbc),unaff_ESI),
        -1 < iVar1)) &&
       (iVar1 = FUN_1001237e(*(int **)(unaff_EBP + 8),*(int *)(unaff_EBP + 0xc),
                             *(int *)(unaff_EBP + 0x1c),unaff_ESI), -1 < iVar1)) {
      iVar1 = 0;
    }
  }
  *(undefined1 *)(unaff_EBP + -4) = 0;
  FUN_100161b6((char *)(unaff_EBP + -0x1c));
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  FUN_1001029e((void *)(unaff_EBP + -0x70));
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar1;
}



/* FUN_1000ae52 @ 1000ae52 */

/* [binja] int32_t __stdcall sub_1000ae52(int32_t arg1, int32_t arg2, int32_t* arg3, int32_t arg4,
   int32_t* arg5) */

int FUN_1000ae52(int arg1,int arg2,int *arg3,int arg4,int *arg5)

{
  int iVar1;
  
  iVar1 = FUN_1000ad9f(arg1,arg2,arg3,arg4,arg5,(int *)0x0);
  return iVar1;
}



/* FUN_1000ae72 @ 1000ae72 */

/* [binja] int32_t __stdcall sub_1000ae72(int32_t* arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   int32_t arg5, int32_t arg6, int32_t arg7, int32_t arg8, int32_t arg9, int32_t arg10, int32_t
   arg11) */

int FUN_1000ae72(int *arg1,int arg2,int arg3,int arg4,int arg5,int arg6,int arg7,int arg8,int arg9,
                int arg10,int arg11)

{
  int unaff_ESI;
  int iVar1;
  undefined4 *puVar2;
  int unaff_EDI;
  undefined4 *puVar3;
  int local_ac [19];
  void **local_60;
  int local_5c;
  int local_58;
  int local_54;
  undefined4 local_50 [6];
  undefined4 local_38 [7];
  int local_1c;
  int local_18;
  int local_14 [3];
  int local_8;
  
  FUN_1001284c(local_14);
  FUN_1001619a(&local_8);
  if (((arg1 == (int *)0x0) || (arg4 == 0)) || (arg9 == 0)) {
    iVar1 = -0x7789f794;
  }
  else {
    if (arg10 == -1) {
      arg10 = 0x80004;
    }
    iVar1 = FUN_100165d3(&local_8,local_ac,arg1,(int *)arg2,arg3,0,0,unaff_ESI);
    if (-1 < iVar1) {
      local_5c = arg5;
      local_58 = arg6;
      local_60 = (void **)arg4;
      local_54 = arg7;
      puVar2 = (undefined4 *)arg9;
      puVar3 = local_50;
      for (iVar1 = 6; iVar1 != 0; iVar1 = iVar1 + -1) {
        *puVar3 = *puVar2;
        puVar2 = puVar2 + 1;
        puVar3 = puVar3 + 1;
      }
      puVar2 = local_38;
      for (iVar1 = 6; iVar1 != 0; iVar1 = iVar1 + -1) {
        *puVar2 = *(undefined4 *)arg9;
        arg9 = (int)(arg9 + 4);
        puVar2 = puVar2 + 1;
      }
      local_1c = arg11;
      local_18 = arg8;
      iVar1 = FUN_10016007(local_14,local_ac,&local_60,(void ***)arg10,unaff_EDI);
      if (-1 < iVar1) {
        iVar1 = 0;
      }
    }
  }
  thunk_FUN_100161a0(&local_8);
  FUN_10012856(local_14);
  return iVar1;
}



/* FUN_1000af45 @ 1000af45 */

undefined4 __fastcall
FUN_1000af45(undefined4 param_1,uint param_2,int *param_3,uint *param_4,uint *param_5,uint *param_6,
            uint *param_7,int *param_8,int param_9,int param_10)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int *piVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  undefined1 local_e0 [60];
  uint local_a4;
  int *local_88;
  int *local_84;
  int *local_80;
  int local_78;
  int local_c;
  int *local_8;
  
  piVar4 = param_3;
  if (param_3 == (int *)0x0) {
    return 0x8876086c;
  }
  if (param_2 == 0xffffffff) {
    param_2 = 0;
  }
  if (param_2 != (param_2 & 0x20b)) {
    return 0x8876086c;
  }
  if ((((param_9 != 0) && (param_9 != 1)) && (param_9 != 2)) && (param_9 != 3)) {
    return 0x8876086c;
  }
  if (param_8 == (int *)0x0) {
    local_c = 0;
  }
  else {
    local_c = *param_8;
  }
  if (param_9 == 3) {
    if (local_c == 0) {
      local_c = 0x15;
    }
  }
  else {
    piVar2 = grim_format_info_lookup(local_c);
    local_c = FUN_1000abad(param_3,param_2,param_10,piVar2);
    if (local_c == 0) {
      return 0x8876086a;
    }
  }
  if (param_4 == (uint *)0x0) {
    param_3 = (int *)0xffffffff;
  }
  else {
    param_3 = (int *)*param_4;
  }
  if (param_5 == (uint *)0x0) {
    piVar2 = (int *)0xffffffff;
  }
  else {
    piVar2 = (int *)*param_5;
  }
  if (param_6 == (uint *)0x0) {
    local_8 = (int *)0xffffffff;
  }
  else {
    local_8 = (int *)*param_6;
  }
  if (param_3 == (int *)0xffffffff) {
    param_3 = piVar2;
    if (piVar2 != (int *)0xffffffff) goto LAB_1000b030;
    piVar2 = (int *)0x100;
    param_3 = (int *)0x100;
  }
  else {
    if (piVar2 == (int *)0xffffffff) {
      piVar2 = param_3;
    }
LAB_1000b030:
    if (param_3 == (int *)0x0) {
      param_3 = (int *)0x1;
    }
    if (piVar2 == (int *)0x0) {
      piVar2 = (int *)0x1;
    }
  }
  piVar5 = param_3;
  if ((param_10 == 5) && (piVar5 = piVar2, piVar2 < param_3)) {
    piVar2 = param_3;
    piVar5 = param_3;
  }
  param_3 = piVar5;
  if ((local_8 == (int *)0xffffffff) || (local_8 == (int *)0x0)) {
    local_8 = (int *)0x1;
  }
  piVar5 = piVar2;
  if (param_9 == 3) goto LAB_1000b141;
  (**(code **)(*piVar4 + 0x1c))(piVar4,local_e0);
  if (param_10 == 4) {
    if (local_80 < local_8) {
      local_8 = local_80;
    }
    if (local_80 < param_3) {
      param_3 = local_80;
    }
LAB_1000b0d9:
    if (local_80 < piVar2) {
      piVar2 = local_80;
    }
  }
  else {
    if (local_88 < param_3) {
      param_3 = local_88;
    }
    if (local_84 < piVar2) {
      piVar2 = local_84;
    }
    if (param_10 == 3) {
      if ((local_a4 & 0x20) != 0) {
        local_78 = 1;
      }
      if (local_78 != 0) {
        if ((int *)(local_78 * (int)piVar2) < param_3) {
          param_3 = (int *)(local_78 * (int)piVar2);
        }
        local_80 = (int *)(local_78 * (int)param_3);
        goto LAB_1000b0d9;
      }
    }
  }
  piVar1 = local_8;
  piVar4 = param_3;
  if (param_10 == 3) {
    piVar3 = (int *)0x2;
  }
  else if (param_10 == 4) {
    piVar3 = (int *)0x40000;
  }
  else {
    piVar3 = param_3;
    if (param_10 == 5) {
      piVar3 = (int *)0x20000;
    }
  }
  piVar5 = piVar2;
  if ((local_a4 & (uint)piVar3) != 0) {
    piVar5 = (int *)0x1;
    param_3 = (int *)0x1;
    if ((int *)0x1 < piVar4) {
      do {
        param_3 = (int *)((int)param_3 << 1);
      } while (param_3 < piVar4);
    }
    if ((int *)0x1 < piVar2) {
      do {
        piVar5 = (int *)((int)piVar5 << 1);
      } while (piVar5 < piVar2);
    }
    local_8 = (int *)0x1;
    if ((int *)0x1 < piVar1) {
      do {
        local_8 = (int *)((int)local_8 << 1);
      } while (local_8 < piVar1);
    }
  }
LAB_1000b141:
  if ((((local_c == 0x31545844) || (local_c == 0x32545844)) || (local_c == 0x33545844)) ||
     ((local_c == 0x34545844 || (local_c == 0x35545844)))) {
    param_3 = (int *)((int)param_3 + 3U & 0xfffffffc);
    piVar5 = (int *)((int)piVar5 + 3U & 0xfffffffc);
  }
  if (param_10 == 3) {
    piVar4 = (int *)0x4000;
  }
  else if (param_10 == 4) {
    piVar4 = (int *)0x8000;
  }
  else {
    piVar4 = param_3;
    if (param_10 == 5) {
      piVar4 = (int *)0x10000;
    }
  }
  if (param_7 == (uint *)0x0) {
    uVar9 = 0xffffffff;
  }
  else {
    uVar9 = *param_7;
  }
  if ((param_9 == 3) ||
     (((local_a4 & (uint)piVar4) != 0 &&
      (((local_a4 & 0x100) == 0 ||
       (((((uint)param_3 & (int)param_3 - 1U) == 0 && (((uint)piVar5 & (int)piVar5 - 1U) == 0)) &&
        (((uint)local_8 & (int)local_8 - 1U) == 0)))))))) {
    uVar8 = 0;
    for (piVar4 = param_3; piVar4 != (int *)0x0; piVar4 = (int *)((uint)piVar4 >> 1)) {
      uVar8 = uVar8 + 1;
    }
    uVar6 = 0;
    for (piVar4 = piVar5; piVar4 != (int *)0x0; piVar4 = (int *)((uint)piVar4 >> 1)) {
      uVar6 = uVar6 + 1;
    }
    uVar7 = 0;
    for (piVar4 = local_8; piVar4 != (int *)0x0; piVar4 = (int *)((uint)piVar4 >> 1)) {
      uVar7 = uVar7 + 1;
    }
    if (uVar8 <= uVar6) {
      uVar8 = uVar6;
    }
    if ((param_10 == 4) && (uVar8 < uVar7)) {
      uVar8 = uVar7;
    }
    if ((uVar8 < uVar9) || (uVar9 == 0)) {
      uVar9 = uVar8;
    }
  }
  else {
    uVar9 = 1;
  }
  if (param_4 != (uint *)0x0) {
    *param_4 = (uint)param_3;
  }
  if (param_5 != (uint *)0x0) {
    *param_5 = (uint)piVar5;
  }
  if (param_6 != (uint *)0x0) {
    *param_6 = (uint)local_8;
  }
  if (param_7 != (uint *)0x0) {
    *param_7 = uVar9;
  }
  if (param_8 != (int *)0x0) {
    *param_8 = local_c;
  }
  return 0;
}



/* FUN_1000b26f @ 1000b26f */

/* [binja] int32_t __stdcall sub_1000b26f(int32_t** arg1, int32_t* arg2, int32_t* arg3, int32_t*
   arg4, int32_t arg5, int32_t arg6, int32_t arg7) */

int __thiscall
FUN_1000b26f(void *this,int **arg1,int *arg2,int *arg3,int *arg4,int arg5,int arg6,int arg7)

{
  int iVar1;
  
  iVar1 = FUN_1000af45(this,arg5,(int *)arg1,(uint *)arg2,(uint *)arg3,(uint *)0x0,(uint *)arg4,
                       (int *)arg6,arg7,3);
  return iVar1;
}



/* FUN_1000b297 @ 1000b297 */

/* [binja] int32_t __stdcall sub_1000b297(int32_t** arg1, int32_t arg2, int32_t arg3, int32_t arg4)
    */

int __thiscall FUN_1000b297(void *this,int **arg1,int arg2,int arg3,int arg4)

{
  int iVar1;
  int arg5;
  int in_stack_00000014;
  undefined4 in_stack_00000018;
  int in_stack_0000001c;
  int in_stack_00000020;
  
  if ((arg1 == (int **)0x0) || (in_stack_00000020 == 0)) {
    iVar1 = -0x7789f794;
  }
  else {
    arg5 = in_stack_00000014;
    if (in_stack_00000014 == -1) {
      arg5 = 0;
    }
    iVar1 = FUN_1000b26f(this,arg1,&arg2,&arg3,&arg4,arg5,(int)&stack0x00000018,in_stack_0000001c);
    if ((-1 < iVar1) &&
       (iVar1 = (*(code *)(*arg1)[0x14])
                          (arg1,arg2,arg3,arg4,arg5,in_stack_00000018,in_stack_0000001c,
                           in_stack_00000020), -1 < iVar1)) {
      iVar1 = 0;
    }
  }
  return iVar1;
}



/* `vector_deleting_destructor' @ 1000b2fd */

/* Library Function - Single Match
    public: void * __thiscall CODBCFieldInfo::`vector deleting destructor'(unsigned int)
   
   Library: Visual Studio 2003 Release */

void * __thiscall CODBCFieldInfo::_vector_deleting_destructor_(CODBCFieldInfo *this,uint param_1)

{
  CODBCFieldInfo *pCVar1;
  
  if ((param_1 & 2) == 0) {
    FUN_100161b6((char *)this);
    pCVar1 = this;
    if ((param_1 & 1) != 0) {
      operator_delete(this);
    }
  }
  else {
    pCVar1 = this + -4;
    FUN_1004b5cf((int)this,0x10,*(int *)pCVar1,0x100161b6);
    if ((param_1 & 1) != 0) {
      operator_delete(pCVar1);
    }
  }
  return pCVar1;
}



/* FID_conflict:`vector_deleting_destructor' @ 1000b348 */

/* Library Function - Multiple Matches With Different Base Names
    public: void * __thiscall ATL::CStringT<char,class StrTraitMFC<char,class ATL::ChTraitsCRT<char>
   > >::`vector deleting destructor'(unsigned int)
    public: void * __thiscall ATL::CStringT<wchar_t,class StrTraitMFC<wchar_t,class
   ATL::ChTraitsCRT<wchar_t> > >::`vector deleting destructor'(unsigned int)
   
   Library: Visual Studio 2003 Release */

int * __thiscall FID_conflict__vector_deleting_destructor_(void *this,byte param_1)

{
  int *piVar1;
  
  if ((param_1 & 2) == 0) {
    thunk_FUN_100161a0(this);
    piVar1 = this;
    if ((param_1 & 1) != 0) {
      operator_delete(this);
    }
  }
  else {
    piVar1 = (int *)((int)this + -4);
    FUN_1004b5cf((int)this,4,*piVar1,0x100165ce);
    if ((param_1 & 1) != 0) {
      operator_delete(piVar1);
    }
  }
  return piVar1;
}



/* `vector_constructor_iterator' @ 1000b393 */

/* Library Function - Single Match
    void __stdcall `vector constructor iterator'(void *,unsigned int,int,void * (__thiscall*)(void
   *))
   
   Library: Visual Studio 2003 Release */

void _vector_constructor_iterator_
               (void *param_1,uint param_2,int param_3,_func_void_ptr_void_ptr *param_4)

{
  void *unaff_EDI;
  
  if (-1 < param_3 + -1) {
    do {
      (*param_4)(unaff_EDI);
      param_3 = param_3 + -1;
    } while (param_3 != 0);
  }
  return;
}



/* FUN_1000b3b5 @ 1000b3b5 */

float10 __fastcall FUN_1000b3b5(int param_1)

{
  float *in_EAX;
  
  if (param_1 == 1) {
    return (float10)*in_EAX;
  }
  if (param_1 == 2) {
    return (float10)in_EAX[2];
  }
  if (param_1 == 4) {
    return (float10)in_EAX[1];
  }
  if (param_1 != 8) {
    if (param_1 != 0x10) {
      return (float10)0.0;
    }
    return (float10)*in_EAX * (float10)0.2125 +
           (float10)in_EAX[1] * (float10)0.7154 + (float10)in_EAX[2] * (float10)0.0721;
  }
  return (float10)in_EAX[3];
}



/* FUN_1000b3fe @ 1000b3fe */

/* [binja] int32_t __stdcall sub_1000b3fe(int32_t* arg1, int32_t* arg2, int32_t arg3, int32_t arg4,
   float arg5) */

int FUN_1000b3fe(int *arg1,int *arg2,int arg3,int arg4,float arg5)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float *pfVar4;
  int *piVar5;
  int *piVar6;
  uint uVar7;
  float *pfVar8;
  float *extraout_EDX;
  float *pfVar9;
  int extraout_EDX_00;
  float *extraout_EDX_01;
  int iVar10;
  int unaff_ESI;
  int iVar11;
  float10 fVar12;
  float in_stack_00000018;
  uint local_1a0 [19];
  uint local_154 [19];
  int local_108 [6];
  int local_f0;
  uint local_ec;
  int local_e8 [4];
  int local_d8 [4];
  undefined1 local_c8 [24];
  int local_b0;
  float local_a8 [8];
  float local_88;
  float local_84;
  float local_80;
  uint local_7c;
  uint local_78;
  uint local_74;
  int local_70 [6];
  int local_58;
  uint local_54;
  float local_50;
  float local_4c;
  float local_48;
  uint local_44;
  void *local_40;
  void *local_3c;
  int *local_38;
  float local_34;
  int *local_30;
  void *local_2c;
  void *local_28;
  float *local_24;
  float *local_20;
  int *local_1c;
  int *local_18;
  float local_14;
  uint local_10;
  float *local_c;
  uint local_8;
  
  local_30 = (int *)0x0;
  local_38 = (int *)0x0;
  local_18 = (int *)0x0;
  local_1c = (int *)0x0;
  FUN_10016121(local_d8);
  FUN_10016121(local_e8);
  if (arg1 == (int *)0x0) {
    iVar10 = -0x7789f794;
    goto LAB_1000bbde;
  }
  if (arg2 != (int *)0x0) {
    if (arg4 == -1) {
      arg4 = 0;
    }
    if ((arg4 & 0xffe4ffffU) == 0) {
      if (arg5 == -NAN) {
        arg5 = 1.4013e-45;
      }
      if ((arg5 != 0.0) &&
         (((((uint)arg5 < 3 || (arg5 == 5.60519e-45)) || (arg5 == 1.12104e-44)) ||
          (arg5 == 2.24208e-44)))) {
        iVar10 = (**(code **)(*arg1 + 0x38))(arg1,0,local_108);
        if ((iVar10 < 0) || (iVar10 = (**(code **)(*arg2 + 0x38))(arg2,0,local_70), iVar10 < 0)) {
          iVar10 = -0x7fffbffb;
          goto LAB_1000bbde;
        }
        piVar5 = grim_format_info_lookup(local_70[0]);
        piVar6 = grim_format_info_lookup(local_108[0]);
        if ((((*piVar5 != 0) && (*piVar6 != 0)) &&
            ((((iVar10 = piVar5[1], iVar10 == 0 || (iVar10 == 1)) ||
              ((iVar10 == 2 || (iVar10 == 4)))) &&
             ((((piVar6[1] == 0 && (1 < (uint)piVar6[5])) && (1 < (uint)piVar6[6])) &&
              ((1 < (uint)piVar6[7] && (local_58 == local_f0)))))))) && (local_54 == local_ec)) {
          uVar7 = (**(code **)(*arg2 + 0x34))(arg2);
          local_44 = (**(code **)(*arg1 + 0x34))(arg1);
          if (uVar7 == local_44) {
            iVar10 = (**(code **)(*arg1 + 0x38))(arg1,0,local_c8);
            iVar11 = local_b0;
            if (-1 < iVar10) {
              local_28 = operator_new(local_b0 << 4);
              if (local_28 == (void *)0x0) {
                local_28 = (void *)0x0;
              }
              else {
                _vector_constructor_iterator_
                          (local_28,0x10,iVar11,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
              }
              iVar10 = local_b0;
              local_3c = operator_new(local_b0 << 4);
              if (local_3c == (void *)0x0) {
                local_3c = (void *)0x0;
              }
              else {
                _vector_constructor_iterator_
                          (local_3c,0x10,iVar10,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
              }
              iVar10 = local_b0;
              local_40 = operator_new(local_b0 << 4);
              if (local_40 == (void *)0x0) {
                local_40 = (void *)0x0;
              }
              else {
                _vector_constructor_iterator_
                          (local_40,0x10,iVar10,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
              }
              iVar10 = local_b0;
              local_2c = operator_new(local_b0 << 4);
              if (local_2c == (void *)0x0) {
                local_2c = (void *)0x0;
              }
              else {
                _vector_constructor_iterator_
                          (local_2c,0x10,iVar10,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
              }
              local_20 = operator_new(local_b0 * 4 + 8);
              local_c = operator_new(local_b0 * 4 + 8);
              local_24 = operator_new(local_b0 * 4 + 8);
              if ((((local_3c == (void *)0x0) || (local_40 == (void *)0x0)) ||
                  ((local_2c == (void *)0x0 ||
                   (((local_28 == (void *)0x0 || (local_20 == (float *)0x0)) ||
                    (local_c == (float *)0x0)))))) || (local_24 == (float *)0x0)) {
                iVar10 = -0x7ff8fff2;
LAB_1000bb62:
                piVar5 = local_38;
                if (local_30 != (int *)0x0) {
                  (**(code **)*local_30)(1);
                }
                if (piVar5 != (int *)0x0) {
                  (**(code **)*piVar5)(1);
                }
              }
              else {
                local_10 = 0;
                if (local_44 != 0) {
                  do {
                    (**(code **)(*arg1 + 0x3c))(arg1,local_10,&local_1c);
                    (**(code **)(*arg2 + 0x3c))(arg2,local_10,&local_18);
                    if (local_10 == 0) {
                      iVar10 = 0x20000;
                    }
                    else {
                      iVar10 = 0;
                    }
                    iVar10 = FUN_100161bb(local_d8,(char *)local_1a0,local_1c,(int *)0x0,0,
                                          (int *)0x0,iVar10,unaff_ESI);
                    if (iVar10 < 0) goto LAB_1000bb7b;
                    if (arg1 == arg2) {
                      iVar10 = 0x10001;
                    }
                    else {
                      iVar10 = 1;
                    }
                    iVar10 = FUN_100161bb(local_e8,(char *)local_154,local_18,(int *)0x0,0,
                                          (int *)0x0,iVar10,unaff_ESI);
                    if (((iVar10 < 0) ||
                        (iVar10 = (**(code **)(*arg1 + 0x38))(arg1,local_10,local_108), iVar10 < 0))
                       || (iVar10 = (**(code **)(*arg2 + 0x38))(arg2,local_10,local_70), iVar10 < 0)
                       ) goto LAB_1000bb7b;
                    piVar5 = grim_pixel_format_create(local_154);
                    local_30 = piVar5;
                    local_38 = grim_pixel_format_create(local_1a0);
                    if ((piVar5 == (int *)0x0) || (local_38 == (int *)0x0)) {
                      iVar10 = -0x7fffbffb;
                      goto LAB_1000bb62;
                    }
                    (**(code **)(*piVar5 + 4))(local_54 - 1,0,local_28);
                    (**(code **)(*piVar5 + 4))(0,0,local_3c);
                    fVar12 = FUN_1000b3b5((int)arg5);
                    pfVar9 = local_20;
                    *local_20 = (float)fVar12;
                    fVar12 = FUN_1000b3b5((int)arg5);
                    *local_c = (float)fVar12;
                    fVar12 = FUN_1000b3b5((int)arg5);
                    pfVar9[local_58 + 1] = (float)fVar12;
                    fVar12 = FUN_1000b3b5((int)arg5);
                    extraout_EDX[local_58 + 1] = (float)fVar12;
                    local_8 = 0;
                    if (0 < local_58) {
                      pfVar8 = extraout_EDX;
                      do {
                        pfVar8 = pfVar8 + 1;
                        fVar12 = FUN_1000b3b5((int)arg5);
                        *(float *)(((int)pfVar9 - (int)extraout_EDX) + (int)pfVar8) = (float)fVar12;
                        fVar12 = FUN_1000b3b5((int)arg5);
                        *pfVar8 = (float)fVar12;
                        local_8 = local_8 + 1;
                      } while ((int)local_8 < local_58);
                    }
                    local_8 = 0;
                    if (0 < (int)local_54) {
                      do {
                        local_78 = local_8 + 1;
                        pfVar9 = (float *)(local_78 % local_54);
                        (**(code **)(*local_30 + 4))(pfVar9,0,local_40);
                        fVar12 = FUN_1000b3b5((int)arg5);
                        *local_24 = (float)fVar12;
                        fVar12 = FUN_1000b3b5((int)arg5);
                        iVar10 = 0;
                        *(float *)(extraout_EDX_00 + 4 + local_58 * 4) = (float)fVar12;
                        iVar11 = 0;
                        if (0 < local_58) {
                          do {
                            fVar12 = FUN_1000b3b5((int)arg5);
                            *extraout_EDX_01 = (float)fVar12;
                            iVar11 = iVar11 + 1;
                          } while (iVar11 < local_58);
                          if (0 < local_58) {
                            local_74 = arg4 & 0x100000;
                            local_80 = 1.0;
                            local_7c = arg4 & 0x80000;
                            do {
                              iVar11 = 0;
                              local_14 = 0.0;
                              if ((iVar10 != 0) || ((arg4 & 0x10000U) == 0)) {
                                local_14 = local_c[iVar10 + 1] + local_c[iVar10];
                                iVar11 = 1;
                              }
                              if ((iVar10 < local_58 + -1) || ((arg4 & 0x10000U) == 0)) {
                                iVar11 = iVar11 + 1;
                                local_14 = local_14 - (local_c[iVar10 + 2] + local_c[iVar10 + 1]);
                              }
                              local_14 = local_14 * in_stack_00000018;
                              if (iVar11 != 1) {
                                local_14 = local_14 * 0.5;
                              }
                              iVar11 = 0;
                              local_34 = 0.0;
                              if ((local_8 != 0) || ((arg4 & 0x20000U) == 0)) {
                                local_34 = local_c[iVar10 + 1] + local_20[iVar10 + 1];
                                iVar11 = 1;
                              }
                              if (((int)local_8 < (int)(local_54 - 1)) || ((arg4 & 0x20000U) == 0))
                              {
                                iVar11 = iVar11 + 1;
                                local_34 = local_34 - (local_24[iVar10 + 1] + local_c[iVar10 + 1]);
                              }
                              if (iVar11 == 1) {
                                fVar1 = local_34 * in_stack_00000018;
                              }
                              else {
                                fVar1 = local_34 * in_stack_00000018 * 0.5;
                              }
                              pfVar9 = &local_50;
                              local_88 = fVar1 * 0.0 - local_14 * -1.0;
                              local_84 = local_14 * 0.0 - fVar1 * -1.0;
                              local_48 = local_80;
                              local_50 = local_88;
                              local_4c = local_84;
                              thunk_FUN_1000ce69();
                              local_14 = 1.0;
                              if (local_74 != 0) {
                                local_a8[0] = local_20[iVar10];
                                local_a8[1] = local_20[iVar10 + 1];
                                local_a8[2] = local_20[iVar10 + 2];
                                local_a8[4] = local_c[iVar10 + 2];
                                local_a8[3] = local_c[iVar10];
                                local_a8[7] = local_24[iVar10 + 2];
                                local_a8[5] = local_24[iVar10];
                                fVar3 = 0.0;
                                fVar1 = (local_c + iVar10)[1];
                                local_a8[6] = local_24[iVar10 + 1];
                                iVar11 = 0;
                                do {
                                  pfVar8 = local_a8 + iVar11;
                                  fVar2 = *pfVar8 - fVar1;
                                  *pfVar8 = fVar2;
                                  if (fVar2 < 0.0) {
                                    *pfVar8 = 0.0;
                                  }
                                  iVar11 = iVar11 + 1;
                                  fVar3 = fVar3 + *pfVar8;
                                } while (iVar11 < 8);
                                fVar1 = fVar3 * in_stack_00000018 * 0.125;
                                if (0.0 < fVar1) {
                                  local_14 = SQRT(fVar1 * fVar1 + 1.0);
                                  local_14 = (local_14 - fVar1) / local_14;
                                }
                              }
                              pfVar8 = (float *)(iVar10 * 0x10 + (int)local_2c);
                              if (local_7c == 0) {
                                *pfVar8 = (local_50 + 1.0) * 0.5;
                                pfVar8[1] = (local_4c + 1.0) * 0.5;
                                fVar1 = (local_48 + 1.0) * 0.5;
                              }
                              else {
                                *pfVar8 = 0.5 - local_50 * 0.5;
                                pfVar8[1] = 0.5 - local_4c * 0.5;
                                fVar1 = 0.5 - local_48 * 0.5;
                              }
                              iVar10 = iVar10 + 1;
                              pfVar8[2] = fVar1;
                              pfVar8[3] = local_14;
                            } while (iVar10 < local_58);
                          }
                        }
                        (**(code **)(*local_38 + 8))(local_8,0,local_2c,pfVar9);
                        pfVar8 = local_20;
                        pfVar4 = local_24;
                        pfVar9 = local_c;
                        local_20 = local_c;
                        local_c = local_24;
                        local_24 = pfVar8;
                        local_8 = local_78;
                      } while ((int)local_78 < (int)local_54);
                    }
                    (**(code **)*local_30)(1);
                    (**(code **)*local_38)(1);
                    if (local_18 != (int *)0x0) {
                      (**(code **)(*local_18 + 8))(local_18);
                      local_18 = (int *)0x0;
                    }
                    if (local_1c != (int *)0x0) {
                      (**(code **)(*local_1c + 8))(local_1c);
                      local_1c = (int *)0x0;
                    }
                    local_10 = local_10 + 1;
                  } while (local_10 < local_44);
                }
                iVar10 = 0;
              }
LAB_1000bb7b:
              if (local_18 != (int *)0x0) {
                (**(code **)(*local_18 + 8))(local_18);
                local_18 = (int *)0x0;
              }
              if (local_1c != (int *)0x0) {
                (**(code **)(*local_1c + 8))(local_1c);
                local_1c = (int *)0x0;
              }
              operator_delete(local_28);
              operator_delete(local_3c);
              operator_delete(local_40);
              operator_delete(local_2c);
              operator_delete(local_20);
              operator_delete(local_c);
              operator_delete(local_24);
            }
            goto LAB_1000bbde;
          }
        }
      }
    }
  }
  iVar10 = -0x7789f794;
LAB_1000bbde:
  FUN_100161b6((char *)local_e8);
  FUN_100161b6((char *)local_d8);
  return iVar10;
}



/* FUN_1000bbfc @ 1000bbfc */

/* [binja] int32_t __stdcall sub_1000bbfc(int32_t* arg1, int32_t* arg2, int32_t* arg3, int32_t*
   arg4, int32_t* arg5, int32_t arg6, int32_t arg7) */

int FUN_1000bbfc(int *arg1,int *arg2,int *arg3,int *arg4,int *arg5,int arg6,int arg7)

{
  int *arg2_00;
  int iVar1;
  int *piVar2;
  int unaff_EDI;
  int *piVar3;
  bool bVar4;
  int in_stack_00000020;
  int local_a0;
  int local_9c;
  int local_98;
  int local_78 [9];
  undefined1 local_54 [24];
  int local_3c;
  int local_38;
  int local_34 [4];
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  
  FUN_10016121(local_34);
  arg2_00 = arg4;
  if (arg1 == (int *)0x0) {
    iVar1 = -0x7789f794;
    goto LAB_1000bd90;
  }
  if (arg4 == (int *)0x0) {
    iVar1 = -0x7789f794;
    goto LAB_1000bd90;
  }
  if (((arg7 & 0xffffU) == 5) || (in_stack_00000020 != 0)) {
LAB_1000bd39:
    iVar1 = 1;
    if (arg1 == arg2_00) {
      iVar1 = 0x10001;
    }
    iVar1 = FUN_100161bb(local_34,(char *)&local_a0,arg2_00,arg5,arg6,(int *)0x0,iVar1,unaff_EDI);
    if ((iVar1 < 0) ||
       (iVar1 = FUN_1000acc0(arg1,(int)arg2,arg3,local_a0,local_9c,local_98,(int)arg5,local_78,arg7,
                             in_stack_00000020), iVar1 < 0)) goto LAB_1000bd90;
  }
  else {
    if (arg2 != arg5) {
      if ((arg2 != (int *)0x0) && (arg5 != (int *)0x0)) {
        iVar1 = 0x100;
        bVar4 = true;
        piVar2 = arg2;
        piVar3 = arg5;
        do {
          if (iVar1 == 0) break;
          iVar1 = iVar1 + -1;
          bVar4 = *piVar2 == *piVar3;
          piVar2 = piVar2 + 1;
          piVar3 = piVar3 + 1;
        } while (bVar4);
        if (bVar4) goto LAB_1000bc77;
      }
      goto LAB_1000bd39;
    }
LAB_1000bc77:
    if (arg3 == (int *)0x0) {
      (**(code **)(*arg1 + 0x20))(arg1,local_54);
      local_14 = 0;
      local_10 = 0;
      local_c = local_3c;
      local_8 = local_38;
    }
    else {
      local_14 = *arg3;
      local_10 = arg3[1];
      local_c = arg3[2];
      local_8 = arg3[3];
    }
    if (arg6 == 0) {
      (**(code **)(*arg2_00 + 0x20))(arg2_00,local_54);
      local_24 = 0;
      local_20 = 0;
      local_1c = local_3c;
      local_18 = local_38;
    }
    else {
      local_24 = *(int *)arg6;
      local_20 = *(int *)(arg6 + 4);
      local_1c = *(int *)(arg6 + 8);
      local_18 = *(int *)(arg6 + 0xc);
    }
    if ((local_c - local_14 != local_1c - local_24) || (local_8 - local_10 != local_18 - local_20))
    goto LAB_1000bd39;
    (**(code **)(*arg2_00 + 0xc))(arg2_00,&arg4);
    grim_d3d_debug_set_mute(1);
    iVar1 = (**(code **)(*arg4 + 0x70))(arg4,arg2_00,&local_24,1,arg1,&local_14);
    grim_d3d_debug_set_mute(0);
    (**(code **)(*arg4 + 8))(arg4);
    if (iVar1 < 0) goto LAB_1000bd39;
  }
  iVar1 = 0;
LAB_1000bd90:
  FUN_100161b6((char *)local_34);
  return iVar1;
}



/* FUN_1000bda2 @ 1000bda2 */

/* [binja] int32_t __stdcall sub_1000bda2(int32_t* arg1, int32_t arg2, int32_t arg3, int32_t* arg4,
   int32_t arg5, int32_t arg6, int32_t arg7, int32_t arg8) */

int FUN_1000bda2(int *arg1,int arg2,int arg3,int *arg4,int arg5,int arg6,int arg7,int arg8)

{
  int iVar1;
  int unaff_ESI;
  int iVar2;
  int local_54;
  int local_50;
  int local_4c;
  int local_48;
  undefined1 local_2c [36];
  int local_8;
  
  FUN_1001619a(&local_8);
  if ((arg1 == (int *)0x0) || (arg4 == (int *)0x0)) {
    iVar2 = -0x7789f794;
  }
  else {
    iVar1 = 1;
    if (arg1 == arg4) {
      iVar1 = 0x10001;
    }
    iVar1 = FUN_100165d3(&local_8,&local_54,arg4,(int *)arg5,arg6,0,iVar1,unaff_ESI);
    if (-1 < iVar1) {
      iVar1 = FUN_1000ae72(arg1,arg2,arg3,local_54,local_50,local_4c,local_48,arg5,(int)local_2c,
                           arg7,arg8);
      iVar2 = 0;
      if (-1 < iVar1) goto LAB_1000be19;
    }
    iVar2 = iVar1;
  }
LAB_1000be19:
  thunk_FUN_100161a0(&local_8);
  return iVar2;
}



/* FUN_1000be28 @ 1000be28 */

undefined4 FUN_1000be28(void)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  uint *puVar4;
  undefined4 *puVar5;
  int *piVar6;
  int *extraout_ECX;
  uint uVar7;
  int *unaff_EBX;
  uint arg3;
  int unaff_EBP;
  undefined4 uVar8;
  uint *puVar9;
  
  seh_prolog();
  FUN_10010285((int *)(unaff_EBP + -0x98));
  *(undefined4 *)(unaff_EBP + -4) = 0;
  if ((*(int *)(unaff_EBP + 8) == 0) || (extraout_ECX == (int *)0x0)) {
    uVar8 = 0x8876086c;
    goto LAB_1000c194;
  }
  iVar2 = (**(code **)(*extraout_ECX + 0x28))(extraout_ECX);
  *(int *)(unaff_EBP + -0x40) = iVar2;
  if (((iVar2 != 3) && (iVar2 != 4)) && (iVar2 != 5)) {
    uVar8 = 0x8876086c;
    goto LAB_1000c194;
  }
  *(int **)(unaff_EBP + -0x24) = extraout_ECX;
  if (*(int *)(unaff_EBP + 0xc) == 4) {
    *(uint *)(unaff_EBP + -0x30) = ((iVar2 != 5) - 1 & 5) + 1;
    iVar3 = (**(code **)(*extraout_ECX + 0x34))(extraout_ECX);
  }
  else {
    iVar3 = 1;
    *(undefined4 *)(unaff_EBP + -0x30) = 1;
  }
  arg3 = iVar3 * *(int *)(unaff_EBP + -0x30);
  puVar9 = (uint *)0x0;
  *(int *)(unaff_EBP + -0x20) = iVar3;
  *(undefined4 *)(unaff_EBP + -0x14) = 0;
  *(undefined4 *)(unaff_EBP + -0x18) = 0;
  *(undefined4 *)(unaff_EBP + -0x2c) = 0;
  *(undefined4 *)(unaff_EBP + -0x34) = 0;
  if (iVar2 == 3) {
LAB_1000becd:
    puVar4 = operator_new(arg3 * 0x10 + 4);
    *(uint **)(unaff_EBP + -0x2c) = puVar4;
    *(undefined1 *)(unaff_EBP + -4) = 1;
    if (puVar4 != (uint *)0x0) {
      puVar9 = puVar4 + 1;
      *puVar4 = arg3;
      FUN_1004b6c3((int)puVar9,0x10,arg3,0x10016121);
    }
    *(undefined1 *)(unaff_EBP + -4) = 0;
    *(uint **)(unaff_EBP + -0x2c) = puVar9;
    if (puVar9 != (uint *)0x0) {
      puVar5 = operator_new(arg3 * 4);
      *(undefined4 **)(unaff_EBP + -0x14) = puVar5;
joined_r0x1000bfcb:
      if (puVar5 != (undefined4 *)0x0) {
        for (uVar7 = arg3 & 0x3fffffff; uVar7 != 0; uVar7 = uVar7 - 1) {
          *puVar5 = 0;
          puVar5 = puVar5 + 1;
        }
        for (iVar2 = 0; iVar2 != 0; iVar2 = iVar2 + -1) {
          *(undefined1 *)puVar5 = 0;
          puVar5 = (undefined4 *)((int)puVar5 + 1);
        }
        goto LAB_1000bf39;
      }
    }
LAB_1000c1dc:
    *(undefined4 *)(unaff_EBP + -0x10) = 0x8007000e;
  }
  else {
    if (iVar2 == 4) {
      puVar9 = operator_new(arg3 * 4 + 4);
      *(uint **)(unaff_EBP + -0x34) = puVar9;
      *(undefined1 *)(unaff_EBP + -4) = 2;
      if (puVar9 == (uint *)0x0) {
        puVar4 = (uint *)0x0;
      }
      else {
        puVar4 = puVar9 + 1;
        *puVar9 = arg3;
        FUN_1004b6c3((int)puVar4,4,arg3,0x1001619a);
      }
      *(undefined1 *)(unaff_EBP + -4) = 0;
      *(uint **)(unaff_EBP + -0x34) = puVar4;
      if (puVar4 != (uint *)0x0) {
        puVar5 = operator_new(arg3 * 4);
        *(undefined4 **)(unaff_EBP + -0x18) = puVar5;
        goto joined_r0x1000bfcb;
      }
      goto LAB_1000c1dc;
    }
    if (iVar2 == 5) goto LAB_1000becd;
LAB_1000bf39:
    *(int *)(unaff_EBP + -0x38) = unaff_EBP + -0x98;
    *(undefined4 *)(unaff_EBP + -0x1c) = 0;
    if (*(int *)(unaff_EBP + -0x30) != 0) {
      *(undefined4 *)(unaff_EBP + -0x3c) = 0;
      do {
        uVar7 = 0;
        if (*(int *)(unaff_EBP + -0x1c) != 0) {
          piVar6 = operator_new(0x54);
          *(int **)(unaff_EBP + -0x28) = piVar6;
          *(undefined1 *)(unaff_EBP + -4) = 3;
          if (piVar6 == (int *)0x0) {
            piVar6 = (int *)0x0;
          }
          else {
            piVar6 = FUN_10010285(piVar6);
          }
          *(undefined1 *)(unaff_EBP + -4) = 0;
          if (piVar6 == (int *)0x0) goto LAB_1000c1dc;
          *(int **)(*(int *)(unaff_EBP + -0x38) + 0x50) = piVar6;
          *(int **)(unaff_EBP + -0x38) = piVar6;
        }
        *(undefined4 *)(unaff_EBP + -0x28) = *(undefined4 *)(unaff_EBP + -0x38);
        if (*(int *)(unaff_EBP + -0x20) != 0) {
          do {
            if (uVar7 != 0) {
              piVar6 = operator_new(0x54);
              *(int **)(unaff_EBP + -0x44) = piVar6;
              *(undefined1 *)(unaff_EBP + -4) = 4;
              if (piVar6 == (int *)0x0) {
                piVar6 = (int *)0x0;
              }
              else {
                piVar6 = FUN_10010285(piVar6);
              }
              *(undefined1 *)(unaff_EBP + -4) = 0;
              if (piVar6 == (int *)0x0) goto LAB_1000c1dc;
              *(int **)(*(int *)(unaff_EBP + -0x28) + 0x4c) = piVar6;
              *(int **)(unaff_EBP + -0x28) = piVar6;
            }
            iVar2 = *(int *)(unaff_EBP + -0x3c) + uVar7;
            iVar3 = *(int *)(unaff_EBP + -0x40);
            if (iVar3 == 3) {
              iVar3 = *(int *)(unaff_EBP + -0x14);
LAB_1000c06a:
              uVar8 = (**(code **)(**(int **)(unaff_EBP + -0x24) + 0x3c))
                                (*(int **)(unaff_EBP + -0x24),uVar7,iVar3 + iVar2 * 4);
LAB_1000c078:
              *(undefined4 *)(unaff_EBP + -0x10) = uVar8;
            }
            else {
              if (iVar3 == 4) {
                iVar3 = *(int *)(unaff_EBP + -0x18);
                goto LAB_1000c06a;
              }
              if (iVar3 == 5) {
                uVar8 = (**(code **)(**(int **)(unaff_EBP + -0x24) + 0x3c))
                                  (*(int **)(unaff_EBP + -0x24),*(undefined4 *)(unaff_EBP + -0x1c),
                                   uVar7,*(int *)(unaff_EBP + -0x14) + iVar2 * 4);
                goto LAB_1000c078;
              }
            }
            if (*(int *)(unaff_EBP + -0x10) < 0) goto LAB_1000c117;
            iVar3 = *(int *)(unaff_EBP + -0x40);
            if (iVar3 == 3) {
LAB_1000c097:
              iVar2 = FUN_100161bb((void *)(iVar2 * 0x10 + *(int *)(unaff_EBP + -0x2c)),
                                   (char *)(unaff_EBP + -0xe4),
                                   *(int **)(*(int *)(unaff_EBP + -0x14) + iVar2 * 4),
                                   *(int **)(unaff_EBP + 0x10),0,(int *)0x0,1,(int)unaff_EBX);
LAB_1000c0ba:
              *(int *)(unaff_EBP + -0x10) = iVar2;
            }
            else {
              if (iVar3 == 4) {
                iVar2 = FUN_100165d3((void *)(*(int *)(unaff_EBP + -0x34) + iVar2 * 4),
                                     (int *)(unaff_EBP + -0xe4),
                                     *(int **)(iVar2 * 4 + *(int *)(unaff_EBP + -0x18)),
                                     *(int **)(unaff_EBP + 0x10),0,0,1,(int)unaff_EBX);
                goto LAB_1000c0ba;
              }
              if (iVar3 == 5) goto LAB_1000c097;
            }
            if (*(int *)(unaff_EBP + -0x10) < 0) goto LAB_1000c117;
            iVar2 = FUN_10010313(*(void **)(unaff_EBP + -0x28),(int *)(unaff_EBP + -0xe4),unaff_EBX)
            ;
            *(int *)(unaff_EBP + -0x10) = iVar2;
            if (iVar2 < 0) goto LAB_1000c117;
            uVar7 = uVar7 + 1;
          } while (uVar7 < *(uint *)(unaff_EBP + -0x20));
        }
        *(int *)(unaff_EBP + -0x1c) = *(int *)(unaff_EBP + -0x1c) + 1;
        *(int *)(unaff_EBP + -0x3c) = *(int *)(unaff_EBP + -0x3c) + *(int *)(unaff_EBP + -0x20);
      } while (*(uint *)(unaff_EBP + -0x1c) < *(uint *)(unaff_EBP + -0x30));
    }
    iVar2 = FUN_1001237e(*(int **)(unaff_EBP + 8),*(int *)(unaff_EBP + 0xc),
                         *(int *)(unaff_EBP + 0x14),unaff_EBX);
    *(int *)(unaff_EBP + -0x10) = iVar2;
    if (-1 < iVar2) {
      *(undefined4 *)(unaff_EBP + -0x10) = 0;
    }
  }
LAB_1000c117:
  uVar7 = 0;
  if (*(CODBCFieldInfo **)(unaff_EBP + -0x2c) != (CODBCFieldInfo *)0x0) {
    CODBCFieldInfo::_vector_deleting_destructor_(*(CODBCFieldInfo **)(unaff_EBP + -0x2c),3);
  }
  if (*(void **)(unaff_EBP + -0x34) != (void *)0x0) {
    FID_conflict__vector_deleting_destructor_(*(void **)(unaff_EBP + -0x34),3);
  }
  if (*(int *)(unaff_EBP + -0x14) != 0) {
    if (arg3 != 0) {
      do {
        piVar6 = (int *)(*(int *)(unaff_EBP + -0x14) + uVar7 * 4);
        piVar1 = (int *)*piVar6;
        if (piVar1 != (int *)0x0) {
          (**(code **)(*piVar1 + 8))(piVar1);
          *piVar6 = 0;
        }
        uVar7 = uVar7 + 1;
      } while (uVar7 < arg3);
    }
    operator_delete(*(void **)(unaff_EBP + -0x14));
  }
  uVar7 = 0;
  if (*(int *)(unaff_EBP + -0x18) != 0) {
    if (arg3 != 0) {
      do {
        piVar6 = (int *)(*(int *)(unaff_EBP + -0x18) + uVar7 * 4);
        piVar1 = (int *)*piVar6;
        if (piVar1 != (int *)0x0) {
          (**(code **)(*piVar1 + 8))(piVar1);
          *piVar6 = 0;
        }
        uVar7 = uVar7 + 1;
      } while (uVar7 < arg3);
    }
    operator_delete(*(void **)(unaff_EBP + -0x18));
  }
  uVar8 = *(undefined4 *)(unaff_EBP + -0x10);
LAB_1000c194:
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  FUN_1001029e((void *)(unaff_EBP + -0x98));
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return uVar8;
}



/* FUN_1000c1e8 @ 1000c1e8 */

/* [binja] void* __stdcall sub_1000c1e8(int32_t arg1, int32_t arg2, int32_t* arg3, int32_t arg4) */

void * FUN_1000c1e8(int arg1,int arg2,int *arg3,int arg4)

{
  void *pvVar1;
  
  pvVar1 = (void *)FUN_1000be28();
  return pvVar1;
}



/* FUN_1000c205 @ 1000c205 */

/* [binja] int32_t __stdcall sub_1000c205(int32_t* arg1, int32_t* arg2, int32_t arg3, int32_t arg4)
    */

int FUN_1000c205(int *arg1,int *arg2,int arg3,int arg4)

{
  int *piVar1;
  int iVar2;
  int **ppiVar3;
  uint uVar4;
  bool bVar5;
  undefined1 local_68 [20];
  uint local_54;
  uint local_50;
  uint local_4c;
  undefined1 local_48 [24];
  uint local_30;
  uint local_2c;
  uint local_28;
  uint local_24;
  int local_20;
  int *local_1c;
  uint local_18;
  int local_14;
  int *local_10;
  int *local_c;
  int *local_8;
  
  piVar1 = arg1;
  if ((arg1 == (int *)0x0) ||
     (((local_14 = (**(code **)(*arg1 + 0x28))(arg1), local_14 != 3 && (local_14 != 4)) &&
      (local_14 != 5)))) {
    return -0x7789f794;
  }
  local_1c = piVar1;
  iVar2 = 5;
  if (arg4 != -1) goto LAB_1000c2a7;
  if (local_14 == 3) {
    (**(code **)(*piVar1 + 0x38))(piVar1,0,local_48);
    if (((local_30 & local_30 - 1) == 0) && (arg4 = iVar2, (local_2c & local_2c - 1) == 0))
    goto LAB_1000c2a7;
    arg4 = 0;
LAB_1000c2f6:
    bVar5 = arg4 != 0;
    arg4 = iVar2;
    if (bVar5) goto LAB_1000c2a7;
  }
  else {
    if (local_14 == 4) {
      (**(code **)(*piVar1 + 0x38))(piVar1,0,local_68);
      if ((local_54 & local_54 - 1) != 0) goto LAB_1000c2a0;
      local_30 = local_50 & local_50 - 1;
    }
    else {
      if (local_14 != 5) goto LAB_1000c2f6;
      (**(code **)(*piVar1 + 0x38))(piVar1,0,local_48);
      local_30 = local_30 & local_30 - 1;
      local_4c = local_2c;
    }
    if ((local_30 == 0) && (arg4 = iVar2, (local_4c & local_4c - 1) == 0)) goto LAB_1000c2a7;
  }
LAB_1000c2a0:
  arg4 = 0x80004;
LAB_1000c2a7:
  if (local_14 == 5) {
    arg4 = arg4 | 0x70000;
  }
  local_24 = (**(code **)(*piVar1 + 0x34))(piVar1);
  if (arg3 == -1) {
    arg3 = 0;
  }
  if ((uint)arg3 < local_24) {
    arg1 = (int *)0x0;
    local_c = (int *)0x0;
    local_8 = (int *)0x0;
    local_10 = (int *)0x0;
    local_28 = ((local_14 != 5) - 1 & 5) + 1;
    if (((arg4 & 0xffU) == 2) || (local_20 = 0, (arg4 & 0xffU) == 5)) {
      local_20 = 1;
    }
    local_18 = 0;
    iVar2 = arg4;
    if (local_28 != 0) {
      do {
        if (local_14 == 3) {
          ppiVar3 = &arg1;
LAB_1000c370:
          iVar2 = (**(code **)(*local_1c + 0x3c))(local_1c,arg3,ppiVar3);
        }
        else {
          if (local_14 == 4) {
            ppiVar3 = &local_c;
            goto LAB_1000c370;
          }
          if (local_14 == 5) {
            iVar2 = (**(code **)(*local_1c + 0x3c))(local_1c,local_18,arg3,&arg1);
          }
        }
        uVar4 = arg3;
        if (iVar2 < 0) goto LAB_1000c4a3;
LAB_1000c468:
        uVar4 = uVar4 + 1;
        if (uVar4 < local_24) {
          if (local_14 == 3) {
            ppiVar3 = &local_8;
LAB_1000c3b8:
            iVar2 = (**(code **)(*local_1c + 0x3c))(local_1c,uVar4,ppiVar3);
          }
          else {
            if (local_14 == 4) {
              ppiVar3 = &local_10;
              goto LAB_1000c3b8;
            }
            if (local_14 == 5) {
              iVar2 = (**(code **)(*local_1c + 0x3c))(local_1c,local_18,uVar4,&local_8);
            }
          }
          if (-1 < iVar2) {
            if (local_14 == 3) {
LAB_1000c3db:
              iVar2 = FUN_1000bbfc(local_8,arg2,(int *)0x0,arg1,arg2,0,arg4);
            }
            else if (local_14 == 4) {
              iVar2 = FUN_1000bda2(local_10,(int)arg2,0,local_c,(int)arg2,0,arg4,0);
            }
            else if (local_14 == 5) goto LAB_1000c3db;
            if (-1 < iVar2) {
              if (local_20 == 0) goto LAB_1000c448;
              if (arg1 != (int *)0x0) {
                (**(code **)(*arg1 + 8))(arg1);
                arg1 = (int *)0x0;
              }
              if (local_c != (int *)0x0) {
                (**(code **)(*local_c + 8))(local_c);
              }
              arg1 = local_8;
              local_8 = (int *)0x0;
              local_c = local_10;
              goto LAB_1000c465;
            }
          }
          goto LAB_1000c4a3;
        }
        if (arg1 != (int *)0x0) {
          (**(code **)(*arg1 + 8))(arg1);
          arg1 = (int *)0x0;
        }
        if (local_c != (int *)0x0) {
          (**(code **)(*local_c + 8))(local_c);
          local_c = (int *)0x0;
        }
        local_18 = local_18 + 1;
      } while (local_18 < local_28);
    }
    iVar2 = 0;
LAB_1000c4a3:
    if (arg1 != (int *)0x0) {
      (**(code **)(*arg1 + 8))(arg1);
      arg1 = (int *)0x0;
    }
    if (local_c != (int *)0x0) {
      (**(code **)(*local_c + 8))(local_c);
      local_c = (int *)0x0;
    }
    if (local_8 != (int *)0x0) {
      (**(code **)(*local_8 + 8))(local_8);
      local_8 = (int *)0x0;
    }
    if (local_10 != (int *)0x0) {
      (**(code **)(*local_10 + 8))(local_10);
    }
  }
  else {
    iVar2 = -0x7789f794;
  }
  return iVar2;
LAB_1000c448:
  if (local_8 != (int *)0x0) {
    (**(code **)(*local_8 + 8))(local_8);
    local_8 = (int *)0x0;
  }
  if (local_10 != (int *)0x0) {
    (**(code **)(*local_10 + 8))(local_10);
LAB_1000c465:
    local_10 = (int *)0x0;
  }
  goto LAB_1000c468;
}



/* FUN_1000c4e9 @ 1000c4e9 */

/* [binja] int32_t sub_1000c4e9(int32_t** arg1, void* arg2, int32_t* arg3, int32_t arg4, int32_t
   arg5, int32_t arg6, int32_t arg7, int32_t arg8, void* arg9, int32_t arg10, int32_t arg11,
   int32_t** arg12) */

int FUN_1000c4e9(int **arg1,void *arg2,int *arg3,int arg4,int arg5,int arg6,int arg7,int arg8,
                void *arg9,int arg10,int arg11,int **arg12)

{
  byte bVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  uint uVar5;
  int *piVar6;
  uint uVar7;
  int *piVar8;
  uint uVar9;
  int unaff_EBP;
  undefined4 *puVar10;
  int *piVar11;
  int unaff_EDI;
  int iVar12;
  undefined4 *puVar13;
  
  seh_prolog();
  piVar8 = *(int **)(unaff_EBP + 0x3c);
  FUN_10010285((int *)(unaff_EBP + -0x8c));
  *(undefined4 *)(unaff_EBP + -4) = 0;
  *(undefined4 *)(unaff_EBP + -0x18) = 0;
  *(undefined4 *)(unaff_EBP + -0x14) = 0;
  *(undefined4 *)(unaff_EBP + -0x1c) = 0;
  *(undefined4 *)(unaff_EBP + -0x20) = 0;
  if ((((*(int *)(unaff_EBP + 8) == 0) || (*(int *)(unaff_EBP + 0xc) == 0)) ||
      (*(int *)(unaff_EBP + 0x10) == 0)) || (*(int *)(unaff_EBP + 0x48) == 0)) {
    iVar12 = -0x7789f794;
    goto LAB_1000cb0e;
  }
  if ((piVar8 == (int *)0x0) && (*(int *)(unaff_EBP + 0x44) == -1)) {
    piVar8 = (int *)(unaff_EBP + -0xcc);
  }
  iVar12 = FUN_10012677((void *)(unaff_EBP + -0x8c),*(int **)(unaff_EBP + 0xc),
                        *(void **)(unaff_EBP + 0x10),piVar8,(int *)0x1,unaff_EDI);
  if (iVar12 < 0) goto LAB_1000cb0e;
  if (*(int *)(unaff_EBP + 0x44) == -1) {
    *(int *)(unaff_EBP + 0x44) = piVar8[5];
  }
  iVar12 = *(int *)(unaff_EBP + -0x40);
  *(undefined4 *)(unaff_EBP + -0x24) = 1;
  for (; iVar12 != 0; iVar12 = *(int *)(iVar12 + 0x4c)) {
    *(int *)(unaff_EBP + -0x24) = *(int *)(unaff_EBP + -0x24) + 1;
  }
  *(undefined4 *)(unaff_EBP + -0x28) = 1;
  if (*(int *)(unaff_EBP + 0x44) == 5) {
    iVar12 = *(int *)(unaff_EBP + -0x3c);
    if (iVar12 != 0) {
      do {
        iVar12 = *(int *)(iVar12 + 0x50);
        *(int *)(unaff_EBP + -0x28) = *(int *)(unaff_EBP + -0x28) + 1;
      } while (iVar12 != 0);
      if (*(int *)(unaff_EBP + -0x28) == 6) goto LAB_1000c5b6;
    }
    iVar12 = -0x7fffbffb;
    goto LAB_1000cb0e;
  }
LAB_1000c5b6:
  if ((*(int *)(unaff_EBP + 0x14) == 0) || (*(int *)(unaff_EBP + 0x14) == -1)) {
    *(undefined4 *)(unaff_EBP + 0x14) = *(undefined4 *)(unaff_EBP + -0x80);
  }
  if ((*(int *)(unaff_EBP + 0x18) == 0) || (*(int *)(unaff_EBP + 0x18) == -1)) {
    *(undefined4 *)(unaff_EBP + 0x18) = *(undefined4 *)(unaff_EBP + -0x7c);
  }
  if ((*(int *)(unaff_EBP + 0x1c) == 0) || (*(int *)(unaff_EBP + 0x1c) == -1)) {
    *(undefined4 *)(unaff_EBP + 0x1c) = *(undefined4 *)(unaff_EBP + -0x78);
  }
  if (*(int *)(unaff_EBP + 0x30) == -1) {
    *(undefined4 *)(unaff_EBP + 0x30) = 0x80004;
  }
  if (*(int *)(unaff_EBP + 0x34) == -1) {
    *(undefined4 *)(unaff_EBP + 0x34) = 5;
  }
  if (*(int *)(unaff_EBP + 0x44) == 5) {
    *(uint *)(unaff_EBP + 0x30) = *(uint *)(unaff_EBP + 0x30) | 0x70000;
    *(uint *)(unaff_EBP + 0x34) = *(uint *)(unaff_EBP + 0x34) | 0x70000;
  }
  if (((*(char *)(unaff_EBP + 0x30) == '\x01') ||
      (uVar7 = *(uint *)(unaff_EBP + 0x34) & 0xff, uVar7 == 2)) ||
     (*(undefined4 *)(unaff_EBP + -0x30) = 0, uVar7 == 5)) {
    *(undefined4 *)(unaff_EBP + -0x30) = 1;
  }
  if (*(int *)(unaff_EBP + 0x28) == 0) {
    iVar12 = *(int *)(unaff_EBP + -0x8c);
    if (*(int *)(unaff_EBP + 0x38) != 0) {
      piVar8 = grim_format_info_lookup(iVar12);
      iVar2 = piVar8[1];
      if ((((iVar2 == 0) || (iVar2 == 1)) || (iVar2 == 2)) && (piVar8[4] == 0)) {
        uVar3 = *(undefined4 *)(unaff_EBP + 0x44);
        uVar4 = *(undefined4 *)(unaff_EBP + 0x24);
        piVar11 = (int *)(unaff_EBP + -0xb0);
        for (iVar12 = 9; iVar12 != 0; iVar12 = iVar12 + -1) {
          *piVar11 = *piVar8;
          piVar8 = piVar8 + 1;
          piVar11 = piVar11 + 1;
        }
        *(undefined4 *)(unaff_EBP + -0xb0) = 0;
        *(undefined4 *)(unaff_EBP + -0xa0) = 1;
        iVar12 = FUN_1000abad((int *)0x0,uVar4,uVar3,(int *)(unaff_EBP + -0xb0));
        if (iVar12 == 0) {
          iVar12 = *(int *)(unaff_EBP + -0x8c);
        }
      }
    }
    iVar12 = FUN_1000ac8f(iVar12);
    *(int *)(unaff_EBP + 0x28) = iVar12;
    if ((*(int *)(unaff_EBP + 0x2c) != 3) && (iVar12 == 0x14)) {
      *(undefined4 *)(unaff_EBP + 0x28) = 0x16;
    }
  }
  iVar12 = *(int *)(unaff_EBP + -0x84);
  if (iVar12 == 0) {
    puVar10 = (undefined4 *)(unaff_EBP + -0x4cc);
    for (iVar12 = 0x100; uVar7 = 0, iVar12 != 0; iVar12 = iVar12 + -1) {
      *puVar10 = 0xffffffff;
      puVar10 = puVar10 + 1;
    }
  }
  else {
    uVar9 = *(uint *)(unaff_EBP + 0x38);
    bVar1 = *(byte *)(unaff_EBP + 0x3a);
    uVar7 = 0;
    do {
      uVar5 = *(uint *)(iVar12 + uVar7 * 4);
      *(uint *)(unaff_EBP + -0x4cc + uVar7 * 4) =
           -(uint)(uVar5 != ((uint)bVar1 | (uVar9 & 0xff) << 0x10 | uVar9 & 0xff00ff00)) & uVar5;
      uVar7 = uVar7 + 1;
    } while (uVar7 < 0x100);
    *(undefined4 *)(unaff_EBP + 0x38) = 0;
  }
  if (*(undefined4 **)(unaff_EBP + 0x40) == (undefined4 *)0x0) {
    if (*(int *)(unaff_EBP + 0x28) == 0x28) {
LAB_1000c75c:
      *(undefined4 *)(unaff_EBP + 0x28) = 0x15;
    }
    else if (*(int *)(unaff_EBP + 0x28) == 0x29) {
      *(undefined4 *)(unaff_EBP + 0x28) = 0x16;
      uVar9 = 0;
      do {
        if (*(char *)(unaff_EBP + -0x4c9 + uVar9 * 4) != -1) goto LAB_1000c75c;
        uVar9 = uVar9 + 1;
      } while (uVar9 < 0x100);
    }
  }
  else {
    puVar10 = (undefined4 *)(unaff_EBP + -0x4cc);
    puVar13 = *(undefined4 **)(unaff_EBP + 0x40);
    for (iVar12 = 0x100; iVar12 != 0; iVar12 = iVar12 + -1) {
      *puVar13 = *puVar10;
      puVar10 = puVar10 + 1;
      puVar13 = puVar13 + 1;
    }
    uVar7 = 0;
  }
  if ((*(int *)(unaff_EBP + 0x2c) != 0) ||
     (*(undefined4 *)(unaff_EBP + -0x34) = 1, (*(byte *)(unaff_EBP + 0x25) & 2) != 0)) {
    *(undefined4 *)(unaff_EBP + -0x34) = 0;
  }
  iVar12 = FUN_1000af45(uVar7,*(uint *)(unaff_EBP + 0x24),*(int **)(unaff_EBP + 8),
                        (uint *)(unaff_EBP + 0x14),(uint *)(unaff_EBP + 0x18),
                        (uint *)(unaff_EBP + 0x1c),(uint *)(unaff_EBP + 0x20),
                        (int *)(unaff_EBP + 0x28),*(int *)(unaff_EBP + 0x2c),
                        *(int *)(unaff_EBP + 0x44));
  if (-1 < iVar12) {
    iVar2 = *(int *)(unaff_EBP + 0x44);
    uVar3 = *(undefined4 *)(unaff_EBP + 0x28);
    uVar4 = *(undefined4 *)(unaff_EBP + 0x14);
    if (iVar2 == 3) {
      iVar12 = (**(code **)(**(int **)(unaff_EBP + 8) + 0x50))
                         (*(int **)(unaff_EBP + 8),uVar4,*(undefined4 *)(unaff_EBP + 0x18),
                          *(undefined4 *)(unaff_EBP + 0x20),*(undefined4 *)(unaff_EBP + 0x24),uVar3,
                          *(undefined4 *)(unaff_EBP + 0x2c),unaff_EBP + -0x1c);
    }
    else if (iVar2 == 4) {
      iVar12 = (**(code **)(**(int **)(unaff_EBP + 8) + 0x54))
                         (*(int **)(unaff_EBP + 8),uVar4,*(undefined4 *)(unaff_EBP + 0x18),
                          *(undefined4 *)(unaff_EBP + 0x1c),*(undefined4 *)(unaff_EBP + 0x20),
                          *(undefined4 *)(unaff_EBP + 0x24),uVar3,*(undefined4 *)(unaff_EBP + 0x2c),
                          unaff_EBP + -0x1c);
    }
    else if (iVar2 == 5) {
      iVar12 = (**(code **)(**(int **)(unaff_EBP + 8) + 0x58))
                         (*(int **)(unaff_EBP + 8),uVar4,*(undefined4 *)(unaff_EBP + 0x20),
                          *(undefined4 *)(unaff_EBP + 0x24),uVar3,*(undefined4 *)(unaff_EBP + 0x2c),
                          unaff_EBP + -0x1c);
    }
    if (-1 < iVar12) {
      if (*(int *)(unaff_EBP + -0x34) == 0) {
        piVar8 = *(int **)(unaff_EBP + -0x1c);
      }
      else {
        iVar2 = *(int *)(unaff_EBP + 0x44);
        if (iVar2 == 3) {
          iVar12 = (**(code **)(**(int **)(unaff_EBP + 8) + 0x50))
                             (*(int **)(unaff_EBP + 8),uVar4,*(undefined4 *)(unaff_EBP + 0x18),
                              *(undefined4 *)(unaff_EBP + 0x20),0,uVar3,2,unaff_EBP + -0x20);
        }
        else if (iVar2 == 4) {
          iVar12 = (**(code **)(**(int **)(unaff_EBP + 8) + 0x54))
                             (*(int **)(unaff_EBP + 8),uVar4,*(undefined4 *)(unaff_EBP + 0x18),
                              *(undefined4 *)(unaff_EBP + 0x1c),*(undefined4 *)(unaff_EBP + 0x20),0,
                              uVar3,2,unaff_EBP + -0x20);
        }
        else if (iVar2 == 5) {
          iVar12 = (**(code **)(**(int **)(unaff_EBP + 8) + 0x58))
                             (*(int **)(unaff_EBP + 8),uVar4,*(undefined4 *)(unaff_EBP + 0x20),0,
                              uVar3,2,unaff_EBP + -0x20);
        }
        if (iVar12 < 0) goto LAB_1000cacc;
        piVar8 = *(int **)(unaff_EBP + -0x20);
      }
      *(undefined4 *)(unaff_EBP + -0x2c) = 0;
      piVar11 = (int *)(unaff_EBP + -0x8c);
      *(int **)(unaff_EBP + -0x38) = piVar11;
      if (*(int *)(unaff_EBP + -0x28) != 0) {
        do {
          *(undefined4 *)(unaff_EBP + -0x10) = 0;
          if (*(int *)(unaff_EBP + -0x24) != 0) {
            while (*(uint *)(unaff_EBP + -0x10) < *(uint *)(unaff_EBP + 0x20)) {
              iVar2 = *(int *)(unaff_EBP + 0x44);
              if (iVar2 == 3) {
                iVar12 = unaff_EBP + -0x14;
LAB_1000c8eb:
                iVar12 = (**(code **)(*piVar8 + 0x3c))
                                   (piVar8,*(undefined4 *)(unaff_EBP + -0x10),iVar12);
              }
              else {
                if (iVar2 == 4) {
                  iVar12 = unaff_EBP + -0x18;
                  goto LAB_1000c8eb;
                }
                if (iVar2 == 5) {
                  iVar12 = (**(code **)(*piVar8 + 0x3c))
                                     (piVar8,*(undefined4 *)(unaff_EBP + -0x2c),
                                      *(undefined4 *)(unaff_EBP + -0x10),unaff_EBP + -0x14);
                }
              }
              if (iVar12 < 0) goto LAB_1000cacc;
              iVar2 = *(int *)(unaff_EBP + 0x44);
              if (iVar2 == 3) {
LAB_1000c90d:
                iVar12 = FUN_1000acc0(*(int **)(unaff_EBP + -0x14),*(int *)(unaff_EBP + 0x40),
                                      (int *)0x0,piVar11[1],*piVar11,piVar11[0xc],unaff_EBP + -0x4cc
                                      ,piVar11 + 6,*(int *)(unaff_EBP + 0x30),
                                      *(int *)(unaff_EBP + 0x38));
              }
              else if (iVar2 == 4) {
                iVar12 = FUN_1000ae72(*(int **)(unaff_EBP + -0x18),*(int *)(unaff_EBP + 0x40),0,
                                      piVar11[1],*piVar11,piVar11[0xc],piVar11[0xd],
                                      unaff_EBP + -0x4cc,(int)(piVar11 + 6),
                                      *(int *)(unaff_EBP + 0x30),*(int *)(unaff_EBP + 0x38));
              }
              else if (iVar2 == 5) goto LAB_1000c90d;
              if (iVar12 < 0) goto LAB_1000cacc;
              piVar6 = *(int **)(unaff_EBP + -0x18);
              if (piVar6 != (int *)0x0) {
                (**(code **)(*piVar6 + 8))(piVar6);
                *(undefined4 *)(unaff_EBP + -0x18) = 0;
              }
              piVar6 = *(int **)(unaff_EBP + -0x14);
              if (piVar6 != (int *)0x0) {
                (**(code **)(*piVar6 + 8))(piVar6);
                *(undefined4 *)(unaff_EBP + -0x14) = 0;
              }
              *(int *)(unaff_EBP + -0x10) = *(int *)(unaff_EBP + -0x10) + 1;
              if (*(uint *)(unaff_EBP + -0x24) <= *(uint *)(unaff_EBP + -0x10)) break;
              piVar11 = (int *)piVar11[0x13];
            }
          }
          if ((*(int *)(unaff_EBP + -0x30) == 0) &&
             (*(uint *)(unaff_EBP + -0x10) < *(uint *)(unaff_EBP + 0x20))) {
            do {
              iVar2 = *(int *)(unaff_EBP + 0x44);
              if (iVar2 == 3) {
                iVar12 = unaff_EBP + -0x14;
LAB_1000c9db:
                iVar12 = (**(code **)(*piVar8 + 0x3c))
                                   (piVar8,*(undefined4 *)(unaff_EBP + -0x10),iVar12);
              }
              else {
                if (iVar2 == 4) {
                  iVar12 = unaff_EBP + -0x18;
                  goto LAB_1000c9db;
                }
                if (iVar2 == 5) {
                  iVar12 = (**(code **)(*piVar8 + 0x3c))
                                     (piVar8,*(undefined4 *)(unaff_EBP + -0x2c),
                                      *(undefined4 *)(unaff_EBP + -0x10),unaff_EBP + -0x14);
                }
              }
              if (iVar12 < 0) goto LAB_1000cacc;
              iVar2 = *(int *)(unaff_EBP + 0x44);
              if (iVar2 == 3) {
LAB_1000ca01:
                iVar12 = FUN_1000acc0(*(int **)(unaff_EBP + -0x14),*(int *)(unaff_EBP + 0x40),
                                      (int *)0x0,piVar11[1],*piVar11,piVar11[0xc],unaff_EBP + -0x4cc
                                      ,piVar11 + 6,*(int *)(unaff_EBP + 0x30),
                                      *(int *)(unaff_EBP + 0x38));
              }
              else if (iVar2 == 4) {
                iVar12 = FUN_1000ae72(*(int **)(unaff_EBP + -0x18),*(int *)(unaff_EBP + 0x40),0,
                                      piVar11[1],*piVar11,piVar11[0xc],piVar11[0xd],
                                      unaff_EBP + -0x4cc,(int)(piVar11 + 6),
                                      *(int *)(unaff_EBP + 0x30),*(int *)(unaff_EBP + 0x38));
              }
              else if (iVar2 == 5) goto LAB_1000ca01;
              if (iVar12 < 0) goto LAB_1000cacc;
              piVar6 = *(int **)(unaff_EBP + -0x18);
              if (piVar6 != (int *)0x0) {
                (**(code **)(*piVar6 + 8))(piVar6);
                *(undefined4 *)(unaff_EBP + -0x18) = 0;
              }
              piVar6 = *(int **)(unaff_EBP + -0x14);
              if (piVar6 != (int *)0x0) {
                (**(code **)(*piVar6 + 8))(piVar6);
                *(undefined4 *)(unaff_EBP + -0x14) = 0;
              }
              *(int *)(unaff_EBP + -0x10) = *(int *)(unaff_EBP + -0x10) + 1;
            } while (*(uint *)(unaff_EBP + -0x10) < *(uint *)(unaff_EBP + 0x20));
          }
          *(int *)(unaff_EBP + -0x2c) = *(int *)(unaff_EBP + -0x2c) + 1;
          piVar11 = *(int **)(*(int *)(unaff_EBP + -0x38) + 0x50);
          *(int **)(unaff_EBP + -0x38) = piVar11;
        } while (*(uint *)(unaff_EBP + -0x2c) < *(uint *)(unaff_EBP + -0x28));
      }
      if ((((*(int *)(unaff_EBP + -0x30) == 0) ||
           (*(uint *)(unaff_EBP + 0x20) <= *(uint *)(unaff_EBP + -0x24))) ||
          (iVar12 = FUN_1000c205(piVar8,(int *)(unaff_EBP + -0x4cc),*(int *)(unaff_EBP + -0x24) + -1
                                 ,*(int *)(unaff_EBP + 0x34)), -1 < iVar12)) &&
         ((*(int *)(unaff_EBP + -0x34) == 0 ||
          (iVar12 = (**(code **)(**(int **)(unaff_EBP + 8) + 0x74))
                              (*(int **)(unaff_EBP + 8),*(undefined4 *)(unaff_EBP + -0x20),
                               *(undefined4 *)(unaff_EBP + -0x1c)), -1 < iVar12)))) {
        uVar3 = *(undefined4 *)(unaff_EBP + -0x1c);
        *(undefined4 *)(unaff_EBP + -0x1c) = 0;
        **(undefined4 **)(unaff_EBP + 0x48) = uVar3;
        iVar12 = 0;
      }
    }
  }
LAB_1000cacc:
  piVar8 = *(int **)(unaff_EBP + -0x18);
  if (piVar8 != (int *)0x0) {
    (**(code **)(*piVar8 + 8))(piVar8);
    *(undefined4 *)(unaff_EBP + -0x18) = 0;
  }
  piVar8 = *(int **)(unaff_EBP + -0x14);
  if (piVar8 != (int *)0x0) {
    (**(code **)(*piVar8 + 8))(piVar8);
    *(undefined4 *)(unaff_EBP + -0x14) = 0;
  }
  piVar8 = *(int **)(unaff_EBP + -0x1c);
  if (piVar8 != (int *)0x0) {
    (**(code **)(*piVar8 + 8))(piVar8);
    *(undefined4 *)(unaff_EBP + -0x1c) = 0;
  }
  piVar8 = *(int **)(unaff_EBP + -0x20);
  if (piVar8 != (int *)0x0) {
    (**(code **)(*piVar8 + 8))(piVar8);
    *(undefined4 *)(unaff_EBP + -0x20) = 0;
  }
LAB_1000cb0e:
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  FUN_1001029e((void *)(unaff_EBP + -0x8c));
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar12;
}



/* FUN_1000cb5c @ 1000cb5c */

/* [binja] int32_t __stdcall sub_1000cb5c(int32_t** arg1, void* arg2, int32_t* arg3, int32_t arg4,
   int32_t arg5, int32_t arg6, int32_t arg7, void* arg8, int32_t arg9, int32_t arg10, int32_t**
   arg11, int32_t arg12, int32_t arg13, int32_t arg14, int32_t arg15) */

int FUN_1000cb5c(int **arg1,void *arg2,int *arg3,int arg4,int arg5,int arg6,int arg7,void *arg8,
                int arg9,int arg10,int **arg11,int arg12,int arg13,int arg14,int arg15)

{
  int iVar1;
  
  iVar1 = FUN_1000c4e9(arg1,arg2,arg3,arg4,arg5,1,arg6,arg7,arg8,arg9,arg10,arg11);
  return iVar1;
}



/* FUN_1000cb9c @ 1000cb9c */

/* [binja] int32_t __stdcall sub_1000cb9c(int32_t** arg1, int32_t* arg2, int32_t arg3, int32_t arg4,
   int32_t arg5, int32_t arg6, void* arg7, int32_t arg8, int32_t arg9, int32_t** arg10, int32_t
   arg11, int32_t arg12, int32_t arg13, int32_t arg14) */

int FUN_1000cb9c(int **arg1,int *arg2,int arg3,int arg4,int arg5,int arg6,void *arg7,int arg8,
                int arg9,int **arg10,int arg11,int arg12,int arg13,int arg14)

{
  int iVar1;
  int *unaff_ESI;
  int local_14 [2];
  void *local_c;
  int *local_8;
  
  FUN_1001bca5(local_14);
  iVar1 = FUN_1001bcb7(local_14,arg2,(int *)0x0,unaff_ESI);
  if (-1 < iVar1) {
    iVar1 = FUN_1000cb5c(arg1,local_c,local_8,arg3,arg4,arg5,arg6,arg7,arg8,arg9,arg10,arg11,arg12,
                         arg13,arg14);
  }
  FUN_1001bed2(local_14);
  return iVar1;
}



/* float_near_equal @ 1000cbff */

/* returns 1 when |a-b| < 1.1920929e-07 (FLT_EPSILON) */

int __cdecl float_near_equal(float a,float b)

{
  float fVar1;
  
  fVar1 = a - b;
  if ((!NAN(fVar1) && -1.1920929e-07 < fVar1 != (fVar1 == -1.1920929e-07)) &&
     (fVar1 < 1.1920929e-07 != (fVar1 == 1.1920929e-07))) {
    return 1;
  }
  return 0;
}



/* FUN_1000cc2c @ 1000cc2c */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000cc2c(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000cc33. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_DAT_10053d10)();
  return;
}



/* FUN_1000cc3f @ 1000cc3f */

/* [binja] int32_t __stdcall sub_1000cc3f(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   int32_t arg5, float arg6) */

int FUN_1000cc3f(int arg1,int arg2,int arg3,int arg4,int arg5,float arg6)

{
  int iVar1;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053c9c)(arg1,arg2,arg3,arg4,arg5,arg6);
  return iVar1;
}



/* FUN_1000cc69 @ 1000cc69 */

/* [binja] float* __stdcall sub_1000cc69(float* arg1, float* arg2, float* arg3, float* arg4, float*
   arg5, float arg6) */

float * FUN_1000cc69(float *arg1,float *arg2,float *arg3,float *arg4,float *arg5,float arg6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  
  fVar1 = arg6 * arg6;
  fVar2 = arg6 * fVar1;
  fVar5 = ((fVar2 + fVar2) - fVar1 * 3.0) + 1.0;
  fVar3 = (fVar2 - (fVar1 + fVar1)) + arg6;
  fVar4 = fVar1 * 3.0 - (fVar2 + fVar2);
  *arg1 = (fVar2 - fVar1) * *arg5 + fVar4 * *arg4 + fVar3 * *arg3 + fVar5 * *arg2;
  arg1[1] = fVar5 * arg2[1] + fVar3 * arg3[1] + fVar4 * arg4[1] + (fVar2 - fVar1) * arg5[1];
  return arg1;
}



/* FUN_1000ccf7 @ 1000ccf7 */

/* [binja] int32_t __stdcall sub_1000ccf7(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   int32_t arg5, float arg6) */

int FUN_1000ccf7(int arg1,int arg2,int arg3,int arg4,int arg5,float arg6)

{
  int iVar1;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053d14)(arg1,arg2,arg3,arg4,arg5,arg6);
  return iVar1;
}



/* FUN_1000cd21 @ 1000cd21 */

/* [binja] float* __stdcall sub_1000cd21(float* arg1, float* arg2, float* arg3, float* arg4, float*
   arg5, float arg6) */

float * FUN_1000cd21(float *arg1,float *arg2,float *arg3,float *arg4,float *arg5,float arg6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  
  fVar1 = arg6 * arg6;
  fVar2 = arg6 * fVar1;
  fVar5 = (fVar1 * 2.0 - fVar2) - arg6;
  fVar4 = (fVar2 * 3.0 - fVar1 * 5.0) + 2.0;
  fVar3 = (fVar1 * 4.0 - fVar2 * 3.0) + arg6;
  *arg1 = ((fVar2 - fVar1) * *arg5 + fVar3 * *arg4 + fVar4 * *arg3 + fVar5 * *arg2) * 0.5;
  arg1[1] = (fVar5 * arg2[1] + fVar4 * arg3[1] + fVar3 * arg4[1] + (fVar2 - fVar1) * arg5[1]) * 0.5;
  return arg1;
}



/* FUN_1000cdd0 @ 1000cdd0 */

/* [binja] int32_t __stdcall sub_1000cdd0(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   float arg5, float arg6) */

int FUN_1000cdd0(int arg1,int arg2,int arg3,int arg4,float arg5,float arg6)

{
  int iVar1;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053d18)(arg1,arg2,arg3,arg4,arg5,arg6);
  return iVar1;
}



/* FUN_1000cdff @ 1000cdff */

/* [binja] float* __stdcall sub_1000cdff(float* arg1, float* arg2, float* arg3, float* arg4, float
   arg5, float arg6) */

float * FUN_1000cdff(float *arg1,float *arg2,float *arg3,float *arg4,float arg5,float arg6)

{
  *arg1 = (*arg4 - *arg2) * arg6 + (*arg3 - *arg2) * arg5 + *arg2;
  arg1[1] = (arg4[1] - arg2[1]) * arg6 + (arg3[1] - arg2[1]) * arg5 + arg2[1];
  return arg1;
}



/* FUN_1000ce69 @ 1000ce69 */

void FUN_1000ce69(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000ce70. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)PTR_FUN_10053c74)();
  return;
}



/* FUN_1000cea6 @ 1000cea6 */

/* [binja] float* __stdcall sub_1000cea6(float* arg1, float* arg2, float* arg3, float* arg4, float*
   arg5, float arg6) */

float * FUN_1000cea6(float *arg1,float *arg2,float *arg3,float *arg4,float *arg5,float arg6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  
  fVar1 = arg6 * arg6;
  fVar2 = arg6 * fVar1;
  fVar5 = ((fVar2 + fVar2) - fVar1 * 3.0) + 1.0;
  fVar3 = (fVar2 - (fVar1 + fVar1)) + arg6;
  fVar4 = fVar1 * 3.0 - (fVar2 + fVar2);
  fVar2 = fVar2 - fVar1;
  *arg1 = fVar2 * *arg5 + fVar4 * *arg4 + fVar3 * *arg3 + fVar5 * *arg2;
  arg1[1] = fVar5 * arg2[1] + fVar3 * arg3[1] + fVar4 * arg4[1] + fVar2 * arg5[1];
  arg1[2] = fVar5 * arg2[2] + fVar3 * arg3[2] + fVar4 * arg4[2] + fVar2 * arg5[2];
  return arg1;
}



/* FUN_1000cf54 @ 1000cf54 */

/* [binja] int32_t __stdcall sub_1000cf54(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   int32_t arg5, float arg6) */

int FUN_1000cf54(int arg1,int arg2,int arg3,int arg4,int arg5,float arg6)

{
  int iVar1;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053d20)(arg1,arg2,arg3,arg4,arg5,arg6);
  return iVar1;
}



/* FUN_1000cf7e @ 1000cf7e */

/* [binja] float* __stdcall sub_1000cf7e(float* arg1, float* arg2, float* arg3, float* arg4, float*
   arg5, float arg6) */

float * FUN_1000cf7e(float *arg1,float *arg2,float *arg3,float *arg4,float *arg5,float arg6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  
  fVar1 = arg6 * arg6;
  fVar2 = arg6 * fVar1;
  fVar5 = (fVar1 * 2.0 - fVar2) - arg6;
  fVar4 = (fVar2 * 3.0 - fVar1 * 5.0) + 2.0;
  fVar3 = (fVar1 * 4.0 - fVar2 * 3.0) + arg6;
  fVar2 = fVar2 - fVar1;
  *arg1 = (fVar2 * *arg5 + fVar3 * *arg4 + fVar4 * *arg3 + fVar5 * *arg2) * 0.5;
  arg1[1] = (fVar5 * arg2[1] + fVar4 * arg3[1] + fVar3 * arg4[1] + fVar2 * arg5[1]) * 0.5;
  arg1[2] = (fVar5 * arg2[2] + fVar4 * arg3[2] + fVar3 * arg4[2] + fVar2 * arg5[2]) * 0.5;
  return arg1;
}



/* FUN_1000d04f @ 1000d04f */

/* [binja] int32_t __stdcall sub_1000d04f(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   float arg5, float arg6) */

int FUN_1000d04f(int arg1,int arg2,int arg3,int arg4,float arg5,float arg6)

{
  int iVar1;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053d24)(arg1,arg2,arg3,arg4,arg5,arg6);
  return iVar1;
}



/* FUN_1000d07e @ 1000d07e */

/* [binja] float* __stdcall sub_1000d07e(float* arg1, float* arg2, float* arg3, float* arg4, float
   arg5, float arg6) */

float * FUN_1000d07e(float *arg1,float *arg2,float *arg3,float *arg4,float arg5,float arg6)

{
  *arg1 = (*arg4 - *arg2) * arg6 + (*arg3 - *arg2) * arg5 + *arg2;
  arg1[1] = (arg4[1] - arg2[1]) * arg6 + (arg3[1] - arg2[1]) * arg5 + arg2[1];
  arg1[2] = (arg4[2] - arg2[2]) * arg6 + (arg3[2] - arg2[2]) * arg5 + arg2[2];
  return arg1;
}



/* FUN_1000d173 @ 1000d173 */

void FUN_1000d173(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000d17a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)PTR_FUN_10053c80)();
  return;
}



/* FUN_1000d1f9 @ 1000d1f9 */

void FUN_1000d1f9(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000d204. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)PTR_FUN_10053c90)();
  return;
}



/* FUN_1000d34f @ 1000d34f */

/* [binja] float* __stdcall sub_1000d34f(float* arg1, float* arg2, float* arg3, float* arg4, float*
   arg5, float arg6) */

float * FUN_1000d34f(float *arg1,float *arg2,float *arg3,float *arg4,float *arg5,float arg6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  
  fVar1 = arg6 * arg6;
  fVar2 = arg6 * fVar1;
  fVar5 = ((fVar2 + fVar2) - fVar1 * 3.0) + 1.0;
  fVar4 = (fVar2 - (fVar1 + fVar1)) + arg6;
  fVar3 = fVar1 * 3.0 - (fVar2 + fVar2);
  fVar2 = fVar2 - fVar1;
  *arg1 = fVar2 * *arg5 + fVar3 * *arg4 + fVar4 * *arg3 + fVar5 * *arg2;
  arg1[1] = fVar5 * arg2[1] + fVar4 * arg3[1] + fVar3 * arg4[1] + fVar2 * arg5[1];
  arg1[2] = fVar5 * arg2[2] + fVar4 * arg3[2] + fVar3 * arg4[2] + fVar2 * arg5[2];
  arg1[3] = fVar5 * arg2[3] + fVar4 * arg3[3] + fVar3 * arg4[3] + fVar2 * arg5[3];
  return arg1;
}



/* FUN_1000d420 @ 1000d420 */

/* [binja] int32_t __stdcall sub_1000d420(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   int32_t arg5, float arg6) */

int FUN_1000d420(int arg1,int arg2,int arg3,int arg4,int arg5,float arg6)

{
  int iVar1;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053d2c)(arg1,arg2,arg3,arg4,arg5,arg6);
  return iVar1;
}



/* FUN_1000d44a @ 1000d44a */

/* [binja] float* __stdcall sub_1000d44a(float* arg1, float* arg2, float* arg3, float* arg4, float*
   arg5, float arg6) */

float * FUN_1000d44a(float *arg1,float *arg2,float *arg3,float *arg4,float *arg5,float arg6)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  
  fVar1 = arg6 * arg6;
  fVar2 = arg6 * fVar1;
  fVar5 = (fVar1 * 2.0 - fVar2) - arg6;
  fVar4 = (fVar2 * 3.0 - fVar1 * 5.0) + 2.0;
  fVar3 = (fVar1 * 4.0 - fVar2 * 3.0) + arg6;
  fVar2 = fVar2 - fVar1;
  *arg1 = (fVar2 * *arg5 + fVar3 * *arg4 + fVar4 * *arg3 + fVar5 * *arg2) * 0.5;
  arg1[1] = (fVar5 * arg2[1] + fVar4 * arg3[1] + fVar3 * arg4[1] + fVar2 * arg5[1]) * 0.5;
  arg1[2] = (fVar5 * arg2[2] + fVar4 * arg3[2] + fVar3 * arg4[2] + fVar2 * arg5[2]) * 0.5;
  arg1[3] = (fVar5 * arg2[3] + fVar4 * arg3[3] + fVar3 * arg4[3] + fVar2 * arg5[3]) * 0.5;
  return arg1;
}



/* FUN_1000d53d @ 1000d53d */

/* [binja] int32_t __stdcall sub_1000d53d(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   float arg5, float arg6) */

int FUN_1000d53d(int arg1,int arg2,int arg3,int arg4,float arg5,float arg6)

{
  int iVar1;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053d30)(arg1,arg2,arg3,arg4,arg5,arg6);
  return iVar1;
}



/* FUN_1000d56c @ 1000d56c */

/* [binja] float* __stdcall sub_1000d56c(float* arg1, float* arg2, float* arg3, float* arg4, float
   arg5, float arg6) */

float * FUN_1000d56c(float *arg1,float *arg2,float *arg3,float *arg4,float arg5,float arg6)

{
  *arg1 = (*arg4 - *arg2) * arg6 + (*arg3 - *arg2) * arg5 + *arg2;
  arg1[1] = (arg4[1] - arg2[1]) * arg6 + (arg3[1] - arg2[1]) * arg5 + arg2[1];
  arg1[2] = (arg4[2] - arg2[2]) * arg6 + (arg3[2] - arg2[2]) * arg5 + arg2[2];
  arg1[3] = (arg4[3] - arg2[3]) * arg6 + (arg3[3] - arg2[3]) * arg5 + arg2[3];
  return arg1;
}



/* FUN_1000d766 @ 1000d766 */

void FUN_1000d766(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000d76d. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)PTR_FUN_10053c64)();
  return;
}



/* FUN_1000d9af @ 1000d9af */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000d9af(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000d9b6. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_DAT_10053cec)();
  return;
}



/* FUN_1000dc72 @ 1000dc72 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000dc72(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000dc79. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_DAT_10053ca0)();
  return;
}



/* FUN_1000e012 @ 1000e012 */

/* [binja] int32_t __stdcall sub_1000e012(float arg1, float arg2, float arg3) */

int FUN_1000e012(float arg1,float arg2,float arg3)

{
  int iVar1;
  undefined4 in_stack_00000010;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053cdc)(arg1,arg2,arg3,in_stack_00000010);
  return iVar1;
}



/* FUN_1000e09c @ 1000e09c */

/* [binja] int32_t __stdcall sub_1000e09c(float arg1, float arg2, float arg3) */

int FUN_1000e09c(float arg1,float arg2,float arg3)

{
  int iVar1;
  undefined4 in_stack_00000010;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053cc0)(arg1,arg2,arg3,in_stack_00000010);
  return iVar1;
}



/* FUN_1000e126 @ 1000e126 */

/* [binja] int32_t __stdcall sub_1000e126(float arg1) */

int FUN_1000e126(float arg1)

{
  int iVar1;
  undefined4 in_stack_00000008;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053cd0)(arg1,in_stack_00000008);
  return iVar1;
}



/* FUN_1000e142 @ 1000e142 */

/* [binja] float* __stdcall sub_1000e142(float* arg1, float arg2) */

float * FUN_1000e142(float *arg1,float arg2)

{
  float10 fVar1;
  float10 fVar2;
  
  fVar1 = (float10)fcos((float10)arg2);
  fVar2 = (float10)fsin((float10)arg2);
  *arg1 = 1.0;
  arg1[1] = 0.0;
  arg1[6] = (float)fVar2;
  arg1[2] = 0.0;
  arg1[3] = 0.0;
  arg1[4] = 0.0;
  arg1[5] = (float)fVar1;
  arg1[7] = 0.0;
  arg1[8] = 0.0;
  arg1[9] = -(float)fVar2;
  arg1[10] = (float)fVar1;
  arg1[0xb] = 0.0;
  arg1[0xc] = 0.0;
  arg1[0xd] = 0.0;
  arg1[0xe] = 0.0;
  arg1[0xf] = 1.0;
  return arg1;
}



/* FUN_1000e1bc @ 1000e1bc */

/* [binja] int32_t __stdcall sub_1000e1bc(float arg1) */

int FUN_1000e1bc(float arg1)

{
  int iVar1;
  undefined4 in_stack_00000008;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053cd4)(arg1,in_stack_00000008);
  return iVar1;
}



/* FUN_1000e1d8 @ 1000e1d8 */

/* [binja] float* __stdcall sub_1000e1d8(float* arg1, float arg2) */

float * FUN_1000e1d8(float *arg1,float arg2)

{
  float10 fVar1;
  float10 fVar2;
  
  fVar1 = (float10)fcos((float10)arg2);
  fVar2 = (float10)fsin((float10)arg2);
  *arg1 = (float)fVar1;
  arg1[1] = 0.0;
  arg1[2] = -(float)fVar2;
  arg1[3] = 0.0;
  arg1[4] = 0.0;
  arg1[5] = 1.0;
  arg1[6] = 0.0;
  arg1[7] = 0.0;
  arg1[8] = (float)fVar2;
  arg1[9] = 0.0;
  arg1[10] = (float)fVar1;
  arg1[0xb] = 0.0;
  arg1[0xc] = 0.0;
  arg1[0xd] = 0.0;
  arg1[0xe] = 0.0;
  arg1[0xf] = 1.0;
  return arg1;
}



/* FUN_1000e253 @ 1000e253 */

/* [binja] int32_t __stdcall sub_1000e253(float arg1) */

int FUN_1000e253(float arg1)

{
  int iVar1;
  undefined4 in_stack_00000008;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053cd8)(arg1,in_stack_00000008);
  return iVar1;
}



/* FUN_1000e26f @ 1000e26f */

/* [binja] float* __stdcall sub_1000e26f(float* arg1, float arg2) */

float * FUN_1000e26f(float *arg1,float arg2)

{
  float10 fVar1;
  float10 fVar2;
  
  fVar1 = (float10)fcos((float10)arg2);
  fVar2 = (float10)fsin((float10)arg2);
  *arg1 = (float)fVar1;
  arg1[1] = (float)fVar2;
  arg1[2] = 0.0;
  arg1[3] = 0.0;
  arg1[4] = -(float)fVar2;
  arg1[5] = (float)fVar1;
  arg1[6] = 0.0;
  arg1[7] = 0.0;
  arg1[8] = 0.0;
  arg1[9] = 0.0;
  arg1[10] = 1.0;
  arg1[0xb] = 0.0;
  arg1[0xc] = 0.0;
  arg1[0xd] = 0.0;
  arg1[0xe] = 0.0;
  arg1[0xf] = 1.0;
  return arg1;
}



/* FUN_1000e2eb @ 1000e2eb */

/* [binja] int32_t __stdcall sub_1000e2eb(int32_t arg1, float arg2) */

int FUN_1000e2eb(int arg1,float arg2)

{
  int iVar1;
  undefined4 in_stack_0000000c;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053d00)(arg1,arg2,in_stack_0000000c);
  return iVar1;
}



/* FUN_1000e30b @ 1000e30b */

/* [binja] float* __stdcall sub_1000e30b(float* arg1, float arg2, float arg3) */

float * FUN_1000e30b(float *arg1,float arg2,float arg3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float10 fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float10 fVar11;
  
  fVar6 = (float10)fcos((float10)arg3);
  fVar11 = (float10)fsin((float10)arg3);
  fVar1 = (float)fVar6;
  fVar2 = (float)fVar11;
  fVar7 = 1.0 - fVar1;
  fVar3 = *(float *)arg2;
  fVar4 = *(float *)((int)arg2 + 4);
  fVar5 = *(float *)((int)arg2 + 8);
  thunk_FUN_1000ce69();
  fVar8 = fVar4 * fVar3 * fVar7;
  fVar9 = fVar4 * fVar5 * fVar7;
  fVar10 = fVar5 * fVar3 * fVar7;
  *arg1 = fVar3 * fVar3 * fVar7 + fVar1;
  arg1[1] = fVar8 + fVar5 * fVar2;
  arg1[2] = fVar10 - fVar4 * fVar2;
  arg1[3] = 0.0;
  arg1[4] = fVar8 - fVar5 * fVar2;
  arg1[5] = fVar4 * fVar4 * fVar7 + fVar1;
  arg1[6] = fVar3 * fVar2 + fVar9;
  arg1[7] = 0.0;
  arg1[8] = fVar4 * fVar2 + fVar10;
  arg1[9] = fVar9 - fVar3 * fVar2;
  arg1[10] = fVar5 * fVar5 * fVar7 + fVar1;
  arg1[0xb] = 0.0;
  arg1[0xc] = 0.0;
  arg1[0xd] = 0.0;
  arg1[0xe] = 0.0;
  arg1[0xf] = 1.0;
  return arg1;
}



/* FUN_1000e40d @ 1000e40d */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000e40d(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000e414. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_DAT_10053cf0)();
  return;
}



/* FUN_1000e502 @ 1000e502 */

/* [binja] int32_t __stdcall sub_1000e502(float arg1, float arg2, float arg3) */

int FUN_1000e502(float arg1,float arg2,float arg3)

{
  int iVar1;
  undefined4 in_stack_00000010;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053cf8)(arg1,arg2,arg3,in_stack_00000010);
  return iVar1;
}



/* FUN_1000e530 @ 1000e530 */

void FUN_1000e530(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000e53b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)PTR_FUN_10053cf4)();
  return;
}



/* FUN_1000e541 @ 1000e541 */

/* [binja] int32_t __stdcall sub_1000e541(int32_t arg1, float arg2, int32_t arg3, int32_t arg4,
   int32_t arg5) */

int FUN_1000e541(int arg1,float arg2,int arg3,int arg4,int arg5)

{
  int iVar1;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053cfc)(arg1,arg2,arg3,arg4,arg5);
  return iVar1;
}



/* FUN_1000e568 @ 1000e568 */

/* [binja] float* __stdcall sub_1000e568(float* arg1, float arg2, float* arg3, int32_t arg4, float*
   arg5) */

float * FUN_1000e568(float *arg1,float arg2,float *arg3,int arg4,float *arg5)

{
  arg1[0xe] = 0.0;
  arg1[0xd] = 0.0;
  arg1[0xc] = 0.0;
  arg1[0xb] = 0.0;
  arg1[9] = 0.0;
  arg1[8] = 0.0;
  arg1[7] = 0.0;
  arg1[6] = 0.0;
  arg1[4] = 0.0;
  arg1[3] = 0.0;
  arg1[2] = 0.0;
  arg1[1] = 0.0;
  *arg1 = arg2;
  arg1[5] = arg2;
  arg1[10] = arg2;
  arg1[0xf] = 1.0;
  if (arg4 != 0) {
    thunk_FUN_1000e40d();
    if (arg3 == (float *)0x0) {
      thunk_FUN_1000d766();
    }
    else {
      arg1[0xc] = arg1[0xc] - *arg3;
      arg1[0xd] = arg1[0xd] - arg3[1];
      arg1[0xe] = arg1[0xe] - arg3[2];
      thunk_FUN_1000d766();
      arg1[0xc] = *arg3 + arg1[0xc];
      arg1[0xd] = arg1[0xd] + arg3[1];
      arg1[0xe] = arg3[2] + arg1[0xe];
    }
  }
  if (arg5 != (float *)0x0) {
    arg1[0xc] = *arg5 + arg1[0xc];
    arg1[0xd] = arg5[1] + arg1[0xd];
    arg1[0xe] = arg5[2] + arg1[0xe];
  }
  return arg1;
}



/* FUN_1000e853 @ 1000e853 */

/* [binja] int32_t __stdcall sub_1000e853(int32_t arg1, float arg2) */

int FUN_1000e853(int arg1,float arg2)

{
  int iVar1;
  undefined4 in_stack_0000000c;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053ccc)(arg1,arg2,in_stack_0000000c);
  return iVar1;
}



/* FUN_1000e873 @ 1000e873 */

/* [binja] float* __stdcall sub_1000e873(float arg1, float arg2, float arg3) */

float * FUN_1000e873(float arg1,float arg2,float arg3)

{
  float fVar1;
  float10 fVar2;
  float10 fVar3;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  
  thunk_FUN_1000ce69();
  fVar2 = (float10)fcos((float10)(arg3 * 0.5));
  fVar3 = (float10)fsin((float10)(arg3 * 0.5));
  *(float *)((int)arg1 + 0xc) = (float)fVar2;
  fVar1 = (float)fVar3;
  *(float *)arg1 = local_18 * fVar1;
  *(float *)((int)arg1 + 4) = local_14 * fVar1;
  *(float *)((int)arg1 + 8) = local_10 * fVar1;
  return (float *)arg1;
}



/* FUN_1000e8cf @ 1000e8cf */

/* [binja] int32_t __stdcall sub_1000e8cf(float arg1, float arg2, float arg3) */

int FUN_1000e8cf(float arg1,float arg2,float arg3)

{
  int iVar1;
  undefined4 in_stack_00000010;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053cbc)(arg1,arg2,arg3,in_stack_00000010);
  return iVar1;
}



/* FUN_1000e9dc @ 1000e9dc */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000e9dc(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000e9e3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_DAT_10053ca4)();
  return;
}



/* FUN_1000eb4b @ 1000eb4b */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000eb4b(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000eb52. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_DAT_10053d08)();
  return;
}



/* FUN_1000ec12 @ 1000ec12 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000ec12(void)

{
                    /* WARNING: Could not recover jumptable at 0x1000ec12. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_DAT_10053d34)();
  return;
}



/* FUN_1000ec96 @ 1000ec96 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000ec96(void)

{
                    /* WARNING: Could not recover jumptable at 0x1000ec96. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_DAT_10053d38)();
  return;
}



/* FUN_1000ed37 @ 1000ed37 */

/* [binja] int32_t __stdcall sub_1000ed37(int32_t arg1, int32_t arg2, float arg3) */

int FUN_1000ed37(int arg1,int arg2,float arg3)

{
  int iVar1;
  undefined4 in_stack_00000010;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053ce4)(arg1,arg2,arg3,in_stack_00000010);
  return iVar1;
}



/* FUN_1000ee44 @ 1000ee44 */

/* [binja] int32_t __stdcall sub_1000ee44(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   int32_t arg5, float arg6) */

int FUN_1000ee44(int arg1,int arg2,int arg3,int arg4,int arg5,float arg6)

{
  int iVar1;
  
  grim_select_renderer_backend(1);
  iVar1 = (*(code *)PTR_FUN_10053d04)(arg1,arg2,arg3,arg4,arg5,arg6);
  return iVar1;
}



/* FUN_1000ee6e @ 1000ee6e */

/* [binja] int32_t __stdcall sub_1000ee6e(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4,
   int32_t arg5, float arg6) */

int FUN_1000ee6e(int arg1,int arg2,int arg3,int arg4,int arg5,float arg6)

{
  undefined1 local_24 [16];
  undefined1 local_14 [16];
  
  thunk_FUN_1000ed37((int)local_24,arg2,(float)arg5);
  thunk_FUN_1000ed37((int)local_14,arg3,(float)arg4);
  thunk_FUN_1000ed37(arg1,(int)local_24,(float)local_14);
  return arg1;
}



/* FUN_1000eec5 @ 1000eec5 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_1000eec5(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000eed0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_DAT_10053d0c)();
  return;
}



/* FUN_1000ef05 @ 1000ef05 */

/* [binja] int32_t* __stdcall sub_1000ef05(int32_t* arg1, int32_t* arg2, int32_t arg3, int32_t arg4,
   float arg5, float arg6) */

int * FUN_1000ef05(int *arg1,int *arg2,int arg3,int arg4,float arg5,float arg6)

{
  int iVar1;
  undefined1 local_24 [16];
  undefined1 local_14 [16];
  
  iVar1 = float_near_equal(arg5 + arg6,0.0);
  if (iVar1 == 0) {
    thunk_FUN_1000ed37((int)local_24,(int)arg2,(float)arg3);
    thunk_FUN_1000ed37((int)local_14,(int)arg2,(float)arg4);
    thunk_FUN_1000ed37((int)arg1,(int)local_24,(float)local_14);
  }
  else if (arg1 != arg2) {
    *arg1 = *arg2;
    arg1[1] = arg2[1];
    arg1[2] = arg2[2];
    arg1[3] = arg2[3];
  }
  return arg1;
}



/* FUN_1000ef90 @ 1000ef90 */

void FUN_1000ef90(void)

{
  grim_select_renderer_backend(1);
                    /* WARNING: Could not recover jumptable at 0x1000ef97. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)PTR_FUN_10053cac)();
  return;
}



/* FUN_1000f296 @ 1000f296 */

/* [binja] int32_t* __stdcall sub_1000f296(int32_t* arg1, float arg2) */

int * FUN_1000f296(int *arg1,float arg2)

{
  float a;
  int iVar1;
  float *extraout_ECX;
  float fVar2;
  
  a = *(float *)((int)arg2 + 4) * *(float *)((int)arg2 + 4) + *(float *)arg2 * *(float *)arg2;
  iVar1 = float_near_equal(a,1.0);
  if (iVar1 == 0) {
    if (a <= 1.1754944e-38) {
      *arg1 = 0;
      arg1[1] = 0;
      return arg1;
    }
    fVar2 = (1.0 / SQRT(a)) * extraout_ECX[1];
    *arg1 = (int)((1.0 / SQRT(a)) * *extraout_ECX);
  }
  else {
    if ((float *)arg1 == extraout_ECX) {
      return arg1;
    }
    *arg1 = (int)*extraout_ECX;
    fVar2 = extraout_ECX[1];
  }
  arg1[1] = (int)fVar2;
  return arg1;
}



/* FUN_1000f323 @ 1000f323 */

/* [binja] float* __stdcall sub_1000f323(float* arg1, float* arg2, float* arg3) */

float * FUN_1000f323(float *arg1,float *arg2,float *arg3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  float fVar15;
  
  fVar1 = arg3[1];
  fVar2 = *arg2;
  fVar3 = arg3[5];
  fVar4 = arg2[1];
  fVar5 = arg3[0xd];
  fVar6 = arg3[2];
  fVar7 = *arg2;
  fVar8 = arg3[6];
  fVar9 = arg2[1];
  fVar10 = arg3[0xe];
  fVar11 = arg3[3];
  fVar12 = *arg2;
  fVar13 = arg3[7];
  fVar14 = arg2[1];
  fVar15 = arg3[0xf];
  *arg1 = *arg2 * *arg3 + arg3[4] * arg2[1] + arg3[0xc];
  arg1[1] = fVar3 * fVar4 + fVar1 * fVar2 + fVar5;
  arg1[2] = fVar8 * fVar9 + fVar6 * fVar7 + fVar10;
  arg1[3] = fVar13 * fVar14 + fVar11 * fVar12 + fVar15;
  return arg1;
}



/* FUN_1000f38e @ 1000f38e */

/* [binja] float* __stdcall sub_1000f38e(float* arg1, float* arg2, float* arg3) */

float * FUN_1000f38e(float *arg1,float *arg2,float *arg3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int iVar7;
  
  fVar1 = *arg2;
  fVar2 = arg3[1];
  fVar3 = arg2[1];
  fVar4 = arg3[5];
  fVar5 = arg3[0xd];
  fVar6 = arg3[0xf] + arg2[1] * arg3[7] + *arg2 * arg3[3];
  *arg1 = arg3[0xc] + arg2[1] * arg3[4] + *arg2 * *arg3;
  arg1[1] = fVar5 + fVar3 * fVar4 + fVar1 * fVar2;
  iVar7 = float_near_equal(fVar6,1.0);
  if (iVar7 == 0) {
    fVar6 = 1.0 / fVar6;
    *arg1 = fVar6 * *arg1;
    arg1[1] = fVar6 * arg1[1];
  }
  return arg1;
}



/* FUN_1000f40e @ 1000f40e */

/* [binja] float* __stdcall sub_1000f40e(float* arg1, float* arg2, float* arg3) */

float * FUN_1000f40e(float *arg1,float *arg2,float *arg3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  
  fVar1 = arg3[1];
  fVar2 = *arg2;
  fVar3 = arg3[5];
  fVar4 = arg2[1];
  *arg1 = *arg2 * *arg3 + arg3[4] * arg2[1];
  arg1[1] = fVar3 * fVar4 + fVar1 * fVar2;
  return arg1;
}



/* FUN_1000f44a @ 1000f44a */

/* [binja] float* __stdcall sub_1000f44a(float* arg1, float arg2) */

float * FUN_1000f44a(float *arg1,float arg2)

{
  float *pfVar1;
  float fVar2;
  int iVar3;
  float local_10;
  float local_c;
  float local_8;
  
  fVar2 = *(float *)((int)arg2 + 8) * *(float *)((int)arg2 + 8) +
          *(float *)((int)arg2 + 4) * *(float *)((int)arg2 + 4) + *(float *)arg2 * *(float *)arg2;
  iVar3 = float_near_equal(fVar2,1.0);
  if (iVar3 == 0) {
    if (fVar2 <= 1.1754944e-38) {
      *arg1 = 0.0;
      arg1[1] = 0.0;
      arg1[2] = 0.0;
      return arg1;
    }
    fVar2 = 1.0 / SQRT(fVar2);
    local_10 = fVar2 * *(float *)arg2;
    local_c = fVar2 * *(float *)((int)arg2 + 4);
    pfVar1 = (float *)((int)arg2 + 8);
    arg2 = (float)&local_10;
    local_8 = fVar2 * *pfVar1;
  }
  else if (arg1 == (float *)arg2) {
    return arg1;
  }
  *arg1 = *(float *)arg2;
  arg1[1] = *(float *)((int)arg2 + 4);
  arg1[2] = *(float *)((int)arg2 + 8);
  return arg1;
}



/* FUN_1000f4ea @ 1000f4ea */

/* [binja] float* __stdcall sub_1000f4ea(float* arg1, float* arg2, float* arg3) */

float * FUN_1000f4ea(float *arg1,float *arg2,float *arg3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  float fVar15;
  int iVar16;
  
  fVar1 = *arg2;
  fVar2 = arg3[2];
  fVar3 = *arg2;
  fVar4 = arg3[1];
  fVar5 = arg2[1];
  fVar6 = arg3[6];
  fVar7 = arg2[1];
  fVar8 = arg3[5];
  fVar9 = arg2[2];
  fVar10 = arg3[10];
  fVar11 = arg2[2];
  fVar12 = arg3[9];
  fVar13 = arg3[0xd];
  fVar14 = arg3[0xe];
  fVar15 = arg3[0xf] + arg2[2] * arg3[0xb] + arg2[1] * arg3[7] + *arg2 * arg3[3];
  *arg1 = arg3[0xc] + arg2[2] * arg3[8] + arg2[1] * arg3[4] + *arg2 * *arg3;
  arg1[1] = fVar13 + fVar11 * fVar12 + fVar7 * fVar8 + fVar3 * fVar4;
  arg1[2] = fVar14 + fVar9 * fVar10 + fVar5 * fVar6 + fVar1 * fVar2;
  iVar16 = float_near_equal(fVar15,1.0);
  if (iVar16 == 0) {
    fVar15 = 1.0 / fVar15;
    *arg1 = fVar15 * *arg1;
    arg1[1] = fVar15 * arg1[1];
    arg1[2] = fVar15 * arg1[2];
  }
  return arg1;
}



/* FUN_1000f5a9 @ 1000f5a9 */

/* [binja] float* __stdcall sub_1000f5a9(float* arg1, int32_t arg2, int32_t* arg3, int32_t* arg4,
   int32_t* arg5, int32_t* arg6) */

float * FUN_1000f5a9(float *arg1,int arg2,int *arg3,int *arg4,int *arg5,int *arg6)

{
  float fVar1;
  float fVar2;
  
  switch(((arg6 != (int *)0x0) << 1 | arg5 != (int *)0x0) << 1 | arg4 != (int *)0x0) {
  case '\0':
    break;
  case '\x01':
    break;
  case '\x02':
    break;
  case '\x03':
    goto code_r0x1000f67a;
  case '\x04':
    break;
  case '\x05':
    goto code_r0x1000f67a;
  case '\x06':
    goto code_r0x1000f67a;
  case '\a':
    thunk_FUN_1000d766();
code_r0x1000f67a:
    thunk_FUN_1000d766();
  }
  thunk_FUN_1000d173();
  if (arg3 != (int *)0x0) {
    fVar2 = (float)arg3[2];
    if (arg3[2] < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    fVar1 = (float)*arg3;
    if (*arg3 < 0) {
      fVar1 = fVar1 + 4.2949673e+09;
    }
    *arg1 = fVar1 + fVar2 * (*arg1 + 1.0) * 0.5;
    fVar2 = (float)arg3[3];
    if (arg3[3] < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    fVar1 = (float)arg3[1];
    if (arg3[1] < 0) {
      fVar1 = fVar1 + 4.2949673e+09;
    }
    arg1[1] = fVar1 + fVar2 * (1.0 - arg1[1]) * 0.5;
    arg1[2] = ((float)arg3[5] - (float)arg3[4]) * arg1[2] + (float)arg3[4];
  }
  return arg1;
}



/* FUN_1000f8dc @ 1000f8dc */

/* [binja] float* __stdcall sub_1000f8dc(float* arg1, float arg2) */

float * FUN_1000f8dc(float *arg1,float arg2)

{
  float *pfVar1;
  float fVar2;
  int iVar3;
  float local_14;
  float local_10;
  float local_c;
  float local_8;
  
  fVar2 = *(float *)((int)arg2 + 0xc) * *(float *)((int)arg2 + 0xc) +
          *(float *)((int)arg2 + 8) * *(float *)((int)arg2 + 8) +
          *(float *)((int)arg2 + 4) * *(float *)((int)arg2 + 4) + *(float *)arg2 * *(float *)arg2;
  iVar3 = float_near_equal(fVar2,1.0);
  if (iVar3 == 0) {
    if (fVar2 <= 1.1754944e-38) {
      *arg1 = 0.0;
      arg1[1] = 0.0;
      arg1[2] = 0.0;
      arg1[3] = 0.0;
      return arg1;
    }
    fVar2 = 1.0 / SQRT(fVar2);
    local_14 = fVar2 * *(float *)arg2;
    local_10 = fVar2 * *(float *)((int)arg2 + 4);
    local_c = fVar2 * *(float *)((int)arg2 + 8);
    pfVar1 = (float *)((int)arg2 + 0xc);
    arg2 = (float)&local_14;
    local_8 = fVar2 * *pfVar1;
  }
  else if (arg1 == (float *)arg2) {
    return arg1;
  }
  *arg1 = *(float *)arg2;
  arg1[1] = *(float *)((int)arg2 + 4);
  arg1[2] = *(float *)((int)arg2 + 8);
  arg1[3] = *(float *)((int)arg2 + 0xc);
  return arg1;
}



/* FUN_1000f995 @ 1000f995 */

/* [binja] int32_t __stdcall sub_1000f995(int32_t arg1, float arg2, float arg3, float arg4) */

int FUN_1000f995(int arg1,float arg2,float arg3,float arg4)

{
  undefined1 local_14 [16];
  
  thunk_FUN_1000e8cf((float)local_14,arg2,arg3);
  thunk_FUN_1000e40d();
  return arg1;
}



/* FUN_1000f9ce @ 1000f9ce */

/* [binja] float* __stdcall sub_1000f9ce(float* arg1, float* arg2, void* arg3, int32_t* arg4, float*
   arg5, int32_t arg6, float* arg7) */

float * FUN_1000f9ce(float *arg1,float *arg2,void *arg3,int *arg4,float *arg5,int arg6,float *arg7)

{
  float fVar1;
  
  if (arg4 == (int *)0x0) {
    arg1[0xe] = 0.0;
    arg1[0xd] = 0.0;
    arg1[0xc] = 0.0;
    arg1[0xb] = 0.0;
    arg1[9] = 0.0;
    arg1[8] = 0.0;
    arg1[7] = 0.0;
    arg1[6] = 0.0;
    arg1[4] = 0.0;
    arg1[3] = 0.0;
    arg1[2] = 0.0;
    arg1[1] = 0.0;
    arg1[0xf] = 1.0;
    arg1[10] = 1.0;
    arg1[5] = 1.0;
    *arg1 = 1.0;
  }
  else if (arg3 == (void *)0x0) {
    arg1[0xe] = 0.0;
    arg1[0xd] = 0.0;
    arg1[0xc] = 0.0;
    arg1[0xb] = 0.0;
    arg1[9] = 0.0;
    arg1[8] = 0.0;
    arg1[7] = 0.0;
    arg1[6] = 0.0;
    arg1[4] = 0.0;
    arg1[3] = 0.0;
    arg1[2] = 0.0;
    arg1[1] = 0.0;
    *arg1 = (float)*arg4;
    arg1[5] = (float)arg4[1];
    fVar1 = (float)arg4[2];
    arg1[0xf] = 1.0;
    arg1[10] = fVar1;
  }
  else {
    thunk_FUN_1000e40d();
    if (arg2 == (float *)0x0) {
      thunk_FUN_1000d9af();
      thunk_FUN_1000d766();
      thunk_FUN_1000d766();
    }
    else {
      thunk_FUN_1000d9af();
      arg1[0xe] = 0.0;
      arg1[0xd] = 0.0;
      arg1[0xc] = 0.0;
      arg1[0xb] = 0.0;
      arg1[9] = 0.0;
      arg1[8] = 0.0;
      arg1[7] = 0.0;
      arg1[6] = 0.0;
      arg1[4] = 0.0;
      arg1[3] = 0.0;
      arg1[2] = 0.0;
      arg1[1] = 0.0;
      arg1[0xf] = 1.0;
      arg1[10] = 1.0;
      arg1[5] = 1.0;
      *arg1 = 1.0;
      arg1[0xc] = -*arg2;
      arg1[0xd] = -arg2[1];
      arg1[0xe] = -arg2[2];
      thunk_FUN_1000d766();
      thunk_FUN_1000d766();
      thunk_FUN_1000d766();
      arg1[0xc] = arg1[0xc] + *arg2;
      arg1[0xd] = arg2[1] + arg1[0xd];
      arg1[0xe] = arg1[0xe] + arg2[2];
    }
  }
  if (arg6 != 0) {
    thunk_FUN_1000e40d();
    if (arg5 == (float *)0x0) {
      thunk_FUN_1000d766();
    }
    else {
      arg1[0xc] = arg1[0xc] - *arg5;
      arg1[0xd] = arg1[0xd] - arg5[1];
      arg1[0xe] = arg1[0xe] - arg5[2];
      thunk_FUN_1000d766();
      arg1[0xc] = arg1[0xc] + *arg5;
      arg1[0xd] = arg1[0xd] + arg5[1];
      arg1[0xe] = arg1[0xe] + arg5[2];
    }
  }
  if (arg7 != (float *)0x0) {
    arg1[0xc] = arg1[0xc] + *arg7;
    arg1[0xd] = arg7[1] + arg1[0xd];
    arg1[0xe] = arg7[2] + arg1[0xe];
  }
  return arg1;
}



/* FUN_1000fc82 @ 1000fc82 */

/* [binja] float* __stdcall sub_1000fc82(float* arg1, float* arg2, int32_t arg3) */

float * FUN_1000fc82(float *arg1,float *arg2,int arg3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float local_14;
  float local_10;
  float local_c;
  float local_8;
  
  thunk_FUN_1000ef90();
  fVar1 = local_c * arg2[2] + local_8 * arg2[3] + local_14 * *arg2 + local_10 * arg2[1];
  fVar4 = -local_14;
  fVar3 = -local_10;
  fVar2 = -local_c;
  fVar5 = -local_8;
  *arg1 = fVar4 * *arg2 + fVar1;
  arg1[4] = fVar3 * *arg2;
  arg1[8] = fVar2 * *arg2;
  arg1[0xc] = fVar5 * *arg2;
  arg1[1] = fVar4 * arg2[1];
  arg1[5] = fVar3 * arg2[1] + fVar1;
  arg1[9] = fVar2 * arg2[1];
  arg1[0xd] = fVar5 * arg2[1];
  arg1[2] = fVar4 * arg2[2];
  arg1[6] = fVar3 * arg2[2];
  arg1[10] = fVar2 * arg2[2] + fVar1;
  arg1[0xe] = fVar5 * arg2[2];
  arg1[3] = fVar4 * arg2[3];
  arg1[7] = fVar3 * arg2[3];
  arg1[0xb] = fVar2 * arg2[3];
  arg1[0xf] = fVar5 * arg2[3] + fVar1;
  return arg1;
}



/* FUN_1000fd5c @ 1000fd5c */

/* [binja] float* __stdcall sub_1000fd5c(float* arg1, float arg2) */

float * FUN_1000fd5c(float *arg1,float arg2)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float local_14;
  float local_10;
  float local_c;
  float local_8;
  
  thunk_FUN_1000ef90();
  fVar1 = local_14 * -2.0;
  fVar3 = local_10 * -2.0;
  fVar2 = local_c * -2.0;
  *arg1 = local_14 * fVar1 + 1.0;
  arg1[1] = fVar3 * local_14;
  arg1[2] = fVar2 * local_14;
  arg1[3] = 0.0;
  arg1[4] = local_10 * fVar1;
  arg1[5] = local_10 * fVar3 + 1.0;
  arg1[6] = fVar2 * local_10;
  arg1[7] = 0.0;
  arg1[8] = local_c * fVar1;
  arg1[9] = local_c * fVar3;
  arg1[10] = local_c * fVar2 + 1.0;
  arg1[0xb] = 0.0;
  arg1[0xc] = local_8 * fVar1;
  arg1[0xd] = local_8 * fVar3;
  arg1[0xe] = local_8 * fVar2;
  arg1[0xf] = 1.0;
  return arg1;
}



/* grim_d3d_debug_set_mute @ 100101f5 */

/* loads DebugSetMute from d3d8/d3d8d and toggles D3D debug output */

void __cdecl grim_d3d_debug_set_mute(int mute)

{
  HMODULE pHVar1;
  
  if (DAT_1005db64 == (FARPROC)0x0) {
    if (DAT_1005db60 != (FARPROC)0x0) goto LAB_1001027e;
    pHVar1 = GetModuleHandleA("d3d8.dll");
    if (pHVar1 != (HMODULE)0x0) {
      pHVar1 = LoadLibraryA("d3d8.dll");
      if (pHVar1 != (HMODULE)0x0) {
        DAT_1005db64 = GetProcAddress(pHVar1,"DebugSetMute");
      }
    }
    pHVar1 = GetModuleHandleA("d3d8d.dll");
    if (pHVar1 != (HMODULE)0x0) {
      pHVar1 = LoadLibraryA("d3d8d.dll");
      if (pHVar1 != (HMODULE)0x0) {
        DAT_1005db60 = GetProcAddress(pHVar1,"DebugSetMute");
      }
    }
    if (DAT_1005db64 != (FARPROC)0x0) goto LAB_1001026a;
  }
  else {
LAB_1001026a:
    (*DAT_1005db64)(mute);
  }
  if (DAT_1005db60 == (FARPROC)0x0) {
    return;
  }
LAB_1001027e:
                    /* WARNING: Could not recover jumptable at 0x1001027e. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*DAT_1005db60)();
  return;
}



/* FUN_10010285 @ 10010285 */

/* [binja] int32_t* __fastcall sub_10010285(int32_t* arg1) */

int * __fastcall FUN_10010285(int *arg1)

{
  *arg1 = 0;
  arg1[1] = 0;
  arg1[2] = 0;
  arg1[0xe] = 0;
  arg1[0xf] = 0;
  arg1[0x13] = 0;
  arg1[0x14] = 0;
  return arg1;
}



/* FUN_1001029e @ 1001029e */

/* [binja] int32_t __fastcall sub_1001029e(void* arg1) */

int __fastcall FUN_1001029e(void *arg1)

{
  void *pvVar1;
  void *extraout_EAX;
  void *extraout_EAX_00;
  void *extraout_EAX_01;
  void *pvVar2;
  
  if ((*(void **)((int)arg1 + 4) != (void *)0x0) && (*(int *)((int)arg1 + 0x38) != 0)) {
    operator_delete(*(void **)((int)arg1 + 4));
  }
  pvVar2 = *(void **)((int)arg1 + 8);
  if ((pvVar2 != (void *)0x0) && (*(int *)((int)arg1 + 0x3c) != 0)) {
    operator_delete(pvVar2);
    pvVar2 = extraout_EAX;
  }
  pvVar1 = *(void **)((int)arg1 + 0x4c);
  if (pvVar1 != (void *)0x0) {
    FUN_1001029e(pvVar1);
    operator_delete(pvVar1);
    pvVar2 = extraout_EAX_00;
  }
  pvVar1 = *(void **)((int)arg1 + 0x50);
  if (pvVar1 != (void *)0x0) {
    FUN_1001029e(pvVar1);
    operator_delete(pvVar1);
    pvVar2 = extraout_EAX_01;
  }
  return (int)pvVar2;
}



/* FUN_100102f7 @ 100102f7 */

/* [binja] void* __thiscall sub_100102f7(void* arg1, char arg2) */

void * __thiscall FUN_100102f7(void *this,void *arg1,char arg2)

{
  FUN_1001029e(this);
  if (((uint)arg1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}



/* FUN_10010313 @ 10010313 */

/* [binja] int32_t __thiscall sub_10010313(int32_t* arg1, int32_t* arg2) */

int __thiscall FUN_10010313(void *this,int *arg1,int *arg2)

{
  uint *puVar1;
  int iVar2;
  uint *puVar3;
  uint *puVar4;
  
  if ((*(void **)((int)this + 4) != (void *)0x0) && (*(int *)((int)this + 0x38) != 0)) {
    operator_delete(*(void **)((int)this + 4));
  }
  if ((*(void **)((int)this + 8) != (void *)0x0) && (*(int *)((int)this + 0x3c) != 0)) {
    operator_delete(*(void **)((int)this + 8));
  }
  *(int *)this = arg1[1];
  *(int *)((int)this + 4) = *arg1;
  *(int *)((int)this + 8) = arg1[0x12];
  puVar1 = (uint *)((int)this + 0x18);
  puVar3 = (uint *)(arg1 + 10);
  puVar4 = puVar1;
  for (iVar2 = 6; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  *(int *)((int)this + 0x30) = arg1[2];
  *(int *)((int)this + 0x34) = arg1[3];
  iVar2 = *(int *)this;
  if ((iVar2 == 0x31545844) || (iVar2 == 0x32545844)) {
LAB_100103a7:
    *puVar1 = *puVar1 & 0xfffffffc;
    *(uint *)((int)this + 0x1c) = *(uint *)((int)this + 0x1c) & 0xfffffffc;
  }
  else {
    if (iVar2 != 0x32595559) {
      if (((iVar2 == 0x33545844) || (iVar2 == 0x34545844)) || (iVar2 == 0x35545844))
      goto LAB_100103a7;
      if (iVar2 != 0x59565955) goto LAB_100103ae;
    }
    *puVar1 = *puVar1 & 0xfffffffe;
  }
LAB_100103ae:
  *(undefined4 *)((int)this + 0x38) = 0;
  *(undefined4 *)((int)this + 0x3c) = 0;
  *(uint *)((int)this + 0xc) = *(int *)((int)this + 0x20) - *puVar1;
  *(int *)((int)this + 0x10) = *(int *)((int)this + 0x24) - *(int *)((int)this + 0x1c);
  *(int *)((int)this + 0x14) = *(int *)((int)this + 0x2c) - *(int *)((int)this + 0x28);
  return 0;
}



/* FUN_100103d6 @ 100103d6 */

/* [binja] int32_t __thiscall sub_100103d6(int32_t* arg1, void* arg2, void* arg3) */

int __thiscall FUN_100103d6(void *this,int *arg1,void *arg2,void *arg3)

{
  void *pvVar1;
  byte bVar2;
  ushort uVar3;
  int *piVar4;
  byte bVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  void *pvVar9;
  undefined1 *puVar10;
  int *piVar11;
  uint uVar12;
  byte *pbVar13;
  byte *pbVar14;
  int iVar15;
  uint uVar16;
  int *piVar17;
  byte *pbVar18;
  byte *pbVar19;
  int *piVar20;
  byte *pbVar21;
  byte *pbVar22;
  byte *pbVar23;
  byte *pbVar24;
  int local_1c;
  byte *local_14;
  
  piVar17 = arg1;
  if (arg2 < (void *)0x28) {
    return -0x7fffbffb;
  }
  uVar12 = *arg1;
  if (uVar12 < 0x28) {
    return -0x7fffbffb;
  }
  piVar4 = (int *)arg1[1];
  iVar6 = arg1[2];
  if (iVar6 < 1) {
    iVar6 = -iVar6;
  }
  uVar3 = *(ushort *)((int)arg1 + 0xe);
  iVar7 = arg1[8];
  if ((uVar3 < 9) && (iVar7 == 0)) {
    iVar7 = 1 << ((byte)uVar3 & 0x1f);
  }
  pvVar1 = (void *)(uVar12 + iVar7 * 4);
  if (arg2 < pvVar1) {
    return -0x7fffbffb;
  }
  if ((short)arg1[3] != 1) {
    return -0x7fffbffb;
  }
  if (((arg1[2] < 0) && (arg1[4] != 0)) && (arg1[4] != 3)) {
    return -0x7fffbffb;
  }
  if ((uint)arg1[4] < 3) {
    arg1 = (int *)(uint)uVar3;
    if (((arg1 == (int *)0x1) || (arg1 == (int *)0x4)) || (arg1 == (int *)0x8)) {
      arg2 = (void *)0x29;
      goto LAB_100106ec;
    }
    if (arg1 == (int *)0x10) goto LAB_100106dc;
    if (arg1 == (int *)0x18) goto LAB_1001058c;
    if (arg1 != (int *)0x20) {
      return -0x7fffbffb;
    }
  }
  else {
    if (arg1[4] != 3) {
      return -0x7fffbfff;
    }
    if (uVar12 < 0x6c) {
      arg2 = (void *)0x0;
      piVar20 = (int *)(uVar12 + (int)arg1);
      iVar7 = piVar20[2];
      iVar15 = piVar20[1];
      iVar8 = *piVar20;
    }
    else {
      arg2 = (void *)arg1[0xd];
      iVar7 = arg1[0xc];
      iVar15 = arg1[0xb];
      iVar8 = arg1[10];
    }
    arg1 = (int *)(uint)*(ushort *)((int)arg1 + 0xe);
    if (arg1 == (int *)0x10) {
      if (iVar7 == 0xff) {
        if (iVar15 != 0xff) {
          return -0x7fffbffb;
        }
        if (iVar8 != 0xff) {
          return -0x7fffbffb;
        }
        if (arg2 != (void *)0xff00) {
          return -0x7fffbffb;
        }
        arg2 = (void *)0x33;
        goto LAB_100106ec;
      }
      if (iVar7 != 0x1f) {
        if (iVar7 == 0xf) {
          if (iVar15 != 0xf0) {
            return -0x7fffbffb;
          }
          if (iVar8 != 0xf00) {
            return -0x7fffbffb;
          }
          if (arg2 == (void *)0xf000) {
            arg2 = (void *)0x1a;
          }
          else {
            if (arg2 != (void *)0x0) {
              return -0x7fffbffb;
            }
            arg2 = (void *)0x1e;
          }
        }
        else {
          if (iVar7 != 3) {
            return -0x7fffbffb;
          }
          if (iVar15 != 0x1c) {
            return -0x7fffbffb;
          }
          if (iVar8 != 0xe0) {
            return -0x7fffbffb;
          }
          if (arg2 != (void *)0xff00) {
            return -0x7fffbffb;
          }
          arg2 = (void *)0x1d;
        }
        goto LAB_100106ec;
      }
      if (iVar15 == 0x7e0) {
        if (iVar8 != 0xf800) {
          return -0x7fffbffb;
        }
        if (arg2 != (void *)0x0) {
          return -0x7fffbffb;
        }
        arg2 = (void *)0x17;
        goto LAB_100106ec;
      }
      if (iVar15 != 0x3e0) {
        return -0x7fffbffb;
      }
      if (iVar8 != 0x7c00) {
        return -0x7fffbffb;
      }
      if (arg2 != (void *)0x0) {
        if (arg2 != (void *)0x8000) {
          return -0x7fffbffb;
        }
        arg2 = (void *)0x19;
        goto LAB_100106ec;
      }
LAB_100106dc:
      arg2 = (void *)0x18;
      goto LAB_100106ec;
    }
    if (arg1 == (int *)0x18) {
      if (iVar7 != 0xff) {
        return -0x7fffbffb;
      }
      if (iVar15 != 0xff00) {
        return -0x7fffbffb;
      }
      if (iVar8 != 0xff0000) {
        return -0x7fffbffb;
      }
      if (arg2 != (void *)0x0) {
        return -0x7fffbffb;
      }
LAB_1001058c:
      arg2 = (void *)0x14;
      goto LAB_100106ec;
    }
    if (arg1 != (int *)0x20) {
      return -0x7fffbffb;
    }
    if (iVar7 != 0xff) {
      if (iVar7 == 0x3ff00000) {
        if (iVar15 != 0xffc00) {
          return -0x7fffbffb;
        }
        if (iVar8 != 0x3ff) {
          return -0x7fffbffb;
        }
        if (arg2 != (void *)0xc0000000) {
          return -0x7fffbffb;
        }
        arg2 = (void *)0x1f;
      }
      else {
        if (iVar7 != 0) {
          return -0x7fffbffb;
        }
        if (iVar15 != -0x10000) {
          return -0x7fffbffb;
        }
        if (iVar8 != 0xffff) {
          return -0x7fffbffb;
        }
        if (arg2 != (void *)0x0) {
          return -0x7fffbffb;
        }
        arg2 = (void *)0x22;
      }
      goto LAB_100106ec;
    }
    if (iVar15 != 0xff00) {
      return -0x7fffbffb;
    }
    if (iVar8 != 0xff0000) {
      return -0x7fffbffb;
    }
    if (arg2 != (void *)0x0) {
      if (arg2 != (void *)0xff000000) {
        return -0x7fffbffb;
      }
      arg2 = (void *)0x15;
      goto LAB_100106ec;
    }
  }
  arg2 = (void *)0x16;
LAB_100106ec:
  if ((*(int *)((int)this + 0x40) != 0) && (arg2 == (void *)0x29)) {
    piVar20 = (int *)piVar17[8];
    if (piVar20 == (int *)0x0) {
      piVar20 = (int *)(1 << ((byte)arg1 & 0x1f));
    }
    *(undefined4 *)((int)this + 0x3c) = 1;
    pvVar9 = operator_new(0x400);
    *(void **)((int)this + 8) = pvVar9;
    if (pvVar9 == (void *)0x0) {
      return -0x7ff8fff2;
    }
    arg1 = (int *)0x0;
    puVar10 = (undefined1 *)(*piVar17 + (int)piVar17);
    if (piVar20 != (int *)0x0) {
      do {
        iVar7 = (int)arg1 * 4;
        *(undefined1 *)(iVar7 + *(int *)((int)this + 8)) = puVar10[2];
        *(undefined1 *)(iVar7 + 1 + *(int *)((int)this + 8)) = puVar10[1];
        *(undefined1 *)(iVar7 + 2 + *(int *)((int)this + 8)) = *puVar10;
        *(undefined1 *)(iVar7 + 3 + *(int *)((int)this + 8)) = 0xff;
        arg1 = (int *)((int)arg1 + 1);
        puVar10 = puVar10 + 4;
      } while (arg1 < piVar20);
    }
    for (; piVar20 < (int *)0x100; piVar20 = (int *)((int)piVar20 + 1)) {
      iVar7 = (int)piVar20 * 4;
      *(undefined1 *)(iVar7 + *(int *)((int)this + 8)) = 0xff;
      *(undefined1 *)(iVar7 + 1 + *(int *)((int)this + 8)) = 0xff;
      *(undefined1 *)(iVar7 + 2 + *(int *)((int)this + 8)) = 0xff;
      *(undefined1 *)(iVar7 + 3 + *(int *)((int)this + 8)) = 0xff;
    }
  }
  uVar3 = *(ushort *)((int)piVar17 + 0xe);
  piVar20 = piVar4;
  if (uVar3 == 1) {
    piVar11 = (int *)((int)piVar4 + 7U >> 3);
  }
  else if (uVar3 == 4) {
    piVar11 = (int *)((int)piVar4 + 1U >> 1);
  }
  else {
    piVar11 = (int *)((uint)(uVar3 >> 3) * (int)piVar4);
    piVar20 = piVar11;
  }
  uVar16 = (int)piVar11 + 3U & 0xfffffffc;
  *(void **)this = arg2;
  uVar12 = (int)piVar20 + 3U & 0xfffffffc;
  *(int **)((int)this + 0xc) = piVar4;
  *(uint *)((int)this + 0x30) = uVar12;
  *(undefined4 *)((int)this + 0x34) = 0;
  *(int *)((int)this + 0x10) = iVar6;
  *(undefined4 *)((int)this + 0x14) = 1;
  if (*(int *)((int)this + 0x40) != 0) {
    if ((piVar17[2] < 0) && (7 < *(ushort *)((int)piVar17 + 0xe))) {
      *(undefined4 *)((int)this + 0x38) = 0;
      *(int *)((int)this + 4) = (int)pvVar1 + (int)piVar17;
    }
    else {
      *(undefined4 *)((int)this + 0x38) = 1;
      pbVar13 = operator_new(uVar12 * iVar6);
      *(byte **)((int)this + 4) = pbVar13;
      if (pbVar13 == (byte *)0x0) {
        return -0x7ff8fff2;
      }
      pbVar18 = (byte *)((int)pvVar1 + (int)piVar17);
      iVar7 = *(int *)((int)this + 0x30);
      pbVar21 = pbVar13;
      local_1c = iVar7;
      if (-1 < piVar17[2]) {
        pbVar21 = pbVar13 + (iVar6 + -1) * iVar7;
        local_1c = -iVar7;
      }
      pbVar14 = pbVar13 + iVar7 * iVar6;
      local_14 = pbVar21;
      if (piVar17[4] == 2) {
        while (pbVar13 <= pbVar21) {
          if (*pbVar18 == 0) {
            bVar5 = pbVar18[1];
            if (bVar5 == 0) {
              pbVar21 = local_14 + -*(int *)((int)this + 0x30);
              local_14 = pbVar21;
            }
            else if (bVar5 == 1) {
              pbVar21 = pbVar13 + -*(int *)((int)this + 0x30);
            }
            else if (bVar5 == 2) {
              pbVar14 = pbVar18 + 3;
              pbVar18 = pbVar18 + 2;
              pbVar21 = pbVar21 + ((uint)*pbVar18 - (uint)*pbVar14 * *(int *)((int)this + 0x30));
            }
            else {
              uVar12 = 0;
              if (bVar5 != 0) {
                do {
                  if ((uVar12 & 1) == 0) {
                    bVar5 = pbVar18[((int)uVar12 >> 1) + 2] >> 4;
                  }
                  else {
                    bVar5 = pbVar18[((int)uVar12 >> 1) + 2] & 0xf;
                  }
                  pbVar21[uVar12] = bVar5;
                  uVar12 = uVar12 + 1;
                } while ((int)uVar12 < (int)(uint)pbVar18[1]);
              }
              pbVar21 = pbVar21 + pbVar18[1];
              pbVar18 = pbVar18 + ((pbVar18[1] >> 1) + 1 & 0xfffffffe);
            }
          }
          else {
            uVar12 = 0;
            if (*pbVar18 != 0) {
              do {
                if ((uVar12 & 1) == 0) {
                  bVar5 = pbVar18[1] >> 4;
                }
                else {
                  bVar5 = pbVar18[1] & 0xf;
                }
                pbVar21[uVar12] = bVar5;
                uVar12 = uVar12 + 1;
              } while ((int)uVar12 < (int)(uint)*pbVar18);
            }
            pbVar21 = pbVar21 + *pbVar18;
          }
          pbVar18 = pbVar18 + 2;
        }
      }
      else if (piVar17[4] == 1) {
        while (pbVar13 <= pbVar21) {
          bVar5 = *pbVar18;
          if (bVar5 == 0) {
            uVar12 = (uint)pbVar18[1];
            if (uVar12 == 0) {
              pbVar21 = local_14 + -*(int *)((int)this + 0x30);
              local_14 = pbVar21;
            }
            else if (uVar12 == 1) {
              pbVar21 = pbVar13 + -*(int *)((int)this + 0x30);
            }
            else {
              if (uVar12 != 2) {
                pbVar14 = pbVar18 + 2;
                pbVar19 = pbVar21;
                for (uVar16 = (uint)(pbVar18[1] >> 2); uVar16 != 0; uVar16 = uVar16 - 1) {
                  *(undefined4 *)pbVar19 = *(undefined4 *)pbVar14;
                  pbVar14 = pbVar14 + 4;
                  pbVar19 = pbVar19 + 4;
                }
                for (uVar12 = uVar12 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
                  *pbVar19 = *pbVar14;
                  pbVar14 = pbVar14 + 1;
                  pbVar19 = pbVar19 + 1;
                }
                uVar12 = (uint)pbVar18[1];
                pbVar18 = pbVar18 + (uVar12 + 1 & 0xfffffffe);
                goto LAB_100109ec;
              }
              pbVar14 = pbVar18 + 3;
              pbVar18 = pbVar18 + 2;
              pbVar21 = pbVar21 + ((uint)*pbVar18 - (uint)*pbVar14 * *(int *)((int)this + 0x30));
            }
          }
          else {
            bVar2 = pbVar18[1];
            pbVar14 = pbVar21;
            for (uVar12 = (uint)(bVar5 >> 2); uVar12 != 0; uVar12 = uVar12 - 1) {
              *(uint *)pbVar14 = CONCAT22(CONCAT11(bVar2,bVar2),CONCAT11(bVar2,bVar2));
              pbVar14 = pbVar14 + 4;
            }
            for (uVar12 = bVar5 & 3; uVar12 != 0; uVar12 = uVar12 - 1) {
              *pbVar14 = bVar2;
              pbVar14 = pbVar14 + 1;
            }
            uVar12 = (uint)*pbVar18;
LAB_100109ec:
            pbVar21 = pbVar21 + uVar12;
          }
          pbVar18 = pbVar18 + 2;
        }
      }
      else if (*(short *)((int)piVar17 + 0xe) == 1) {
        for (; (pbVar13 <= pbVar21 && (pbVar21 < pbVar14)); pbVar21 = pbVar21 + local_1c) {
          arg1 = (int *)0x0;
          if (piVar4 != (int *)0x0) {
            do {
              *(byte *)((int)arg1 + (int)pbVar21) =
                   pbVar18[(uint)arg1 >> 3] >> (7 - ((byte)arg1 & 7) & 0x1f) & 1;
              arg1 = (int *)((int)arg1 + 1);
            } while (arg1 < piVar4);
          }
          pbVar18 = pbVar18 + uVar16;
        }
      }
      else if (*(short *)((int)piVar17 + 0xe) == 4) {
        for (; (pbVar13 <= pbVar21 && (pbVar21 < pbVar14)); pbVar21 = pbVar21 + local_1c) {
          piVar17 = (int *)0x0;
          if (piVar4 != (int *)0x0) {
            do {
              if (((uint)piVar17 & 1) == 0) {
                bVar5 = pbVar18[(uint)piVar17 >> 1] >> 4;
              }
              else {
                bVar5 = pbVar18[(uint)piVar17 >> 1] & 0xf;
              }
              *(byte *)((int)piVar17 + (int)pbVar21) = bVar5;
              piVar17 = (int *)((int)piVar17 + 1);
            } while (piVar17 < piVar4);
          }
          pbVar18 = pbVar18 + uVar16;
        }
      }
      else {
        while ((pbVar13 <= pbVar21 && (pbVar21 < pbVar14))) {
          pbVar19 = pbVar18 + uVar16;
          pbVar22 = pbVar21 + local_1c;
          for (uVar12 = (uint)piVar20 >> 2; uVar12 != 0; uVar12 = uVar12 - 1) {
            *(undefined4 *)pbVar21 = *(undefined4 *)pbVar18;
            pbVar18 = pbVar18 + 4;
            pbVar21 = pbVar21 + 4;
          }
          pbVar23 = pbVar18;
          pbVar24 = pbVar21;
          for (uVar12 = (uint)piVar20 & 3; pbVar18 = pbVar19, pbVar21 = pbVar22, uVar12 != 0;
              uVar12 = uVar12 - 1) {
            *pbVar24 = *pbVar23;
            pbVar23 = pbVar23 + 1;
            pbVar24 = pbVar24 + 1;
          }
        }
      }
    }
  }
  return 0;
}



/* FUN_10010aec @ 10010aec */

/* [binja] int32_t __thiscall sub_10010aec(int32_t* arg1, HANDLE arg2) */

int __thiscall FUN_10010aec(void *this,int *arg1,HANDLE arg2)

{
  undefined4 uVar1;
  int iVar2;
  undefined1 uVar3;
  int iVar4;
  uint uVar5;
  undefined1 *puVar6;
  DWORD nNumberOfBytesToWrite;
  int *piVar7;
  uint uVar8;
  LPCVOID lpBuffer;
  undefined1 local_498 [1024];
  int local_98 [3];
  undefined2 local_8c;
  ushort local_8a;
  undefined4 local_88;
  undefined4 local_80;
  undefined4 local_7c;
  undefined2 local_2c;
  int local_2a;
  undefined2 uStack_26;
  undefined2 uStack_24;
  int local_22;
  LPCVOID local_1c;
  undefined1 local_18 [4];
  uint local_14;
  undefined1 local_10;
  undefined1 local_f;
  undefined1 local_e;
  undefined1 local_d;
  DWORD local_c;
  undefined4 local_8;
  
  local_10 = 0;
  local_f = 0;
  local_e = 0;
  local_d = 0;
  local_8 = 0xff000000;
  local_18[0] = 0;
  local_14 = 0xff000000;
  piVar7 = local_98;
  for (iVar4 = 0x1b; uVar1 = local_8, iVar4 != 0; iVar4 = iVar4 + -1) {
    *piVar7 = 0;
    piVar7 = piVar7 + 1;
  }
  iVar4 = *(int *)this;
  local_8._3_1_ = SUB41(uVar1,3);
  local_8._0_3_ = CONCAT12(0xaa,CONCAT11(0x55,(undefined1)local_8));
  local_18[1] = 0x24;
  local_18[2] = 0x49;
  local_18[3] = 0x6d;
  local_14 = CONCAT13(local_14._3_1_,0xdbb692);
  local_c = 0;
  if (iVar4 == 0x14) {
    local_98[0] = 0x28;
    local_8a = 0x18;
  }
  else if (iVar4 == 0x1b) {
    local_98[0] = 0x28;
    local_8a = 8;
    local_c = 0x400;
    uVar5 = 0;
    do {
      uVar3 = local_18[uVar5 >> 5];
      iVar4 = uVar5 * 4;
      *(undefined1 *)((int)local_98 + iVar4 + -0x3fd) = 0;
      *(undefined1 *)((int)local_98 + iVar4 + -0x3fe) = uVar3;
      *(undefined1 *)((int)local_98 + iVar4 + -0x3ff) = local_18[uVar5 >> 2 & 7];
      uVar8 = uVar5 + 1;
      *(undefined1 *)(local_98 + (uVar5 - 0x100)) = *(undefined1 *)((int)&local_8 + (uVar5 & 3));
      uVar5 = uVar8;
    } while (uVar8 < 0x100);
  }
  else if (iVar4 == 0x29) {
    iVar4 = *(int *)((int)this + 8);
    puVar6 = (undefined1 *)(iVar4 + 2);
    local_98[0] = 0x28;
    local_8a = 8;
    local_c = 0x400;
    uVar5 = 0;
    do {
      iVar2 = uVar5 * 4;
      *(undefined1 *)((int)local_98 + iVar2 + -0x3fe) = *(undefined1 *)(iVar4 + iVar2);
      *(undefined1 *)((int)local_98 + iVar2 + -0x3ff) = puVar6[-1];
      uVar3 = *puVar6;
      *(undefined1 *)((int)local_98 + iVar2 + -0x3fd) = 0;
      uVar8 = uVar5 + 1;
      puVar6 = puVar6 + 4;
      *(undefined1 *)(local_98 + (uVar5 - 0x100)) = uVar3;
      uVar5 = uVar8;
    } while (uVar8 < 0x100);
  }
  else {
    if (iVar4 != 0x32) {
      return -0x7fffbffb;
    }
    local_98[0] = 0x28;
    local_8a = 8;
    local_c = 0x400;
    uVar5 = 0;
    do {
      iVar4 = uVar5 * 4;
      *(undefined1 *)((int)local_98 + iVar4 + -0x3fd) = 0;
      uVar3 = (undefined1)uVar5;
      *(undefined1 *)((int)local_98 + iVar4 + -0x3fe) = uVar3;
      *(undefined1 *)((int)local_98 + iVar4 + -0x3ff) = uVar3;
      *(undefined1 *)(local_98 + (uVar5 - 0x100)) = uVar3;
      uVar5 = uVar5 + 1;
    } while (uVar5 < 0x100);
  }
  local_88 = 0;
  local_98[1] = *(int *)((int)this + 0xc);
  local_98[2] = *(int *)((int)this + 0x10);
  local_80 = 0xb12;
  local_7c = 0xb12;
  local_1c = (LPCVOID)(uint)(local_8a >> 3);
  local_8 = local_98[1] * (int)local_1c;
  local_14 = local_8 + 3 & 0xfffffffc;
  local_2a = local_98[2] * local_14 + 0x36 + local_c;
  uStack_26 = 0;
  uStack_24 = 0;
  nNumberOfBytesToWrite = (local_2a + 3U & 0xfffffffc) - local_2a;
  local_2a = nNumberOfBytesToWrite + local_2a;
  local_22 = local_c + 0x36;
  local_8c = 1;
  local_2c = 0x4d42;
  if (arg2 != (HANDLE)0x0) {
    WriteFile(arg1,&local_2c,0xe,(LPDWORD)&arg2,(LPOVERLAPPED)0x0);
  }
  WriteFile(arg1,local_98,0x28,(LPDWORD)&arg2,(LPOVERLAPPED)0x0);
  if (local_c != 0) {
    WriteFile(arg1,local_498,local_c,(LPDWORD)&arg2,(LPOVERLAPPED)0x0);
  }
  local_1c = (LPCVOID)(*(int *)((int)this + 0x1c) * *(int *)((int)this + 0x30) +
                       *(int *)((int)this + 0x18) * (int)local_1c + *(int *)((int)this + 4));
  lpBuffer = (LPCVOID)((*(int *)((int)this + 0x10) + -1) * *(int *)((int)this + 0x30) +
                      (int)local_1c);
  if (local_1c <= lpBuffer) {
    do {
      WriteFile(arg1,lpBuffer,local_8,(LPDWORD)&arg2,(LPOVERLAPPED)0x0);
      if (local_8 < local_14) {
        WriteFile(arg1,&local_10,local_14 - local_8,(LPDWORD)&arg2,(LPOVERLAPPED)0x0);
      }
      lpBuffer = (LPCVOID)((int)lpBuffer - *(int *)((int)this + 0x30));
    } while (local_1c <= lpBuffer);
  }
  if (nNumberOfBytesToWrite != 0) {
    WriteFile(arg1,&local_10,nNumberOfBytesToWrite,(LPDWORD)&arg2,(LPOVERLAPPED)0x0);
  }
  return 0;
}



/* FUN_10010dd0 @ 10010dd0 */

void FUN_10010dd0(int *param_1)

{
  (**(code **)(*param_1 + 8))(param_1);
                    /* WARNING: Subroutine does not return */
  longjmp((int *)(*param_1 + 0x84),1);
}



/* grim_load_image_jpg @ 10010e13 */

/* [binja] int32_t __thiscall sub_10010e13(int32_t* arg1, int32_t arg2, int32_t arg3) */

int grim_load_image_jpg(int *arg1,int arg2,int arg3)

{
  uint *puVar1;
  int iVar2;
  void *pvVar3;
  undefined1 *puVar4;
  uint uVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  uint *puVar8;
  undefined4 *puVar9;
  code *local_278 [2];
  undefined *local_270;
  undefined1 local_1f4 [64];
  int local_1b4;
  undefined4 *local_1b0;
  undefined4 *local_1a0;
  undefined4 local_170;
  uint local_158;
  uint local_154;
  int local_14c;
  uint local_13c;
  int *local_c;
  undefined4 *local_8;
  
  local_1b4 = FUN_1001e027(local_278);
  local_278[0] = FUN_10010dd0;
  local_270 = &DAT_10010dec;
  iVar2 = setjmp3(local_1f4,0);
  if (iVar2 == 0) {
    FUN_1001c265(&local_1b4,0x3d,0x1a8);
    local_1a0 = (undefined4 *)(*(code *)*local_1b0)(&local_1b4,0,0x24);
    local_1a0[8] = arg2;
    local_1a0[2] = &DAT_10010dec;
    local_1a0[3] = &LAB_10010ded;
    local_1a0[4] = &LAB_10010e02;
    local_1a0[5] = &LAB_1001dd80;
    local_1a0[6] = &DAT_10010dec;
    local_1a0[1] = 0;
    *local_1a0 = 0;
    local_1a0[7] = arg1;
    FUN_1001c5de(&local_1b4,'\x01');
    iVar2 = FUN_1001bf5e();
    if (iVar2 == 0) {
      local_170 = 1;
    }
    local_270 = &LAB_1001df31;
    FUN_1001c76e(&local_1b4);
    if (local_14c == 1) {
      *local_c = 0x32;
      local_c[0xc] = local_158;
    }
    else {
      if (local_14c != 3) goto LAB_10010e5e;
      *local_c = 0x16;
      local_c[0xc] = local_158 << 2;
    }
    local_c[0xd] = 0;
    local_c[3] = local_158;
    local_c[4] = local_154;
    local_c[5] = 1;
    if (local_c[0x10] != 0) {
      local_c[0xe] = 1;
      pvVar3 = operator_new(local_c[0xc] * local_154);
      local_c[1] = (int)pvVar3;
      if ((pvVar3 == (void *)0x0) ||
         (local_8 = (undefined4 *)(*(code *)local_1b0[2])(&local_1b4,1,local_158 * local_14c,1),
         local_8 == (undefined4 *)0x0)) {
        iVar2 = -0x7ff8fff2;
        goto LAB_1001106d;
      }
      if (*local_c == 0x32) {
        puVar6 = (undefined4 *)local_c[1];
        if (local_13c < local_154) {
          do {
            FUN_1001c6ea(&local_1b4,local_8,1);
            puVar7 = (undefined4 *)*local_8;
            puVar9 = puVar6;
            for (uVar5 = local_158 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
              *puVar9 = *puVar7;
              puVar7 = puVar7 + 1;
              puVar9 = puVar9 + 1;
            }
            for (uVar5 = local_158 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
              *(undefined1 *)puVar9 = *(undefined1 *)puVar7;
              puVar7 = (undefined4 *)((int)puVar7 + 1);
              puVar9 = (undefined4 *)((int)puVar9 + 1);
            }
            puVar6 = (undefined4 *)((int)puVar6 + local_158);
          } while (local_13c < local_154);
        }
      }
      else if (*local_c == 0x16) {
        puVar8 = (uint *)local_c[1];
        while (local_13c < local_154) {
          FUN_1001c6ea(&local_1b4,local_8,1);
          puVar4 = (undefined1 *)*local_8;
          puVar1 = puVar8 + local_158;
          for (; puVar8 < puVar1; puVar8 = puVar8 + 1) {
            *puVar8 = (uint)CONCAT21(CONCAT11(*puVar4,puVar4[1]),puVar4[2]);
            puVar4 = puVar4 + 3;
          }
        }
      }
      FUN_1001c537(&local_1b4);
    }
    iVar2 = 0;
  }
  else {
LAB_10010e5e:
    iVar2 = -0x7fffbffb;
  }
LAB_1001106d:
  thunk_FUN_10023bc5((int)&local_1b4);
  return iVar2;
}



/* FUN_10011083 @ 10011083 */

/* [binja] int32_t __thiscall sub_10011083(int32_t* arg1, void* arg2, int32_t arg3) */

int __thiscall FUN_10011083(void *this,int *arg1,void *arg2,int arg3)

{
  undefined1 *puVar1;
  undefined1 *puVar2;
  uint uVar3;
  byte bVar4;
  ushort uVar5;
  uint uVar6;
  int *piVar7;
  byte bVar8;
  uint uVar9;
  void *pvVar10;
  uint uVar11;
  undefined4 *puVar12;
  void *pvVar13;
  int *piVar14;
  uint uVar15;
  int iVar16;
  uint uVar17;
  uint *puVar18;
  uint *puVar19;
  bool bVar20;
  bool bVar21;
  uint local_20;
  uint local_1c;
  uint local_18;
  int local_10;
  uint *local_8;
  
  piVar7 = arg1;
  if (arg2 < (void *)0x12) {
    return -0x7fffbffb;
  }
  if (((((*(byte *)((int)arg1 + 1) & 0xfe) != 0) ||
       (bVar4 = *(byte *)((int)arg1 + 2), (bVar4 & 0xf4) != 0)) || ((short)arg1[3] == 0)) ||
     (*(short *)((int)arg1 + 0xe) == 0)) {
    return -0x7fffbffb;
  }
  uVar9 = (uint)*(byte *)((int)arg1 + 7);
  local_18 = 0;
  if (*(byte *)((int)arg1 + 1) != 0) {
    if (uVar9 == 0xf) {
      local_18 = 0x18;
    }
    else if (uVar9 == 0x10) {
      local_18 = 0x19;
    }
    else if (uVar9 == 0x18) {
      local_18 = 0x14;
    }
    else {
      if (uVar9 != 0x20) {
        return -0x7fffbffb;
      }
      local_18 = 0x15;
    }
  }
  uVar15 = (uint)*(byte *)(arg1 + 4);
  pvVar10 = (void *)(uVar15 + 7 >> 3);
  bVar8 = bVar4 & 3;
  if (bVar8 == 1) {
    if (*(char *)((int)arg1 + 1) == '\0') {
      return -0x7fffbffb;
    }
    if ((char)arg1[4] != '\b') {
      return -0x7fffbffb;
    }
    local_10 = 0x29;
  }
  else if (bVar8 == 2) {
    if (uVar15 == 0xf) {
      local_10 = 0x18;
    }
    else if (uVar15 == 0x10) {
      local_10 = 0x19;
    }
    else if (uVar15 == 0x18) {
      local_10 = 0x14;
    }
    else {
      if (uVar15 != 0x20) {
        return -0x7fffbffb;
      }
      local_10 = 0x15;
    }
  }
  else {
    if (bVar8 != 3) {
      return -0x7fffbffb;
    }
    if ((char)arg1[4] != '\b') {
      return -0x7fffbffb;
    }
    local_10 = 0x32;
  }
  bVar20 = (*(byte *)((int)arg1 + 0x11) & 0x20) != 0x20;
  bVar21 = (*(byte *)((int)arg1 + 0x11) & 0x10) == 0x10;
  uVar11 = (uint)(byte)*arg1;
  if ((int)arg2 - 0x12U < uVar11) {
    return -0x7fffbffb;
  }
  uVar3 = ((int)arg2 - 0x12U) - uVar11;
  local_8 = (uint *)(uVar11 + 0x12 + (int)arg1);
  uVar9 = (uint)*(ushort *)((int)arg1 + 5) * (uVar9 + 7 >> 3);
  if (uVar3 < uVar9) {
    return -0x7fffbffb;
  }
  if ((*(int *)((int)this + 0x40) != 0) && (local_10 == 0x29)) {
    if (0x100 < (uint)*(ushort *)((int)arg1 + 3) + (uint)*(ushort *)((int)arg1 + 5)) {
      return -0x7fffbffb;
    }
    puVar12 = operator_new(0x400);
    *(undefined4 **)((int)this + 8) = puVar12;
    if (puVar12 == (undefined4 *)0x0) {
      return -0x7ff8fff2;
    }
    *(undefined4 *)((int)this + 0x3c) = 1;
    for (iVar16 = 0x100; iVar16 != 0; iVar16 = iVar16 + -1) {
      *puVar12 = 0xffffffff;
      puVar12 = puVar12 + 1;
    }
    puVar1 = (undefined1 *)(*(int *)((int)this + 8) + (uint)*(ushort *)((int)arg1 + 3) * 4);
    puVar2 = puVar1 + (uint)*(ushort *)((int)arg1 + 5) * 4;
    uVar11 = uVar3;
    uVar17 = uVar3;
    arg1 = (int *)local_8;
    for (; puVar1 < puVar2; puVar1 = puVar1 + 4) {
      if (local_18 == 0x14) {
        uVar11 = (uint)*(byte *)((int)arg1 + 2);
        uVar17 = (uint)*(byte *)((int)arg1 + 1);
        local_1c = (uint)(byte)*arg1;
        arg1 = (int *)((int)arg1 + 3);
LAB_10011360:
        local_20 = 0xff;
      }
      else if (local_18 == 0x15) {
        uVar6 = *arg1;
        local_20 = uVar6 >> 0x18;
        uVar17 = uVar6 >> 8 & 0xff;
        uVar11 = uVar6 >> 0x10 & 0xff;
        local_1c = uVar6 & 0xff;
        arg1 = (int *)((uint *)arg1 + 1);
      }
      else {
        if (local_18 == 0x18) {
          uVar5 = (ushort)*arg1;
          uVar11 = uVar5 >> 10 & 0x1f;
          uVar17 = uVar5 >> 5 & 0x1f;
          uVar11 = uVar11 >> 2 | uVar11 << 3;
          uVar17 = uVar17 >> 2 | uVar17 << 3;
          local_1c = (uVar5 & 0x1f) >> 2 | (uVar5 & 0x1f) << 3;
          arg1 = (int *)((int)arg1 + 2);
          goto LAB_10011360;
        }
        if (local_18 == 0x19) {
          uVar5 = (ushort)*arg1;
          local_20 = (uint)(uVar5 >> 0xf) * 0xff;
          uVar11 = uVar5 >> 10 & 0x1f;
          uVar17 = uVar5 >> 5 & 0x1f;
          uVar11 = uVar11 >> 2 | uVar11 << 3;
          uVar17 = uVar17 >> 2 | uVar17 << 3;
          local_1c = (uVar5 & 0x1f) >> 2 | (uVar5 & 0x1f) << 3;
          arg1 = (int *)((int)arg1 + 2);
        }
      }
      puVar1[2] = (char)local_1c;
      puVar1[3] = (undefined1)local_20;
      *puVar1 = (char)uVar11;
      puVar1[1] = (char)uVar17;
    }
  }
  arg2 = (void *)(uVar3 - uVar9);
  local_8 = (uint *)((int)local_8 + uVar9);
  pvVar13 = (void *)((uint)*(ushort *)((int)piVar7 + 0xe) * (uint)*(ushort *)(piVar7 + 3) *
                    (int)pvVar10);
  *(int *)this = local_10;
  *(uint **)((int)this + 4) = local_8;
  *(uint *)((int)this + 0x30) = (uint)*(ushort *)(piVar7 + 3) * (int)pvVar10;
  *(undefined4 *)((int)this + 0x34) = 0;
  *(uint *)((int)this + 0xc) = (uint)*(ushort *)(piVar7 + 3);
  *(uint *)((int)this + 0x10) = (uint)*(ushort *)((int)piVar7 + 0xe);
  *(undefined4 *)((int)this + 0x14) = 1;
  if (*(int *)((int)this + 0x40) != 0) {
    if ((((bVar4 & 8) != 0) || (bVar20)) || (bVar21)) {
      piVar14 = operator_new((uint)pvVar13);
      *(int **)((int)this + 4) = piVar14;
      if (piVar14 == (int *)0x0) {
        return -0x7ff8fff2;
      }
      *(undefined4 *)((int)this + 0x38) = 1;
      if (bVar20) {
        piVar14 = (int *)((*(ushort *)((int)piVar7 + 0xe) - 1) * *(int *)((int)this + 0x30) +
                         (int)piVar14);
      }
      local_18 = 0;
      if (*(short *)((int)piVar7 + 0xe) != 0) {
        do {
          arg1 = piVar14;
          if (bVar21) {
            arg1 = (int *)((*(int *)((int)this + 0x30) - (int)pvVar10) + (int)piVar14);
          }
          uVar9 = (uint)*(ushort *)(piVar7 + 3);
          local_1c = 0;
          if (uVar9 != 0) {
            do {
              if ((bVar4 & 8) == 0) {
                local_20 = 0;
              }
              else {
                if (arg2 == (void *)0x0) {
                  return -0x7fffbffb;
                }
                local_20 = (byte)*local_8 & 0x80;
                uVar9 = ((byte)*local_8 & 0x7f) + 1;
                local_8 = (uint *)((int)local_8 + 1);
                arg2 = (void *)((int)arg2 + -1);
              }
              local_1c = local_1c + uVar9;
              while (uVar9 != 0) {
                uVar9 = uVar9 - 1;
                if (arg2 < pvVar10) {
                  return -0x7fffbffb;
                }
                puVar18 = local_8;
                puVar19 = (uint *)arg1;
                for (uVar11 = uVar15 + 7 >> 5; uVar11 != 0; uVar11 = uVar11 - 1) {
                  *puVar19 = *puVar18;
                  puVar18 = puVar18 + 1;
                  puVar19 = puVar19 + 1;
                }
                for (uVar11 = (uint)pvVar10 & 3; uVar11 != 0; uVar11 = uVar11 - 1) {
                  *(byte *)puVar19 = (byte)*puVar18;
                  puVar18 = (uint *)((int)puVar18 + 1);
                  puVar19 = (uint *)((int)puVar19 + 1);
                }
                if (local_20 == 0) {
                  local_8 = (uint *)((int)local_8 + (int)pvVar10);
                  arg2 = (void *)((int)arg2 - (int)pvVar10);
                }
                pvVar13 = pvVar10;
                if (bVar21) {
                  pvVar13 = (void *)-(int)pvVar10;
                }
                arg1 = (int *)((int)arg1 + (int)pvVar13);
              }
              if (local_20 != 0) {
                local_8 = (uint *)((int)local_8 + (int)pvVar10);
                arg2 = (void *)((int)arg2 - (int)pvVar10);
              }
              uVar9 = (uint)*(ushort *)(piVar7 + 3);
            } while (local_1c < uVar9);
          }
          if (bVar20) {
            iVar16 = -*(int *)((int)this + 0x30);
          }
          else {
            iVar16 = *(int *)((int)this + 0x30);
          }
          piVar14 = (int *)((int)piVar14 + iVar16);
          local_18 = local_18 + 1;
        } while (local_18 < *(ushort *)((int)piVar7 + 0xe));
      }
    }
    else {
      if (arg2 < pvVar13) {
        return -0x7fffbffb;
      }
      *(uint **)((int)this + 4) = local_8;
      *(undefined4 *)((int)this + 0x38) = 0;
    }
  }
  return 0;
}



/* grim_load_image_pnm @ 1001152a */

/* [binja] int32_t __thiscall sub_1001152a(int32_t* arg1, char* arg2, int32_t arg3) */

int __thiscall grim_load_image_pnm(void *this,int *arg1,char *arg2,int arg3)

{
  char *pcVar1;
  byte bVar2;
  bool bVar3;
  byte *pbVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  byte *pbVar9;
  uint local_18;
  uint *local_14;
  uint local_c;
  int local_8;
  
  if (arg2 < (char *)0x2) {
    return -0x7fffbffb;
  }
  if ((char)*arg1 == 'P') {
    if (*(char *)((int)arg1 + 1) == '3') {
      bVar3 = true;
    }
    else {
      if (*(char *)((int)arg1 + 1) != '6') {
        return -0x7fffbffb;
      }
      bVar3 = false;
    }
    pbVar9 = (byte *)((int)arg1 + 2);
    arg2 = arg2 + -2;
    local_8 = 0;
    local_18 = 0;
    local_c = 0xff;
    pbVar4 = pbVar9;
    while (arg2 != (char *)0x0) {
      uVar8 = 0;
      if ((!bVar3) && (local_8 == 3)) {
        if (0xff < local_c) {
          return -0x7fffbffb;
        }
        if (((char *)0x1 < arg2) && (*pbVar9 == 0xd)) {
          pbVar9 = pbVar9 + 1;
          arg2 = arg2 + -1;
        }
        pcVar1 = arg2 + -1;
        pbVar9 = pbVar9 + 1;
        for (; (pcVar1 != (char *)0x0 && (arg1 < local_14)); arg1 = (int *)((uint *)arg1 + 1)) {
          *arg1 = ((((uint)*pbVar9 * 0xff) / local_c | 0xffffff00) << 8 |
                  ((uint)pbVar9[1] * 0xff) / local_c) << 8 | ((uint)pbVar9[2] * 0xff) / local_c;
          pcVar1 = pcVar1 + -3;
          pbVar9 = pbVar9 + 3;
        }
        return -(uint)((uint *)arg1 != local_14) & 0x80004005;
      }
      iVar7 = isspace((uint)*pbVar9);
      if (iVar7 == 0) {
        if (*pbVar9 == 0x23) {
          for (; (arg2 != (char *)0x0 && (*pbVar9 != 10)); pbVar9 = pbVar9 + 1) {
            arg2 = arg2 + -1;
          }
          goto LAB_100115b4;
        }
        while ((arg2 != (char *)0x0 && (iVar7 = isspace((uint)*pbVar9), iVar7 == 0))) {
          iVar7 = isdigit((uint)*pbVar9);
          if (iVar7 == 0) {
            return -0x7fffbffb;
          }
          bVar2 = *pbVar9;
          pbVar9 = pbVar9 + 1;
          arg2 = arg2 + -1;
          uVar8 = (bVar2 - 0x30) + uVar8 * 10;
          pbVar4 = pbVar9;
        }
        uVar5 = uVar8;
        uVar6 = local_c;
        if (local_8 == 0) {
LAB_100116f9:
          local_c = uVar6;
          local_18 = uVar5;
          if (uVar8 == 0) {
            return -0x7fffbffb;
          }
        }
        else if (local_8 == 1) {
          if (uVar8 == 0) {
            return -0x7fffbffb;
          }
          arg1 = operator_new(uVar8 * local_18 * 4);
          *(int **)((int)this + 4) = arg1;
          if (arg1 == (int *)0x0) {
            return -0x7ff8fff2;
          }
          local_14 = (uint *)(arg1 + uVar8 * local_18);
          *(undefined4 *)((int)this + 0x34) = 0;
          *(undefined4 *)((int)this + 0x38) = 1;
          *(undefined4 *)this = 0x16;
          *(uint *)((int)this + 0x30) = local_18 << 2;
          *(uint *)((int)this + 0xc) = local_18;
          *(uint *)((int)this + 0x10) = uVar8;
          *(undefined4 *)((int)this + 0x14) = 1;
          pbVar9 = pbVar4;
        }
        else {
          uVar5 = local_18;
          uVar6 = uVar8;
          if (local_8 == 2) goto LAB_100116f9;
          if (local_8 == 3) {
            if (local_14 <= arg1) {
              return -0x7fffbffb;
            }
            *arg1 = ((uVar8 * 0xff) / local_c | 0xffffff00) << 0x10;
          }
          else if (local_8 == 4) {
            *arg1 = *arg1 | (uVar8 * 0xff) / local_c << 8;
          }
          else if (local_8 == 5) {
            *arg1 = *arg1 | (uVar8 * 0xff) / local_c;
            arg1 = (int *)((uint *)arg1 + 1);
            if ((uint *)arg1 == local_14) {
              return 0;
            }
            local_8 = 2;
          }
        }
        local_8 = local_8 + 1;
      }
      else {
LAB_100115b4:
        pbVar9 = pbVar9 + 1;
        arg2 = arg2 + -1;
        pbVar4 = pbVar9;
      }
    }
  }
  return -0x7fffbffb;
}



/* grim_load_image_png @ 100117ff */

/* [binja] int32_t __thiscall sub_100117ff(int32_t* arg1, void* arg2, void* arg3) */

int grim_load_image_png(int *arg1,void *arg2,void *arg3)

{
  undefined1 *puVar1;
  byte bVar2;
  undefined1 uVar3;
  int iVar4;
  uint uVar5;
  void *pvVar6;
  int iVar7;
  int iVar8;
  undefined1 auStack_158 [256];
  double local_58;
  double local_50;
  int *local_48;
  void *local_44;
  int local_40;
  undefined1 local_3c [4];
  int *local_38;
  uint local_34;
  uint local_30;
  uint local_2c;
  uint local_28;
  uint local_24;
  undefined4 *local_20;
  uint local_1c;
  int local_18;
  int local_14;
  uint local_10;
  uint *local_c;
  png_structp local_8;
  
  local_8 = (png_structp)0x0;
  local_c = (uint *)0x0;
  local_20 = (undefined4 *)0x0;
  iVar4 = FUN_100204e3((int)arg1,0,(uint)arg2);
  if (iVar4 != 0) {
    return -0x7fffbffb;
  }
  local_8 = png_create_read_struct("1.0.5",(png_voidp)0x0,&DAT_100117f3,&DAT_10010dec);
  if ((local_8 == (png_structp)0x0) ||
     (local_c = FUN_100205e8((int)local_8), local_c == (uint *)0x0)) goto LAB_10011c62;
  iVar4 = setjmp3(local_8);
  if (iVar4 == 0) {
    local_48 = arg1;
    local_44 = arg2;
    FUN_100204a4(local_8,&local_48,&LAB_100117b0);
    FUN_1001e294(local_8,local_c);
    FUN_1001ea59(local_8,local_c,&local_34,&local_1c,&local_28,&local_30,(uint *)0x0,(uint *)0x0,
                 (uint *)0x0);
    if (local_30 == 0) {
      *local_38 = 0x32;
    }
    else if (local_30 == 2) {
      *local_38 = 0x14;
    }
    else if (local_30 == 3) {
      *local_38 = 0x29;
    }
    else if (local_30 == 4) {
      *local_38 = 0x33;
    }
    else if (local_30 == 6) {
      *local_38 = 0x15;
    }
    if (local_28 == 0x10) {
      FUN_1001ebcd((int)local_8);
      iVar4 = *local_38;
      if (iVar4 == 0x14) {
        *local_38 = 0x36315220;
      }
      else if (iVar4 == 0x15) {
        *local_38 = 0x36315241;
      }
      else if (iVar4 == 0x32) {
        *local_38 = 0x36314c20;
      }
      else {
        if (iVar4 != 0x33) {
          return -0x7fffbffb;
        }
        *local_38 = 0x36314c41;
      }
    }
    if ((int)local_28 < 8) {
      FUN_1001ebdf((int)local_8);
    }
    if ((local_30 == 0) && ((int)local_28 < 8)) {
      FUN_1001ed80((int)local_8);
    }
    iVar4 = FUN_1001ea2e((int)local_8,(int)local_c,(uint *)local_3c);
    if (iVar4 == 0) {
      iVar4 = FUN_1001ea05((int)local_8,(int)local_c,&local_58);
      if (iVar4 != 0) {
        FUN_1001ed4a((int)local_8,2.2,local_58);
      }
    }
    else {
      FUN_100203e1((int)local_8,(int)local_c,local_3c[0]);
    }
    if ((*local_38 != 0x29) && (uVar5 = FUN_1001e9bf((int)local_8,(int)local_c,0x10), uVar5 != 0)) {
      FUN_1001ed80((int)local_8);
      iVar4 = *local_38;
      if (iVar4 == 0x14) {
        *local_38 = 0x15;
      }
      else if (iVar4 == 0x32) {
        *local_38 = 0x33;
      }
      else if (iVar4 == 0x36314c20) {
        *local_38 = 0x36314c41;
      }
      else if (iVar4 == 0x36315220) {
        *local_38 = 0x36315241;
      }
    }
    iVar4 = *local_38;
    if ((((iVar4 == 0x14) || (iVar4 == 0x36315220)) || (iVar4 == 0x15)) || (iVar4 == 0x36315241)) {
      FUN_1001ebc4((int)local_8);
    }
    if (*local_38 == 0x14) {
      FUN_1001ec11((int)local_8,0xff,1);
      *local_38 = 0x16;
    }
    FUN_1001e407(local_8,(int *)local_c);
    iVar4 = *local_38;
    uVar5 = 3;
    if (iVar4 < 0x34) {
      if (iVar4 == 0x33) {
LAB_10011ad2:
        local_10 = 2;
        uVar5 = local_10;
      }
      else if (iVar4 != 0x14) {
        if ((iVar4 == 0x15) || (iVar4 == 0x16)) {
LAB_10011ac8:
          uVar5 = 4;
        }
        else if ((iVar4 == 0x29) || (uVar5 = local_10, iVar4 == 0x32)) goto LAB_10011a8e;
      }
    }
    else if (iVar4 == 0x36314c20) {
LAB_10011a8e:
      local_10 = 1;
      uVar5 = local_10;
    }
    else {
      if (iVar4 == 0x36314c41) goto LAB_10011ad2;
      if ((iVar4 != 0x36315220) && (uVar5 = local_10, iVar4 == 0x36315241)) goto LAB_10011ac8;
    }
    local_10 = uVar5;
    bVar2 = FUN_1001e9ef((int)local_8,(int)local_c);
    if (local_10 == bVar2) {
      local_38[3] = local_34;
      local_38[4] = local_1c;
      local_38[5] = 1;
      iVar4 = FUN_1001e9d9((int)local_8,(int)local_c);
      local_38[0xc] = iVar4;
      local_38[0xd] = 0;
      if (local_38[0x10] == 0) goto LAB_10011d64;
      pvVar6 = operator_new(iVar4 * local_1c);
      local_38[1] = (int)pvVar6;
      if (pvVar6 != (void *)0x0) {
        local_38[0xe] = 1;
        local_20 = operator_new(local_1c << 2);
        if (local_20 != (undefined4 *)0x0) {
          uVar5 = 0;
          if (local_1c != 0) {
            do {
              local_20[uVar5] = local_38[0xc] * uVar5 + local_38[1];
              uVar5 = uVar5 + 1;
            } while (uVar5 < local_1c);
          }
          FUN_1001e7ce(local_8,local_20);
          if (*local_38 == 0x29) {
            local_2c = 0;
            local_24 = 0;
            uVar5 = FUN_1001e9bf((int)local_8,(int)local_c,8);
            if (uVar5 != 0) {
              FUN_1001eb2a((int)local_8,(int)local_c,&local_14,&local_24);
            }
            uVar5 = FUN_1001e9bf((int)local_8,(int)local_c,0x10);
            if (uVar5 != 0) {
              FUN_1001eb5d((int)local_8,(int)local_c,&local_40,&local_2c,(int *)0x0);
            }
            if (((float)local_8[1].jmpbuf[4] <= 1e-06) || ((float)local_8[1].jmpbuf[5] <= 1e-06)) {
              iVar4 = 0;
              do {
                auStack_158[iVar4] = (char)iVar4;
                iVar4 = iVar4 + 1;
              } while (iVar4 < 0x100);
            }
            else {
              local_18 = 0;
              local_50 = (double)(1.0 / ((float)local_8[1].jmpbuf[5] * (float)local_8[1].jmpbuf[4]))
              ;
              do {
                _CIpow();
                uVar3 = ftol();
                iVar4 = local_18 + 1;
                puVar1 = auStack_158 + local_18;
                local_18 = iVar4;
                *puVar1 = uVar3;
              } while (iVar4 < 0x100);
            }
            pvVar6 = operator_new(0x400);
            local_38[2] = (int)pvVar6;
            if (pvVar6 == (void *)0x0) goto LAB_10011c62;
            iVar4 = 0;
            local_38[0xf] = 1;
            if (0 < (int)local_2c) {
              iVar8 = 0;
              do {
                iVar7 = iVar4 * 4;
                *(undefined1 *)(iVar7 + local_38[2]) = auStack_158[*(byte *)(iVar8 + local_14)];
                *(undefined1 *)(local_38[2] + 1 + iVar7) =
                     auStack_158[*(byte *)(iVar8 + 1 + local_14)];
                *(undefined1 *)(local_38[2] + 2 + iVar7) =
                     auStack_158[*(byte *)(iVar8 + 2 + local_14)];
                puVar1 = (undefined1 *)(iVar4 + local_40);
                iVar4 = iVar4 + 1;
                *(undefined1 *)(local_38[2] + 3 + iVar7) = *puVar1;
                iVar8 = iVar8 + 3;
              } while (iVar4 < (int)local_2c);
            }
            if (iVar4 < (int)local_24) {
              iVar8 = iVar4 * 3;
              do {
                iVar7 = iVar4 * 4;
                *(undefined1 *)(iVar7 + local_38[2]) = auStack_158[*(byte *)(iVar8 + local_14)];
                *(undefined1 *)(local_38[2] + 1 + iVar7) =
                     auStack_158[*(byte *)(iVar8 + 1 + local_14)];
                *(undefined1 *)(local_38[2] + 2 + iVar7) =
                     auStack_158[*(byte *)(iVar8 + 2 + local_14)];
                *(undefined1 *)(local_38[2] + 3 + iVar7) = 0xff;
                iVar4 = iVar4 + 1;
                iVar8 = iVar8 + 3;
              } while (iVar4 < (int)local_24);
            }
            if (iVar4 < 0x100) {
              iVar4 = iVar4 << 2;
              do {
                *(undefined1 *)(iVar4 + local_38[2]) = 0xff;
                *(undefined1 *)(iVar4 + 1 + local_38[2]) = 0xff;
                *(undefined1 *)(iVar4 + 2 + local_38[2]) = 0xff;
                *(undefined1 *)(iVar4 + 3 + local_38[2]) = 0xff;
                iVar4 = iVar4 + 4;
              } while (iVar4 < 0x400);
            }
          }
LAB_10011d64:
          iVar4 = 0;
          goto LAB_10011d66;
        }
      }
LAB_10011c62:
      iVar4 = -0x7ff8fff2;
      goto LAB_10011d66;
    }
  }
  iVar4 = -0x7fffbffb;
LAB_10011d66:
  if (local_8 != (png_structp)0x0) {
    FUN_1001e93e(&local_8,&local_c,(undefined4 *)0x0);
  }
  if (local_20 != (undefined4 *)0x0) {
    operator_delete(local_20);
  }
  return iVar4;
}



/* grim_load_image_dds @ 10011d95 */

/* [binja] int32_t __thiscall sub_10011d95(int32_t* arg1, uint32_t arg2, int32_t* arg3) */

int __thiscall grim_load_image_dds(void *this,int *arg1,uint arg2,int *arg3)

{
  int iVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  int *piVar9;
  int *piVar10;
  uint uVar11;
  int *local_2c;
  uint local_24;
  int *local_1c;
  uint local_18;
  uint local_14;
  uint local_10;
  int *local_8;
  
  if (((arg2 < 4) || (*arg1 != 0x20534444)) || (arg2 - 4 < 0x7c)) {
    return -0x7fffbffb;
  }
  local_8 = arg1 + 0x20;
  *(int *)((int)this + 0xc) = arg1[4];
  *(int *)((int)this + 0x10) = arg1[3];
  if ((*(byte *)((int)arg1 + 10) & 0x80) == 0) {
    iVar1 = 1;
  }
  else {
    iVar1 = arg1[6];
  }
  *(int *)((int)this + 0x14) = iVar1;
  if (iVar1 == 0) {
    *(undefined4 *)((int)this + 0x14) = 1;
  }
  if ((arg1[0x1c] & 0xfc00U) == 0xfc00) {
    local_18 = 6;
  }
  else {
    if ((arg1[0x1c] & 0xfc00U) != 0) {
      return -0x7fffbffb;
    }
    local_18 = 1;
  }
  local_24 = arg1[7];
  if (local_24 == 0) {
    local_24 = 1;
  }
  piVar10 = &DAT_10053ec8;
  iVar1 = DAT_10053ec8;
  while (iVar1 != 0) {
    if ((arg1[0x13] == 0x20) && (uVar11 = piVar10[2], arg1[0x14] == uVar11)) {
      if ((((((uVar11 & 4) == 0) || (arg1[0x15] == piVar10[3])) &&
           (((uVar11 & 0xc4462) == 0 || (arg1[0x16] == piVar10[4])))) &&
          (((uVar11 & 0xe4040) == 0 || (arg1[0x17] == piVar10[5])))) &&
         (((((uVar11 & 0xc4440) == 0 || (arg1[0x18] == piVar10[6])) &&
           (((uVar11 & 0xc4040) == 0 || (arg1[0x19] == piVar10[7])))) &&
          (((uVar11 & 0x80003) == 0 || (arg1[0x1a] == piVar10[8])))))) break;
    }
    piVar10 = piVar10 + 9;
    iVar1 = *piVar10;
  }
  iVar1 = *piVar10;
  if (iVar1 == 0) {
    return -0x7fffbffb;
  }
  piVar10 = grim_format_info_lookup(iVar1);
  if ((*(byte *)((int)arg1 + 10) & 0x80) == 0) {
    *(uint *)((int)this + 0x44) = (uint)(local_18 == 6) * 2 + 3;
  }
  else {
    *(undefined4 *)((int)this + 0x44) = 4;
  }
  if (piVar10[1] == 1) {
    if (arg2 - 0x80 < 0x400) {
      return -0x7fffbffb;
    }
    arg2 = arg2 - 0x480;
    local_2c = local_8;
    local_8 = arg1 + 0x120;
  }
  else {
    local_2c = (int *)0x0;
    arg2 = arg2 - 0x80;
  }
  local_14 = 0;
  piVar3 = (int *)arg2;
  if (local_18 != 0) {
    do {
      uVar11 = *(uint *)((int)this + 0xc);
      uVar8 = *(uint *)((int)this + 0x10);
      arg1 = *(int **)((int)this + 0x14);
      piVar2 = this;
      if (local_14 != 0) {
        piVar2 = operator_new(0x54);
        if (piVar2 == (int *)0x0) {
          piVar2 = (int *)0x0;
        }
        else {
          piVar2 = FUN_10010285(piVar2);
        }
        if (piVar2 == (int *)0x0) {
          return -0x7ff8fff2;
        }
        local_1c[0x14] = (int)piVar2;
      }
      local_10 = 0;
      piVar9 = piVar3;
      if (local_24 != 0) {
        do {
          piVar3 = piVar2;
          if (local_10 != 0) {
            piVar3 = operator_new(0x54);
            if (piVar3 == (int *)0x0) {
              piVar3 = (int *)0x0;
            }
            else {
              piVar3 = FUN_10010285(piVar3);
            }
            if (piVar3 == (int *)0x0) {
              return -0x7ff8fff2;
            }
            piVar9[0x13] = (int)piVar3;
          }
          if (iVar1 == 0x31545844) {
            iVar4 = (uVar11 + 3 >> 2) << 3;
LAB_10012032:
            iVar6 = (uVar8 + 3 >> 2) * iVar4;
          }
          else {
            if (iVar1 == 0x32545844) {
LAB_1001201e:
              iVar4 = (uVar11 + 3 >> 2) << 4;
              goto LAB_10012032;
            }
            if (iVar1 == 0x32595559) {
LAB_1001200f:
              iVar4 = (uVar11 + 1 >> 1) << 2;
            }
            else {
              if (((iVar1 == 0x33545844) || (iVar1 == 0x34545844)) || (iVar1 == 0x35545844))
              goto LAB_1001201e;
              if (iVar1 == 0x59565955) goto LAB_1001200f;
              iVar4 = ((uint)piVar10[2] >> 3) * uVar11;
            }
            iVar6 = iVar4 * uVar8;
          }
          piVar3[0xe] = 0;
          piVar3[0xf] = 0;
          uVar7 = iVar6 * (int)arg1;
          *piVar3 = iVar1;
          piVar3[0xc] = iVar4;
          piVar3[1] = (int)local_8;
          piVar3[5] = (int)arg1;
          piVar3[0xd] = iVar6;
          piVar3[3] = uVar11;
          piVar3[4] = uVar8;
          piVar3[2] = (int)local_2c;
          if (arg2 < uVar7) {
            return -0x7fffbffb;
          }
          local_8 = (int *)((int)local_8 + uVar7);
          arg2 = arg2 - uVar7;
          uVar5 = 1;
          uVar7 = uVar5;
          if (uVar11 != 1) {
            uVar7 = uVar11 >> 1;
          }
          if (uVar8 != 1) {
            uVar5 = uVar8 >> 1;
          }
          if (arg1 == (int *)0x1) {
            arg1 = (int *)0x1;
          }
          else {
            arg1 = (int *)((uint)arg1 >> 1);
          }
          local_10 = local_10 + 1;
          uVar8 = uVar5;
          piVar9 = piVar3;
          uVar11 = uVar7;
        } while (local_10 < local_24);
      }
      local_14 = local_14 + 1;
      local_1c = piVar2;
    } while (local_14 < local_18);
  }
  return 0;
}



/* FUN_100120d6 @ 100120d6 */

/* [binja] int32_t __thiscall sub_100120d6(int32_t* arg1, HANDLE arg2) */

int __thiscall FUN_100120d6(void *this,int *arg1,HANDLE arg2)

{
  void *pvVar1;
  int iVar2;
  LPCVOID lpBuffer;
  uint uVar3;
  DWORD nNumberOfBytesToWrite;
  int *piVar4;
  int *piVar5;
  uint *puVar6;
  int *piVar7;
  uint uVar8;
  uint local_98 [5];
  uint local_84;
  int local_80;
  int local_50 [8];
  uint local_30;
  byte local_2b;
  byte local_2a;
  undefined4 local_1c;
  int *local_18;
  uint local_14;
  DWORD local_10;
  int *local_c;
  uint local_8;
  
  local_8 = 0;
  for (pvVar1 = this; pvVar1 != (void *)0x0; pvVar1 = *(void **)((int)pvVar1 + 0x4c)) {
    local_8 = local_8 + 1;
  }
  piVar4 = &DAT_10053ec8;
  if (DAT_10053ec8 != 0) {
    iVar2 = DAT_10053ec8;
    do {
      if (iVar2 == *(int *)this) break;
      piVar4 = piVar4 + 9;
      iVar2 = *piVar4;
    } while (iVar2 != 0);
  }
  if (*piVar4 == 0) {
    iVar2 = -0x7fffbffb;
  }
  else {
    local_18 = this;
    local_c = grim_format_info_lookup(*(int *)this);
    local_14 = (uint)local_c[2] >> 3;
    local_1c = 0x20534444;
    WriteFile(arg1,&local_1c,4,&local_10,(LPOVERLAPPED)0x0);
    puVar6 = local_98;
    for (iVar2 = 0x1f; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar6 = 0;
      puVar6 = puVar6 + 1;
    }
    local_98[2] = *(undefined4 *)((int)this + 0x10);
    local_98[3] = *(undefined4 *)((int)this + 0xc);
    uVar3 = piVar4[2];
    local_98[0] = 0x7c;
    local_98[1] = 0x1007;
    piVar7 = local_50;
    for (iVar2 = 8; piVar5 = local_18, piVar4 = piVar4 + 1, iVar2 != 0; iVar2 = iVar2 + -1) {
      *piVar7 = *piVar4;
      piVar7 = piVar7 + 1;
    }
    local_30 = 0x1000;
    if ((uVar3 & 3) != 0) {
      local_30 = 0x1002;
    }
    if ((uVar3 & 0x20) != 0) {
      local_30 = local_30 | 0x100;
    }
    if (local_18[0x13] != 0) {
      local_30 = local_30 | 0x400008;
      local_98[1] = 0x21007;
      local_80 = local_8;
    }
    if (local_18[0x14] != 0) {
      local_30 = local_30 | 8;
      local_2b = local_2b | 0xfe;
    }
    if (1 < (uint)local_18[5]) {
      local_98[1] = local_98[1] | 0x800000;
      local_2a = local_2a | 0x20;
      local_84 = local_18[5];
    }
    WriteFile(arg1,local_98,0x7c,&local_10,(LPOVERLAPPED)0x0);
    if (local_c[1] == 1) {
      WriteFile(arg1,(LPCVOID)piVar5[2],0x400,&local_10,(LPOVERLAPPED)0x0);
    }
    local_c = piVar5;
    do {
      for (; piVar5 != (int *)0x0; piVar5 = (int *)piVar5[0x13]) {
        local_8 = 0;
        if (piVar5[5] != 0) {
          uVar3 = piVar5[4];
          do {
            uVar8 = 0;
            if (uVar3 != 0) {
              do {
                iVar2 = *local_18;
                if (iVar2 == 0x31545844) {
                  iVar2 = (piVar5[7] + uVar8 >> 2) * piVar5[0xc] +
                          (piVar5[10] + local_8) * piVar5[0xd] + ((uint)piVar5[6] >> 2) * 8;
                  nNumberOfBytesToWrite = (piVar5[3] + 3U >> 2) << 3;
LAB_10012326:
                  lpBuffer = (LPCVOID)(iVar2 + piVar5[1]);
                  uVar8 = uVar8 + 3;
                }
                else {
                  if (iVar2 == 0x32545844) {
LAB_100122c8:
                    iVar2 = (piVar5[7] + uVar8 >> 2) * piVar5[0xc] +
                            (piVar5[10] + local_8) * piVar5[0xd] + ((uint)piVar5[6] >> 2) * 0x10;
                    nNumberOfBytesToWrite = (piVar5[3] + 3U >> 2) << 4;
                    goto LAB_10012326;
                  }
                  if (iVar2 == 0x32595559) {
LAB_1001229c:
                    lpBuffer = (LPCVOID)((piVar5[7] + uVar8) * piVar5[0xc] +
                                         (piVar5[10] + local_8) * piVar5[0xd] + piVar5[6] * local_14
                                        + piVar5[1]);
                    nNumberOfBytesToWrite = (piVar5[3] + 1U >> 1) << 2;
                  }
                  else {
                    if (((iVar2 == 0x33545844) || (iVar2 == 0x34545844)) || (iVar2 == 0x35545844))
                    goto LAB_100122c8;
                    if (iVar2 == 0x59565955) goto LAB_1001229c;
                    lpBuffer = (LPCVOID)((piVar5[7] + uVar8) * piVar5[0xc] +
                                         (piVar5[10] + local_8) * piVar5[0xd] + piVar5[6] * local_14
                                        + piVar5[1]);
                    nNumberOfBytesToWrite = piVar5[3] * local_14;
                  }
                }
                WriteFile(arg1,lpBuffer,nNumberOfBytesToWrite,&local_10,(LPOVERLAPPED)0x0);
                uVar3 = piVar5[4];
                uVar8 = uVar8 + 1;
              } while (uVar8 < uVar3);
            }
            local_8 = local_8 + 1;
          } while (local_8 < (uint)piVar5[5]);
        }
      }
      piVar5 = (int *)local_c[0x14];
      local_c = piVar5;
    } while (piVar5 != (int *)0x0);
    iVar2 = 0;
  }
  return iVar2;
}



/* FUN_1001237e @ 1001237e */

/* [binja] int32_t __thiscall sub_1001237e(int32_t* arg1, int32_t arg2, int32_t arg3, int32_t* arg4)
    */

int FUN_1001237e(int *arg1,int arg2,int arg3,int *arg4)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  void *pvVar4;
  int *extraout_ECX;
  int iVar5;
  int *piVar6;
  undefined4 *puVar7;
  int unaff_EBP;
  undefined4 *puVar8;
  int *unaff_EDI;
  undefined4 *puVar9;
  HANDLE arg2_00;
  
  seh_prolog();
  *(int **)(unaff_EBP + -0x20) = extraout_ECX;
  FUN_1001bca5((int *)(unaff_EBP + -0x3c));
  iVar5 = *(int *)(unaff_EBP + 0xc);
  *(undefined4 *)(unaff_EBP + -4) = 0;
  if (iVar5 == 0) {
LAB_100123d3:
    piVar6 = (int *)&DAT_10053e28;
LAB_100123d8:
    piVar1 = grim_format_info_lookup(*extraout_ECX);
    iVar2 = FUN_1000ab3f(piVar6,extraout_ECX[2],piVar1);
    *(int *)(unaff_EBP + -0x1c) = iVar2;
    if (iVar2 != 0) {
      piVar6 = extraout_ECX;
      if (iVar2 != *extraout_ECX) {
        FUN_1001284c((int *)(unaff_EBP + -0x2c));
        *(undefined1 *)(unaff_EBP + -4) = 1;
        piVar1 = grim_format_info_lookup(iVar2);
        uVar3 = (uint)piVar1[2] >> 3;
        *(uint *)(unaff_EBP + -0x10) = uVar3;
        *(int **)(unaff_EBP + -0x14) = extraout_ECX;
        do {
          puVar7 = *(undefined4 **)(unaff_EBP + -0x14);
          if (puVar7 != (undefined4 *)0x0) {
            do {
              pvVar4 = operator_new(puVar7[5] * puVar7[3] * uVar3 * puVar7[4]);
              *(void **)(unaff_EBP + -0x18) = pvVar4;
              if (pvVar4 == (void *)0x0) {
                *(undefined1 *)(unaff_EBP + -4) = 0;
                FUN_10012856((int *)(unaff_EBP + -0x2c));
                iVar2 = -0x7ff8fff2;
                goto LAB_10012628;
              }
              *(undefined4 *)(unaff_EBP + -0xd4) = puVar7[1];
              *(undefined4 *)(unaff_EBP + -0xd0) = *puVar7;
              *(undefined4 *)(unaff_EBP + -0xcc) = puVar7[0xc];
              *(undefined4 *)(unaff_EBP + -200) = puVar7[0xd];
              puVar8 = puVar7 + 6;
              puVar9 = (undefined4 *)(unaff_EBP + -0xc4);
              for (iVar5 = 6; iVar5 != 0; iVar5 = iVar5 + -1) {
                *puVar9 = *puVar8;
                puVar8 = puVar8 + 1;
                puVar9 = puVar9 + 1;
              }
              puVar8 = puVar7 + 6;
              puVar9 = (undefined4 *)(unaff_EBP + -0xac);
              for (iVar5 = 6; iVar5 != 0; iVar5 = iVar5 + -1) {
                *puVar9 = *puVar8;
                puVar8 = puVar8 + 1;
                puVar9 = puVar9 + 1;
              }
              *(undefined4 *)(unaff_EBP + -0x90) = 0;
              *(undefined4 *)(unaff_EBP + -0x94) = 1;
              *(undefined4 *)(unaff_EBP + -0x8c) = puVar7[2];
              *(undefined4 *)(unaff_EBP + -0x88) = *(undefined4 *)(unaff_EBP + -0x18);
              *(undefined4 *)(unaff_EBP + -0x84) = *(undefined4 *)(unaff_EBP + -0x1c);
              *(int *)(unaff_EBP + -0x80) = puVar7[3] * *(int *)(unaff_EBP + -0x10);
              *(int *)(unaff_EBP + -0x7c) = puVar7[3] * *(int *)(unaff_EBP + -0x10) * puVar7[4];
              *(undefined4 *)(unaff_EBP + -0x78) = 0;
              *(undefined4 *)(unaff_EBP + -0x74) = 0;
              *(undefined4 *)(unaff_EBP + -0x70) = puVar7[3];
              *(undefined4 *)(unaff_EBP + -0x6c) = puVar7[4];
              *(undefined4 *)(unaff_EBP + -0x68) = 0;
              *(undefined4 *)(unaff_EBP + -100) = puVar7[5];
              puVar8 = (undefined4 *)(unaff_EBP + -0x78);
              puVar9 = (undefined4 *)(unaff_EBP + -0x60);
              for (iVar5 = 6; iVar5 != 0; iVar5 = iVar5 + -1) {
                *puVar9 = *puVar8;
                puVar8 = puVar8 + 1;
                puVar9 = puVar9 + 1;
              }
              *(undefined4 *)(unaff_EBP + -0x44) = 0;
              *(undefined4 *)(unaff_EBP + -0x48) = 1;
              *(undefined4 *)(unaff_EBP + -0x40) = puVar7[2];
              iVar2 = FUN_10016007((void *)(unaff_EBP + -0x2c),(int *)(unaff_EBP + -0x88),
                                   (void ***)(unaff_EBP + -0xd4),(void ***)0x80001,(int)unaff_EDI);
              if (iVar2 < 0) {
                operator_delete(*(void **)(unaff_EBP + -0x18));
                *(undefined1 *)(unaff_EBP + -4) = 0;
                FUN_10012856((int *)(unaff_EBP + -0x2c));
                goto LAB_10012628;
              }
              if (((void *)puVar7[1] != (void *)0x0) && (puVar7[0xe] != 0)) {
                operator_delete((void *)puVar7[1]);
                puVar7[1] = 0;
              }
              *puVar7 = *(undefined4 *)(unaff_EBP + -0x1c);
              puVar7[1] = *(undefined4 *)(unaff_EBP + -0x18);
              puVar8 = (undefined4 *)(unaff_EBP + -0x60);
              puVar9 = puVar7 + 6;
              for (iVar5 = 6; iVar5 != 0; iVar5 = iVar5 + -1) {
                *puVar9 = *puVar8;
                puVar8 = puVar8 + 1;
                puVar9 = puVar9 + 1;
              }
              puVar7[0xc] = *(undefined4 *)(unaff_EBP + -0x80);
              puVar7[0xd] = *(undefined4 *)(unaff_EBP + -0x7c);
              uVar3 = *(uint *)(unaff_EBP + -0x10);
              puVar7[0xe] = 1;
              puVar7 = (undefined4 *)puVar7[0x13];
            } while (puVar7 != (undefined4 *)0x0);
            iVar5 = *(int *)(unaff_EBP + 0xc);
            piVar6 = *(int **)(unaff_EBP + -0x20);
          }
          iVar2 = *(int *)(*(int *)(unaff_EBP + -0x14) + 0x50);
          *(int *)(unaff_EBP + -0x14) = iVar2;
        } while (iVar2 != 0);
        *(undefined1 *)(unaff_EBP + -4) = 0;
        FUN_10012856((int *)(unaff_EBP + -0x2c));
      }
      iVar2 = FUN_1001bdc7((void *)(unaff_EBP + -0x3c),*(void ***)(unaff_EBP + 8),
                           *(int *)(unaff_EBP + 0x10),unaff_EDI);
      if (iVar2 < 0) goto LAB_10012628;
      if (iVar5 == 0) {
        arg2_00 = (HANDLE)0x1;
LAB_10012618:
        iVar2 = FUN_10010aec(piVar6,*(int **)(unaff_EBP + -0x3c),arg2_00);
      }
      else {
        if (iVar5 != 4) {
          if (iVar5 != 6) {
            iVar2 = -0x7fffbfff;
            goto LAB_10012628;
          }
          arg2_00 = (HANDLE)0x0;
          goto LAB_10012618;
        }
        iVar2 = FUN_100120d6(piVar6,*(int **)(unaff_EBP + -0x3c),unaff_EDI);
      }
      if (-1 < iVar2) {
        iVar2 = 0;
      }
      goto LAB_10012628;
    }
  }
  else {
    if (iVar5 < 1) {
LAB_100125be:
      iVar2 = -0x7789f794;
      goto LAB_10012628;
    }
    if (3 < iVar5) {
      if (iVar5 == 4) {
        piVar6 = (int *)&DAT_10053e40;
        goto LAB_100123d8;
      }
      if (iVar5 != 5) {
        if (iVar5 == 6) goto LAB_100123d3;
        goto LAB_100125be;
      }
    }
  }
  iVar2 = -0x7789f4a7;
LAB_10012628:
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  FUN_1001bed2((int *)(unaff_EBP + -0x3c));
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar2;
}



/* grim_load_image_bmp @ 10012647 */

/* [binja] int32_t __stdcall sub_10012647(int16_t* arg1, void* arg2) */

int __thiscall grim_load_image_bmp(void *this,short *arg1,void *arg2)

{
  int iVar1;
  void *unaff_retaddr;
  
  if (((arg2 < (void *)0xe) || (*arg1 != 0x4d42)) || (arg2 < *(void **)(arg1 + 1))) {
    iVar1 = -0x7fffbffb;
  }
  else {
    iVar1 = FUN_100103d6(this,(int *)(arg1 + 7),(void *)((int)arg2 + -0xe),unaff_retaddr);
  }
  return iVar1;
}



/* FUN_10012677 @ 10012677 */

/* [binja] int32_t __thiscall sub_10012677(int32_t* arg1, void* arg2, int32_t* arg3, int32_t* arg4,
   int32_t arg5) */

int __thiscall FUN_10012677(void *this,int *arg1,void *arg2,int *arg3,int *arg4,int arg5)

{
  void *pvVar1;
  void *pvVar2;
  int iVar3;
  int *unaff_EDI;
  int *piVar4;
  int local_24 [8];
  
  local_24[0] = 0;
  local_24[1] = 5;
  local_24[2] = 4;
  local_24[3] = 1;
  local_24[4] = 3;
  local_24[5] = 2;
  local_24[6] = 6;
  local_24[7] = 0;
  pvVar2 = arg2;
  do {
    *(int **)((int)this + 0x40) = arg4;
    iVar3 = local_24[local_24[7]];
    *(int *)((int)this + 0x48) = iVar3;
    *(undefined4 *)((int)this + 0x44) = 3;
    if (iVar3 == 0) {
      pvVar2 = (void *)grim_load_image_bmp(this,(short *)arg1,arg2);
    }
    else if (iVar3 == 1) {
      pvVar2 = (void *)grim_load_image_jpg(arg1,(int)arg2,(int)unaff_EDI);
    }
    else if (iVar3 == 2) {
      pvVar2 = (void *)FUN_10011083(this,arg1,arg2,(int)unaff_EDI);
    }
    else if (iVar3 == 3) {
      pvVar2 = (void *)grim_load_image_png(arg1,arg2,unaff_EDI);
    }
    else if (iVar3 == 4) {
      pvVar2 = (void *)grim_load_image_dds(this,arg1,(uint)arg2,unaff_EDI);
    }
    else if (iVar3 == 5) {
      pvVar2 = (void *)grim_load_image_pnm(this,arg1,arg2,(int)unaff_EDI);
    }
    else if (iVar3 == 6) {
      pvVar2 = (void *)FUN_100103d6(this,arg1,arg2,unaff_EDI);
    }
    if (-1 < (int)pvVar2) break;
    if ((*(void **)((int)this + 4) != (void *)0x0) && (*(int *)((int)this + 0x38) != 0)) {
      operator_delete(*(void **)((int)this + 4));
    }
    if ((*(void **)((int)this + 8) != (void *)0x0) && (*(int *)((int)this + 0x3c) != 0)) {
      operator_delete(*(void **)((int)this + 8));
    }
    if (*(void **)((int)this + 0x4c) != (void *)0x0) {
      FUN_100102f7(*(void **)((int)this + 0x4c),(void *)0x1,(char)unaff_EDI);
    }
    if (*(void **)((int)this + 0x50) != (void *)0x0) {
      FUN_100102f7(*(void **)((int)this + 0x50),(void *)0x1,(char)unaff_EDI);
    }
    local_24[7] = local_24[7] + 1;
    *(undefined4 *)((int)this + 4) = 0;
    *(undefined4 *)((int)this + 8) = 0;
    *(undefined4 *)((int)this + 0x38) = 0;
    *(undefined4 *)((int)this + 0x3c) = 0;
    *(undefined4 *)((int)this + 0x4c) = 0;
    *(undefined4 *)((int)this + 0x50) = 0;
  } while ((uint)local_24[7] < 7);
  iVar3 = 7;
  if (local_24[7] == 7) {
    iVar3 = -0x7789f4a7;
  }
  else {
    piVar4 = arg3;
    pvVar2 = this;
    if (arg3 != (int *)0x0) {
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        *piVar4 = 0;
        piVar4 = piVar4 + 1;
      }
      *arg3 = *(int *)((int)this + 0xc);
      arg3[1] = *(int *)((int)this + 0x10);
      arg3[2] = *(int *)((int)this + 0x14);
      arg3[3] = 1;
      iVar3 = FUN_1000ac8f(*(int *)this);
      arg3[4] = iVar3;
      arg3[5] = *(int *)((int)this + 0x44);
      arg3[6] = *(int *)((int)this + 0x48);
      for (pvVar1 = this; *(int *)((int)pvVar1 + 0x4c) != 0; pvVar1 = *(void **)((int)pvVar1 + 0x4c)
          ) {
        arg3[3] = arg3[3] + 1;
      }
    }
    do {
      for (; this != (void *)0x0; this = *(void **)((int)this + 0x4c)) {
        *(undefined4 *)((int)this + 0x20) = *(undefined4 *)((int)this + 0xc);
        *(undefined4 *)((int)this + 0x24) = *(undefined4 *)((int)this + 0x10);
        *(undefined4 *)((int)this + 0x18) = 0;
        *(undefined4 *)((int)this + 0x1c) = 0;
        *(undefined4 *)((int)this + 0x28) = 0;
        *(undefined4 *)((int)this + 0x2c) = *(undefined4 *)((int)this + 0x14);
      }
      this = *(void **)((int)pvVar2 + 0x50);
      pvVar2 = this;
    } while (this != (void *)0x0);
    iVar3 = 0;
  }
  return iVar3;
}



/* FUN_1001284c @ 1001284c */

/* [binja] int32_t* __fastcall sub_1001284c(int32_t* arg1) */

int * __fastcall FUN_1001284c(int *arg1)

{
  arg1[1] = 0;
  *arg1 = 0;
  return arg1;
}



/* FUN_10012856 @ 10012856 */

/* [binja] void __fastcall sub_10012856(int32_t* arg1) */

void __fastcall FUN_10012856(int *arg1)

{
  if ((undefined4 *)arg1[1] != (undefined4 *)0x0) {
    (*(code *)**(undefined4 **)arg1[1])(1);
  }
  if ((undefined4 *)*arg1 != (undefined4 *)0x0) {
    (*(code *)**(undefined4 **)*arg1)(1);
  }
  return;
}



/* FUN_1001288a @ 1001288a */

/* WARNING: Removing unreachable block (ram,0x100128ff) */

int * __cdecl FUN_1001288a(uint param_1,int param_2,int param_3)

{
  int *piVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  int iVar9;
  int *piVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  uint uVar14;
  int iVar15;
  int iVar16;
  uint uVar17;
  float local_24;
  uint local_1c;
  float local_18;
  uint local_10;
  float local_c;
  float local_8;
  
  uVar17 = 0;
  if ((param_1 != 0) && (param_2 != 0)) {
    fVar2 = (float)param_2;
    if (param_2 < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    fVar3 = (float)(int)param_1;
    if ((int)param_1 < 0) {
      fVar3 = fVar3 + 4.2949673e+09;
    }
    fVar4 = fVar2 / fVar3;
    uVar14 = 0x10;
    if (param_1 != 0) {
      do {
        iVar9 = ftol();
        uVar17 = uVar17 + 1;
        uVar14 = uVar14 + 0xc + iVar9 * 0x10;
      } while (uVar17 < param_1);
    }
    piVar10 = operator_new(uVar14);
    if (piVar10 != (int *)0x0) {
      iVar9 = 0;
      local_1c = 0;
      iVar16 = 4;
      iVar15 = iVar16;
      if (param_1 != 0) {
        do {
          local_8 = 0.0;
          local_10 = 0;
          fVar5 = (float)(int)local_1c;
          iVar16 = iVar15 + 4;
          if ((int)local_1c < 0) {
            fVar5 = fVar5 + 4.2949673e+09;
          }
          do {
            fVar6 = (float)(int)local_10;
            if ((int)local_10 < 0) {
              fVar6 = fVar6 + 4.2949673e+09;
            }
            fVar6 = (fVar6 + fVar5) - 0.5;
            local_24 = fVar6 * fVar4;
            local_c = fVar4 + local_24;
            if (param_3 == 0) {
              if (local_24 < 0.0) {
                local_24 = 0.0;
              }
              if (fVar2 < local_c) {
                local_c = fVar2;
              }
            }
            floor((double)local_24);
            iVar11 = ftol();
            fVar7 = (float)iVar11;
            if (fVar7 < local_c) {
              iVar12 = iVar11 - param_2;
              do {
                local_18 = fVar7 + 1.0;
                if (iVar11 < 0) {
                  iVar13 = iVar11 + param_2;
                }
                else {
                  iVar13 = iVar12;
                  if (iVar11 < param_2) {
                    iVar13 = iVar11;
                  }
                }
                if (iVar13 != iVar9) {
                  if (1e-05 < local_8) {
                    piVar1 = (int *)(iVar16 + (int)piVar10);
                    *piVar1 = iVar9;
                    iVar16 = iVar16 + 8;
                    piVar1[1] = (int)local_8;
                  }
                  local_8 = 0.0;
                  iVar9 = iVar13;
                }
                if (fVar7 < local_24) {
                  fVar7 = local_24;
                }
                if (local_c < local_18) {
                  local_18 = local_c;
                }
                if (param_3 == 0) {
                  if (0.0 <= fVar6) {
                    if (fVar6 + 1.0 < fVar3) goto LAB_10012ab1;
                    fVar8 = 0.0;
                  }
                  else {
                    fVar8 = 1.0;
                  }
                }
                else {
LAB_10012ab1:
                  fVar8 = (local_18 + fVar7) * (0.5 / fVar4) - fVar6;
                }
                if (local_10 != 0) {
                  fVar8 = 1.0 - fVar8;
                }
                iVar11 = iVar11 + 1;
                iVar12 = iVar12 + 1;
                local_8 = (local_18 - fVar7) * fVar8 + local_8;
                fVar7 = (float)iVar11;
              } while (fVar7 < local_c);
            }
            local_10 = local_10 + 1;
          } while (local_10 < 2);
          if (1e-05 < local_8) {
            piVar1 = (int *)(iVar16 + (int)piVar10);
            iVar16 = iVar16 + 8;
            *piVar1 = iVar9;
            piVar1[1] = (int)local_8;
          }
          local_1c = local_1c + 1;
          *(int *)(iVar15 + (int)piVar10) = iVar16 - iVar15;
          iVar15 = iVar16;
        } while (local_1c < param_1);
      }
      *piVar10 = iVar16;
      return piVar10;
    }
  }
  return (int *)0x0;
}



/* FUN_10012b47 @ 10012b47 */

/* [binja] int32_t* __thiscall sub_10012b47(int32_t* arg1, char arg2) */

int * __thiscall FUN_10012b47(void *this,int *arg1,char arg2)

{
  int *piVar1;
  
  if (((uint)arg1 & 2) == 0) {
    operator_delete(*(void **)this);
    piVar1 = this;
    if (((uint)arg1 & 1) != 0) {
      operator_delete(this);
    }
  }
  else {
    piVar1 = (int *)((int)this + -4);
    FUN_1004b5cf((int)this,0xc,*piVar1,0x10012881);
    if (((uint)arg1 & 1) != 0) {
      operator_delete(piVar1);
    }
  }
  return piVar1;
}



/* FUN_10012b93 @ 10012b93 */

/* [binja] int32_t __fastcall sub_10012b93(int32_t* arg1) */

int FUN_10012b93(int *arg1)

{
  int *piVar1;
  float fVar2;
  int *piVar3;
  void *pvVar4;
  int *extraout_ECX;
  uint uVar5;
  int iVar6;
  int *piVar7;
  int *piVar8;
  float *pfVar9;
  int unaff_EBP;
  undefined4 unaff_EDI;
  undefined4 *puVar10;
  float *pfVar11;
  char arg2;
  
  seh_prolog();
  *(undefined4 *)(unaff_EBP + -0x2c) = 0;
  *(undefined4 *)(unaff_EBP + -0x28) = 0;
  *(undefined4 *)(unaff_EBP + -0x58) = 0;
  *(undefined4 *)(unaff_EBP + -0x20) = 0;
  *(undefined4 *)(unaff_EBP + -0x5c) = 0;
  uVar5 = extraout_ECX[2];
  *(uint *)(unaff_EBP + -0x54) = ~(uVar5 >> 0x12) & 1;
  piVar3 = FUN_1001288a(*(uint *)(*extraout_ECX + 0x1058),*(int *)(extraout_ECX[1] + 0x1058),
                        ~(uVar5 >> 0x10) & 1);
  arg2 = (char)unaff_EDI;
  *(int **)(unaff_EBP + -0x44) = piVar3;
  if (piVar3 != (int *)0x0) {
    piVar3 = FUN_1001288a(*(uint *)(*extraout_ECX + 0x105c),*(int *)(extraout_ECX[1] + 0x105c),
                          ~(uVar5 >> 0x11) & 1);
    arg2 = (char)unaff_EDI;
    *(int **)(unaff_EBP + -0x2c) = piVar3;
    if (piVar3 != (int *)0x0) {
      piVar3 = FUN_1001288a(*(uint *)(*extraout_ECX + 0x1060),*(int *)(extraout_ECX[1] + 0x1060),
                            *(int *)(unaff_EBP + -0x54));
      arg2 = (char)unaff_EDI;
      *(int **)(unaff_EBP + -0x28) = piVar3;
      if (piVar3 != (int *)0x0) {
        *(int *)(unaff_EBP + -0x4c) =
             **(int **)(unaff_EBP + -0x44) + (int)*(int **)(unaff_EBP + -0x44);
        *(int *)(unaff_EBP + -0x50) =
             **(int **)(unaff_EBP + -0x2c) + (int)*(int **)(unaff_EBP + -0x2c);
        *(int *)(unaff_EBP + -0x24) =
             **(int **)(unaff_EBP + -0x28) + (int)*(int **)(unaff_EBP + -0x28);
        iVar6 = *(int *)(extraout_ECX[1] + 0x1060);
        piVar3 = operator_new(iVar6 * 0xc + 4);
        *(int **)(unaff_EBP + -0x54) = piVar3;
        *(undefined4 *)(unaff_EBP + -4) = 0;
        if (piVar3 == (int *)0x0) {
          *(undefined4 *)(unaff_EBP + -0x14) = 0;
          iVar6 = *(int *)(unaff_EBP + -0x14);
        }
        else {
          *piVar3 = iVar6;
          *(int **)(unaff_EBP + -0x58) = piVar3 + 1;
          FUN_1004b6c3((int)(piVar3 + 1),0xc,iVar6,0x10012874);
          iVar6 = *(int *)(unaff_EBP + -0x58);
          *(int *)(unaff_EBP + -0x14) = iVar6;
        }
        arg2 = (char)unaff_EDI;
        *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
        *(int *)(unaff_EBP + -0x58) = iVar6;
        if (iVar6 != 0) {
          iVar6 = *(int *)(*extraout_ECX + 0x1058);
          pvVar4 = operator_new(iVar6 << 4);
          *(void **)(unaff_EBP + -0x5c) = pvVar4;
          *(undefined4 *)(unaff_EBP + -4) = 1;
          if (pvVar4 == (void *)0x0) {
            *(undefined4 *)(unaff_EBP + -0x1c) = 0;
            iVar6 = *(int *)(unaff_EBP + -0x1c);
          }
          else {
            _vector_constructor_iterator_
                      (pvVar4,0x10,iVar6,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
            iVar6 = *(int *)(unaff_EBP + -0x5c);
            *(int *)(unaff_EBP + -0x1c) = iVar6;
          }
          arg2 = (char)unaff_EDI;
          *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
          *(int *)(unaff_EBP + -0x5c) = iVar6;
          if (iVar6 != 0) {
            piVar3 = (int *)(*(int *)(unaff_EBP + -0x28) + 4);
            piVar8 = piVar3;
            if (piVar3 < *(int **)(unaff_EBP + -0x24)) {
              do {
                piVar7 = (int *)(*piVar8 + (int)piVar8);
                for (piVar8 = piVar8 + 1; piVar8 < piVar7; piVar8 = piVar8 + 2) {
                  piVar1 = (int *)(*(int *)(unaff_EBP + -0x14) + 8 + *piVar8 * 0xc);
                  *piVar1 = *piVar1 + 1;
                }
                piVar8 = piVar7;
              } while (piVar7 < *(int **)(unaff_EBP + -0x24));
            }
            *(undefined4 *)(unaff_EBP + -0x40) = 0;
            if (piVar3 < *(int **)(unaff_EBP + -0x24)) {
              do {
                piVar8 = (int *)(*piVar3 + (int)piVar3);
                piVar7 = piVar3 + 1;
                *(int **)(unaff_EBP + -0x18) = piVar8;
                *(int **)(unaff_EBP + -0x54) = piVar7;
                *(int **)(unaff_EBP + -0x10) = piVar7;
                piVar3 = piVar8;
                if (piVar7 < piVar8) {
                  do {
                    piVar3 = (int *)(*(int *)(unaff_EBP + -0x14) +
                                    **(int **)(unaff_EBP + -0x10) * 0xc);
                    if (*piVar3 == 0) {
                      piVar7 = *(int **)(unaff_EBP + -0x20);
                      if (piVar7 == (int *)0x0) {
                        iVar6 = *(int *)(extraout_ECX[1] + 0x105c) *
                                *(int *)(extraout_ECX[1] + 0x1058);
                        pvVar4 = operator_new(iVar6 * 0x10);
                        *(void **)(unaff_EBP + -0x48) = pvVar4;
                        *(undefined4 *)(unaff_EBP + -4) = 2;
                        if (pvVar4 == (void *)0x0) {
                          iVar6 = 0;
                        }
                        else {
                          _vector_constructor_iterator_
                                    (pvVar4,0x10,iVar6,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
                          iVar6 = *(int *)(unaff_EBP + -0x48);
                        }
                        arg2 = (char)unaff_EDI;
                        *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
                        *piVar3 = iVar6;
                        if (iVar6 == 0) goto LAB_10012fb2;
                        piVar8 = *(int **)(unaff_EBP + -0x18);
                      }
                      else {
                        *piVar3 = *piVar7;
                        *piVar7 = 0;
                        *(int *)(unaff_EBP + -0x20) = piVar7[1];
                      }
                      puVar10 = (undefined4 *)*piVar3;
                      for (uVar5 = (uint)(*(int *)(extraout_ECX[1] + 0x105c) *
                                          *(int *)(extraout_ECX[1] + 0x1058) * 0x10) >> 2;
                          uVar5 != 0; uVar5 = uVar5 - 1) {
                        *puVar10 = 0;
                        puVar10 = puVar10 + 1;
                      }
                      for (iVar6 = 0; iVar6 != 0; iVar6 = iVar6 + -1) {
                        *(undefined1 *)puVar10 = 0;
                        puVar10 = (undefined4 *)((int)puVar10 + 1);
                      }
                    }
                    *(int *)(unaff_EBP + -0x10) = *(int *)(unaff_EBP + -0x10) + 8;
                    piVar3 = piVar8;
                  } while (*(int **)(unaff_EBP + -0x10) < piVar8);
                }
                *(undefined4 *)(unaff_EBP + -0x38) = 0;
                uVar5 = *(int *)(unaff_EBP + -0x2c) + 4;
                *(uint *)(unaff_EBP + -0x3c) = uVar5;
                if (uVar5 < *(uint *)(unaff_EBP + -0x50)) {
                  do {
                    piVar3 = (int *)(**(int **)(unaff_EBP + -0x3c) +
                                    (int)*(int **)(unaff_EBP + -0x3c));
                    iVar6 = *(int *)*extraout_ECX;
                    *(int **)(unaff_EBP + -0x48) = piVar3;
                    (**(code **)(iVar6 + 4))
                              (*(undefined4 *)(unaff_EBP + -0x38),*(undefined4 *)(unaff_EBP + -0x40)
                               ,*(undefined4 *)(unaff_EBP + -0x1c));
                    uVar5 = *(int *)(unaff_EBP + -0x44) + 4;
                    *(uint *)(unaff_EBP + -0x34) = uVar5;
                    if (uVar5 < *(uint *)(unaff_EBP + -0x4c)) {
                      pfVar9 = (float *)(*(int *)(unaff_EBP + -0x1c) + 8);
                      do {
                        uVar5 = **(int **)(unaff_EBP + -0x34) + (int)*(int **)(unaff_EBP + -0x34);
                        piVar8 = *(int **)(unaff_EBP + -0x54);
                        *(uint *)(unaff_EBP + -0x30) = uVar5;
                        for (; *(int **)(unaff_EBP + -0x10) = piVar8,
                            piVar8 < *(int **)(unaff_EBP + -0x18); piVar8 = piVar8 + 2) {
                          piVar7 = (int *)(*(int *)(unaff_EBP + -0x3c) + 4);
                          if (piVar7 < piVar3) {
                            do {
                              iVar6 = *(int *)(extraout_ECX[1] + 0x1058) * *piVar7 * 0x10 +
                                      *(int *)(*(int *)(unaff_EBP + -0x14) + *piVar8 * 0xc);
                              for (piVar3 = (int *)(*(int *)(unaff_EBP + -0x34) + 4);
                                  piVar3 < *(int **)(unaff_EBP + -0x30); piVar3 = piVar3 + 2) {
                                fVar2 = (float)piVar3[1] * (float)piVar7[1] *
                                        *(float *)(*(int *)(unaff_EBP + -0x10) + 4);
                                pfVar11 = (float *)(*piVar3 * 0x10 + iVar6);
                                *pfVar11 = fVar2 * pfVar9[-2] + *pfVar11;
                                pfVar11 = (float *)(*piVar3 * 0x10 + 4 + iVar6);
                                *pfVar11 = fVar2 * pfVar9[-1] + *pfVar11;
                                pfVar11 = (float *)(*piVar3 * 0x10 + 8 + iVar6);
                                *pfVar11 = fVar2 * *pfVar9 + *pfVar11;
                                pfVar11 = (float *)(*piVar3 * 0x10 + 0xc + iVar6);
                                *pfVar11 = fVar2 * pfVar9[1] + *pfVar11;
                              }
                              piVar8 = *(int **)(unaff_EBP + -0x10);
                              piVar7 = piVar7 + 2;
                            } while (piVar7 < *(int **)(unaff_EBP + -0x48));
                            piVar3 = *(int **)(unaff_EBP + -0x48);
                            uVar5 = *(uint *)(unaff_EBP + -0x30);
                          }
                        }
                        pfVar9 = pfVar9 + 4;
                        *(uint *)(unaff_EBP + -0x34) = uVar5;
                      } while (uVar5 < *(uint *)(unaff_EBP + -0x4c));
                    }
                    *(int *)(unaff_EBP + -0x38) = *(int *)(unaff_EBP + -0x38) + 1;
                    *(int **)(unaff_EBP + -0x3c) = piVar3;
                  } while (piVar3 < *(int **)(unaff_EBP + -0x50));
                  piVar3 = *(int **)(unaff_EBP + -0x18);
                }
                for (piVar8 = *(int **)(unaff_EBP + -0x54); arg2 = (char)unaff_EDI, piVar8 < piVar3;
                    piVar8 = piVar8 + 2) {
                  piVar1 = (int *)(*(int *)(unaff_EBP + -0x14) + *piVar8 * 0xc);
                  piVar7 = piVar1 + 2;
                  *piVar7 = *piVar7 + -1;
                  if (*piVar7 == 0) {
                    piVar7 = (int *)extraout_ECX[1];
                    *(undefined4 *)(unaff_EBP + -0x10) = 0;
                    if (piVar7[0x417] != 0) {
                      do {
                        (**(code **)(*piVar7 + 8))
                                  (*(undefined4 *)(unaff_EBP + -0x10),*piVar8,
                                   piVar7[0x416] * *(int *)(unaff_EBP + -0x10) * 0x10 + *piVar1);
                        *(int *)(unaff_EBP + -0x10) = *(int *)(unaff_EBP + -0x10) + 1;
                        piVar7 = (int *)extraout_ECX[1];
                      } while (*(uint *)(unaff_EBP + -0x10) < (uint)piVar7[0x417]);
                      piVar3 = *(int **)(unaff_EBP + -0x18);
                    }
                    piVar1[1] = *(int *)(unaff_EBP + -0x20);
                    *(int **)(unaff_EBP + -0x20) = piVar1;
                  }
                }
                *(int *)(unaff_EBP + -0x40) = *(int *)(unaff_EBP + -0x40) + 1;
              } while (piVar3 < *(int **)(unaff_EBP + -0x24));
            }
            iVar6 = 0;
            goto LAB_10012fbe;
          }
        }
LAB_10012fb2:
        iVar6 = -0x7ff8fff2;
        goto LAB_10012fbe;
      }
    }
  }
  iVar6 = -0x7fffbffb;
LAB_10012fbe:
  if (*(void **)(unaff_EBP + -0x58) != (void *)0x0) {
    FUN_10012b47(*(void **)(unaff_EBP + -0x58),(int *)0x3,arg2);
  }
  operator_delete(*(void **)(unaff_EBP + -0x28));
  operator_delete(*(void **)(unaff_EBP + -0x2c));
  operator_delete(*(void **)(unaff_EBP + -0x44));
  operator_delete(*(void **)(unaff_EBP + -0x5c));
  operator_delete((void *)0x0);
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar6;
}



/* FUN_10013007 @ 10013007 */

/* [binja] int32_t __fastcall sub_10013007(int32_t* arg1) */

int __fastcall FUN_10013007(int *arg1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  int iStack_2c;
  uint local_14;
  undefined4 *local_10;
  uint local_c;
  undefined4 *local_8;
  
  iVar4 = *arg1;
  if (((*(uint *)(iVar4 + 0x103c) | *(uint *)(iVar4 + 0x1038) | *(uint *)(iVar4 + 0x1030) |
       *(uint *)(iVar4 + 0x1034)) & 3) != 0) {
    return -0x7fffbffb;
  }
  iVar1 = arg1[1];
  if (((*(uint *)(iVar1 + 0x103c) | *(uint *)(iVar1 + 0x1038) | *(uint *)(iVar1 + 0x1030) |
       *(uint *)(iVar1 + 0x1034)) & 3) == 0) {
    iVar2 = *(int *)(iVar1 + 4);
    if (iVar2 == 0x31545844) {
      iStack_2c = 8;
    }
    else {
      if ((((iVar2 != 0x32545844) && (iVar2 != 0x33545844)) && (iVar2 != 0x34545844)) &&
         (iVar2 != 0x35545844)) goto LAB_1001306a;
      iStack_2c = 0x10;
    }
    uVar3 = *(uint *)(iVar1 + 0x1058);
    local_10 = (undefined4 *)
               ((*(uint *)(iVar1 + 0x1034) >> 2) * *(int *)(iVar1 + 0x1050) +
                *(int *)(iVar1 + 0x1054) * *(int *)(iVar1 + 0x1040) +
                (*(uint *)(iVar1 + 0x1030) >> 2) * iStack_2c + *(int *)(iVar1 + 0x18));
    local_14 = 0;
    puVar7 = (undefined4 *)
             ((*(uint *)(iVar4 + 0x1034) >> 2) * *(int *)(iVar4 + 0x1050) +
              *(int *)(iVar4 + 0x1054) * *(int *)(iVar4 + 0x1040) +
              (*(uint *)(iVar4 + 0x1030) >> 2) * iStack_2c + *(int *)(iVar4 + 0x18));
    if (*(int *)(iVar1 + 0x1060) != 0) {
      uVar5 = *(uint *)(iVar1 + 0x105c);
      do {
        local_c = 0;
        puVar6 = local_10;
        local_8 = puVar7;
        if (uVar5 != 0) {
          do {
            local_c = local_c + 4;
            puVar8 = local_8;
            puVar9 = puVar6;
            for (uVar5 = (uVar3 >> 2) * iStack_2c >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
              *puVar9 = *puVar8;
              puVar8 = puVar8 + 1;
              puVar9 = puVar9 + 1;
            }
            for (iVar4 = 0; iVar4 != 0; iVar4 = iVar4 + -1) {
              *(undefined1 *)puVar9 = *(undefined1 *)puVar8;
              puVar8 = (undefined4 *)((int)puVar8 + 1);
              puVar9 = (undefined4 *)((int)puVar9 + 1);
            }
            puVar6 = (undefined4 *)((int)puVar6 + *(int *)(arg1[1] + 0x1050));
            uVar5 = *(uint *)(arg1[1] + 0x105c);
            local_8 = (undefined4 *)((int)local_8 + *(int *)(*arg1 + 0x1050));
          } while (local_c < uVar5);
        }
        local_10 = (undefined4 *)((int)local_10 + *(int *)(arg1[1] + 0x1054));
        puVar7 = (undefined4 *)((int)puVar7 + *(int *)(*arg1 + 0x1054));
        local_14 = local_14 + 1;
      } while (local_14 < *(uint *)(arg1[1] + 0x1060));
    }
    iVar4 = 0;
  }
  else {
LAB_1001306a:
    iVar4 = -0x7fffbffb;
  }
  return iVar4;
}



/* FUN_10013195 @ 10013195 */

undefined4 __cdecl
FUN_10013195(uint *param_1,uint param_2,int param_3,uint param_4,int param_5,int param_6)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint *puVar6;
  int local_18;
  uint *local_c;
  
  uVar5 = param_4 * param_5 + param_2;
  if (param_2 < uVar5) {
    param_4 = param_2 + param_3 * 4;
    do {
      local_c = param_1;
      if (param_2 < param_4) {
        puVar6 = (uint *)(param_2 + 4);
        local_18 = ((param_4 - param_2) - 1 >> 3) + 1;
        do {
          uVar1 = *(uint *)((int)puVar6 + param_5);
          uVar2 = *(uint *)(param_5 + -4 + (int)puVar6);
          uVar3 = *puVar6;
          uVar4 = puVar6[-1];
          *local_c = ((uVar4 >> 2 & 0xffc03fc0) + (uVar2 >> 2 & 0xffc03fc0) +
                      (uVar1 >> 2 & 0xffc03fc0) + -0x7fff80 + (uVar3 >> 2 & 0xffc03fc0) ^
                     (uVar4 & 0xff00ff) + (uVar2 & 0xff00ff) + (uVar1 & 0xff00ff) + 0x20002 +
                     (uVar3 & 0xff00ff) >> 2) & 0xff00ff ^
                     (uVar4 >> 2 & 0x3fc03fc0) + (uVar2 >> 2 & 0x3fc03fc0) +
                     (uVar1 >> 2 & 0x3fc03fc0) + 0x800080 + (uVar3 >> 2 & 0x3fc03fc0);
          puVar6 = puVar6 + 2;
          local_18 = local_18 + -1;
          local_c = local_c + 1;
        } while (local_18 != 0);
      }
      param_1 = (uint *)((int)param_1 + param_6);
      param_4 = param_4 + param_5 * 2;
      param_2 = param_2 + param_5 * 2;
    } while (param_2 < uVar5);
  }
  return 0;
}



/* FUN_100132bb @ 100132bb */

/* [binja] int32_t __fastcall sub_100132bb(int32_t* arg1) */

int __fastcall FUN_100132bb(int *arg1)

{
  int iVar1;
  
  iVar1 = *arg1;
  iVar1 = (*(code *)PTR_FUN_10054390)
                    (*(undefined4 *)(arg1[1] + 0x18),*(undefined4 *)(iVar1 + 0x18),
                     *(undefined4 *)(iVar1 + 0x1058),*(undefined4 *)(iVar1 + 0x105c),
                     *(undefined4 *)(iVar1 + 0x1050),*(undefined4 *)(arg1[1] + 0x1050));
  return iVar1;
}



/* FUN_100132ec @ 100132ec */

undefined4 __cdecl
FUN_100132ec(uint *param_1,uint param_2,int param_3,uint param_4,int param_5,int param_6)

{
  uint *puVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint *puVar6;
  int local_14;
  uint *local_8;
  
  uVar5 = param_4 * param_5 + param_2;
  if (param_2 < uVar5) {
    param_4 = param_2 + param_3 * 4;
    do {
      local_8 = param_1;
      if (param_2 < param_4) {
        local_14 = ((param_4 - param_2) - 1 >> 3) + 1;
        puVar6 = (uint *)(param_2 + 4);
        do {
          puVar2 = (uint *)((int)puVar6 + param_5);
          uVar3 = *puVar6;
          uVar4 = *(uint *)(param_5 + -4 + (int)puVar6);
          puVar1 = puVar6 + -1;
          puVar6 = puVar6 + 2;
          local_14 = local_14 + -1;
          *local_8 = ((*puVar1 & 0xff00ff) + (uVar4 & 0xff00ff) + (*puVar2 & 0xff00ff) + 0x20002 +
                      (uVar3 & 0xff00ff) & 0x3fc03fc |
                     (*puVar1 & 0xff00) + (uVar4 & 0xff00) + (*puVar2 & 0xff00) + 0x200 +
                     (uVar3 & 0xff00) & 0x3fc00) >> 2;
          local_8 = local_8 + 1;
        } while (local_14 != 0);
      }
      param_1 = (uint *)((int)param_1 + param_6);
      param_4 = param_4 + param_5 * 2;
      param_2 = param_2 + param_5 * 2;
    } while (param_2 < uVar5);
  }
  return 0;
}



/* FUN_100133d4 @ 100133d4 */

undefined4 __cdecl
FUN_100133d4(uint *param_1,undefined8 *param_2,uint param_3,uint param_4,int param_5,int param_6)

{
  undefined8 uVar1;
  undefined8 uVar2;
  short sVar3;
  short sVar4;
  short sVar5;
  short sVar6;
  short sVar7;
  short sVar8;
  short sVar9;
  short sVar10;
  uint *puVar11;
  undefined4 uVar12;
  undefined8 *puVar13;
  undefined8 *puVar14;
  undefined8 *puVar15;
  undefined8 uVar16;
  undefined8 uVar17;
  
  if ((param_3 & 3) == 0) {
    puVar13 = (undefined8 *)(param_4 * param_5 + (int)param_2);
    for (; (int)param_2 < (int)puVar13; param_2 = (undefined8 *)((int)param_2 + param_5 * 2)) {
      puVar14 = (undefined8 *)((int)param_2 + param_5);
      puVar11 = param_1;
      puVar15 = param_2;
      while ((int)puVar15 < (int)((int)param_2 + param_3 * 4)) {
        uVar16 = *puVar15;
        uVar17 = *puVar14;
        uVar1 = puVar15[1];
        uVar2 = puVar14[1];
        puVar15 = puVar15 + 2;
        puVar14 = puVar14 + 2;
        uVar16 = psraw(CONCAT26((ushort)(byte)((ulonglong)uVar16 >> 0x18) +
                                (ushort)(byte)((ulonglong)uVar16 >> 0x38) +
                                (ushort)(byte)((ulonglong)uVar17 >> 0x18) +
                                (ushort)(byte)((ulonglong)uVar17 >> 0x38) + 2,
                                CONCAT24((ushort)(byte)((ulonglong)uVar16 >> 0x10) +
                                         (ushort)(byte)((ulonglong)uVar16 >> 0x30) +
                                         (ushort)(byte)((ulonglong)uVar17 >> 0x10) +
                                         (ushort)(byte)((ulonglong)uVar17 >> 0x30) + 2,
                                         CONCAT22((ushort)(byte)((ulonglong)uVar16 >> 8) +
                                                  (ushort)(byte)((ulonglong)uVar16 >> 0x28) +
                                                  (ushort)(byte)((ulonglong)uVar17 >> 8) +
                                                  (ushort)(byte)((ulonglong)uVar17 >> 0x28) + 2,
                                                  (ushort)(byte)uVar16 +
                                                  (ushort)(byte)((ulonglong)uVar16 >> 0x20) +
                                                  (ushort)(byte)uVar17 +
                                                  (ushort)(byte)((ulonglong)uVar17 >> 0x20) + 2))),2
                      );
        uVar17 = psraw(CONCAT26((ushort)(byte)((ulonglong)uVar1 >> 0x18) +
                                (ushort)(byte)((ulonglong)uVar1 >> 0x38) +
                                (ushort)(byte)((ulonglong)uVar2 >> 0x18) +
                                (ushort)(byte)((ulonglong)uVar2 >> 0x38) + 2,
                                CONCAT24((ushort)(byte)((ulonglong)uVar1 >> 0x10) +
                                         (ushort)(byte)((ulonglong)uVar1 >> 0x30) +
                                         (ushort)(byte)((ulonglong)uVar2 >> 0x10) +
                                         (ushort)(byte)((ulonglong)uVar2 >> 0x30) + 2,
                                         CONCAT22((ushort)(byte)((ulonglong)uVar1 >> 8) +
                                                  (ushort)(byte)((ulonglong)uVar1 >> 0x28) +
                                                  (ushort)(byte)((ulonglong)uVar2 >> 8) +
                                                  (ushort)(byte)((ulonglong)uVar2 >> 0x28) + 2,
                                                  (ushort)(byte)uVar1 +
                                                  (ushort)(byte)((ulonglong)uVar1 >> 0x20) +
                                                  (ushort)(byte)uVar2 +
                                                  (ushort)(byte)((ulonglong)uVar2 >> 0x20) + 2))),2)
        ;
        sVar3 = (short)uVar16;
        sVar4 = (short)((ulonglong)uVar16 >> 0x10);
        sVar5 = (short)((ulonglong)uVar16 >> 0x20);
        sVar6 = (short)((ulonglong)uVar16 >> 0x30);
        sVar7 = (short)uVar17;
        sVar8 = (short)((ulonglong)uVar17 >> 0x10);
        sVar9 = (short)((ulonglong)uVar17 >> 0x20);
        sVar10 = (short)((ulonglong)uVar17 >> 0x30);
        *(ulonglong *)puVar11 =
             CONCAT17((0 < sVar10) * (sVar10 < 0x100) * (char)((ulonglong)uVar17 >> 0x30) -
                      (0xff < sVar10),
                      CONCAT16((0 < sVar9) * (sVar9 < 0x100) * (char)((ulonglong)uVar17 >> 0x20) -
                               (0xff < sVar9),
                               CONCAT15((0 < sVar8) * (sVar8 < 0x100) *
                                        (char)((ulonglong)uVar17 >> 0x10) - (0xff < sVar8),
                                        CONCAT14((0 < sVar7) * (sVar7 < 0x100) * (char)uVar17 -
                                                 (0xff < sVar7),
                                                 CONCAT13((0 < sVar6) * (sVar6 < 0x100) *
                                                          (char)((ulonglong)uVar16 >> 0x30) -
                                                          (0xff < sVar6),
                                                          CONCAT12((0 < sVar5) * (sVar5 < 0x100) *
                                                                   (char)((ulonglong)uVar16 >> 0x20)
                                                                   - (0xff < sVar5),
                                                                   CONCAT11((0 < sVar4) *
                                                                            (sVar4 < 0x100) *
                                                                            (char)((ulonglong)uVar16
                                                                                  >> 0x10) -
                                                                            (0xff < sVar4),
                                                                            (0 < sVar3) *
                                                                            (sVar3 < 0x100) *
                                                                            (char)uVar16 -
                                                                            (0xff < sVar3))))))));
        puVar11 = puVar11 + 2;
      }
      param_1 = (uint *)((int)param_1 + param_6);
    }
    return 0;
  }
  uVar12 = FUN_10013195(param_1,(uint)param_2,param_3,param_4,param_5,param_6);
  return uVar12;
}



/* FUN_100134ea @ 100134ea */

void FUN_100134ea(void)

{
  int iVar1;
  
  iVar1 = FUN_1001bf5e();
  if (iVar1 == 0) {
    PTR_FUN_10054390 = FUN_10013195;
    PTR_FUN_10054394 = FUN_100132ec;
  }
  else {
    PTR_FUN_10054390 = FUN_100133d4;
    PTR_FUN_10054394 = FUN_100133d4;
  }
                    /* WARNING: Could not recover jumptable at 0x1001351c. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*(code *)PTR_FUN_10054390)();
  return;
}



/* FUN_10013522 @ 10013522 */

void FUN_10013522(void)

{
  int iVar1;
  code *UNRECOVERED_JUMPTABLE;
  
  iVar1 = FUN_1001bf5e();
  if (iVar1 == 0) {
    PTR_FUN_10054390 = FUN_10013195;
    UNRECOVERED_JUMPTABLE = FUN_100132ec;
  }
  else {
    UNRECOVERED_JUMPTABLE = FUN_100133d4;
    PTR_FUN_10054390 = FUN_100133d4;
  }
  PTR_FUN_10054394 = UNRECOVERED_JUMPTABLE;
                    /* WARNING: Could not recover jumptable at 0x1001354f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*UNRECOVERED_JUMPTABLE)();
  return;
}



/* FUN_10013551 @ 10013551 */

/* [binja] int32_t __fastcall sub_10013551(int32_t* arg1) */

int __fastcall FUN_10013551(int *arg1)

{
  int iVar1;
  
  iVar1 = *arg1;
  iVar1 = (*(code *)PTR_FUN_10054394)
                    (*(undefined4 *)(arg1[1] + 0x18),*(undefined4 *)(iVar1 + 0x18),
                     *(undefined4 *)(iVar1 + 0x1058),*(undefined4 *)(iVar1 + 0x105c),
                     *(undefined4 *)(iVar1 + 0x1050),*(undefined4 *)(arg1[1] + 0x1050));
  return iVar1;
}



/* FUN_10013582 @ 10013582 */

/* [binja] int32_t __fastcall sub_10013582(int32_t* arg1) */

int __fastcall FUN_10013582(int *arg1)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  ushort *puVar5;
  int iVar6;
  int iVar7;
  ushort *puVar8;
  ushort *puVar9;
  ushort *puVar10;
  ushort *puVar11;
  ushort *puVar12;
  
  puVar5 = *(ushort **)(arg1[1] + 0x18);
  iVar6 = *arg1;
  iVar7 = *(int *)(iVar6 + 0x1050);
  puVar8 = *(ushort **)(iVar6 + 0x18);
  puVar11 = (ushort *)(*(int *)(iVar6 + 0x105c) * iVar7 + (int)puVar8);
  for (; puVar8 < puVar11; puVar8 = puVar8 + iVar7) {
    iVar6 = *(int *)(iVar6 + 0x1058);
    puVar12 = (ushort *)(iVar7 + (int)puVar8);
    puVar9 = puVar5;
    for (puVar10 = puVar8; puVar10 < puVar8 + iVar6; puVar10 = puVar10 + 2) {
      uVar1 = *puVar10;
      uVar2 = puVar10[1];
      uVar3 = puVar12[1];
      uVar4 = *puVar12;
      *puVar9 = ((ushort)((uint)(uVar3 & 0xf81f) + (uint)(uVar1 & 0xf81f) + (uint)(uVar4 & 0xf81f) +
                          0x1002 + (uint)(uVar2 & 0xf81f) >> 2) ^
                (ushort)((uVar2 & 0xffff07e0) + 0x40 +
                         (uVar3 & 0xffff07e0) + (uVar1 & 0xffff07e0) + (uVar4 & 0xffff07e0) >> 2)) &
                0x7e0 ^ (ushort)((uVar3 & 0xf81f) + (uVar1 & 0xf81f) + (uVar4 & 0xf81f) + 0x1002 +
                                 (uVar2 & 0xf81f) >> 2);
      puVar12 = puVar12 + 2;
      puVar9 = puVar9 + 1;
    }
    puVar5 = (ushort *)((int)puVar5 + *(int *)(arg1[1] + 0x1050));
    iVar6 = *arg1;
    iVar7 = *(int *)(iVar6 + 0x1050);
  }
  return 0;
}



/* FUN_100136d2 @ 100136d2 */

/* [binja] int32_t __fastcall sub_100136d2(int32_t* arg1) */

int __fastcall FUN_100136d2(int *arg1)

{
  ushort *puVar1;
  ushort uVar2;
  ushort *puVar3;
  int iVar4;
  int iVar5;
  ushort *puVar6;
  ushort *puVar7;
  ushort *puVar8;
  ushort *puVar9;
  ushort *puVar10;
  
  puVar3 = *(ushort **)(arg1[1] + 0x18);
  iVar4 = *arg1;
  iVar5 = *(int *)(iVar4 + 0x1050);
  puVar6 = *(ushort **)(iVar4 + 0x18);
  puVar8 = (ushort *)(*(int *)(iVar4 + 0x105c) * iVar5 + (int)puVar6);
  for (; puVar6 < puVar8; puVar6 = puVar6 + iVar5) {
    iVar4 = *(int *)(iVar4 + 0x1058);
    puVar9 = (ushort *)(iVar5 + (int)puVar6);
    puVar7 = puVar3;
    for (puVar10 = puVar6; puVar10 < puVar6 + iVar4; puVar10 = puVar10 + 2) {
      puVar1 = puVar9 + 1;
      uVar2 = *puVar9;
      puVar9 = puVar9 + 2;
      *puVar7 = (ushort)((puVar10[1] & 0xffff03e0) + 0x40 +
                         (*puVar1 & 0xffff03e0) + (*puVar10 & 0xffff03e0) + (uVar2 & 0xffff03e0) >>
                        2) & 0x3e0 |
                (ushort)((*puVar1 & 0x7c1f) + (*puVar10 & 0x7c1f) + (uVar2 & 0x7c1f) + 0x802 +
                         (puVar10[1] & 0x7c1f) >> 2) & 0x7c1f;
      puVar7 = puVar7 + 1;
    }
    puVar3 = (ushort *)((int)puVar3 + *(int *)(arg1[1] + 0x1050));
    iVar4 = *arg1;
    iVar5 = *(int *)(iVar4 + 0x1050);
  }
  return 0;
}



/* FUN_100137f6 @ 100137f6 */

/* [binja] int32_t __fastcall sub_100137f6(int32_t* arg1) */

int __fastcall FUN_100137f6(int *arg1)

{
  ushort *puVar1;
  int iVar2;
  ushort *puVar3;
  int iVar4;
  ushort *puVar5;
  uint uVar6;
  uint uVar7;
  ushort *puVar8;
  ushort *puVar9;
  uint uVar10;
  ushort *puVar11;
  uint uVar12;
  
  puVar1 = *(ushort **)(arg1[1] + 0x18);
  iVar2 = *arg1;
  puVar3 = *(ushort **)(iVar2 + 0x18);
  iVar4 = *(int *)(iVar2 + 0x1050);
  puVar9 = (ushort *)(*(int *)(iVar2 + 0x105c) * iVar4 + (int)puVar3);
  for (; puVar3 < puVar9; puVar3 = puVar3 + iVar4) {
    iVar2 = *(int *)(iVar2 + 0x1058);
    puVar11 = (ushort *)(iVar4 + (int)puVar3);
    puVar5 = puVar1;
    for (puVar8 = puVar3; puVar8 < puVar3 + iVar2; puVar8 = puVar8 + 2) {
      uVar6 = (uint)*puVar8;
      uVar10 = (uint)puVar8[1];
      uVar7 = (uint)puVar11[1];
      uVar12 = (uint)*puVar11;
      *puVar5 = ((ushort)((uVar7 & 0x83e0) + (uVar6 & 0x83e0) + (uVar12 & 0x83e0) + 0x10040 +
                          (uVar10 & 0x83e0) >> 2) ^
                (ushort)((uVar10 & 0x7c1f) + 0x802 +
                         (uVar7 & 0x7c1f) + (uVar6 & 0x7c1f) + (uVar12 & 0x7c1f) >> 2)) & 0x7c1f ^
                (ushort)((uVar7 & 0x83e0) + (uVar6 & 0x83e0) + (uVar12 & 0x83e0) + 0x10040 +
                         (uVar10 & 0x83e0) >> 2);
      puVar11 = puVar11 + 2;
      puVar5 = puVar5 + 1;
    }
    puVar1 = (ushort *)((int)puVar1 + *(int *)(arg1[1] + 0x1050));
    iVar2 = *arg1;
    iVar4 = *(int *)(iVar2 + 0x1050);
  }
  return 0;
}



/* FUN_10013945 @ 10013945 */

/* [binja] int32_t __fastcall sub_10013945(int32_t* arg1) */

int __fastcall FUN_10013945(int *arg1)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  ushort *puVar5;
  int iVar6;
  int iVar7;
  ushort *puVar8;
  ushort *puVar9;
  ushort *puVar10;
  ushort *puVar11;
  ushort *puVar12;
  
  puVar5 = *(ushort **)(arg1[1] + 0x18);
  iVar6 = *arg1;
  iVar7 = *(int *)(iVar6 + 0x1050);
  puVar8 = *(ushort **)(iVar6 + 0x18);
  puVar11 = (ushort *)(*(int *)(iVar6 + 0x105c) * iVar7 + (int)puVar8);
  for (; puVar8 < puVar11; puVar8 = puVar8 + iVar7) {
    iVar6 = *(int *)(iVar6 + 0x1058);
    puVar12 = (ushort *)(iVar7 + (int)puVar8);
    puVar9 = puVar5;
    for (puVar10 = puVar8; puVar10 < puVar8 + iVar6; puVar10 = puVar10 + 2) {
      uVar1 = *puVar10;
      uVar2 = puVar10[1];
      uVar3 = puVar12[1];
      uVar4 = *puVar12;
      *puVar9 = ((ushort)((uint)(uVar3 & 0xf0f0) + (uint)(uVar1 & 0xf0f0) + (uint)(uVar4 & 0xf0f0) +
                          0x2020 + (uint)(uVar2 & 0xf0f0) >> 2) ^
                (ushort)((uVar2 & 0xffff0f0f) + 0x202 +
                         (uVar3 & 0xffff0f0f) + (uVar1 & 0xffff0f0f) + (uVar4 & 0xffff0f0f) >> 2)) &
                0xf0f ^ (ushort)((uVar3 & 0xf0f0) + (uVar1 & 0xf0f0) + (uVar4 & 0xf0f0) + 0x2020 +
                                 (uVar2 & 0xf0f0) >> 2);
      puVar12 = puVar12 + 2;
      puVar9 = puVar9 + 1;
    }
    puVar5 = (ushort *)((int)puVar5 + *(int *)(arg1[1] + 0x1050));
    iVar6 = *arg1;
    iVar7 = *(int *)(iVar6 + 0x1050);
  }
  return 0;
}



/* FUN_10013a98 @ 10013a98 */

/* [binja] int32_t __fastcall sub_10013a98(int32_t* arg1) */

int __fastcall FUN_10013a98(int *arg1)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  int iVar5;
  byte *pbVar6;
  int iVar7;
  byte *pbVar8;
  byte *pbVar9;
  byte *pbVar10;
  byte *pbVar11;
  byte *pbVar12;
  
  iVar5 = *arg1;
  pbVar10 = *(byte **)(arg1[1] + 0x18);
  pbVar6 = *(byte **)(iVar5 + 0x18);
  iVar7 = *(int *)(iVar5 + 0x1050);
  pbVar11 = pbVar6 + *(int *)(iVar5 + 0x105c) * iVar7;
  for (; pbVar6 < pbVar11; pbVar6 = pbVar6 + iVar7 * 2) {
    iVar5 = *(int *)(iVar5 + 0x1058);
    pbVar12 = pbVar6 + iVar7;
    pbVar8 = pbVar10;
    for (pbVar9 = pbVar6; pbVar9 < pbVar6 + iVar5; pbVar9 = pbVar9 + 2) {
      bVar1 = *pbVar9;
      bVar2 = pbVar9[1];
      bVar3 = pbVar12[1];
      bVar4 = *pbVar12;
      pbVar12 = pbVar12 + 2;
      *pbVar8 = ((byte)((bVar3 & 0x1c) + (bVar1 & 0x1c) + (bVar4 & 0x1c) + 8 + (bVar2 & 0x1c) >> 2)
                ^ (byte)((bVar3 & 0xffff00e3) + (bVar1 & 0xffff00e3) + (bVar4 & 0xffff00e3) + 0x42 +
                         (bVar2 & 0xffff00e3) >> 2)) & 0x1c ^
                (byte)((uint)(bVar3 & 0xe3) + (uint)(bVar1 & 0xe3) + (uint)(bVar4 & 0xe3) + 0x42 +
                       (uint)(bVar2 & 0xe3) >> 2);
      pbVar8 = pbVar8 + 1;
    }
    pbVar10 = pbVar10 + *(int *)(arg1[1] + 0x1050);
    iVar5 = *arg1;
    iVar7 = *(int *)(iVar5 + 0x1050);
  }
  return 0;
}



/* FUN_10013bd7 @ 10013bd7 */

/* [binja] int32_t __fastcall sub_10013bd7(int32_t* arg1) */

int __fastcall FUN_10013bd7(int *arg1)

{
  byte *pbVar1;
  int iVar2;
  byte *pbVar3;
  undefined1 *puVar4;
  byte *pbVar5;
  byte *pbVar6;
  int iVar7;
  undefined1 *local_c;
  
  puVar4 = *(undefined1 **)(arg1[1] + 0x18);
  iVar2 = *arg1;
  pbVar3 = *(byte **)(iVar2 + 0x18);
  iVar7 = *(int *)(iVar2 + 0x1050);
  pbVar5 = pbVar3 + *(int *)(iVar2 + 0x105c) * iVar7;
  for (; pbVar3 < pbVar5; pbVar3 = pbVar3 + iVar7 * 2) {
    iVar2 = *(int *)(iVar2 + 0x1058);
    pbVar6 = pbVar3 + iVar7;
    local_c = puVar4;
    for (pbVar1 = pbVar3; pbVar1 < pbVar3 + iVar2; pbVar1 = pbVar1 + 2) {
      *local_c = (char)((uint)pbVar6[1] + (uint)pbVar1[1] + (uint)*pbVar6 + 2 + (uint)*pbVar1 >> 2);
      pbVar6 = pbVar6 + 2;
      local_c = local_c + 1;
    }
    puVar4 = puVar4 + *(int *)(arg1[1] + 0x1050);
    iVar2 = *arg1;
    iVar7 = *(int *)(iVar2 + 0x1050);
  }
  return 0;
}



/* FUN_10013c72 @ 10013c72 */

/* [binja] int32_t __fastcall sub_10013c72(int32_t* arg1) */

int __fastcall FUN_10013c72(int *arg1)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  int iVar5;
  ushort *puVar6;
  int iVar7;
  ushort *puVar8;
  ushort *puVar9;
  ushort *puVar10;
  ushort *puVar11;
  ushort *puVar12;
  
  iVar5 = *arg1;
  puVar6 = *(ushort **)(arg1[1] + 0x18);
  iVar7 = *(int *)(iVar5 + 0x1050);
  puVar8 = *(ushort **)(iVar5 + 0x18);
  puVar12 = (ushort *)(*(int *)(iVar5 + 0x105c) * iVar7 + (int)puVar8);
  for (; puVar8 < puVar12; puVar8 = puVar8 + iVar7) {
    iVar5 = *(int *)(iVar5 + 0x1058);
    puVar11 = (ushort *)(iVar7 + (int)puVar8);
    puVar9 = puVar6;
    for (puVar10 = puVar8; puVar10 < puVar8 + iVar5; puVar10 = puVar10 + 2) {
      uVar1 = *puVar10;
      uVar2 = puVar10[1];
      uVar3 = puVar11[1];
      uVar4 = *puVar11;
      puVar11 = puVar11 + 2;
      *puVar9 = (byte)((byte)((uint)(uVar3 & 0xe3) + (uint)(uVar1 & 0xe3) + (uint)(uVar4 & 0xe3) +
                              0x42 + (uint)(uVar2 & 0xe3) >> 2) ^
                      (byte)((uint)(uVar3 & 0xff1c) + (uVar1 & 0xffffff1c) + (uint)(uVar4 & 0xff1c)
                             + 0x208 + (uint)(uVar2 & 0xff1c) >> 2)) & 0xe3 ^
                (ushort)((uVar3 & 0xff1c) + (uVar1 & 0xff1c) + (uVar4 & 0xff1c) + 0x208 +
                         (uVar2 & 0xff1c) >> 2);
      puVar9 = puVar9 + 1;
    }
    puVar6 = (ushort *)((int)puVar6 + *(int *)(arg1[1] + 0x1050));
    iVar5 = *arg1;
    iVar7 = *(int *)(iVar5 + 0x1050);
  }
  return 0;
}



/* FUN_10013dbe @ 10013dbe */

/* [binja] int32_t __fastcall sub_10013dbe(int32_t* arg1) */

int __fastcall FUN_10013dbe(int *arg1)

{
  ushort *puVar1;
  ushort uVar2;
  int iVar3;
  ushort *puVar4;
  int iVar5;
  ushort *puVar6;
  ushort *puVar7;
  ushort *puVar8;
  ushort *puVar9;
  ushort *puVar10;
  
  puVar9 = *(ushort **)(arg1[1] + 0x18);
  iVar3 = *arg1;
  puVar4 = *(ushort **)(iVar3 + 0x18);
  iVar5 = *(int *)(iVar3 + 0x1050);
  puVar7 = (ushort *)(*(int *)(iVar3 + 0x105c) * iVar5 + (int)puVar4);
  for (; puVar4 < puVar7; puVar4 = puVar4 + iVar5) {
    iVar3 = *(int *)(iVar3 + 0x1058);
    puVar10 = (ushort *)(iVar5 + (int)puVar4);
    puVar6 = puVar9;
    for (puVar8 = puVar4; puVar8 < puVar4 + iVar3; puVar8 = puVar8 + 2) {
      puVar1 = puVar10 + 1;
      uVar2 = *puVar10;
      puVar10 = puVar10 + 2;
      *puVar6 = (ushort)((*puVar1 & 0xffff00f0) + (*puVar8 & 0xffff00f0) + (uVar2 & 0xffff00f0) +
                         0x20 + (puVar8[1] & 0xffff00f0) >> 2) & 0xf0 |
                (ushort)((uint)(*puVar1 & 0xf0f) + (uint)(*puVar8 & 0xf0f) + (uint)(uVar2 & 0xf0f) +
                         0x202 + (uint)(puVar8[1] & 0xf0f) >> 2) & 0xf0f;
      puVar6 = puVar6 + 1;
    }
    puVar9 = (ushort *)((int)puVar9 + *(int *)(arg1[1] + 0x1050));
    iVar3 = *arg1;
    iVar5 = *(int *)(iVar3 + 0x1050);
  }
  return 0;
}



/* FUN_10013edf @ 10013edf */

/* [binja] int32_t __fastcall sub_10013edf(int32_t* arg1) */

int __fastcall FUN_10013edf(int *arg1)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  int iVar5;
  ushort *puVar6;
  int iVar7;
  ushort *puVar8;
  ushort *puVar9;
  ushort *puVar10;
  ushort *puVar11;
  ushort *puVar12;
  
  iVar5 = *arg1;
  puVar6 = *(ushort **)(arg1[1] + 0x18);
  iVar7 = *(int *)(iVar5 + 0x1050);
  puVar8 = *(ushort **)(iVar5 + 0x18);
  puVar12 = (ushort *)(*(int *)(iVar5 + 0x105c) * iVar7 + (int)puVar8);
  for (; puVar8 < puVar12; puVar8 = puVar8 + iVar7) {
    iVar5 = *(int *)(iVar5 + 0x1058);
    puVar11 = (ushort *)(iVar7 + (int)puVar8);
    puVar9 = puVar6;
    for (puVar10 = puVar8; puVar10 < puVar8 + iVar5; puVar10 = puVar10 + 2) {
      uVar1 = *puVar10;
      uVar2 = puVar10[1];
      uVar3 = puVar11[1];
      uVar4 = *puVar11;
      puVar11 = puVar11 + 2;
      *puVar9 = (ushort)(byte)((byte)((uint)(uVar3 & 0xff) + (uint)(uVar1 & 0xff) +
                                      (uint)(uVar4 & 0xff) + 2 + (uint)(uVar2 & 0xff) >> 2) ^
                              (byte)((uint)(uVar3 & 0xff00) + (uVar1 & 0xffffff00) +
                                     (uint)(uVar4 & 0xff00) + 0x200 + (uint)(uVar2 & 0xff00) >> 2))
                ^ (ushort)((uVar3 & 0xff00) + (uVar1 & 0xff00) + (uVar4 & 0xff00) + 0x200 +
                           (uVar2 & 0xff00) >> 2);
      puVar9 = puVar9 + 1;
    }
    puVar6 = (ushort *)((int)puVar6 + *(int *)(arg1[1] + 0x1050));
    iVar5 = *arg1;
    iVar7 = *(int *)(iVar5 + 0x1050);
  }
  return 0;
}



/* FUN_1001402b @ 1001402b */

/* [binja] int32_t __fastcall sub_1001402b(int32_t* arg1) */

int __fastcall FUN_1001402b(int *arg1)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  int iVar5;
  byte *pbVar6;
  int iVar7;
  byte *pbVar8;
  byte *pbVar9;
  byte *pbVar10;
  byte *pbVar11;
  byte *pbVar12;
  
  iVar5 = *arg1;
  pbVar10 = *(byte **)(arg1[1] + 0x18);
  pbVar6 = *(byte **)(iVar5 + 0x18);
  iVar7 = *(int *)(iVar5 + 0x1050);
  pbVar11 = pbVar6 + *(int *)(iVar5 + 0x105c) * iVar7;
  for (; pbVar6 < pbVar11; pbVar6 = pbVar6 + iVar7 * 2) {
    iVar5 = *(int *)(iVar5 + 0x1058);
    pbVar12 = pbVar6 + iVar7;
    pbVar8 = pbVar10;
    for (pbVar9 = pbVar6; pbVar9 < pbVar6 + iVar5; pbVar9 = pbVar9 + 2) {
      bVar1 = *pbVar9;
      bVar2 = pbVar9[1];
      bVar3 = pbVar12[1];
      bVar4 = *pbVar12;
      pbVar12 = pbVar12 + 2;
      *pbVar8 = ((byte)((bVar3 & 0xf) + (bVar1 & 0xf) + (bVar4 & 0xf) + 2 + (bVar2 & 0xf) >> 2) ^
                (byte)((bVar3 & 0xffff00f0) + (bVar1 & 0xffff00f0) + (bVar4 & 0xffff00f0) + 0x20 +
                       (bVar2 & 0xffff00f0) >> 2)) & 0xf ^
                (byte)((uint)(bVar3 & 0xf0) + (uint)(bVar1 & 0xf0) + (uint)(bVar4 & 0xf0) + 0x20 +
                       (uint)(bVar2 & 0xf0) >> 2);
      pbVar8 = pbVar8 + 1;
    }
    pbVar10 = pbVar10 + *(int *)(arg1[1] + 0x1050);
    iVar5 = *arg1;
    iVar7 = *(int *)(iVar5 + 0x1050);
  }
  return 0;
}



/* FUN_1001416a @ 1001416a */

/* [binja] int32_t __fastcall sub_1001416a(int32_t* arg1) */

int __fastcall FUN_1001416a(int *arg1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  int *piVar8;
  undefined4 *puVar9;
  int *piVar10;
  undefined4 *puVar11;
  bool bVar12;
  uint local_14;
  uint local_10;
  uint local_8;
  
  iVar2 = arg1[1];
  iVar1 = *arg1;
  if (*(int *)(iVar2 + 4) != *(int *)(iVar1 + 4)) {
    return -0x7fffbffb;
  }
  if ((((*(int *)(iVar1 + 0x10) == 0) && (*(int *)(iVar2 + 0x1058) == *(int *)(iVar1 + 0x1058))) &&
      (local_14 = *(uint *)(iVar2 + 0x105c), local_14 == *(uint *)(iVar1 + 0x105c))) &&
     (*(int *)(iVar2 + 0x1060) == *(int *)(iVar1 + 0x1060))) {
    if (*(int *)(iVar2 + 0xc) == 0) {
      iVar1 = FUN_10013007(arg1);
      return iVar1;
    }
    if (*(int *)(iVar2 + 0x14) != 0) {
      if ((int *)(iVar2 + 0x30) != (int *)(iVar1 + 0x30)) {
        iVar3 = 0x100;
        bVar12 = true;
        piVar8 = (int *)(iVar2 + 0x30);
        piVar10 = (int *)(iVar1 + 0x30);
        do {
          if (iVar3 == 0) break;
          iVar3 = iVar3 + -1;
          bVar12 = *piVar8 == *piVar10;
          piVar8 = piVar8 + 1;
          piVar10 = piVar10 + 1;
        } while (bVar12);
        if (!bVar12) goto LAB_10014298;
      }
    }
    local_8 = 0;
    if (*(int *)(iVar2 + 0x1060) != 0) {
      do {
        puVar6 = (undefined4 *)(*(int *)(iVar2 + 0x1054) * local_8 + *(int *)(iVar2 + 0x18));
        puVar7 = (undefined4 *)(*(int *)(*arg1 + 0x1054) * local_8 + *(int *)(*arg1 + 0x18));
        local_10 = 0;
        if (local_14 != 0) {
          do {
            uVar5 = *(uint *)(iVar2 + 0x1064);
            puVar9 = puVar7;
            puVar11 = puVar6;
            for (uVar4 = uVar5 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
              *puVar11 = *puVar9;
              puVar9 = puVar9 + 1;
              puVar11 = puVar11 + 1;
            }
            for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
              *(undefined1 *)puVar11 = *(undefined1 *)puVar9;
              puVar9 = (undefined4 *)((int)puVar9 + 1);
              puVar11 = (undefined4 *)((int)puVar11 + 1);
            }
            iVar2 = arg1[1];
            puVar7 = (undefined4 *)((int)puVar7 + *(int *)(*arg1 + 0x1050));
            puVar6 = (undefined4 *)((int)puVar6 + *(int *)(iVar2 + 0x1050));
            local_14 = *(uint *)(iVar2 + 0x105c);
            local_10 = local_10 + 1;
          } while (local_10 < local_14);
        }
        local_8 = local_8 + 1;
        iVar2 = arg1[1];
      } while (local_8 < *(uint *)(iVar2 + 0x1060));
    }
    iVar1 = 0;
  }
  else {
LAB_10014298:
    iVar1 = -0x7fffbffb;
  }
  return iVar1;
}



/* FUN_100142a2 @ 100142a2 */

/* [binja] int32_t __fastcall sub_100142a2(int32_t* arg1) */

int FUN_100142a2(int *arg1)

{
  int iVar1;
  int iVar2;
  void *pvVar3;
  uint uVar4;
  int iVar5;
  int *extraout_ECX;
  uint uVar6;
  int unaff_EBP;
  uint uVar7;
  
  seh_prolog();
  iVar5 = extraout_ECX[1];
  iVar1 = *extraout_ECX;
  iVar2 = *(int *)(iVar5 + 0x1058);
  if (((iVar2 == *(int *)(iVar1 + 0x1058)) && (*(int *)(iVar5 + 0x105c) == *(int *)(iVar1 + 0x105c))
      ) && (*(int *)(iVar5 + 0x1060) == *(int *)(iVar1 + 0x1060))) {
    pvVar3 = operator_new(iVar2 << 4);
    *(void **)(unaff_EBP + -0x10) = pvVar3;
    *(undefined4 *)(unaff_EBP + -4) = 0;
    if (pvVar3 == (void *)0x0) {
      *(undefined4 *)(unaff_EBP + -0x10) = 0;
    }
    else {
      _vector_constructor_iterator_(pvVar3,0x10,iVar2,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
      *(void **)(unaff_EBP + -0x10) = pvVar3;
    }
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    uVar6 = 0;
    if (*(int *)(unaff_EBP + -0x10) != 0) {
      if (*(int *)(extraout_ECX[1] + 0x1060) != 0) {
        uVar4 = *(uint *)(extraout_ECX[1] + 0x105c);
        do {
          uVar7 = 0;
          if (uVar4 != 0) {
            do {
              (**(code **)(*(int *)*extraout_ECX + 4))
                        (uVar7,uVar6,*(undefined4 *)(unaff_EBP + -0x10));
              (**(code **)(*(int *)extraout_ECX[1] + 8))
                        (uVar7,uVar6,*(undefined4 *)(unaff_EBP + -0x10));
              uVar4 = *(uint *)(extraout_ECX[1] + 0x105c);
              uVar7 = uVar7 + 1;
            } while (uVar7 < uVar4);
          }
          uVar6 = uVar6 + 1;
        } while (uVar6 < *(uint *)(extraout_ECX[1] + 0x1060));
      }
      operator_delete(*(void **)(unaff_EBP + -0x10));
      iVar5 = 0;
      goto LAB_10014384;
    }
  }
  iVar5 = -0x7fffbffb;
LAB_10014384:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar5;
}



/* FUN_10014393 @ 10014393 */

/* [binja] int32_t __fastcall sub_10014393(int32_t* arg1) */

int FUN_10014393(int *arg1)

{
  int iVar1;
  void *pvVar2;
  int *extraout_ECX;
  int iVar3;
  int *piVar4;
  int unaff_EBP;
  uint uVar5;
  undefined4 *puVar6;
  uint uVar7;
  uint uVar8;
  
  seh_prolog();
  if ((char)extraout_ECX[2] == '\x01') {
    iVar1 = extraout_ECX[1];
    iVar3 = *extraout_ECX;
    uVar5 = *(uint *)(iVar1 + 0x1058);
    uVar7 = *(uint *)(iVar3 + 0x1058);
    *(uint *)(unaff_EBP + -0x18) = uVar5;
    if (uVar5 <= uVar7) {
      *(uint *)(unaff_EBP + -0x18) = uVar7;
    }
    uVar5 = *(uint *)(iVar1 + 0x105c);
    uVar7 = *(uint *)(iVar3 + 0x105c);
    *(uint *)(unaff_EBP + -0x20) = uVar5;
    if (uVar7 <= uVar5) {
      *(uint *)(unaff_EBP + -0x20) = uVar7;
    }
    uVar5 = *(uint *)(iVar1 + 0x1060);
    uVar7 = *(uint *)(iVar3 + 0x1060);
    *(uint *)(unaff_EBP + -0x1c) = uVar5;
    if (uVar7 <= uVar5) {
      *(uint *)(unaff_EBP + -0x1c) = uVar7;
    }
    uVar5 = *(int *)(unaff_EBP + -0x18) << 4;
    pvVar2 = operator_new(uVar5);
    *(void **)(unaff_EBP + -0x14) = pvVar2;
    *(undefined4 *)(unaff_EBP + -4) = 0;
    if (pvVar2 == (void *)0x0) {
      *(undefined4 *)(unaff_EBP + -0x10) = 0;
    }
    else {
      _vector_constructor_iterator_
                (pvVar2,0x10,*(int *)(unaff_EBP + -0x18),(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
      *(undefined4 *)(unaff_EBP + -0x10) = *(undefined4 *)(unaff_EBP + -0x14);
    }
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    if (*(int *)(unaff_EBP + -0x10) == 0) {
      iVar1 = -0x7fffbffb;
    }
    else {
      iVar1 = *(int *)(extraout_ECX[1] + 0x1058);
      *(int *)(unaff_EBP + -0x18) = iVar1;
      pvVar2 = operator_new(iVar1 << 4);
      *(void **)(unaff_EBP + -0x14) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 1;
      if (pvVar2 == (void *)0x0) {
        *(undefined4 *)(unaff_EBP + -0x18) = 0;
      }
      else {
        _vector_constructor_iterator_
                  (pvVar2,0x10,*(int *)(unaff_EBP + -0x18),(_func_void_ptr_void_ptr *)&LAB_1000ae4f)
        ;
        *(undefined4 *)(unaff_EBP + -0x18) = *(undefined4 *)(unaff_EBP + -0x14);
      }
      *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
      if (*(int *)(unaff_EBP + -0x18) == 0) {
        operator_delete(*(void **)(unaff_EBP + -0x10));
        iVar1 = -0x7fffbffb;
      }
      else {
        iVar1 = *(int *)(unaff_EBP + -0x1c);
        *(undefined4 *)(unaff_EBP + -0x14) = 0;
        puVar6 = *(undefined4 **)(unaff_EBP + -0x10);
        for (uVar5 = uVar5 >> 2; uVar5 != 0; uVar5 = uVar5 - 1) {
          *puVar6 = 0;
          puVar6 = puVar6 + 1;
        }
        for (iVar3 = 0; iVar3 != 0; iVar3 = iVar3 + -1) {
          *(undefined1 *)puVar6 = 0;
          puVar6 = (undefined4 *)((int)puVar6 + 1);
        }
        puVar6 = *(undefined4 **)(unaff_EBP + -0x18);
        for (uVar5 = (uint)(*(int *)(extraout_ECX[1] + 0x1058) << 4) >> 2; uVar5 != 0;
            uVar5 = uVar5 - 1) {
          *puVar6 = 0;
          puVar6 = puVar6 + 1;
        }
        for (iVar3 = 0; iVar3 != 0; iVar3 = iVar3 + -1) {
          *(undefined1 *)puVar6 = 0;
          puVar6 = (undefined4 *)((int)puVar6 + 1);
        }
        uVar5 = 0;
        if (iVar1 != 0) {
          do {
            uVar5 = *(uint *)(unaff_EBP + -0x20);
            uVar7 = 0;
            if (uVar5 != 0) {
              do {
                (**(code **)(*(int *)*extraout_ECX + 4))
                          (uVar7,*(undefined4 *)(unaff_EBP + -0x14),
                           *(undefined4 *)(unaff_EBP + -0x10));
                (**(code **)(*(int *)extraout_ECX[1] + 8))
                          (uVar7,*(undefined4 *)(unaff_EBP + -0x14),
                           *(undefined4 *)(unaff_EBP + -0x10));
                uVar7 = uVar7 + 1;
              } while (uVar7 < uVar5);
            }
            piVar4 = (int *)extraout_ECX[1];
            if (uVar5 < (uint)piVar4[0x417]) {
              do {
                (**(code **)(*piVar4 + 8))
                          (uVar5,*(undefined4 *)(unaff_EBP + -0x14),
                           *(undefined4 *)(unaff_EBP + -0x18));
                piVar4 = (int *)extraout_ECX[1];
                uVar5 = uVar5 + 1;
              } while (uVar5 < (uint)piVar4[0x417]);
            }
            uVar5 = *(uint *)(unaff_EBP + -0x1c);
            *(int *)(unaff_EBP + -0x14) = *(int *)(unaff_EBP + -0x14) + 1;
          } while (*(uint *)(unaff_EBP + -0x14) < uVar5);
        }
        piVar4 = (int *)extraout_ECX[1];
        if (uVar5 < (uint)piVar4[0x418]) {
          uVar7 = piVar4[0x417];
          do {
            uVar8 = 0;
            if (uVar7 != 0) {
              do {
                (**(code **)(*piVar4 + 8))(uVar8,uVar5,*(undefined4 *)(unaff_EBP + -0x18));
                piVar4 = (int *)extraout_ECX[1];
                uVar7 = piVar4[0x417];
                uVar8 = uVar8 + 1;
              } while (uVar8 < uVar7);
            }
            piVar4 = (int *)extraout_ECX[1];
            uVar5 = uVar5 + 1;
          } while (uVar5 < (uint)piVar4[0x418]);
        }
        operator_delete(*(void **)(unaff_EBP + -0x10));
        operator_delete(*(void **)(unaff_EBP + -0x18));
        iVar1 = 0;
      }
    }
  }
  else {
    iVar1 = -0x7fffbffb;
  }
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar1;
}



/* FUN_10014595 @ 10014595 */

/* [binja] int32_t __fastcall sub_10014595(int32_t* arg1) */

int FUN_10014595(int *arg1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  void *pvVar5;
  undefined4 *puVar6;
  int *extraout_ECX;
  int unaff_EBP;
  uint uVar7;
  undefined4 *puVar8;
  uint uVar9;
  
  seh_prolog();
  if ((char)extraout_ECX[2] == '\x02') {
    iVar4 = *(int *)(*extraout_ECX + 0x1058);
    pvVar5 = operator_new(iVar4 << 4);
    *(void **)(unaff_EBP + -0x30) = pvVar5;
    *(undefined4 *)(unaff_EBP + -4) = 0;
    if (pvVar5 == (void *)0x0) {
      *(undefined4 *)(unaff_EBP + -0x10) = 0;
    }
    else {
      _vector_constructor_iterator_(pvVar5,0x10,iVar4,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
      *(undefined4 *)(unaff_EBP + -0x10) = *(undefined4 *)(unaff_EBP + -0x30);
    }
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    if (*(int *)(unaff_EBP + -0x10) == 0) {
      iVar4 = -0x7ff8fff2;
    }
    else {
      iVar4 = *(int *)(extraout_ECX[1] + 0x1058);
      pvVar5 = operator_new(iVar4 << 4);
      *(void **)(unaff_EBP + -0x30) = pvVar5;
      *(undefined4 *)(unaff_EBP + -4) = 1;
      if (pvVar5 == (void *)0x0) {
        *(undefined4 *)(unaff_EBP + -0x14) = 0;
      }
      else {
        _vector_constructor_iterator_(pvVar5,0x10,iVar4,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
        *(undefined4 *)(unaff_EBP + -0x14) = *(undefined4 *)(unaff_EBP + -0x30);
      }
      *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
      if (*(int *)(unaff_EBP + -0x14) == 0) {
        operator_delete(*(void **)(unaff_EBP + -0x10));
        iVar4 = -0x7ff8fff2;
      }
      else {
        iVar4 = *extraout_ECX;
        iVar1 = extraout_ECX[1];
        iVar2 = *(int *)(iVar4 + 0x1058);
        uVar7 = *(uint *)(iVar1 + 0x1058);
        uVar9 = *(uint *)(iVar1 + 0x105c);
        uVar3 = *(uint *)(iVar1 + 0x1060);
        *(undefined4 *)(unaff_EBP + -0x28) = 0;
        *(undefined4 *)(unaff_EBP + -0x1c) = 0;
        *(uint *)(unaff_EBP + -0x34) = (uint)(iVar2 << 0x10) / uVar7;
        *(uint *)(unaff_EBP + -0x38) = (uint)(*(int *)(iVar4 + 0x105c) << 0x10) / uVar9;
        *(uint *)(unaff_EBP + -0x3c) = (uint)(*(int *)(iVar4 + 0x1060) << 0x10) / uVar3;
        if (uVar3 != 0) {
          do {
            *(undefined4 *)(unaff_EBP + -0x2c) = 0xffffffff;
            uVar7 = 0;
            *(undefined4 *)(unaff_EBP + -0x30) = 0;
            *(undefined4 *)(unaff_EBP + -0x18) = 0;
            if (uVar9 != 0) {
              do {
                *(undefined4 *)(unaff_EBP + -0x20) = 0;
                *(undefined4 *)(unaff_EBP + -0x24) = 0;
                if (((*(uint *)(unaff_EBP + -0x2c) ^ uVar7) & 0xffff0000) != 0) {
                  (**(code **)(*(int *)*extraout_ECX + 4))
                            (uVar7 >> 0x10,*(uint *)(unaff_EBP + -0x28) >> 0x10,
                             *(undefined4 *)(unaff_EBP + -0x10));
                  *(uint *)(unaff_EBP + -0x2c) = uVar7;
                }
                if (*(int *)(extraout_ECX[1] + 0x1058) != 0) {
                  puVar6 = *(undefined4 **)(unaff_EBP + -0x14);
                  do {
                    uVar7 = *(uint *)(unaff_EBP + -0x20);
                    *(int *)(unaff_EBP + -0x20) =
                         *(int *)(unaff_EBP + -0x20) + *(int *)(unaff_EBP + -0x34);
                    puVar8 = (undefined4 *)((uVar7 >> 0x10) * 0x10 + *(int *)(unaff_EBP + -0x10));
                    *(int *)(unaff_EBP + -0x24) = *(int *)(unaff_EBP + -0x24) + 1;
                    uVar7 = *(uint *)(unaff_EBP + -0x24);
                    *puVar6 = *puVar8;
                    puVar6[1] = puVar8[1];
                    puVar6[2] = puVar8[2];
                    puVar6[3] = puVar8[3];
                    puVar6 = puVar6 + 4;
                  } while (uVar7 < *(uint *)(extraout_ECX[1] + 0x1058));
                }
                (**(code **)(*(int *)extraout_ECX[1] + 8))
                          (*(undefined4 *)(unaff_EBP + -0x18),*(undefined4 *)(unaff_EBP + -0x1c),
                           *(undefined4 *)(unaff_EBP + -0x14));
                uVar7 = *(int *)(unaff_EBP + -0x30) + *(int *)(unaff_EBP + -0x38);
                iVar4 = extraout_ECX[1];
                *(int *)(unaff_EBP + -0x18) = *(int *)(unaff_EBP + -0x18) + 1;
                uVar9 = *(uint *)(iVar4 + 0x105c);
                *(uint *)(unaff_EBP + -0x30) = uVar7;
              } while (*(uint *)(unaff_EBP + -0x18) < uVar9);
            }
            *(int *)(unaff_EBP + -0x28) = *(int *)(unaff_EBP + -0x28) + *(int *)(unaff_EBP + -0x3c);
            *(int *)(unaff_EBP + -0x1c) = *(int *)(unaff_EBP + -0x1c) + 1;
          } while (*(uint *)(unaff_EBP + -0x1c) < *(uint *)(extraout_ECX[1] + 0x1060));
        }
        operator_delete(*(void **)(unaff_EBP + -0x10));
        operator_delete(*(void **)(unaff_EBP + -0x14));
        iVar4 = 0;
      }
    }
  }
  else {
    iVar4 = -0x7fffbffb;
  }
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar4;
}



/* FUN_10014799 @ 10014799 */

/* WARNING (jumptable): Unable to track spacebase fully for stack */
/* [binja] int32_t __fastcall sub_10014799(int32_t* arg1) */

int FUN_10014799(int *arg1)

{
  int *piVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  undefined4 *puVar7;
  int iVar8;
  void *pvVar9;
  float *pfVar10;
  float *pfVar11;
  int *arg1_00;
  float *pfVar12;
  uint uVar13;
  int unaff_EBP;
  
  seh_prolog();
  if ((char)arg1_00[2] != '\x05') {
    iVar8 = -0x7fffbffb;
    goto LAB_10014b8f;
  }
  iVar8 = *arg1_00;
  uVar13 = *(uint *)(iVar8 + 0x1058);
  iVar6 = arg1_00[1];
  if ((((*(uint *)(iVar6 + 0x1058) != uVar13 >> 1) &&
       ((*(uint *)(iVar6 + 0x1058) != 1 || (uVar13 != 1)))) ||
      ((*(uint *)(iVar6 + 0x105c) != *(uint *)(iVar8 + 0x105c) >> 1 &&
       ((*(uint *)(iVar6 + 0x105c) != 1 || (*(int *)(iVar8 + 0x105c) != 1)))))) ||
     ((*(int *)(iVar6 + 0x1060) != 1 || (*(int *)(iVar8 + 0x1060) != 1)))) {
    iVar8 = -0x7fffbffb;
    goto LAB_10014b8f;
  }
  if ((1 < uVar13) && ((uVar13 & 1) != 0)) {
    *(uint *)(iVar8 + 0x1058) = uVar13 & 0xfffffffe;
    piVar1 = (int *)(*arg1_00 + 0x1064);
    *piVar1 = *piVar1 - *(int *)(*arg1_00 + 0x1068);
  }
  uVar13 = *(uint *)(*arg1_00 + 0x105c);
  if (1 < uVar13) {
    *(uint *)(*arg1_00 + 0x105c) = uVar13 & 0xfffffffe;
  }
  if ((*(byte *)((int)arg1_00 + 10) & 8) == 0) {
    iVar8 = *arg1_00;
    iVar6 = *(int *)(iVar8 + 4);
    if (((iVar6 == *(int *)(arg1_00[1] + 4)) && (1 < *(uint *)(iVar8 + 0x1058))) &&
       (1 < *(uint *)(iVar8 + 0x105c))) {
      if (iVar6 < 0x1d) {
        if (iVar6 == 0x1c) {
LAB_10014914:
          iVar8 = FUN_10013bd7(arg1_00);
        }
        else {
          switch(iVar6) {
          default:
            goto switchD_100148a1_caseD_14;
          case 0x15:
            iVar8 = FUN_100132bb(arg1_00);
            break;
          case 0x16:
            iVar8 = FUN_10013551(arg1_00);
            break;
          case 0x17:
            iVar8 = FUN_10013582(arg1_00);
            break;
          case 0x18:
            iVar8 = FUN_100136d2(arg1_00);
            break;
          case 0x19:
            iVar8 = FUN_100137f6(arg1_00);
            break;
          case 0x1a:
            iVar8 = FUN_10013945(arg1_00);
            break;
          case 0x1b:
            iVar8 = FUN_10013a98(arg1_00);
          }
        }
      }
      else if (iVar6 == 0x1d) {
        iVar8 = FUN_10013c72(arg1_00);
      }
      else if (iVar6 == 0x1e) {
        iVar8 = FUN_10013dbe(arg1_00);
      }
      else {
        if ((iVar6 == 0x28) || (iVar6 == 0x29)) goto switchD_100148a1_caseD_14;
        if (iVar6 == 0x32) goto LAB_10014914;
        if (iVar6 == 0x33) {
          iVar8 = FUN_10013edf(arg1_00);
        }
        else {
          if (iVar6 != 0x34) goto switchD_100148a1_caseD_14;
          iVar8 = FUN_1001402b(arg1_00);
        }
      }
      if (-1 < iVar8) {
        iVar8 = 0;
        goto LAB_10014b8f;
      }
    }
  }
switchD_100148a1_caseD_14:
  iVar8 = *(int *)(arg1_00[1] + 0x1058);
  pvVar9 = operator_new(iVar8 << 4);
  *(void **)(unaff_EBP + -0x2c) = pvVar9;
  *(undefined4 *)(unaff_EBP + -4) = 0;
  if (pvVar9 == (void *)0x0) {
    *(undefined4 *)(unaff_EBP + -0x1c) = 0;
  }
  else {
    _vector_constructor_iterator_(pvVar9,0x10,iVar8,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
    *(undefined4 *)(unaff_EBP + -0x1c) = *(undefined4 *)(unaff_EBP + -0x2c);
  }
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  if (*(int *)(unaff_EBP + -0x1c) == 0) {
    iVar8 = -0x7ff8fff2;
  }
  else {
    iVar8 = *(int *)(*arg1_00 + 0x1058);
    if (*(int *)(*arg1_00 + 0x105c) == 1) {
      pvVar9 = operator_new(iVar8 << 4);
      *(void **)(unaff_EBP + -0x2c) = pvVar9;
      *(undefined4 *)(unaff_EBP + -4) = 1;
      if (pvVar9 == (void *)0x0) {
        iVar8 = 0;
      }
      else {
        _vector_constructor_iterator_(pvVar9,0x10,iVar8,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
        iVar8 = *(int *)(unaff_EBP + -0x2c);
      }
      *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
      *(int *)(unaff_EBP + -0x24) = iVar8;
      *(int *)(unaff_EBP + -0x14) = iVar8;
    }
    else {
      pvVar9 = operator_new(iVar8 << 5);
      *(void **)(unaff_EBP + -0x2c) = pvVar9;
      *(undefined4 *)(unaff_EBP + -4) = 2;
      if (pvVar9 == (void *)0x0) {
        iVar8 = 0;
      }
      else {
        _vector_constructor_iterator_
                  (pvVar9,0x10,iVar8 << 1,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
        iVar8 = *(int *)(unaff_EBP + -0x2c);
      }
      iVar6 = *(int *)(*arg1_00 + 0x1058);
      *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
      *(int *)(unaff_EBP + -0x24) = iVar8;
      *(int *)(unaff_EBP + -0x14) = iVar8;
      iVar8 = iVar6 * 0x10 + iVar8;
    }
    *(int *)(unaff_EBP + -0x10) = iVar8;
    if (*(int *)(unaff_EBP + -0x24) == 0) {
      iVar8 = -0x7ff8fff2;
    }
    else {
      if (*(int *)(*arg1_00 + 0x1058) == 1) {
        *(int *)(unaff_EBP + -0x28) = *(int *)(unaff_EBP + -0x14);
        iVar8 = *(int *)(unaff_EBP + -0x10);
      }
      else {
        *(int *)(unaff_EBP + -0x28) = *(int *)(unaff_EBP + -0x14) + 0x10;
        iVar8 = *(int *)(unaff_EBP + -0x10) + 0x10;
      }
      *(int *)(unaff_EBP + -0x2c) = iVar8;
      iVar8 = *(int *)(arg1_00[1] + 0x105c);
      *(undefined4 *)(unaff_EBP + -0x18) = 0;
      if (iVar8 != 0) {
        do {
          iVar8 = *(int *)(unaff_EBP + -0x14);
          iVar6 = *(int *)(unaff_EBP + -0x18) * 2;
          (**(code **)(*(int *)*arg1_00 + 4))(iVar6,0,iVar8);
          if (*(int *)(unaff_EBP + -0x10) != iVar8) {
            (**(code **)(*(int *)*arg1_00 + 4))(iVar6 + 1,0,*(undefined4 *)(unaff_EBP + -0x10));
          }
          uVar13 = 0;
          if (*(int *)(arg1_00[1] + 0x1058) != 0) {
            *(undefined4 *)(unaff_EBP + -0x20) = *(undefined4 *)(unaff_EBP + -0x1c);
            do {
              iVar8 = uVar13 * 0x20;
              pfVar10 = (float *)(*(int *)(unaff_EBP + -0x28) + iVar8);
              fVar2 = *pfVar10;
              pfVar12 = (float *)(*(int *)(unaff_EBP + -0x14) + iVar8);
              fVar3 = *pfVar12;
              puVar7 = *(undefined4 **)(unaff_EBP + -0x20);
              fVar4 = pfVar10[1];
              *(int *)(unaff_EBP + -0x20) = *(int *)(unaff_EBP + -0x20) + 0x10;
              fVar5 = pfVar12[1];
              *(float *)(unaff_EBP + -0x44) = pfVar10[2] + pfVar12[2];
              pfVar11 = (float *)(*(int *)(unaff_EBP + -0x10) + iVar8);
              *(float *)(unaff_EBP + -0x40) = pfVar10[3] + pfVar12[3];
              *(float *)(unaff_EBP + -0x5c) = fVar2 + fVar3 + *pfVar11;
              fVar2 = pfVar11[1];
              fVar3 = pfVar11[2];
              pfVar10 = (float *)(*(int *)(unaff_EBP + -0x2c) + iVar8);
              *(float *)(unaff_EBP + -0x50) = *(float *)(unaff_EBP + -0x40) + pfVar11[3];
              uVar13 = uVar13 + 1;
              *(float *)(unaff_EBP + -0x6c) = *(float *)(unaff_EBP + -0x5c) + *pfVar10;
              *(float *)(unaff_EBP + -0x68) = fVar4 + fVar5 + fVar2 + pfVar10[1];
              fVar2 = pfVar10[2];
              fVar4 = pfVar10[3];
              *(float *)(unaff_EBP + -0x3c) = *(float *)(unaff_EBP + -0x6c) * 0.25;
              *(float *)(unaff_EBP + -0x38) = *(float *)(unaff_EBP + -0x68) * 0.25;
              *(float *)(unaff_EBP + -0x34) = (*(float *)(unaff_EBP + -0x44) + fVar3 + fVar2) * 0.25
              ;
              *(float *)(unaff_EBP + -0x30) = (*(float *)(unaff_EBP + -0x50) + fVar4) * 0.25;
              *puVar7 = *(undefined4 *)(unaff_EBP + -0x3c);
              puVar7[1] = *(undefined4 *)(unaff_EBP + -0x38);
              puVar7[2] = *(undefined4 *)(unaff_EBP + -0x34);
              puVar7[3] = *(undefined4 *)(unaff_EBP + -0x30);
            } while (uVar13 < *(uint *)(arg1_00[1] + 0x1058));
          }
          (**(code **)(*(int *)arg1_00[1] + 8))
                    (*(undefined4 *)(unaff_EBP + -0x18),0,*(undefined4 *)(unaff_EBP + -0x1c));
          *(int *)(unaff_EBP + -0x18) = *(int *)(unaff_EBP + -0x18) + 1;
        } while (*(uint *)(unaff_EBP + -0x18) < *(uint *)(arg1_00[1] + 0x105c));
      }
      operator_delete(*(void **)(unaff_EBP + -0x24));
      iVar8 = 0;
    }
    operator_delete(*(void **)(unaff_EBP + -0x1c));
  }
LAB_10014b8f:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar8;
}



/* FUN_10014bbc @ 10014bbc */

/* [binja] int32_t __fastcall sub_10014bbc(int32_t* arg1) */

int FUN_10014bbc(int *arg1)

{
  int *piVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  uint uVar6;
  int iVar7;
  undefined4 *puVar8;
  int iVar9;
  void *pvVar10;
  int iVar11;
  int *extraout_ECX;
  int iVar12;
  float *pfVar13;
  float *pfVar14;
  float *pfVar15;
  int unaff_EBP;
  int iVar16;
  
  seh_prolog();
  if ((char)extraout_ECX[2] == '\x05') {
    iVar9 = *extraout_ECX;
    uVar6 = *(uint *)(iVar9 + 0x1058);
    iVar11 = extraout_ECX[1];
    if ((((*(uint *)(iVar11 + 0x1058) == uVar6 >> 1) ||
         ((*(uint *)(iVar11 + 0x1058) == 1 && (uVar6 == 1)))) &&
        ((*(uint *)(iVar11 + 0x105c) == *(uint *)(iVar9 + 0x105c) >> 1 ||
         ((*(uint *)(iVar11 + 0x105c) == 1 && (*(int *)(iVar9 + 0x105c) == 1)))))) &&
       (*(uint *)(iVar11 + 0x1060) == *(uint *)(iVar9 + 0x1060) >> 1)) {
      if ((1 < uVar6) && ((uVar6 & 1) != 0)) {
        *(uint *)(iVar9 + 0x1058) = uVar6 & 0xfffffffe;
        piVar1 = (int *)(*extraout_ECX + 0x1064);
        *piVar1 = *piVar1 - *(int *)(*extraout_ECX + 0x1068);
      }
      uVar6 = *(uint *)(*extraout_ECX + 0x105c);
      if (1 < uVar6) {
        *(uint *)(*extraout_ECX + 0x105c) = uVar6 & 0xfffffffe;
      }
      uVar6 = *(uint *)(*extraout_ECX + 0x1060);
      if (1 < uVar6) {
        *(uint *)(*extraout_ECX + 0x1060) = uVar6 & 0xfffffffe;
      }
      iVar9 = *(int *)(extraout_ECX[1] + 0x1058);
      pvVar10 = operator_new(iVar9 << 4);
      *(void **)(unaff_EBP + -0x14) = pvVar10;
      *(undefined4 *)(unaff_EBP + -4) = 0;
      if (pvVar10 == (void *)0x0) {
        *(undefined4 *)(unaff_EBP + -0x20) = 0;
      }
      else {
        _vector_constructor_iterator_(pvVar10,0x10,iVar9,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
        *(undefined4 *)(unaff_EBP + -0x20) = *(undefined4 *)(unaff_EBP + -0x14);
      }
      *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
      if (*(int *)(unaff_EBP + -0x20) == 0) {
        iVar9 = -0x7ff8fff2;
      }
      else {
        iVar9 = *(int *)(*extraout_ECX + 0x1058);
        if (*(int *)(*extraout_ECX + 0x105c) == 1) {
          pvVar10 = operator_new(iVar9 << 5);
          *(void **)(unaff_EBP + -0x14) = pvVar10;
          *(undefined4 *)(unaff_EBP + -4) = 1;
          if (pvVar10 == (void *)0x0) {
            iVar12 = 0;
          }
          else {
            _vector_constructor_iterator_
                      (pvVar10,0x10,iVar9 << 1,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
            iVar12 = *(int *)(unaff_EBP + -0x14);
          }
          iVar11 = *(int *)(*extraout_ECX + 0x1058);
          *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
          iVar9 = iVar11 * 0x10 + iVar12;
          *(int *)(unaff_EBP + -0x38) = iVar12;
          *(int *)(unaff_EBP + -0x18) = iVar12;
          *(int *)(unaff_EBP + -0x30) = iVar9;
          *(int *)(unaff_EBP + -0x1c) = iVar12;
          *(int *)(unaff_EBP + -0x28) = iVar9;
          iVar16 = iVar9;
        }
        else {
          pvVar10 = operator_new(iVar9 << 6);
          *(void **)(unaff_EBP + -0x14) = pvVar10;
          *(undefined4 *)(unaff_EBP + -4) = 2;
          if (pvVar10 == (void *)0x0) {
            iVar9 = 0;
          }
          else {
            _vector_constructor_iterator_
                      (pvVar10,0x10,iVar9 << 2,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
            iVar9 = *(int *)(unaff_EBP + -0x14);
          }
          iVar11 = *(int *)(*extraout_ECX + 0x1058);
          *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
          *(int *)(unaff_EBP + -0x30) = iVar11 * 0x10 + iVar9;
          iVar16 = *(int *)(unaff_EBP + -0x30);
          *(int *)(unaff_EBP + -0x1c) = iVar11 * 0x20 + iVar9;
          *(int *)(unaff_EBP + -0x28) = iVar11 * 0x30 + iVar9;
          iVar12 = *(int *)(unaff_EBP + -0x1c);
          *(int *)(unaff_EBP + -0x38) = iVar9;
          *(int *)(unaff_EBP + -0x18) = iVar9;
          iVar9 = *(int *)(unaff_EBP + -0x28);
        }
        if (*(int *)(unaff_EBP + -0x38) == 0) {
          iVar9 = -0x7ff8fff2;
        }
        else {
          if (iVar11 == 1) {
            *(int *)(unaff_EBP + -0x3c) = *(int *)(unaff_EBP + -0x18);
            *(int *)(unaff_EBP + -0x40) = iVar16;
          }
          else {
            *(int *)(unaff_EBP + -0x3c) = *(int *)(unaff_EBP + -0x18) + 0x10;
            iVar12 = iVar12 + 0x10;
            *(int *)(unaff_EBP + -0x40) = iVar16 + 0x10;
            iVar9 = iVar9 + 0x10;
          }
          iVar11 = extraout_ECX[1];
          *(undefined4 *)(unaff_EBP + -0x24) = 0;
          iVar7 = *(int *)(iVar11 + 0x1060);
          *(int *)(unaff_EBP + -0x44) = iVar12;
          *(int *)(unaff_EBP + -0x14) = iVar9;
          if (iVar7 != 0) {
            do {
              *(undefined4 *)(unaff_EBP + -0x10) = 0;
              if (*(int *)(iVar11 + 0x105c) != 0) {
                do {
                  iVar9 = *(int *)(unaff_EBP + -0x24) * 2;
                  (**(code **)(*(int *)*extraout_ECX + 4))
                            (*(int *)(unaff_EBP + -0x10) * 2,iVar9,
                             *(undefined4 *)(unaff_EBP + -0x18));
                  if (iVar16 != *(int *)(unaff_EBP + -0x18)) {
                    (**(code **)(*(int *)*extraout_ECX + 4))
                              (*(int *)(unaff_EBP + -0x10) * 2,iVar9 + 1,iVar16);
                  }
                  if (*(int *)(unaff_EBP + -0x1c) != *(int *)(unaff_EBP + -0x18)) {
                    (**(code **)(*(int *)*extraout_ECX + 4))
                              (*(int *)(unaff_EBP + -0x10) * 2 + 1,iVar9,*(int *)(unaff_EBP + -0x1c)
                              );
                  }
                  iVar11 = *(int *)(unaff_EBP + -0x28);
                  if ((iVar11 != iVar16) && (iVar11 != *(int *)(unaff_EBP + -0x1c))) {
                    (**(code **)(*(int *)*extraout_ECX + 4))
                              (*(int *)(unaff_EBP + -0x10) * 2 + 1,iVar9 + 1,iVar11);
                  }
                  iVar9 = extraout_ECX[1];
                  *(undefined4 *)(unaff_EBP + -0x2c) = 0;
                  if (*(int *)(iVar9 + 0x1058) != 0) {
                    *(undefined4 *)(unaff_EBP + -0x34) = *(undefined4 *)(unaff_EBP + -0x20);
                    do {
                      iVar9 = *(int *)(unaff_EBP + -0x2c) * 0x20;
                      pfVar13 = (float *)(*(int *)(unaff_EBP + -0x3c) + iVar9);
                      fVar2 = *pfVar13;
                      pfVar15 = (float *)(*(int *)(unaff_EBP + -0x18) + iVar9);
                      fVar3 = *pfVar15;
                      fVar4 = pfVar13[1];
                      fVar5 = pfVar15[1];
                      *(float *)(unaff_EBP + -0x8c) = pfVar13[2] + pfVar15[2];
                      pfVar14 = (float *)(iVar9 + iVar16);
                      *(float *)(unaff_EBP + -0x88) = pfVar13[3] + pfVar15[3];
                      *(float *)(unaff_EBP + -0xb4) = fVar2 + fVar3 + *pfVar14;
                      fVar2 = pfVar14[1];
                      fVar3 = pfVar14[2];
                      pfVar13 = (float *)(*(int *)(unaff_EBP + -0x40) + iVar9);
                      *(float *)(unaff_EBP + -0xa8) = *(float *)(unaff_EBP + -0x88) + pfVar14[3];
                      *(float *)(unaff_EBP + -0x84) = *(float *)(unaff_EBP + -0xb4) + *pfVar13;
                      *(float *)(unaff_EBP + -0x80) = fVar4 + fVar5 + fVar2 + pfVar13[1];
                      fVar2 = pfVar13[2];
                      fVar4 = pfVar13[3];
                      pfVar14 = (float *)(*(int *)(unaff_EBP + -0x1c) + iVar9);
                      *(float *)(unaff_EBP + -0x54) = *(float *)(unaff_EBP + -0x84) + *pfVar14;
                      *(float *)(unaff_EBP + -0x50) = *(float *)(unaff_EBP + -0x80) + pfVar14[1];
                      *(float *)(unaff_EBP + -0x4c) =
                           *(float *)(unaff_EBP + -0x8c) + fVar3 + fVar2 + pfVar14[2];
                      fVar2 = pfVar14[3];
                      pfVar14 = (float *)(*(int *)(unaff_EBP + -0x44) + iVar9);
                      fVar3 = *pfVar14;
                      *(float *)(unaff_EBP + -0x60) = *(float *)(unaff_EBP + -0x50) + pfVar14[1];
                      *(float *)(unaff_EBP + -0x5c) = *(float *)(unaff_EBP + -0x4c) + pfVar14[2];
                      *(float *)(unaff_EBP + -0x58) =
                           *(float *)(unaff_EBP + -0xa8) + fVar4 + fVar2 + pfVar14[3];
                      pfVar14 = (float *)(*(int *)(unaff_EBP + -0x28) + iVar9);
                      fVar2 = *pfVar14;
                      puVar8 = *(undefined4 **)(unaff_EBP + -0x34);
                      *(int *)(unaff_EBP + -0x34) = *(int *)(unaff_EBP + -0x34) + 0x10;
                      fVar4 = pfVar14[1];
                      *(float *)(unaff_EBP + -0x9c) = *(float *)(unaff_EBP + -0x5c) + pfVar14[2];
                      fVar5 = pfVar14[3];
                      pfVar14 = (float *)(iVar9 + *(int *)(unaff_EBP + -0x14));
                      *(int *)(unaff_EBP + -0x2c) = *(int *)(unaff_EBP + -0x2c) + 1;
                      *(float *)(unaff_EBP + -0x98) = *(float *)(unaff_EBP + -0x58) + fVar5;
                      uVar6 = *(uint *)(unaff_EBP + -0x2c);
                      *(float *)(unaff_EBP + -0xc4) =
                           *(float *)(unaff_EBP + -0x54) + fVar3 + fVar2 + *pfVar14;
                      fVar2 = pfVar14[1];
                      fVar3 = pfVar14[2];
                      *(float *)(unaff_EBP + -0xb8) = *(float *)(unaff_EBP + -0x98) + pfVar14[3];
                      *(float *)(unaff_EBP + -0x74) = *(float *)(unaff_EBP + -0xc4) * 0.125;
                      *(float *)(unaff_EBP + -0x70) =
                           (*(float *)(unaff_EBP + -0x60) + fVar4 + fVar2) * 0.125;
                      *(float *)(unaff_EBP + -0x6c) =
                           (*(float *)(unaff_EBP + -0x9c) + fVar3) * 0.125;
                      *(float *)(unaff_EBP + -0x68) = *(float *)(unaff_EBP + -0xb8) * 0.125;
                      *puVar8 = *(undefined4 *)(unaff_EBP + -0x74);
                      puVar8[1] = *(undefined4 *)(unaff_EBP + -0x70);
                      puVar8[2] = *(undefined4 *)(unaff_EBP + -0x6c);
                      puVar8[3] = *(undefined4 *)(unaff_EBP + -0x68);
                      iVar16 = *(int *)(unaff_EBP + -0x30);
                    } while (uVar6 < *(uint *)(extraout_ECX[1] + 0x1058));
                  }
                  (**(code **)(*(int *)extraout_ECX[1] + 8))
                            (*(undefined4 *)(unaff_EBP + -0x10),*(undefined4 *)(unaff_EBP + -0x24),
                             *(undefined4 *)(unaff_EBP + -0x20));
                  *(int *)(unaff_EBP + -0x10) = *(int *)(unaff_EBP + -0x10) + 1;
                } while (*(uint *)(unaff_EBP + -0x10) < *(uint *)(extraout_ECX[1] + 0x105c));
              }
              *(int *)(unaff_EBP + -0x24) = *(int *)(unaff_EBP + -0x24) + 1;
              iVar11 = extraout_ECX[1];
            } while (*(uint *)(unaff_EBP + -0x24) < *(uint *)(iVar11 + 0x1060));
          }
          operator_delete(*(void **)(unaff_EBP + -0x38));
          iVar9 = 0;
        }
        operator_delete(*(void **)(unaff_EBP + -0x20));
      }
    }
    else {
      iVar9 = -0x7fffbffb;
    }
  }
  else {
    iVar9 = -0x7fffbffb;
  }
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar9;
}



/* FUN_1001504e @ 1001504e */

uint * __cdecl FUN_1001504e(int param_1)

{
  float fVar1;
  float fVar2;
  float fVar3;
  uint *puVar4;
  uint uVar5;
  uint uVar6;
  uint unaff_EBX;
  uint *puVar7;
  uint unaff_EDI;
  undefined2 in_FPUControlWord;
  double dVar8;
  uint local_8;
  
  puVar4 = operator_new(unaff_EBX << 4);
  if (puVar4 != (uint *)0x0) {
    fVar1 = (float)(int)unaff_EDI;
    if ((int)unaff_EDI < 0) {
      fVar1 = fVar1 + 4.2949673e+09;
    }
    fVar2 = (float)(int)unaff_EBX;
    if ((int)unaff_EBX < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    local_8 = CONCAT22(local_8._2_2_,in_FPUControlWord);
    DAT_1005db68 = local_8;
    local_8 = 0;
    puVar7 = puVar4;
    if (unaff_EBX != 0) {
      do {
        fVar3 = (float)(int)local_8;
        if ((int)local_8 < 0) {
          fVar3 = fVar3 + 4.2949673e+09;
        }
        fVar3 = fVar3 * (fVar1 / fVar2) - 0.5;
        dVar8 = floor((double)fVar3);
        uVar5 = (uint)ROUND((float)dVar8);
        uVar6 = uVar5 + 1;
        if ((int)uVar5 < 0) {
          uVar5 = -(uint)(param_1 != 0) & unaff_EDI - 1;
        }
        if (unaff_EDI <= uVar6) {
          uVar6 = ~-(uint)(param_1 != 0) & unaff_EDI - 1;
        }
        *puVar7 = uVar5;
        puVar7[2] = uVar6;
        local_8 = local_8 + 1;
        fVar3 = 1.0 - (fVar3 - (float)dVar8);
        puVar7[1] = (uint)fVar3;
        puVar7[3] = (uint)(1.0 - fVar3);
        puVar7 = puVar7 + 4;
      } while (local_8 < unaff_EBX);
    }
  }
  return puVar4;
}



/* FUN_1001514e @ 1001514e */

/* [binja] int32_t __fastcall sub_1001514e(int32_t* arg1) */

int FUN_1001514e(int *arg1)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  int *piVar12;
  undefined4 *puVar13;
  int iVar14;
  uint *puVar15;
  void *pvVar16;
  int *piVar17;
  int *extraout_ECX;
  float *pfVar18;
  int iVar19;
  int unaff_EBP;
  int *piVar20;
  
  seh_prolog();
  *(undefined4 *)(unaff_EBP + -0x14) = 0;
  *(undefined4 *)(unaff_EBP + -0x1c) = 0;
  uVar9 = extraout_ECX[2];
  *(int **)(unaff_EBP + -0x40) = extraout_ECX;
  if ((char)uVar9 != '\x03') {
    iVar14 = -0x7fffbffb;
    goto LAB_10015527;
  }
  *(uint *)(unaff_EBP + -0x10) = ~(uVar9 >> 0x11) & 1;
  puVar15 = FUN_1001504e(~(uVar9 >> 0x10) & 1);
  *(uint **)(unaff_EBP + -0x30) = puVar15;
  puVar15 = FUN_1001504e(*(int *)(unaff_EBP + -0x10));
  *(uint **)(unaff_EBP + -0x10) = puVar15;
  if ((*(int *)(unaff_EBP + -0x30) == 0) || (puVar15 == (uint *)0x0)) {
LAB_100154fb:
    iVar14 = -0x7ff8fff2;
  }
  else {
    iVar14 = *(int *)(extraout_ECX[1] + 0x1058);
    pvVar16 = operator_new(iVar14 << 4);
    *(void **)(unaff_EBP + -0x14) = pvVar16;
    *(undefined4 *)(unaff_EBP + -4) = 0;
    if (pvVar16 == (void *)0x0) {
      *(undefined4 *)(unaff_EBP + -0x20) = 0;
      iVar14 = *(int *)(unaff_EBP + -0x20);
    }
    else {
      _vector_constructor_iterator_(pvVar16,0x10,iVar14,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
      iVar14 = *(int *)(unaff_EBP + -0x14);
      *(int *)(unaff_EBP + -0x20) = iVar14;
    }
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    *(int *)(unaff_EBP + -0x14) = iVar14;
    if (iVar14 == 0) goto LAB_100154fb;
    iVar14 = *(int *)(*extraout_ECX + 0x1058);
    pvVar16 = operator_new(iVar14 << 5);
    *(void **)(unaff_EBP + -0x1c) = pvVar16;
    *(undefined4 *)(unaff_EBP + -4) = 1;
    if (pvVar16 == (void *)0x0) {
      iVar14 = 0;
    }
    else {
      _vector_constructor_iterator_
                (pvVar16,0x10,iVar14 << 1,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
      iVar14 = *(int *)(unaff_EBP + -0x1c);
    }
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    *(int *)(unaff_EBP + -0x1c) = iVar14;
    if (iVar14 == 0) goto LAB_100154fb;
    iVar10 = *(int *)(*extraout_ECX + 0x1058);
    *(undefined4 *)(unaff_EBP + -0x28) = 0;
    *(undefined4 *)(unaff_EBP + -0x24) = 0xffffffff;
    *(undefined4 *)(unaff_EBP + -0x18) = 0xffffffff;
    *(int *)(unaff_EBP + -0x2c) = iVar14;
    if (*(int *)(extraout_ECX[1] + 0x105c) != 0) {
      piVar20 = (int *)(*(int *)(unaff_EBP + -0x10) + 8);
      *(int **)(unaff_EBP + -0x38) = piVar20;
      iVar14 = iVar10 * 0x10 + iVar14;
      piVar17 = extraout_ECX;
      do {
        iVar10 = piVar20[-2];
        *(undefined4 *)(unaff_EBP + -0x34) = 0;
        iVar19 = iVar14;
        if (iVar10 != *(int *)(unaff_EBP + -0x24)) {
          iVar11 = *(int *)(unaff_EBP + -0x18);
          if (iVar10 == iVar11) {
            iVar19 = *(int *)(unaff_EBP + -0x2c);
            *(undefined4 *)(unaff_EBP + -0x18) = 0xffffffff;
            *(int *)(unaff_EBP + -0x2c) = iVar14;
            *(int *)(unaff_EBP + -0x24) = iVar11;
          }
          else {
            piVar12 = (int *)*piVar17;
            *(int *)(unaff_EBP + -0x24) = iVar10;
            (**(code **)(*piVar12 + 4))
                      (*(undefined4 *)(unaff_EBP + -0x24),0,*(undefined4 *)(unaff_EBP + -0x2c));
          }
        }
        iVar14 = *piVar20;
        if (iVar14 != *(int *)(unaff_EBP + -0x18)) {
          iVar10 = *(int *)*piVar17;
          *(int *)(unaff_EBP + -0x18) = iVar14;
          (**(code **)(iVar10 + 4))(iVar14,0,iVar19);
        }
        if (*(int *)(piVar17[1] + 0x1058) != 0) {
          piVar17 = (int *)(*(int *)(unaff_EBP + -0x30) + 8);
          *(undefined4 *)(unaff_EBP + -0x3c) = *(undefined4 *)(unaff_EBP + -0x20);
          do {
            iVar14 = *piVar17;
            fVar2 = (float)piVar17[1];
            pfVar1 = (float *)(iVar14 * 0x10 + iVar19);
            *(float *)(unaff_EBP + -0x50) = fVar2 * *pfVar1;
            *(float *)(unaff_EBP + -0x4c) = fVar2 * pfVar1[1];
            *(float *)(unaff_EBP + -0x48) = fVar2 * pfVar1[2];
            fVar3 = pfVar1[3];
            iVar10 = piVar17[-2];
            fVar4 = (float)piVar17[-1];
            pfVar1 = (float *)(iVar10 * 0x10 + iVar19);
            fVar5 = *pfVar1;
            *(float *)(unaff_EBP + -0x9c) = fVar4 * pfVar1[1];
            *(float *)(unaff_EBP + -0x98) = fVar4 * pfVar1[2];
            pfVar18 = (float *)(iVar14 * 0x10 + *(int *)(unaff_EBP + -0x2c));
            *(float *)(unaff_EBP + -0x94) = fVar4 * pfVar1[3];
            *(float *)(unaff_EBP + -0x80) = fVar4 * fVar5 + *(float *)(unaff_EBP + -0x50);
            *(float *)(unaff_EBP + -0x7c) =
                 *(float *)(unaff_EBP + -0x9c) + *(float *)(unaff_EBP + -0x4c);
            *(float *)(unaff_EBP + -0x78) =
                 *(float *)(unaff_EBP + -0x98) + *(float *)(unaff_EBP + -0x48);
            fVar4 = (float)piVar20[1];
            *(float *)(unaff_EBP + -0xb0) = *(float *)(unaff_EBP + -0x80) * fVar4;
            *(float *)(unaff_EBP + -0xac) = *(float *)(unaff_EBP + -0x7c) * fVar4;
            *(float *)(unaff_EBP + -0xa8) = *(float *)(unaff_EBP + -0x78) * fVar4;
            fVar5 = (float)piVar17[1];
            *(float *)(unaff_EBP + -0xc0) = fVar5 * *pfVar18;
            *(float *)(unaff_EBP + -0xbc) = fVar5 * pfVar18[1];
            *(float *)(unaff_EBP + -0xb8) = fVar5 * pfVar18[2];
            fVar6 = pfVar18[3];
            pfVar1 = (float *)(iVar10 * 0x10 + *(int *)(unaff_EBP + -0x2c));
            fVar7 = (float)piVar17[-1];
            piVar17 = piVar17 + 4;
            fVar8 = *pfVar1;
            *(int *)(unaff_EBP + -0x34) = *(int *)(unaff_EBP + -0x34) + 1;
            uVar9 = *(uint *)(unaff_EBP + -0x34);
            *(float *)(unaff_EBP + -0x5c) = fVar7 * pfVar1[1];
            *(float *)(unaff_EBP + -0x58) = fVar7 * pfVar1[2];
            iVar14 = *(int *)(unaff_EBP + -0x40);
            *(float *)(unaff_EBP + -0x54) = fVar7 * pfVar1[3];
            *(float *)(unaff_EBP + -0x70) = fVar7 * fVar8 + *(float *)(unaff_EBP + -0xc0);
            *(float *)(unaff_EBP + -0x6c) =
                 *(float *)(unaff_EBP + -0x5c) + *(float *)(unaff_EBP + -0xbc);
            *(float *)(unaff_EBP + -0x68) =
                 *(float *)(unaff_EBP + -0x58) + *(float *)(unaff_EBP + -0xb8);
            fVar7 = (float)piVar20[-1];
            puVar13 = *(undefined4 **)(unaff_EBP + -0x3c);
            *(int *)(unaff_EBP + -0x3c) = *(int *)(unaff_EBP + -0x3c) + 0x10;
            *(float *)(unaff_EBP + -0x90) = *(float *)(unaff_EBP + -0x70) * fVar7;
            *(float *)(unaff_EBP + -0x8c) = *(float *)(unaff_EBP + -0x6c) * fVar7;
            *(float *)(unaff_EBP + -0x88) = *(float *)(unaff_EBP + -0x68) * fVar7;
            *(float *)(unaff_EBP + -0xd0) =
                 *(float *)(unaff_EBP + -0x90) + *(float *)(unaff_EBP + -0xb0);
            *(float *)(unaff_EBP + -0xcc) =
                 *(float *)(unaff_EBP + -0x8c) + *(float *)(unaff_EBP + -0xac);
            *(float *)(unaff_EBP + -200) =
                 *(float *)(unaff_EBP + -0x88) + *(float *)(unaff_EBP + -0xa8);
            *(float *)(unaff_EBP + -0xc4) =
                 (*(float *)(unaff_EBP + -0x54) + fVar5 * fVar6) * fVar7 +
                 (*(float *)(unaff_EBP + -0x94) + fVar2 * fVar3) * fVar4;
            *puVar13 = *(undefined4 *)(unaff_EBP + -0xd0);
            puVar13[1] = *(undefined4 *)(unaff_EBP + -0xcc);
            puVar13[2] = *(undefined4 *)(unaff_EBP + -200);
            puVar13[3] = *(undefined4 *)(unaff_EBP + -0xc4);
            piVar20 = *(int **)(unaff_EBP + -0x38);
          } while (uVar9 < *(uint *)(*(int *)(iVar14 + 4) + 0x1058));
          piVar17 = *(int **)(unaff_EBP + -0x40);
        }
        (**(code **)(*(int *)piVar17[1] + 8))
                  (*(undefined4 *)(unaff_EBP + -0x28),0,*(undefined4 *)(unaff_EBP + -0x20));
        iVar14 = piVar17[1];
        piVar20 = piVar20 + 4;
        *(int *)(unaff_EBP + -0x28) = *(int *)(unaff_EBP + -0x28) + 1;
        uVar9 = *(uint *)(iVar14 + 0x105c);
        *(int **)(unaff_EBP + -0x38) = piVar20;
        iVar14 = iVar19;
      } while (*(uint *)(unaff_EBP + -0x28) < uVar9);
    }
    iVar14 = 0;
  }
  operator_delete(*(void **)(unaff_EBP + -0x30));
  operator_delete(*(void **)(unaff_EBP + -0x10));
  operator_delete(*(void **)(unaff_EBP + -0x14));
  operator_delete(*(void **)(unaff_EBP + -0x1c));
LAB_10015527:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar14;
}



/* FUN_10015534 @ 10015534 */

/* [binja] int32_t __fastcall sub_10015534(int32_t* arg1) */

int FUN_10015534(int *arg1)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  uint uVar15;
  int iVar16;
  undefined4 uVar17;
  int *piVar18;
  undefined4 *puVar19;
  int iVar20;
  uint *puVar21;
  void *pvVar22;
  int iVar23;
  int *piVar24;
  int *extraout_ECX;
  int iVar25;
  int *piVar26;
  int unaff_EBP;
  float *pfVar27;
  float *pfVar28;
  int iVar29;
  
  seh_prolog();
  *(undefined4 *)(unaff_EBP + -0x44) = 0;
  *(undefined4 *)(unaff_EBP + -0x30) = 0;
  uVar15 = extraout_ECX[2];
  *(int **)(unaff_EBP + -0x54) = extraout_ECX;
  if ((char)uVar15 != '\x03') {
    iVar20 = -0x7fffbffb;
    goto LAB_10015c58;
  }
  *(uint *)(unaff_EBP + -0x20) = ~(uVar15 >> 0x12) & 1;
  *(uint *)(unaff_EBP + -0x3c) = ~(uVar15 >> 0x11) & 1;
  puVar21 = FUN_1001504e(~(uVar15 >> 0x10) & 1);
  *(uint **)(unaff_EBP + -0x48) = puVar21;
  puVar21 = FUN_1001504e(*(int *)(unaff_EBP + -0x3c));
  *(uint **)(unaff_EBP + -0x4c) = puVar21;
  puVar21 = FUN_1001504e(*(int *)(unaff_EBP + -0x20));
  *(uint **)(unaff_EBP + -0x3c) = puVar21;
  if (((*(int *)(unaff_EBP + -0x48) == 0) || (*(int *)(unaff_EBP + -0x4c) == 0)) ||
     (puVar21 == (uint *)0x0)) {
LAB_10015c24:
    iVar20 = -0x7ff8fff2;
  }
  else {
    iVar20 = *(int *)(extraout_ECX[1] + 0x1058);
    pvVar22 = operator_new(iVar20 << 4);
    *(void **)(unaff_EBP + -0x44) = pvVar22;
    *(undefined4 *)(unaff_EBP + -4) = 0;
    if (pvVar22 == (void *)0x0) {
      *(undefined4 *)(unaff_EBP + -0x34) = 0;
      iVar20 = *(int *)(unaff_EBP + -0x34);
    }
    else {
      _vector_constructor_iterator_(pvVar22,0x10,iVar20,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
      iVar20 = *(int *)(unaff_EBP + -0x44);
      *(int *)(unaff_EBP + -0x34) = iVar20;
    }
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    *(int *)(unaff_EBP + -0x44) = iVar20;
    if (iVar20 == 0) goto LAB_10015c24;
    iVar20 = *(int *)(*extraout_ECX + 0x1058);
    pvVar22 = operator_new(iVar20 << 6);
    *(void **)(unaff_EBP + -0x30) = pvVar22;
    *(undefined4 *)(unaff_EBP + -4) = 1;
    if (pvVar22 == (void *)0x0) {
      iVar20 = 0;
    }
    else {
      _vector_constructor_iterator_
                (pvVar22,0x10,iVar20 << 2,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
      iVar20 = *(int *)(unaff_EBP + -0x30);
    }
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    *(int *)(unaff_EBP + -0x30) = iVar20;
    if (iVar20 == 0) goto LAB_10015c24;
    iVar25 = *(int *)(*extraout_ECX + 0x1058);
    *(undefined4 *)(unaff_EBP + -0x38) = 0;
    *(int *)(unaff_EBP + -0x1c) = iVar25 * 0x10 + iVar20;
    iVar29 = iVar25 * 0x30 + iVar20;
    *(int *)(unaff_EBP + -0x28) = iVar20;
    iVar23 = extraout_ECX[1];
    iVar16 = *(int *)(iVar23 + 0x1060);
    *(int *)(unaff_EBP + -0x40) = iVar25 * 0x20 + iVar20;
    *(int *)(unaff_EBP + -0x2c) = iVar29;
    if (iVar16 != 0) {
      *(int *)(unaff_EBP + -0x10) = *(int *)(unaff_EBP + -0x3c) + 8;
      piVar24 = extraout_ECX;
      do {
        *(undefined4 *)(unaff_EBP + -0x24) = 0;
        *(undefined4 *)(unaff_EBP + -0x18) = 0xffffffff;
        *(undefined4 *)(unaff_EBP + -0x14) = 0xffffffff;
        if (*(int *)(iVar23 + 0x105c) != 0) {
          piVar26 = (int *)(*(int *)(unaff_EBP + -0x4c) + 8);
          do {
            iVar20 = piVar26[-2];
            *(undefined4 *)(unaff_EBP + -0x20) = 0;
            if (iVar20 != *(int *)(unaff_EBP + -0x18)) {
              iVar25 = *(int *)(unaff_EBP + -0x14);
              if (iVar20 == iVar25) {
                *(undefined4 *)(unaff_EBP + -0x14) = 0xffffffff;
                *(int *)(unaff_EBP + -0x18) = iVar25;
                uVar17 = *(undefined4 *)(unaff_EBP + -0x1c);
                *(undefined4 *)(unaff_EBP + -0x1c) = *(undefined4 *)(unaff_EBP + -0x28);
                iVar20 = *(int *)(unaff_EBP + -0x40);
                *(int *)(unaff_EBP + -0x40) = iVar29;
                *(undefined4 *)(unaff_EBP + -0x28) = uVar17;
                *(int *)(unaff_EBP + -0x2c) = iVar20;
                iVar29 = iVar20;
              }
              else {
                uVar17 = *(undefined4 *)(*(int *)(unaff_EBP + -0x10) + -8);
                piVar18 = (int *)*piVar24;
                *(int *)(unaff_EBP + -0x18) = iVar20;
                (**(code **)(*piVar18 + 4))
                          (*(undefined4 *)(unaff_EBP + -0x18),uVar17,
                           *(undefined4 *)(unaff_EBP + -0x28));
                (**(code **)(*(int *)*piVar24 + 4))
                          (*(undefined4 *)(unaff_EBP + -0x18),**(undefined4 **)(unaff_EBP + -0x10),
                           *(undefined4 *)(unaff_EBP + -0x40));
              }
            }
            if (*piVar26 != *(int *)(unaff_EBP + -0x14)) {
              uVar17 = *(undefined4 *)(*(int *)(unaff_EBP + -0x10) + -8);
              piVar18 = (int *)*piVar24;
              *(int *)(unaff_EBP + -0x14) = *piVar26;
              (**(code **)(*piVar18 + 4))
                        (*(undefined4 *)(unaff_EBP + -0x14),uVar17,
                         *(undefined4 *)(unaff_EBP + -0x1c));
              (**(code **)(*(int *)*piVar24 + 4))
                        (*(undefined4 *)(unaff_EBP + -0x14),**(undefined4 **)(unaff_EBP + -0x10),
                         iVar29);
            }
            if (*(int *)(piVar24[1] + 0x1058) != 0) {
              piVar24 = (int *)(*(int *)(unaff_EBP + -0x48) + 8);
              *(undefined4 *)(unaff_EBP + -0x50) = *(undefined4 *)(unaff_EBP + -0x34);
              do {
                fVar1 = (float)piVar24[1];
                iVar20 = *piVar24 * 0x10;
                pfVar27 = (float *)(iVar20 + iVar29);
                *(float *)(unaff_EBP + -0x114) = fVar1 * *pfVar27;
                *(float *)(unaff_EBP + -0x110) = fVar1 * pfVar27[1];
                *(float *)(unaff_EBP + -0x10c) = fVar1 * pfVar27[2];
                fVar2 = pfVar27[3];
                fVar3 = (float)piVar24[-1];
                iVar25 = piVar24[-2] * 0x10;
                pfVar27 = (float *)(iVar25 + iVar29);
                fVar4 = *pfVar27;
                *(float *)(unaff_EBP + -0x60) = fVar3 * pfVar27[1];
                *(float *)(unaff_EBP + -0x5c) = fVar3 * pfVar27[2];
                pfVar28 = (float *)(iVar20 + *(int *)(unaff_EBP + -0x40));
                *(float *)(unaff_EBP + -0x58) = fVar3 * pfVar27[3];
                *(float *)(unaff_EBP + -0x94) = fVar3 * fVar4 + *(float *)(unaff_EBP + -0x114);
                *(float *)(unaff_EBP + -0x90) =
                     *(float *)(unaff_EBP + -0x60) + *(float *)(unaff_EBP + -0x110);
                *(float *)(unaff_EBP + -0x8c) =
                     *(float *)(unaff_EBP + -0x5c) + *(float *)(unaff_EBP + -0x10c);
                fVar3 = (float)piVar26[1];
                *(float *)(unaff_EBP + -0x174) = *(float *)(unaff_EBP + -0x94) * fVar3;
                *(float *)(unaff_EBP + -0x170) = *(float *)(unaff_EBP + -0x90) * fVar3;
                *(float *)(unaff_EBP + -0x16c) = *(float *)(unaff_EBP + -0x8c) * fVar3;
                fVar4 = (float)piVar24[1];
                *(float *)(unaff_EBP + -0x194) = fVar4 * *pfVar28;
                *(float *)(unaff_EBP + -400) = fVar4 * pfVar28[1];
                *(float *)(unaff_EBP + -0x18c) = fVar4 * pfVar28[2];
                fVar5 = pfVar28[3];
                pfVar27 = (float *)(iVar25 + *(int *)(unaff_EBP + -0x40));
                fVar6 = (float)piVar24[-1];
                fVar7 = *pfVar27;
                *(float *)(unaff_EBP + -0xb0) = fVar6 * pfVar27[1];
                *(float *)(unaff_EBP + -0xac) = fVar6 * pfVar27[2];
                *(float *)(unaff_EBP + -0xa8) = fVar6 * pfVar27[3];
                *(float *)(unaff_EBP + -0x134) = fVar6 * fVar7 + *(float *)(unaff_EBP + -0x194);
                *(float *)(unaff_EBP + -0x130) =
                     *(float *)(unaff_EBP + -0xb0) + *(float *)(unaff_EBP + -400);
                *(float *)(unaff_EBP + -300) =
                     *(float *)(unaff_EBP + -0xac) + *(float *)(unaff_EBP + -0x18c);
                fVar6 = (float)piVar26[-1];
                *(float *)(unaff_EBP + -0xd4) = *(float *)(unaff_EBP + -0x134) * fVar6;
                *(float *)(unaff_EBP + -0xd0) = *(float *)(unaff_EBP + -0x130) * fVar6;
                *(float *)(unaff_EBP + -0xcc) = *(float *)(unaff_EBP + -300) * fVar6;
                *(float *)(unaff_EBP + -0xf4) =
                     *(float *)(unaff_EBP + -0xd4) + *(float *)(unaff_EBP + -0x174);
                *(float *)(unaff_EBP + -0xf0) =
                     *(float *)(unaff_EBP + -0xd0) + *(float *)(unaff_EBP + -0x170);
                *(float *)(unaff_EBP + -0xec) =
                     *(float *)(unaff_EBP + -0xcc) + *(float *)(unaff_EBP + -0x16c);
                fVar7 = *(float *)(*(int *)(unaff_EBP + -0x10) + 4);
                *(float *)(unaff_EBP + -0x184) = *(float *)(unaff_EBP + -0xf4) * fVar7;
                *(float *)(unaff_EBP + -0x180) = *(float *)(unaff_EBP + -0xf0) * fVar7;
                *(float *)(unaff_EBP + -0x17c) = *(float *)(unaff_EBP + -0xec) * fVar7;
                fVar8 = (float)piVar24[1];
                pfVar27 = (float *)(*(int *)(unaff_EBP + -0x1c) + iVar20);
                *(float *)(unaff_EBP + -0x154) = fVar8 * *pfVar27;
                *(float *)(unaff_EBP + -0x150) = fVar8 * pfVar27[1];
                *(float *)(unaff_EBP + -0x14c) = fVar8 * pfVar27[2];
                fVar9 = pfVar27[3];
                fVar10 = (float)piVar24[-1];
                pfVar28 = (float *)(*(int *)(unaff_EBP + -0x1c) + iVar25);
                fVar11 = *pfVar28;
                *(float *)(unaff_EBP + -0x70) = fVar10 * pfVar28[1];
                *(float *)(unaff_EBP + -0x6c) = fVar10 * pfVar28[2];
                pfVar27 = (float *)(iVar20 + *(int *)(unaff_EBP + -0x28));
                *(float *)(unaff_EBP + -0x68) = fVar10 * pfVar28[3];
                *(float *)(unaff_EBP + -0x84) = fVar10 * fVar11 + *(float *)(unaff_EBP + -0x154);
                *(float *)(unaff_EBP + -0x80) =
                     *(float *)(unaff_EBP + -0x70) + *(float *)(unaff_EBP + -0x150);
                *(float *)(unaff_EBP + -0x7c) =
                     *(float *)(unaff_EBP + -0x6c) + *(float *)(unaff_EBP + -0x14c);
                fVar10 = (float)piVar26[1];
                *(float *)(unaff_EBP + -0x124) = *(float *)(unaff_EBP + -0x84) * fVar10;
                *(float *)(unaff_EBP + -0x120) = *(float *)(unaff_EBP + -0x80) * fVar10;
                *(float *)(unaff_EBP + -0x11c) = *(float *)(unaff_EBP + -0x7c) * fVar10;
                fVar11 = (float)piVar24[1];
                *(float *)(unaff_EBP + -0xa4) = fVar11 * *pfVar27;
                *(float *)(unaff_EBP + -0xa0) = fVar11 * pfVar27[1];
                *(float *)(unaff_EBP + -0x9c) = fVar11 * pfVar27[2];
                fVar12 = pfVar27[3];
                fVar13 = (float)piVar24[-1];
                pfVar27 = (float *)(iVar25 + *(int *)(unaff_EBP + -0x28));
                fVar14 = *pfVar27;
                *(float *)(unaff_EBP + -0xc0) = fVar13 * pfVar27[1];
                *(float *)(unaff_EBP + -0xbc) = fVar13 * pfVar27[2];
                *(float *)(unaff_EBP + -0xb8) = fVar13 * pfVar27[3];
                *(float *)(unaff_EBP + -0xe4) = fVar13 * fVar14 + *(float *)(unaff_EBP + -0xa4);
                *(float *)(unaff_EBP + -0xe0) =
                     *(float *)(unaff_EBP + -0xc0) + *(float *)(unaff_EBP + -0xa0);
                *(float *)(unaff_EBP + -0xdc) =
                     *(float *)(unaff_EBP + -0xbc) + *(float *)(unaff_EBP + -0x9c);
                fVar13 = (float)piVar26[-1];
                *(float *)(unaff_EBP + -0x104) = *(float *)(unaff_EBP + -0xe4) * fVar13;
                *(float *)(unaff_EBP + -0x100) = *(float *)(unaff_EBP + -0xe0) * fVar13;
                *(float *)(unaff_EBP + -0xfc) = *(float *)(unaff_EBP + -0xdc) * fVar13;
                *(float *)(unaff_EBP + -0x144) =
                     *(float *)(unaff_EBP + -0x104) + *(float *)(unaff_EBP + -0x124);
                *(float *)(unaff_EBP + -0x140) =
                     *(float *)(unaff_EBP + -0x100) + *(float *)(unaff_EBP + -0x120);
                *(float *)(unaff_EBP + -0x13c) =
                     *(float *)(unaff_EBP + -0xfc) + *(float *)(unaff_EBP + -0x11c);
                fVar14 = *(float *)(*(int *)(unaff_EBP + -0x10) + -4);
                *(float *)(unaff_EBP + -0x164) = *(float *)(unaff_EBP + -0x144) * fVar14;
                *(float *)(unaff_EBP + -0x160) = *(float *)(unaff_EBP + -0x140) * fVar14;
                *(float *)(unaff_EBP + -0x15c) = *(float *)(unaff_EBP + -0x13c) * fVar14;
                puVar19 = *(undefined4 **)(unaff_EBP + -0x50);
                iVar20 = *(int *)(unaff_EBP + -0x54);
                *(int *)(unaff_EBP + -0x50) = *(int *)(unaff_EBP + -0x50) + 0x10;
                *(float *)(unaff_EBP + -0x1a4) =
                     *(float *)(unaff_EBP + -0x164) + *(float *)(unaff_EBP + -0x184);
                piVar24 = piVar24 + 4;
                *(int *)(unaff_EBP + -0x20) = *(int *)(unaff_EBP + -0x20) + 1;
                uVar15 = *(uint *)(unaff_EBP + -0x20);
                *(float *)(unaff_EBP + -0x1a0) =
                     *(float *)(unaff_EBP + -0x160) + *(float *)(unaff_EBP + -0x180);
                *(float *)(unaff_EBP + -0x19c) =
                     *(float *)(unaff_EBP + -0x15c) + *(float *)(unaff_EBP + -0x17c);
                *(float *)(unaff_EBP + -0x198) =
                     ((*(float *)(unaff_EBP + -0xb8) + fVar11 * fVar12) * fVar13 +
                     (*(float *)(unaff_EBP + -0x68) + fVar8 * fVar9) * fVar10) * fVar14 +
                     ((*(float *)(unaff_EBP + -0xa8) + fVar4 * fVar5) * fVar6 +
                     (*(float *)(unaff_EBP + -0x58) + fVar1 * fVar2) * fVar3) * fVar7;
                *puVar19 = *(undefined4 *)(unaff_EBP + -0x1a4);
                puVar19[1] = *(undefined4 *)(unaff_EBP + -0x1a0);
                puVar19[2] = *(undefined4 *)(unaff_EBP + -0x19c);
                puVar19[3] = *(undefined4 *)(unaff_EBP + -0x198);
                iVar29 = *(int *)(unaff_EBP + -0x2c);
              } while (uVar15 < *(uint *)(*(int *)(iVar20 + 4) + 0x1058));
              piVar24 = *(int **)(unaff_EBP + -0x54);
            }
            (**(code **)(*(int *)piVar24[1] + 8))
                      (*(undefined4 *)(unaff_EBP + -0x24),*(undefined4 *)(unaff_EBP + -0x38),
                       *(undefined4 *)(unaff_EBP + -0x34));
            iVar20 = piVar24[1];
            piVar26 = piVar26 + 4;
            *(int *)(unaff_EBP + -0x24) = *(int *)(unaff_EBP + -0x24) + 1;
          } while (*(uint *)(unaff_EBP + -0x24) < *(uint *)(iVar20 + 0x105c));
        }
        *(int *)(unaff_EBP + -0x10) = *(int *)(unaff_EBP + -0x10) + 0x10;
        *(int *)(unaff_EBP + -0x38) = *(int *)(unaff_EBP + -0x38) + 1;
        iVar23 = piVar24[1];
      } while (*(uint *)(unaff_EBP + -0x38) < *(uint *)(iVar23 + 0x1060));
    }
    iVar20 = 0;
  }
  operator_delete(*(void **)(unaff_EBP + -0x48));
  operator_delete(*(void **)(unaff_EBP + -0x4c));
  operator_delete(*(void **)(unaff_EBP + -0x3c));
  operator_delete(*(void **)(unaff_EBP + -0x44));
  operator_delete(*(void **)(unaff_EBP + -0x30));
LAB_10015c58:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar20;
}



/* FUN_10015c65 @ 10015c65 */

/* [binja] int32_t __fastcall sub_10015c65(int32_t* arg1) */

int FUN_10015c65(int *arg1)

{
  int iVar1;
  float fVar2;
  int *piVar3;
  int *piVar4;
  void *pvVar5;
  int *extraout_ECX;
  uint uVar6;
  int *piVar7;
  int *piVar8;
  float *pfVar9;
  int unaff_EBP;
  float *pfVar10;
  int iVar11;
  undefined4 unaff_EDI;
  undefined4 *puVar12;
  char arg2;
  
  seh_prolog();
  iVar11 = extraout_ECX[1];
  iVar1 = *(int *)(iVar11 + 0x1060);
  *(undefined4 *)(unaff_EBP + -0x20) = 0;
  *(undefined4 *)(unaff_EBP + -0x34) = 0;
  *(undefined4 *)(unaff_EBP + -0x18) = 0;
  *(undefined4 *)(unaff_EBP + -0x3c) = 0;
  if ((iVar1 != 1) || (*(int *)(*extraout_ECX + 0x1060) != 1)) {
    iVar11 = -0x7fffbffb;
    goto LAB_10015ff8;
  }
  uVar6 = extraout_ECX[2];
  piVar3 = FUN_1001288a(*(uint *)(*extraout_ECX + 0x1058),*(int *)(iVar11 + 0x1058),
                        ~(uVar6 >> 0x10) & 1);
  arg2 = (char)unaff_EDI;
  *(int **)(unaff_EBP + -0x38) = piVar3;
  if (piVar3 == (int *)0x0) {
LAB_10015fba:
    iVar11 = -0x7fffbffb;
  }
  else {
    piVar4 = FUN_1001288a(*(uint *)(*extraout_ECX + 0x105c),*(int *)(extraout_ECX[1] + 0x105c),
                          ~(uVar6 >> 0x11) & 1);
    arg2 = (char)unaff_EDI;
    *(int **)(unaff_EBP + -0x20) = piVar4;
    if (piVar4 == (int *)0x0) goto LAB_10015fba;
    *(int *)(unaff_EBP + -0x2c) = *piVar3 + (int)piVar3;
    piVar4 = (int *)(**(int **)(unaff_EBP + -0x20) + (int)*(int **)(unaff_EBP + -0x20));
    iVar11 = *(int *)(extraout_ECX[1] + 0x105c);
    *(int **)(unaff_EBP + -0x44) = piVar4;
    piVar3 = operator_new(iVar11 * 0xc + 4);
    *(int **)(unaff_EBP + -0x40) = piVar3;
    *(undefined4 *)(unaff_EBP + -4) = 0;
    if (piVar3 == (int *)0x0) {
      *(undefined4 *)(unaff_EBP + -0x14) = 0;
      iVar11 = *(int *)(unaff_EBP + -0x14);
    }
    else {
      *piVar3 = iVar11;
      *(int **)(unaff_EBP + -0x34) = piVar3 + 1;
      FUN_1004b6c3((int)(piVar3 + 1),0xc,iVar11,0x10012874);
      iVar11 = *(int *)(unaff_EBP + -0x34);
      *(int *)(unaff_EBP + -0x14) = iVar11;
    }
    arg2 = (char)unaff_EDI;
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    *(int *)(unaff_EBP + -0x34) = iVar11;
    if (iVar11 == 0) {
LAB_10015fb3:
      iVar11 = -0x7ff8fff2;
    }
    else {
      iVar11 = *(int *)(*extraout_ECX + 0x1058);
      pvVar5 = operator_new(iVar11 << 4);
      *(void **)(unaff_EBP + -0x3c) = pvVar5;
      *(undefined4 *)(unaff_EBP + -4) = 1;
      if (pvVar5 == (void *)0x0) {
        *(undefined4 *)(unaff_EBP + -0x24) = 0;
        iVar11 = *(int *)(unaff_EBP + -0x24);
      }
      else {
        _vector_constructor_iterator_(pvVar5,0x10,iVar11,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
        iVar11 = *(int *)(unaff_EBP + -0x3c);
        *(int *)(unaff_EBP + -0x24) = iVar11;
      }
      arg2 = (char)unaff_EDI;
      *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
      *(int *)(unaff_EBP + -0x3c) = iVar11;
      if (iVar11 == 0) goto LAB_10015fb3;
      piVar3 = (int *)(*(int *)(unaff_EBP + -0x20) + 4);
      *(int **)(unaff_EBP + -0x30) = piVar3;
      while (piVar3 < piVar4) {
        piVar8 = (int *)(*piVar3 + (int)piVar3);
        for (piVar7 = piVar3 + 1; piVar3 = piVar8, piVar7 < piVar8; piVar7 = piVar7 + 2) {
          piVar3 = (int *)(*(int *)(unaff_EBP + -0x14) + 8 + *piVar7 * 0xc);
          *piVar3 = *piVar3 + 1;
        }
      }
      piVar3 = *(int **)(unaff_EBP + -0x30);
      *(undefined4 *)(unaff_EBP + -0x28) = 0;
      if (piVar3 < piVar4) {
        do {
          iVar11 = *piVar3;
          piVar4 = piVar3 + 1;
          *(int **)(unaff_EBP + -0x1c) = (int *)(iVar11 + (int)piVar3);
          *(int **)(unaff_EBP + -0x30) = piVar4;
          piVar3 = (int *)(iVar11 + (int)piVar3);
          while (*(int **)(unaff_EBP + -0x10) = piVar4, piVar4 < piVar3) {
            piVar4 = (int *)(*(int *)(unaff_EBP + -0x14) + *piVar4 * 0xc);
            if (*piVar4 == 0) {
              piVar3 = *(int **)(unaff_EBP + -0x18);
              if (piVar3 == (int *)0x0) {
                iVar11 = *(int *)(extraout_ECX[1] + 0x1058);
                pvVar5 = operator_new(iVar11 << 4);
                *(void **)(unaff_EBP + -0x40) = pvVar5;
                *(undefined4 *)(unaff_EBP + -4) = 2;
                if (pvVar5 == (void *)0x0) {
                  iVar11 = 0;
                }
                else {
                  _vector_constructor_iterator_
                            (pvVar5,0x10,iVar11,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
                  iVar11 = *(int *)(unaff_EBP + -0x40);
                }
                arg2 = (char)unaff_EDI;
                *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
                *piVar4 = iVar11;
                if (iVar11 == 0) goto LAB_10015fb3;
              }
              else {
                *piVar4 = *piVar3;
                *piVar3 = 0;
                *(int *)(unaff_EBP + -0x18) = piVar3[1];
              }
              piVar3 = *(int **)(unaff_EBP + -0x1c);
              puVar12 = (undefined4 *)*piVar4;
              for (uVar6 = (uint)(*(int *)(extraout_ECX[1] + 0x1058) << 4) >> 2; uVar6 != 0;
                  uVar6 = uVar6 - 1) {
                *puVar12 = 0;
                puVar12 = puVar12 + 1;
              }
              for (iVar11 = 0; iVar11 != 0; iVar11 = iVar11 + -1) {
                *(undefined1 *)puVar12 = 0;
                puVar12 = (undefined4 *)((int)puVar12 + 1);
              }
            }
            piVar4 = (int *)(*(int *)(unaff_EBP + -0x10) + 8);
          }
          iVar11 = *(int *)(unaff_EBP + -0x24);
          (**(code **)(*(int *)*extraout_ECX + 4))(*(undefined4 *)(unaff_EBP + -0x28),0,iVar11);
          piVar4 = (int *)(*(int *)(unaff_EBP + -0x38) + 4);
          if (piVar4 < *(int **)(unaff_EBP + -0x2c)) {
            pfVar9 = (float *)(iVar11 + 8);
            do {
              piVar7 = *(int **)(unaff_EBP + -0x30);
              piVar8 = (int *)(*piVar4 + (int)piVar4);
              *(int **)(unaff_EBP + -0x10) = piVar7;
              if (piVar7 < piVar3) {
                *(int **)(unaff_EBP + -0x40) = piVar4 + 1;
                while( true ) {
                  iVar11 = *(int *)(*(int *)(unaff_EBP + -0x14) + *piVar7 * 0xc);
                  piVar4 = *(int **)(unaff_EBP + -0x40);
                  if (piVar4 < piVar8) {
                    do {
                      fVar2 = (float)piVar4[1] * *(float *)(*(int *)(unaff_EBP + -0x10) + 4);
                      pfVar10 = (float *)(*piVar4 * 0x10 + iVar11);
                      *pfVar10 = fVar2 * pfVar9[-2] + *pfVar10;
                      pfVar10 = (float *)(*piVar4 * 0x10 + 4 + iVar11);
                      *pfVar10 = fVar2 * pfVar9[-1] + *pfVar10;
                      pfVar10 = (float *)(*piVar4 * 0x10 + 8 + iVar11);
                      *pfVar10 = fVar2 * *pfVar9 + *pfVar10;
                      pfVar10 = (float *)(*piVar4 * 0x10 + 0xc + iVar11);
                      piVar4 = piVar4 + 2;
                      *pfVar10 = fVar2 * pfVar9[1] + *pfVar10;
                    } while (piVar4 < piVar8);
                    piVar3 = *(int **)(unaff_EBP + -0x1c);
                  }
                  *(int *)(unaff_EBP + -0x10) = *(int *)(unaff_EBP + -0x10) + 8;
                  if (piVar3 <= *(int **)(unaff_EBP + -0x10)) break;
                  piVar7 = *(int **)(unaff_EBP + -0x10);
                }
              }
              pfVar9 = pfVar9 + 4;
              piVar4 = piVar8;
            } while (piVar8 < *(int **)(unaff_EBP + -0x2c));
          }
          piVar4 = *(int **)(unaff_EBP + -0x30);
          if (piVar4 < piVar3) {
            do {
              puVar12 = (undefined4 *)(*(int *)(unaff_EBP + -0x14) + *piVar4 * 0xc);
              piVar3 = puVar12 + 2;
              *piVar3 = *piVar3 + -1;
              if (*piVar3 == 0) {
                (**(code **)(*(int *)extraout_ECX[1] + 8))(*piVar4,0,*puVar12);
                puVar12[1] = *(undefined4 *)(unaff_EBP + -0x18);
                *(undefined4 **)(unaff_EBP + -0x18) = puVar12;
              }
              piVar4 = piVar4 + 2;
            } while (piVar4 < *(int **)(unaff_EBP + -0x1c));
            piVar3 = *(int **)(unaff_EBP + -0x1c);
          }
          arg2 = (char)unaff_EDI;
          *(int *)(unaff_EBP + -0x28) = *(int *)(unaff_EBP + -0x28) + 1;
        } while (piVar3 < *(int **)(unaff_EBP + -0x44));
      }
      iVar11 = 0;
    }
  }
  if (*(void **)(unaff_EBP + -0x34) != (void *)0x0) {
    FUN_10012b47(*(void **)(unaff_EBP + -0x34),(int *)0x3,arg2);
  }
  operator_delete(*(void **)(unaff_EBP + -0x20));
  operator_delete(*(void **)(unaff_EBP + -0x38));
  operator_delete(*(void **)(unaff_EBP + -0x3c));
  operator_delete((void *)0x0);
LAB_10015ff8:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar11;
}



/* FUN_10016007 @ 10016007 */

/* [binja] int32_t __thiscall sub_10016007(int32_t* arg1, void*** arg2, void*** arg3, int32_t arg4)
    */

int __thiscall FUN_10016007(void *this,int *arg1,void ***arg2,void ***arg3,int arg4)

{
  void *pvVar1;
  int iVar2;
  int *unaff_EBX;
  
  *(undefined4 *)((int)this + 4) = 0;
  *(undefined4 *)this = 0;
  *(void ****)((int)this + 8) = arg3;
  if (((((uint)arg3 & 0xffff) == 0) || (5 < ((uint)arg3 & 0xffff))) ||
     (((uint)arg3 & 0xfff00000) != 0)) {
    return -0x7789f794;
  }
  arg1[0x10] = (uint)arg3 & 0x80000;
  pvVar1 = grim_pixel_format_create((uint *)arg1);
  *(void **)((int)this + 4) = pvVar1;
  if (pvVar1 != (void *)0x0) {
    pvVar1 = grim_pixel_format_create((uint *)arg2);
    *(void **)this = pvVar1;
    if (pvVar1 != (void *)0x0) {
      iVar2 = FUN_10017361(pvVar1,unaff_EBX);
      if (iVar2 < 0) goto LAB_100160f3;
      iVar2 = FUN_1001416a(this);
      if ((((-1 < iVar2) || (iVar2 = FUN_100142a2(unaff_EBX), -1 < iVar2)) ||
          ((iVar2 = FUN_10014393(unaff_EBX), -1 < iVar2 ||
           ((iVar2 = FUN_10014595(unaff_EBX), -1 < iVar2 ||
            (iVar2 = FUN_10014799(unaff_EBX), -1 < iVar2)))))) ||
         ((iVar2 = FUN_10014bbc(unaff_EBX), -1 < iVar2 ||
          ((((iVar2 = FUN_1001514e(unaff_EBX), -1 < iVar2 ||
             (iVar2 = FUN_10015534(unaff_EBX), -1 < iVar2)) ||
            (iVar2 = FUN_10015c65(unaff_EBX), -1 < iVar2)) ||
           (iVar2 = FUN_10012b93(unaff_EBX), -1 < iVar2)))))) {
        iVar2 = 0;
        goto LAB_100160f3;
      }
    }
  }
  iVar2 = -0x7fffbffb;
LAB_100160f3:
  if (*(undefined4 **)((int)this + 4) != (undefined4 *)0x0) {
    (**(code **)**(undefined4 **)((int)this + 4))(1);
    *(undefined4 *)((int)this + 4) = 0;
  }
  if (*(undefined4 **)this != (undefined4 *)0x0) {
    (**(code **)**(undefined4 **)this)(1);
    *(undefined4 *)this = 0;
  }
  return iVar2;
}



/* FUN_10016121 @ 10016121 */

/* [binja] int32_t* __fastcall sub_10016121(int32_t* arg1) */

int * __fastcall FUN_10016121(int *arg1)

{
  *arg1 = 0;
  arg1[1] = 0;
  arg1[2] = 0;
  arg1[3] = 0;
  return arg1;
}



/* FUN_10016131 @ 10016131 */

/* [binja] int32_t __fastcall sub_10016131(char* arg1) */

int __fastcall FUN_10016131(char *arg1)

{
  int *piVar1;
  
  piVar1 = *(int **)(arg1 + 8);
  if ((piVar1 != (int *)0x0) || (piVar1 = *(int **)(arg1 + 4), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 0x28))(piVar1);
  }
  if ((((*(int *)(arg1 + 4) != 0) && (*(int *)(arg1 + 8) != 0)) &&
      (piVar1 = *(int **)(arg1 + 0xc), piVar1 != (int *)0x0)) && ((*arg1 & 1U) == 0)) {
    (**(code **)(*piVar1 + 0x70))(piVar1,*(int *)(arg1 + 8),0,0,*(int *)(arg1 + 4),0);
  }
  piVar1 = *(int **)(arg1 + 8);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 8))(piVar1);
    arg1[8] = '\0';
    arg1[9] = '\0';
    arg1[10] = '\0';
    arg1[0xb] = '\0';
  }
  piVar1 = *(int **)(arg1 + 0xc);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 8))(piVar1);
    arg1[0xc] = '\0';
    arg1[0xd] = '\0';
    arg1[0xe] = '\0';
    arg1[0xf] = '\0';
  }
  arg1[4] = '\0';
  arg1[5] = '\0';
  arg1[6] = '\0';
  arg1[7] = '\0';
  return 0;
}



/* FUN_1001619a @ 1001619a */

/* [binja] int32_t* __fastcall sub_1001619a(int32_t* arg1) */

int * __fastcall FUN_1001619a(int *arg1)

{
  *arg1 = 0;
  return arg1;
}



/* FUN_100161a0 @ 100161a0 */

/* [binja] int32_t __fastcall sub_100161a0(int32_t* arg1) */

int __fastcall FUN_100161a0(int *arg1)

{
  int *piVar1;
  
  piVar1 = (int *)*arg1;
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 0x28))(piVar1);
  }
  *arg1 = 0;
  return 0;
}



/* FUN_100161b6 @ 100161b6 */

/* [binja] int32_t __fastcall j_sub_10016131(char* arg1) */

int __fastcall FUN_100161b6(char *arg1)

{
  int *piVar1;
  
  piVar1 = *(int **)(arg1 + 8);
  if ((piVar1 != (int *)0x0) || (piVar1 = *(int **)(arg1 + 4), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 0x28))(piVar1);
  }
  if ((((*(int *)(arg1 + 4) != 0) && (*(int *)(arg1 + 8) != 0)) &&
      (piVar1 = *(int **)(arg1 + 0xc), piVar1 != (int *)0x0)) && ((*arg1 & 1U) == 0)) {
    (**(code **)(*piVar1 + 0x70))(piVar1,*(int *)(arg1 + 8),0,0,*(int *)(arg1 + 4),0);
  }
  piVar1 = *(int **)(arg1 + 8);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 8))(piVar1);
    arg1[8] = '\0';
    arg1[9] = '\0';
    arg1[10] = '\0';
    arg1[0xb] = '\0';
  }
  piVar1 = *(int **)(arg1 + 0xc);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 8))(piVar1);
    arg1[0xc] = '\0';
    arg1[0xd] = '\0';
    arg1[0xe] = '\0';
    arg1[0xf] = '\0';
  }
  arg1[4] = '\0';
  arg1[5] = '\0';
  arg1[6] = '\0';
  arg1[7] = '\0';
  return 0;
}



/* FUN_100161bb @ 100161bb */

/* WARNING: Type propagation algorithm not settling */
/* [binja] int32_t __thiscall sub_100161bb(char* arg1, int32_t* arg2, int32_t* arg3, int32_t arg4,
   int32_t* arg5, int32_t arg6, int32_t arg7) */

int __thiscall
FUN_100161bb(void *this,char *arg1,int *arg2,int *arg3,int arg4,int *arg5,int arg6,int arg7)

{
  int *piVar1;
  bool bVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int *piVar7;
  int local_64 [2];
  uint local_5c;
  int local_58;
  uint local_4c;
  uint local_48;
  uint local_44;
  uint local_40;
  uint local_3c;
  uint local_38;
  uint local_34;
  uint local_30;
  uint local_2c;
  uint local_28;
  undefined4 local_24;
  undefined4 local_20;
  int *local_1c;
  int *local_18;
  int *local_14;
  int *local_10;
  uint local_c;
  uint local_8;
  
  local_1c = this;
  FUN_10016131(this);
  (**(code **)(*arg2 + 0x20))(arg2,local_64);
  if (arg4 == 0) {
    local_2c = local_4c;
    local_28 = local_48;
    local_c = ~arg6 & 1;
    local_34 = 0;
    local_30 = 0;
    bVar2 = false;
  }
  else {
    local_34 = *(uint *)arg4;
    local_30 = *(uint *)(arg4 + 4);
    local_2c = *(uint *)(arg4 + 8);
    local_28 = *(uint *)(arg4 + 0xc);
    if (((((int)local_34 < 0) || (local_4c < local_2c)) || ((int)local_2c < (int)local_34)) ||
       ((((int)local_30 < 0 || (local_48 < local_28)) || ((int)local_28 < (int)local_30)))) {
      return -0x7789f794;
    }
    if (((local_34 != 0) || (local_2c != local_4c)) ||
       ((local_30 != 0 || (bVar2 = false, local_28 != local_48)))) {
      bVar2 = true;
    }
    if (((arg6 & 1U) != 0) || (bVar2)) {
      local_c = 0;
    }
    else {
      local_c = 1;
    }
  }
  local_8 = arg6 & 0x10000;
  if (local_8 == 0) {
    if ((local_58 == 0) && ((local_5c & 0x200) == 0)) {
      grim_d3d_debug_set_mute(1);
      iVar5 = (**(code **)(*arg2 + 0x1c))(arg2,&DAT_1004e544,&local_18);
      if (iVar5 < 0) {
        local_5c = arg2[4];
        local_8 = ~(local_5c >> 0x1a) & 1;
      }
      else {
        local_8 = 1;
        if (local_18 != (int *)0x0) {
          (**(code **)(*local_18 + 8))(local_18);
          local_18 = (int *)0x0;
        }
      }
      grim_d3d_debug_set_mute(0);
      if (local_8 != 0) goto LAB_100162e3;
    }
    local_14 = arg2;
  }
  else {
LAB_100162e3:
    piVar7 = local_1c;
    if ((((local_64[0] == 0x31545844) || (local_64[0] == 0x32545844)) || (local_64[0] == 0x33545844)
        ) || ((local_64[0] == 0x34545844 ||
              (local_14 = (int *)local_48, uVar6 = local_4c, local_64[0] == 0x35545844)))) {
      local_14 = (int *)(local_48 + 3 & 0xfffffffc);
      uVar6 = local_4c + 3 & 0xfffffffc;
    }
    piVar1 = local_1c + 3;
    (**(code **)(*arg2 + 0xc))(arg2,piVar1);
    piVar7 = piVar7 + 2;
    iVar5 = (**(code **)(*(int *)*piVar1 + 0x6c))((int *)*piVar1,uVar6,local_14,local_64[0],piVar7);
    if (iVar5 < 0) {
      return iVar5;
    }
    if ((local_c == 0) &&
       (iVar5 = (**(code **)(*(int *)*piVar1 + 0x70))((int *)*piVar1,arg2,0,0,*piVar7,0), iVar5 < 0)
       ) {
      return iVar5;
    }
    local_14 = (int *)*piVar7;
  }
  uVar6 = (arg6 & 1U | 0x80) << 4;
  if (((local_c == 0) || (local_8 != 0)) || ((local_5c & 0x200) == 0)) {
LAB_10016400:
    uVar3 = local_44;
    uVar4 = local_40;
    if (bVar2) {
      if ((local_64[0] == 0x31545844) || (local_64[0] == 0x32545844)) {
LAB_10016488:
        local_44 = local_34 & 0xfffffffc;
        local_3c = local_2c + 3 & 0xfffffffc;
        local_40 = local_30 & 0xfffffffc;
        local_38 = local_28 + 3 & 0xfffffffc;
        if (local_8 == 0) {
          if (local_4c < local_3c) {
            local_3c = local_4c;
          }
          if (local_48 < local_38) {
            local_38 = local_48;
          }
joined_r0x100164d3:
          if (((local_44 == 0) && (local_3c == local_4c)) && (local_40 == 0)) {
            uVar3 = 0;
            uVar4 = 0;
            if (local_38 == local_48) goto LAB_100165b3;
          }
        }
        else if (((local_44 == 0) && (local_3c == (local_4c + 3 & 0xfffffffc))) && (local_40 == 0))
        {
          uVar3 = 0;
          uVar4 = 0;
          if (local_38 == (local_48 + 3 & 0xfffffffc)) goto LAB_100165b3;
        }
      }
      else {
        if (local_64[0] == 0x32595559) {
LAB_1001644c:
          local_44 = local_34 & 0xfffffffe;
          local_3c = local_2c + 1 & 0xfffffffe;
          local_40 = local_30;
          local_38 = local_28;
          if (local_4c < local_3c) {
            local_3c = local_4c;
          }
          goto joined_r0x100164d3;
        }
        if (((local_64[0] == 0x33545844) || (local_64[0] == 0x34545844)) ||
           (local_64[0] == 0x35545844)) goto LAB_10016488;
        if (local_64[0] == 0x59565955) goto LAB_1001644c;
        local_44 = local_34;
        local_40 = local_30;
        local_3c = local_2c;
        local_38 = local_28;
      }
      iVar5 = (**(code **)(*local_14 + 0x24))(local_14,&local_24,&local_44,uVar6);
      if (iVar5 < 0) {
        return iVar5;
      }
      local_34 = local_34 - local_44;
      local_2c = local_2c - local_44;
      local_30 = local_30 - local_40;
      local_28 = local_28 - local_40;
      goto LAB_10016511;
    }
  }
  else {
    if ((arg6 & 0x20000U) == 0) {
      grim_d3d_debug_set_mute(1);
      iVar5 = (**(code **)(*arg2 + 0x1c))(arg2,&DAT_1004e534,&local_10);
      if (-1 < iVar5) {
        iVar5 = (**(code **)(*local_10 + 0x34))(local_10);
        if (iVar5 == 1) {
          uVar6 = uVar6 | 0x2000;
          bVar2 = false;
        }
        if (local_10 != (int *)0x0) {
          (**(code **)(*local_10 + 8))(local_10);
          local_10 = (int *)0x0;
        }
      }
      grim_d3d_debug_set_mute(0);
      goto LAB_10016400;
    }
    uVar6 = uVar6 | 0x2000;
    uVar3 = local_44;
    uVar4 = local_40;
  }
LAB_100165b3:
  local_40 = uVar4;
  local_44 = uVar3;
  iVar5 = (**(code **)(*local_14 + 0x24))(local_14,&local_24,0,uVar6);
  if (iVar5 < 0) {
    return iVar5;
  }
LAB_10016511:
  arg1[0xc] = '\0';
  arg1[0xd] = '\0';
  arg1[0xe] = '\0';
  arg1[0xf] = '\0';
  arg1[0x10] = '\0';
  arg1[0x11] = '\0';
  arg1[0x12] = '\0';
  arg1[0x13] = '\0';
  arg1[0x14] = '\0';
  arg1[0x15] = '\0';
  arg1[0x16] = '\0';
  arg1[0x17] = '\0';
  arg1[0x20] = '\0';
  arg1[0x21] = '\0';
  arg1[0x22] = '\0';
  arg1[0x23] = '\0';
  arg1[0x38] = '\0';
  arg1[0x39] = '\0';
  arg1[0x3a] = '\0';
  arg1[0x3b] = '\0';
  *(undefined4 *)arg1 = local_20;
  *(int *)(arg1 + 4) = local_64[0];
  *(uint *)(arg1 + 0x28) = local_34;
  arg1[0x3c] = '\x01';
  arg1[0x3d] = '\0';
  arg1[0x3e] = '\0';
  arg1[0x3f] = '\0';
  arg1[0x40] = '\x01';
  arg1[0x41] = '\0';
  arg1[0x42] = '\0';
  arg1[0x43] = '\0';
  *(undefined4 *)(arg1 + 8) = local_24;
  *(uint *)(arg1 + 0x2c) = local_30;
  *(int **)(arg1 + 0x44) = arg5;
  *(uint *)(arg1 + 0x18) = local_4c;
  *(uint *)(arg1 + 0x30) = local_2c;
  *(int **)(arg1 + 0x48) = arg3;
  *(uint *)(arg1 + 0x1c) = local_48;
  arg1[0x24] = '\x01';
  arg1[0x25] = '\0';
  arg1[0x26] = '\0';
  arg1[0x27] = '\0';
  *(uint *)(arg1 + 0x34) = local_28;
  local_1c[1] = (int)arg2;
  *local_1c = arg6;
  return 0;
}



/* FUN_100165d3 @ 100165d3 */

/* WARNING: Type propagation algorithm not settling */
/* [binja] int32_t __thiscall sub_100165d3(int32_t* arg1, int32_t* arg2, int32_t* arg3, int32_t
   arg4, int32_t arg5, int32_t arg6, int32_t arg7) */

int __thiscall
FUN_100165d3(void *this,int *arg1,int *arg2,int *arg3,int arg4,int arg5,int arg6,int arg7)

{
  bool bVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  uint *puVar7;
  uint *puVar8;
  int local_6c [2];
  uint local_64;
  int local_60;
  uint local_58;
  uint local_54;
  uint local_50;
  uint local_4c [4];
  uint local_3c;
  uint local_38;
  uint local_34 [4];
  uint local_24;
  uint local_20;
  int local_1c;
  int local_18;
  int local_14;
  undefined4 *local_10;
  uint local_c;
  int *local_8;
  
  local_10 = this;
  if (*(int *)this != 0) {
    FUN_100161a0(this);
  }
  (**(code **)(*arg2 + 0x20))(arg2,local_6c);
  if (arg4 == 0) {
    bVar1 = false;
    local_34[2] = local_58;
    local_34[3] = local_54;
    uVar4 = ~arg6 & 1;
    local_34[0] = 0;
    local_34[1] = 0;
    local_24 = 0;
    local_20 = local_50;
  }
  else {
    puVar7 = local_34;
    for (iVar5 = 6; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar7 = *(uint *)arg4;
      arg4 = (int)(arg4 + 4);
      puVar7 = puVar7 + 1;
    }
    if (local_58 < local_34[2]) {
      return -0x7789f794;
    }
    if (local_34[2] < local_34[0]) {
      return -0x7789f794;
    }
    if (local_54 < local_34[3]) {
      return -0x7789f794;
    }
    if (local_34[3] < local_34[1]) {
      return -0x7789f794;
    }
    if (local_50 < local_20) {
      return -0x7789f794;
    }
    if (local_20 < local_24) {
      return -0x7789f794;
    }
    if (((((local_34[0] != 0) || (local_34[2] != local_58)) || (local_34[1] != 0)) ||
        ((local_34[3] != local_54 || (local_24 != 0)))) || (bVar1 = false, local_20 != local_50)) {
      bVar1 = true;
    }
    if (((arg6 & 1U) != 0) || (bVar1)) {
      uVar4 = 0;
    }
    else {
      uVar4 = 1;
    }
  }
  uVar2 = local_20;
  if ((local_60 == 0) && ((local_64 & 0x200) == 0)) {
    return -0x7789f794;
  }
  uVar6 = (arg6 & 1U | 0x80) << 4;
  local_c = uVar6;
  if ((uVar4 == 0) || ((local_64 & 0x200) == 0)) {
LAB_1001673b:
    if (bVar1) {
      if ((local_6c[0] == 0x31545844) || (local_6c[0] == 0x32545844)) {
LAB_10016806:
        uVar4 = local_34[0] & 0xfffffffc;
        local_4c[2] = local_34[2] + 3 & 0xfffffffc;
        local_4c[3] = local_34[3] + 3 & 0xfffffffc;
        if (local_58 < local_4c[2]) {
          local_4c[2] = local_58;
        }
        uVar3 = local_34[1] & 0xfffffffc;
        uVar6 = local_c;
        if (local_54 < local_4c[3]) {
          local_4c[3] = local_54;
        }
joined_r0x10016850:
        local_3c = local_24;
        local_38 = uVar2;
        if (((uVar4 == 0) && (local_4c[2] == local_58)) &&
           ((uVar3 == 0 && ((local_4c[3] == local_54 && (local_24 == 0)))))) {
          local_4c[1] = 0;
          local_4c[0] = 0;
          if (uVar2 == local_50) goto LAB_10016879;
        }
      }
      else {
        if (local_6c[0] == 0x32595559) {
LAB_1001679c:
          uVar4 = local_34[0] & 0xfffffffe;
          local_4c[2] = local_34[2] + 1 & 0xfffffffe;
          uVar3 = local_34[1];
          local_4c[3] = local_34[3];
          if (local_58 < local_4c[2]) {
            local_4c[2] = local_58;
          }
          goto joined_r0x10016850;
        }
        if (((local_6c[0] == 0x33545844) || (local_6c[0] == 0x34545844)) ||
           (local_6c[0] == 0x35545844)) goto LAB_10016806;
        if (local_6c[0] == 0x59565955) goto LAB_1001679c;
        puVar7 = local_34;
        puVar8 = local_4c;
        for (iVar5 = 6; uVar6 = local_c, uVar4 = local_4c[0], uVar3 = local_4c[1], iVar5 != 0;
            iVar5 = iVar5 + -1) {
          *puVar8 = *puVar7;
          puVar7 = puVar7 + 1;
          puVar8 = puVar8 + 1;
        }
      }
      local_4c[1] = uVar3;
      local_4c[0] = uVar4;
      iVar5 = (**(code **)(*arg2 + 0x24))(arg2,&local_1c,local_4c,uVar6);
      if (iVar5 < 0) {
        return iVar5;
      }
      local_34[0] = local_34[0] - local_4c[0];
      local_34[2] = local_34[2] - local_4c[0];
      local_34[1] = local_34[1] - local_4c[1];
      local_34[3] = local_34[3] - local_4c[1];
      local_24 = local_24 - local_3c;
      local_20 = uVar2 - local_3c;
      goto LAB_100168c8;
    }
  }
  else {
    if ((arg6 & 0x20000U) == 0) {
      grim_d3d_debug_set_mute(1);
      iVar5 = (**(code **)(*arg2 + 0x1c))(arg2,&DAT_1004e524,&local_8);
      if (-1 < iVar5) {
        iVar5 = (**(code **)(*local_8 + 0x34))(local_8);
        if (iVar5 == 1) {
          uVar6 = uVar6 | 0x2000;
          bVar1 = false;
          local_c = uVar6;
        }
        if (local_8 != (int *)0x0) {
          (**(code **)(*local_8 + 8))(local_8);
          local_8 = (int *)0x0;
        }
      }
      grim_d3d_debug_set_mute(0);
      goto LAB_1001673b;
    }
    uVar6 = uVar6 | 0x2000;
  }
LAB_10016879:
  iVar5 = (**(code **)(*arg2 + 0x24))(arg2,&local_1c,0,uVar6);
  if (iVar5 < 0) {
    return iVar5;
  }
LAB_100168c8:
  *arg1 = local_14;
  arg1[1] = local_6c[0];
  arg1[2] = local_1c;
  arg1[3] = local_18;
  arg1[4] = 0;
  arg1[5] = 0;
  arg1[8] = 0;
  arg1[9] = local_50;
  puVar7 = local_34;
  puVar8 = (uint *)(arg1 + 10);
  for (iVar5 = 6; iVar5 != 0; iVar5 = iVar5 + -1) {
    *puVar8 = *puVar7;
    puVar7 = puVar7 + 1;
    puVar8 = puVar8 + 1;
  }
  arg1[0x11] = arg5;
  arg1[6] = local_58;
  arg1[0x12] = (int)arg3;
  arg1[7] = local_54;
  arg1[0x10] = 1;
  *local_10 = arg2;
  return 0;
}



/* grim_vertex_space_converter_destroy @ 1001692e */

/* frees the converted vertex buffer at this+0x104c */

void __fastcall grim_vertex_space_converter_destroy(void *this)

{
  *(undefined ***)this = &PTR_FUN_1004cae4;
  operator_delete(*(void **)((int)this + 0x104c));
  return;
}



/* grim_convert_vertex_space @ 10016944 */

/* converts vec4 coordinates between space modes (1/2/3), writes to this+0x104c, returns the output
   buffer */

float * __thiscall grim_convert_vertex_space(void *this,float *src)

{
  float *pfVar1;
  float *pfVar2;
  int iVar3;
  uint uVar4;
  
  iVar3 = *(int *)((int)this + 8);
  if (iVar3 == 1) {
    if (*(int *)((int)this + 0x1048) == 2) {
      uVar4 = 0;
      if (*(int *)((int)this + 0x1058) != 0) {
        pfVar2 = src + 2;
        iVar3 = 0;
        do {
          uVar4 = uVar4 + 1;
          *(float *)(iVar3 + *(int *)((int)this + 0x104c)) = (pfVar2[-2] + 1.0) * 0.5;
          *(float *)(iVar3 + 4 + *(int *)((int)this + 0x104c)) = (pfVar2[-1] + 1.0) * 0.5;
          *(float *)(iVar3 + 8 + *(int *)((int)this + 0x104c)) = (*pfVar2 + 1.0) * 0.5;
          *(float *)(iVar3 + 0xc + *(int *)((int)this + 0x104c)) = pfVar2[1];
          pfVar2 = pfVar2 + 4;
          iVar3 = iVar3 + 0x10;
        } while (uVar4 < *(uint *)((int)this + 0x1058));
      }
    }
    else if ((*(int *)((int)this + 0x1048) == 3) && (uVar4 = 0, *(int *)((int)this + 0x1058) != 0))
    {
      pfVar2 = src + 2;
      iVar3 = 0;
      do {
        uVar4 = uVar4 + 1;
        *(float *)(iVar3 + *(int *)((int)this + 0x104c)) = (pfVar2[-2] + 1.0) * 0.5;
        *(float *)(iVar3 + 4 + *(int *)((int)this + 0x104c)) = (pfVar2[-1] + 1.0) * 0.5;
        *(float *)(iVar3 + 8 + *(int *)((int)this + 0x104c)) = (*pfVar2 + 1.0) * 0.5;
        *(float *)(iVar3 + 0xc + *(int *)((int)this + 0x104c)) = (pfVar2[1] + 1.0) * 0.5;
        pfVar2 = pfVar2 + 4;
        iVar3 = iVar3 + 0x10;
      } while (uVar4 < *(uint *)((int)this + 0x1058));
    }
  }
  else if (iVar3 == 2) {
    if (*(int *)((int)this + 0x1048) == 1) {
      uVar4 = 0;
      if (*(int *)((int)this + 0x1058) != 0) {
        pfVar2 = src + 2;
        iVar3 = 0;
        do {
          uVar4 = uVar4 + 1;
          *(float *)(iVar3 + *(int *)((int)this + 0x104c)) = pfVar2[-2] * 2.0 - 1.0;
          *(float *)(iVar3 + 4 + *(int *)((int)this + 0x104c)) = pfVar2[-1] * 2.0 - 1.0;
          *(float *)(iVar3 + 8 + *(int *)((int)this + 0x104c)) = *pfVar2 * 2.0 - 1.0;
          *(float *)(iVar3 + 0xc + *(int *)((int)this + 0x104c)) = pfVar2[1];
          pfVar2 = pfVar2 + 4;
          iVar3 = iVar3 + 0x10;
        } while (uVar4 < *(uint *)((int)this + 0x1058));
      }
    }
    else if ((*(int *)((int)this + 0x1048) == 3) && (uVar4 = 0, *(int *)((int)this + 0x1058) != 0))
    {
      pfVar2 = src + 2;
      iVar3 = 0;
      do {
        *(float *)(iVar3 + *(int *)((int)this + 0x104c)) = pfVar2[-2];
        uVar4 = uVar4 + 1;
        *(float *)(iVar3 + 4 + *(int *)((int)this + 0x104c)) = pfVar2[-1];
        *(float *)(iVar3 + 8 + *(int *)((int)this + 0x104c)) = *pfVar2;
        pfVar1 = pfVar2 + 1;
        pfVar2 = pfVar2 + 4;
        *(float *)(iVar3 + 0xc + *(int *)((int)this + 0x104c)) = (*pfVar1 + 1.0) * 0.5;
        iVar3 = iVar3 + 0x10;
      } while (uVar4 < *(uint *)((int)this + 0x1058));
    }
  }
  else if (iVar3 == 3) {
    if (*(int *)((int)this + 0x1048) == 1) {
      uVar4 = 0;
      if (*(int *)((int)this + 0x1058) != 0) {
        pfVar2 = src + 2;
        iVar3 = 0;
        do {
          uVar4 = uVar4 + 1;
          *(float *)(iVar3 + *(int *)((int)this + 0x104c)) = pfVar2[-2] * 2.0 - 1.0;
          *(float *)(iVar3 + 4 + *(int *)((int)this + 0x104c)) = pfVar2[-1] * 2.0 - 1.0;
          *(float *)(iVar3 + 8 + *(int *)((int)this + 0x104c)) = *pfVar2 * 2.0 - 1.0;
          *(float *)(iVar3 + 0xc + *(int *)((int)this + 0x104c)) = pfVar2[1] * 2.0 - 1.0;
          pfVar2 = pfVar2 + 4;
          iVar3 = iVar3 + 0x10;
        } while (uVar4 < *(uint *)((int)this + 0x1058));
      }
    }
    else if ((*(int *)((int)this + 0x1048) == 2) && (uVar4 = 0, *(int *)((int)this + 0x1058) != 0))
    {
      pfVar2 = src + 2;
      iVar3 = 0;
      do {
        *(float *)(iVar3 + *(int *)((int)this + 0x104c)) = pfVar2[-2];
        uVar4 = uVar4 + 1;
        *(float *)(iVar3 + 4 + *(int *)((int)this + 0x104c)) = pfVar2[-1];
        *(float *)(iVar3 + 8 + *(int *)((int)this + 0x104c)) = *pfVar2;
        pfVar1 = pfVar2 + 1;
        pfVar2 = pfVar2 + 4;
        *(float *)(iVar3 + 0xc + *(int *)((int)this + 0x104c)) = (*pfVar1 + *pfVar1) - 1.0;
        iVar3 = iVar3 + 0x10;
      } while (uVar4 < *(uint *)((int)this + 0x1058));
    }
  }
  return *(float **)((int)this + 0x104c);
}



/* FUN_10016c3b @ 10016c3b */

void FUN_10016c3b(void)

{
  return;
}



/* FUN_10016c3c @ 10016c3c */

/* [binja] int32_t __fastcall sub_10016c3c(void*** arg1) */

int FUN_10016c3c(void ***arg1)

{
  int extraout_EAX;
  undefined4 *this;
  uint uVar1;
  int unaff_EBP;
  uint uVar2;
  
  seh_prolog();
  *(undefined4 **)(unaff_EBP + -0x14) = this;
  *this = &PTR_FUN_1004caf8;
  *(undefined4 *)(unaff_EBP + -4) = 0;
  if ((this[0x42f] != 0) && (this[0x430] != 0)) {
    uVar1 = this[0x427];
    uVar2 = this[0x428];
    *(undefined4 *)(unaff_EBP + -0x10) = this[0x430];
    if (uVar1 < uVar2) {
      do {
        for (uVar2 = this[0x424]; uVar2 < (uint)this[0x426]; uVar2 = uVar2 + 4) {
          operator_delete(*(void **)(*(int *)(unaff_EBP + -0x10) + 4));
          *(int *)(unaff_EBP + -0x10) = *(int *)(unaff_EBP + -0x10) + 8;
        }
        uVar1 = uVar1 + 1;
      } while (uVar1 < (uint)this[0x428]);
    }
  }
  operator_delete((void *)this[0x42e]);
  operator_delete((void *)this[0x430]);
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  grim_vertex_space_converter_destroy(this);
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return extraout_EAX;
}



/* grim_pixel_format_write_dxt_cache @ 10016cdc */

/* writes RGBA floats into the DXT block cache and encodes when block data is complete */

void grim_pixel_format_write_dxt_cache(void *this,uint x,uint y,float *pixels)

{
  int iVar1;
  undefined4 *puVar2;
  void *pvVar3;
  float *pfVar4;
  void *this_00;
  uint uVar5;
  int iVar6;
  uint uVar7;
  undefined4 uVar8;
  int unaff_EBP;
  uint uVar9;
  undefined4 *puVar10;
  uint *puVar11;
  
  seh_prolog();
  uVar9 = *(int *)(unaff_EBP + 8) + *(int *)((int)this_00 + 0x1034);
  *(int *)(unaff_EBP + 0xc) = *(int *)(unaff_EBP + 0xc) + *(int *)((int)this_00 + 0x1040);
  iVar6 = *(int *)((int)this_00 + 0x10c0);
  *(uint *)(unaff_EBP + 8) = uVar9;
  if (iVar6 == 0) {
    puVar2 = operator_new(*(int *)((int)this_00 + 0x10a8) * *(int *)((int)this_00 + 0x10ac) * 8);
    *(undefined4 **)((int)this_00 + 0x10c0) = puVar2;
    if (puVar2 == (undefined4 *)0x0) goto LAB_100170c5;
    for (uVar5 = (uint)(*(int *)((int)this_00 + 0x10a8) * *(int *)((int)this_00 + 0x10ac) * 8) >> 2;
        uVar5 != 0; uVar5 = uVar5 - 1) {
      *puVar2 = 0;
      puVar2 = puVar2 + 1;
    }
    for (iVar6 = 0; iVar6 != 0; iVar6 = iVar6 + -1) {
      *(undefined1 *)puVar2 = 0;
      puVar2 = (undefined4 *)((int)puVar2 + 1);
    }
  }
  puVar11 = (uint *)(*(int *)((int)this_00 + 0x10c0) +
                    ((*(int *)(unaff_EBP + 0xc) - *(int *)((int)this_00 + 0x109c)) *
                     *(int *)((int)this_00 + 0x10a8) +
                    (uVar9 - *(int *)((int)this_00 + 0x1090) >> 2)) * 8);
  uVar5 = puVar11[1];
  *(uint **)(unaff_EBP + -0x10) = puVar11;
  if (uVar5 == 0) {
    iVar6 = *(int *)((int)this_00 + 0x10a4);
    *(int *)(unaff_EBP + -0x18) = iVar6 << 4;
    pvVar3 = operator_new(iVar6 << 8);
    *(void **)(unaff_EBP + -0x14) = pvVar3;
    *(undefined4 *)(unaff_EBP + -4) = 0;
    if (pvVar3 == (void *)0x0) {
      uVar5 = 0;
    }
    else {
      _vector_constructor_iterator_
                (pvVar3,0x10,*(int *)(unaff_EBP + -0x18),(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
      uVar5 = *(uint *)(unaff_EBP + -0x14);
    }
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    puVar11[1] = uVar5;
    if (uVar5 == 0) goto LAB_100170c5;
    *puVar11 = 0;
    *(int *)((int)this_00 + 0x10bc) = *(int *)((int)this_00 + 0x10bc) + 1;
  }
  if (*puVar11 == 0) {
    uVar5 = 4;
    if (3 < *(uint *)((int)this_00 + 0x103c)) {
      uVar5 = *(uint *)((int)this_00 + 0x103c);
    }
    if (((uVar9 & 3) < *(uint *)((int)this_00 + 0x1034)) || (uVar5 < (uVar9 & 3) + 4)) {
      uVar5 = *(uint *)((int)this_00 + 0x108c);
      iVar6 = (uVar9 >> 2) * *(int *)((int)this_00 + 0x1050) +
              (uVar5 >> 2) * *(int *)((int)this_00 + 0x1080) +
              *(int *)((int)this_00 + 0x1054) * *(int *)(unaff_EBP + 0xc) +
              *(int *)((int)this_00 + 0x18);
      *(undefined4 *)(unaff_EBP + -0x14) = *(undefined4 *)(*(int *)(unaff_EBP + -0x10) + 4);
      *(uint *)(unaff_EBP + -0x18) = uVar5;
      while (uVar5 < *(uint *)((int)this_00 + 0x1094)) {
        (**(code **)((int)this_00 + 0x1084))(*(undefined4 *)(unaff_EBP + -0x14),iVar6);
        iVar6 = iVar6 + *(int *)((int)this_00 + 0x1080);
        *(int *)(unaff_EBP + -0x14) = *(int *)(unaff_EBP + -0x14) + 0x100;
        *(int *)(unaff_EBP + -0x18) = *(int *)(unaff_EBP + -0x18) + 4;
        uVar5 = *(uint *)(unaff_EBP + -0x18);
      }
      puVar11 = *(uint **)(unaff_EBP + -0x10);
    }
    else {
      uVar5 = *(uint *)((int)this_00 + 0x1038);
      *(undefined4 *)(unaff_EBP + -0x18) = 4;
      if (3 < uVar5) {
        *(uint *)(unaff_EBP + -0x18) = uVar5;
      }
      if (*(uint *)((int)this_00 + 0x108c) < *(uint *)((int)this_00 + 0x1030)) {
        (**(code **)((int)this_00 + 0x1084))
                  (puVar11[1],
                   (*(uint *)((int)this_00 + 0x108c) >> 2) * *(int *)((int)this_00 + 0x1080) +
                   (uVar9 >> 2) * *(int *)((int)this_00 + 0x1050) +
                   *(int *)((int)this_00 + 0x1054) * *(int *)(unaff_EBP + 0xc) +
                   *(int *)((int)this_00 + 0x18));
      }
      if (*(uint *)(unaff_EBP + -0x18) < *(uint *)((int)this_00 + 0x1094)) {
        (**(code **)((int)this_00 + 0x1084))
                  (puVar11[1],
                   (*(uint *)((int)this_00 + 0x1094) - 4 >> 2) * *(int *)((int)this_00 + 0x1080) +
                   (uVar9 >> 2) * *(int *)((int)this_00 + 0x1050) +
                   *(int *)((int)this_00 + 0x1054) * *(int *)(unaff_EBP + 0xc) +
                   *(int *)((int)this_00 + 0x18));
      }
    }
  }
  if (*(int *)((int)this_00 + 0x1048) != 0) {
    pfVar4 = grim_convert_vertex_space(this_00,*(float **)(unaff_EBP + 0x10));
    *(float **)(unaff_EBP + 0x10) = pfVar4;
  }
  uVar5 = *(int *)((int)this_00 + 0x1030) - *(int *)((int)this_00 + 0x108c);
  iVar6 = *(int *)((int)this_00 + 0x1090);
  uVar7 = *(int *)((int)this_00 + 0x1058) + uVar5;
  if (uVar5 < uVar7) {
    do {
      puVar10 = (undefined4 *)
                (((uVar5 & 0xfffffffc | uVar9 - iVar6 & 3) << 2 | uVar5 & 3) * 0x10 +
                *(int *)(*(int *)(unaff_EBP + -0x10) + 4));
      puVar2 = *(undefined4 **)(unaff_EBP + 0x10);
      *(int *)(unaff_EBP + 0x10) = *(int *)(unaff_EBP + 0x10) + 0x10;
      *puVar10 = *puVar2;
      puVar10[1] = puVar2[1];
      puVar10[2] = puVar2[2];
      uVar5 = uVar5 + 1;
      puVar10[3] = puVar2[3];
    } while (uVar5 < uVar7);
    uVar9 = *(uint *)(unaff_EBP + 8);
    puVar11 = *(uint **)(unaff_EBP + -0x10);
  }
  uVar5 = uVar9 - *(int *)((int)this_00 + 0x1090) & 3;
  if (*(int *)((int)this_00 + 0x1074) == 0) {
    *puVar11 = *puVar11 | 1 << (sbyte)uVar5;
  }
  else {
    *(undefined4 *)(unaff_EBP + 0x10) = 0;
    do {
      if ((*(uint *)((int)this_00 + 0x107c) & *(uint *)(unaff_EBP + 0x10)) == uVar5) {
        *puVar11 = *puVar11 | 1 << ((byte)*(undefined4 *)(unaff_EBP + 0x10) & 0x1f);
      }
      *(int *)(unaff_EBP + 0x10) = *(int *)(unaff_EBP + 0x10) + 1;
    } while (*(uint *)(unaff_EBP + 0x10) < 4);
  }
  if (*puVar11 == 0xf) {
    uVar5 = *(uint *)((int)this_00 + 0x108c);
    iVar6 = (uVar9 >> 2) * *(int *)((int)this_00 + 0x1050) +
            (uVar5 >> 2) * *(int *)((int)this_00 + 0x1080) +
            *(int *)((int)this_00 + 0x1054) * *(int *)(unaff_EBP + 0xc) +
            *(int *)((int)this_00 + 0x18);
    *(uint *)(unaff_EBP + 0xc) = puVar11[1];
    *(uint *)(unaff_EBP + -0x18) = uVar5;
    while (uVar9 = *(uint *)((int)this_00 + 0x1094), *(int *)(unaff_EBP + -0x14) = iVar6,
          uVar5 < uVar9) {
      uVar9 = 0;
      if (*(int *)((int)this_00 + 0x1074) != 0) {
        uVar8 = *(undefined4 *)(unaff_EBP + 0xc);
        do {
          *(undefined4 *)(unaff_EBP + 0x10) = 0;
          iVar6 = uVar9 << 2;
          *(undefined4 *)(unaff_EBP + 8) = uVar8;
          do {
            iVar1 = (*(uint *)(unaff_EBP + 0x10) & *(uint *)((int)this_00 + 0x1078)) +
                    (*(uint *)((int)this_00 + 0x107c) & uVar9) * 4;
            if (iVar6 != iVar1) {
              puVar2 = *(undefined4 **)(unaff_EBP + 8);
              puVar10 = (undefined4 *)(iVar1 * 0x10 + *(int *)(unaff_EBP + 0xc));
              *puVar2 = *puVar10;
              puVar2[1] = puVar10[1];
              puVar2[2] = puVar10[2];
              puVar2[3] = puVar10[3];
              puVar11 = *(uint **)(unaff_EBP + -0x10);
            }
            *(int *)(unaff_EBP + 0x10) = *(int *)(unaff_EBP + 0x10) + 1;
            *(int *)(unaff_EBP + 8) = *(int *)(unaff_EBP + 8) + 0x10;
            iVar6 = iVar6 + 1;
          } while (*(uint *)(unaff_EBP + 0x10) < 4);
          uVar8 = *(undefined4 *)(unaff_EBP + 8);
          uVar9 = uVar9 + 1;
        } while (uVar9 < 4);
      }
      iVar6 = *(int *)(unaff_EBP + -0x14);
      (**(code **)((int)this_00 + 0x1088))(iVar6,*(undefined4 *)(unaff_EBP + 0xc));
      iVar6 = iVar6 + *(int *)((int)this_00 + 0x1080);
      *(int *)(unaff_EBP + 0xc) = *(int *)(unaff_EBP + 0xc) + 0x100;
      *(int *)(unaff_EBP + -0x18) = *(int *)(unaff_EBP + -0x18) + 4;
      uVar5 = *(uint *)(unaff_EBP + -0x18);
    }
    if (((puVar11 + 2 <
          (uint *)(*(int *)((int)this_00 + 0x10c0) +
                  *(int *)((int)this_00 + 0x10ac) * *(int *)((int)this_00 + 0x10a8) * 8)) &&
        (puVar11[2] == 0)) && (puVar11[3] == 0)) {
      puVar11[3] = puVar11[1];
      puVar11[1] = 0;
    }
    else {
      operator_delete((void *)puVar11[1]);
      *(int *)((int)this_00 + 0x10bc) = *(int *)((int)this_00 + 0x10bc) + -1;
    }
    puVar11[1] = 0;
  }
LAB_100170c5:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return;
}



/* fpu_set_round_trunc @ 100170d6 */

/* sets x87 rounding mode to truncate; saves control word in DAT_1005db6c */

void __fastcall fpu_set_round_trunc(void)

{
  undefined4 in_ECX;
  undefined2 in_FPUControlWord;
  undefined4 local_8;
  
  local_8 = CONCAT22((short)((uint)in_ECX >> 0x10),in_FPUControlWord);
  DAT_1005db6c = local_8;
  return;
}



/* grim_pixel_format_init @ 100170f9 */

/* initializes format descriptor, bytes-per-pixel, palette expansion, and coordinate mode */

void * __thiscall grim_pixel_format_init(void *this,uint *desc,uint bits_per_pixel,uint coord_mode)

{
  undefined4 *puVar1;
  int iVar2;
  undefined *puVar3;
  float *pfVar4;
  int iVar5;
  uint *puVar6;
  uint uVar7;
  uint uVar8;
  uint *puVar9;
  
  *(undefined ***)this = &PTR_FUN_1004cae4;
  _vector_constructor_iterator_
            ((void *)((int)this + 0x30),0x10,0x100,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
  *(uint *)((int)this + 0x18) = *desc;
  *(uint *)((int)this + 4) = desc[1];
  *(uint *)((int)this + 0x1050) = desc[2];
  *(uint *)((int)this + 0x1054) = desc[3];
  puVar6 = desc + 10;
  puVar9 = (uint *)((int)this + 0x1030);
  for (iVar2 = 6; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar9 = *puVar6;
    puVar6 = puVar6 + 1;
    puVar9 = puVar9 + 1;
  }
  puVar3 = &DAT_10054418;
  if (desc[0x10] == 0) {
    puVar3 = &DAT_10054398;
  }
  *(undefined **)((int)this + 0x2c) = puVar3;
  *(uint *)((int)this + 0x1068) = bits_per_pixel >> 3;
  *(undefined4 *)((int)this + 0x1048) = 0;
  *(undefined4 *)((int)this + 0x104c) = 0;
  *(uint *)((int)this + 0xc) = (uint)(bits_per_pixel != 0);
  *(uint *)((int)this + 8) = coord_mode;
  uVar7 = desc[0x11];
  *(uint *)((int)this + 0x10) = uVar7;
  if (uVar7 != 0) {
    uVar7 = desc[0x11];
    *(float *)((int)this + 0x1c) = (float)(uVar7 >> 0x10 & 0xff) * 0.003921569;
    *(float *)((int)this + 0x20) = (float)(uVar7 >> 8 & 0xff) * 0.003921569;
    *(float *)((int)this + 0x24) = (float)(uVar7 & 0xff) * 0.003921569;
    *(float *)((int)this + 0x28) = (float)(uVar7 >> 0x18) * 0.003921569;
  }
  if ((*(int *)((int)this + 4) == 0x29) || (*(int *)((int)this + 4) == 0x28)) {
    *(undefined4 *)((int)this + 0x14) = 1;
    if (desc[0x12] == 0) {
      iVar2 = 0x100;
      puVar1 = (undefined4 *)((int)this + 0x38);
      do {
        puVar1[1] = 0x3f800000;
        *puVar1 = 0x3f800000;
        iVar2 = iVar2 + -1;
        puVar1[-1] = 0x3f800000;
        puVar1[-2] = 0x3f800000;
        puVar1 = puVar1 + 4;
      } while (iVar2 != 0);
    }
    else {
      pfVar4 = (float *)((int)this + 0x34);
      uVar7 = 0;
      do {
        uVar8 = uVar7 + 4;
        pfVar4[-1] = (float)*(byte *)(uVar7 + desc[0x12]) * 0.003921569;
        *pfVar4 = (float)*(byte *)(uVar7 + 1 + desc[0x12]) * 0.003921569;
        pfVar4[1] = (float)*(byte *)(uVar7 + 2 + desc[0x12]) * 0.003921569;
        pfVar4[2] = (float)*(byte *)(uVar7 + 3 + desc[0x12]) * 0.003921569;
        pfVar4 = pfVar4 + 4;
        uVar7 = uVar8;
      } while (uVar8 < 0x400);
    }
  }
  else {
    *(undefined4 *)((int)this + 0x14) = 0;
  }
  *(int *)((int)this + 0x105c) = *(int *)((int)this + 0x103c) - *(int *)((int)this + 0x1034);
  iVar2 = *(int *)((int)this + 0x1030);
  iVar5 = *(int *)((int)this + 0x1038) - iVar2;
  *(int *)((int)this + 0x1060) = *(int *)((int)this + 0x1044) - *(int *)((int)this + 0x1040);
  *(int *)((int)this + 0x1058) = iVar5;
  *(int *)((int)this + 0x1064) = *(int *)((int)this + 0x1068) * iVar5;
  if (*(int *)((int)this + 0xc) != 0) {
    *(int *)((int)this + 0x18) =
         *(int *)((int)this + 0x18) +
         *(int *)((int)this + 0x1068) * iVar2 +
         *(int *)((int)this + 0x1050) * *(int *)((int)this + 0x1034) +
         *(int *)((int)this + 0x1054) * *(int *)((int)this + 0x1040);
    *(undefined4 *)((int)this + 0x1038) = *(undefined4 *)((int)this + 0x1058);
    *(undefined4 *)((int)this + 0x103c) = *(undefined4 *)((int)this + 0x105c);
    *(int *)((int)this + 0x1030) = 0;
    *(undefined4 *)((int)this + 0x1034) = 0;
    *(undefined4 *)((int)this + 0x1040) = 0;
    *(undefined4 *)((int)this + 0x1044) = *(undefined4 *)((int)this + 0x1060);
  }
  return this;
}



/* FUN_10017345 @ 10017345 */

/* [binja] void*** __thiscall sub_10017345(void*** arg1, char arg2) */

void *** __thiscall FUN_10017345(void *this,void ***arg1,char arg2)

{
  grim_vertex_space_converter_destroy(this);
  if (((uint)arg1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}



/* FUN_10017361 @ 10017361 */

/* [binja] int32_t __thiscall sub_10017361(void* arg1, void* arg2) */

int FUN_10017361(void *arg1,void *arg2)

{
  void *pvVar1;
  void *pvVar2;
  int iVar3;
  int extraout_ECX;
  int unaff_EBP;
  
  seh_prolog();
  if (*(int *)(extraout_ECX + 8) != *(int *)(*(int *)(unaff_EBP + 8) + 8)) {
    iVar3 = *(int *)(extraout_ECX + 0x1058);
    pvVar1 = operator_new(iVar3 << 4);
    *(void **)(unaff_EBP + -0x10) = pvVar1;
    *(undefined4 *)(unaff_EBP + -4) = 0;
    pvVar2 = (void *)0x0;
    if (pvVar1 != (void *)0x0) {
      _vector_constructor_iterator_(pvVar1,0x10,iVar3,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
      pvVar2 = pvVar1;
    }
    *(void **)(extraout_ECX + 0x104c) = pvVar2;
    if (pvVar2 == (void *)0x0) {
      iVar3 = -0x7ff8fff2;
      goto LAB_100173cd;
    }
    *(undefined4 *)(extraout_ECX + 0x1048) = *(undefined4 *)(*(int *)(unaff_EBP + 8) + 8);
  }
  iVar3 = 0;
LAB_100173cd:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return iVar3;
}



/* FUN_100173dc @ 100173dc */

/* [binja] int32_t __fastcall sub_100173dc(int32_t* arg1) */

int __fastcall FUN_100173dc(int *arg1)

{
  int *piVar1;
  int *piVar2;
  undefined1 local_28 [8];
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  
  local_10 = arg1[0x416];
  local_14 = arg1[0x419];
  local_18 = arg1[6];
  local_1c = arg1[0xb];
  local_20 = arg1[4];
  arg1[0x419] = arg1[0x41a];
  arg1[0x416] = 1;
  arg1[6] = (int)local_28;
  arg1[0xb] = (int)&DAT_10054398;
  arg1[4] = 0;
  if (arg1[2] != 1) {
    piVar1 = arg1 + 0x412;
    local_8 = *piVar1;
    piVar2 = arg1 + 0x413;
    local_c = *piVar2;
    *piVar1 = 1;
    *piVar2 = (int)(arg1 + 7);
    grim_convert_vertex_space(arg1,(float *)(arg1 + 7));
    *piVar1 = local_8;
    *piVar2 = local_c;
  }
  (**(code **)(*arg1 + 8))(0,0,arg1 + 7);
  (**(code **)(*arg1 + 4))(0,0,arg1 + 7);
  arg1[0x416] = local_10;
  arg1[0x419] = local_14;
  arg1[6] = local_18;
  arg1[0xb] = local_1c;
  arg1[4] = local_20;
  return local_20;
}



/* grim_apply_color_key @ 100174a8 */

/* zeroes RGBA pixels that match the current color key */

void __thiscall grim_apply_color_key(void *this,float *pixels)

{
  int iVar1;
  float *pfVar2;
  
  if (pixels < pixels + *(int *)((int)this + 0x1058) * 4) {
    iVar1 = ((uint)((int)(pixels + *(int *)((int)this + 0x1058) * 4) + (-1 - (int)pixels)) >> 4) + 1
    ;
    pfVar2 = pixels + 2;
    do {
      if ((((pfVar2[-2] == *(float *)((int)this + 0x1c)) &&
           (pfVar2[-1] == *(float *)((int)this + 0x20))) &&
          (*pfVar2 == *(float *)((int)this + 0x24))) && (pfVar2[1] == *(float *)((int)this + 0x28)))
      {
        pfVar2[1] = 0.0;
        *pfVar2 = 0.0;
        pfVar2[-1] = 0.0;
        pfVar2[-2] = 0.0;
      }
      pfVar2 = pfVar2 + 4;
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
  }
  return;
}



/* FUN_10017518 @ 10017518 */

/* [binja] int16_t __thiscall sub_10017518(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017518(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  int iVar2;
  int iVar3;
  undefined1 *extraout_EDX;
  undefined1 *puVar4;
  uint uVar5;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  iVar3 = 0;
  uVar5 = 0;
  puVar4 = extraout_EDX;
  if (*(int *)((int)this + 0x1058) != 0) {
    do {
      fVar1 = *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar5 & 3) * 4);
      *puVar4 = (char)(int)ROUND(*(float *)(iVar3 + 8 + arg3) * 255.0 + fVar1);
      puVar4[1] = (char)(int)ROUND(*(float *)(iVar3 + 4 + arg3) * 255.0 + fVar1);
      puVar4[2] = (char)(int)ROUND(*(float *)(iVar3 + arg3) * 255.0 + fVar1);
      puVar4 = puVar4 + 3;
      uVar5 = uVar5 + 1;
      iVar3 = iVar3 + 0x10;
    } while (uVar5 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017604 @ 10017604 */

/* [binja] int16_t __thiscall sub_10017604(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017604(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  uint *extraout_EDX;
  uint *puVar8;
  uint uVar9;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar6 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar9 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar7 = 0;
    puVar8 = extraout_EDX;
    do {
      fVar5 = *(float *)(iVar6 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar9 & 3) * 4);
      pfVar1 = (float *)(iVar7 + arg3);
      iVar2 = iVar7 + 4;
      iVar3 = iVar7 + 8;
      iVar4 = iVar7 + 0xc;
      iVar7 = iVar7 + 0x10;
      *puVar8 = (((int)ROUND(*(float *)(iVar4 + arg3) * 255.0 + fVar5) << 8 |
                 (int)ROUND(*pfVar1 * 255.0 + fVar5)) << 8 |
                (int)ROUND(*(float *)(iVar2 + arg3) * 255.0 + fVar5)) << 8 |
                (int)ROUND(*(float *)(iVar3 + arg3) * 255.0 + fVar5);
      puVar8 = puVar8 + 1;
      uVar9 = uVar9 + 1;
    } while (uVar9 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017727 @ 10017727 */

/* [binja] int16_t __thiscall sub_10017727(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017727(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  uint *extraout_EDX;
  uint *puVar7;
  uint uVar8;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar5 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar8 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar6 = 0;
    puVar7 = extraout_EDX;
    do {
      fVar4 = *(float *)(iVar5 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar8 & 3) * 4);
      pfVar1 = (float *)(iVar6 + arg3);
      iVar2 = iVar6 + 4;
      iVar3 = iVar6 + 8;
      iVar6 = iVar6 + 0x10;
      *puVar7 = ((int)ROUND(*pfVar1 * 255.0 + fVar4) << 8 |
                (int)ROUND(*(float *)(iVar2 + arg3) * 255.0 + fVar4)) << 8 |
                (int)ROUND(*(float *)(iVar3 + arg3) * 255.0 + fVar4);
      puVar7 = puVar7 + 1;
      uVar8 = uVar8 + 1;
    } while (uVar8 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017828 @ 10017828 */

/* [binja] int16_t __thiscall sub_10017828(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017828(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  ushort *extraout_EDX;
  ushort *puVar7;
  uint uVar8;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar5 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar8 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar6 = 0;
    puVar7 = extraout_EDX;
    do {
      fVar4 = *(float *)(iVar5 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar8 & 3) * 4);
      pfVar1 = (float *)(iVar6 + arg3);
      iVar2 = iVar6 + 4;
      iVar3 = iVar6 + 8;
      iVar6 = iVar6 + 0x10;
      *puVar7 = (ushort)(((int)ROUND(*pfVar1 * 31.0 + fVar4) << 6 |
                         (int)ROUND(*(float *)(iVar2 + arg3) * 63.0 + fVar4)) << 5) |
                (ushort)(int)ROUND(*(float *)(iVar3 + arg3) * 31.0 + fVar4);
      puVar7 = puVar7 + 1;
      uVar8 = uVar8 + 1;
    } while (uVar8 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017929 @ 10017929 */

/* [binja] int16_t __thiscall sub_10017929(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017929(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  ushort *extraout_EDX;
  ushort *puVar7;
  uint uVar8;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar5 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar8 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar6 = 0;
    puVar7 = extraout_EDX;
    do {
      fVar4 = *(float *)(iVar5 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar8 & 3) * 4);
      pfVar1 = (float *)(iVar6 + arg3);
      iVar2 = iVar6 + 4;
      iVar3 = iVar6 + 8;
      iVar6 = iVar6 + 0x10;
      *puVar7 = (ushort)(((int)ROUND(*pfVar1 * 31.0 + fVar4) << 5 |
                         (int)ROUND(*(float *)(iVar2 + arg3) * 31.0 + fVar4)) << 5) |
                (ushort)(int)ROUND(*(float *)(iVar3 + arg3) * 31.0 + fVar4);
      puVar7 = puVar7 + 1;
      uVar8 = uVar8 + 1;
    } while (uVar8 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017a2a @ 10017a2a */

/* [binja] int16_t __thiscall sub_10017a2a(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017a2a(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  ushort *extraout_EDX;
  ushort *puVar8;
  uint uVar9;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar6 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar9 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar7 = 0;
    puVar8 = extraout_EDX;
    do {
      fVar5 = *(float *)(iVar6 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar9 & 3) * 4);
      pfVar1 = (float *)(iVar7 + arg3);
      iVar2 = iVar7 + 4;
      iVar3 = iVar7 + 8;
      iVar4 = iVar7 + 0xc;
      iVar7 = iVar7 + 0x10;
      *puVar8 = (ushort)((((int)ROUND(fVar5 + *(float *)(iVar4 + arg3)) << 5 |
                          (int)ROUND(*pfVar1 * 31.0 + fVar5)) << 5 |
                         (int)ROUND(*(float *)(iVar2 + arg3) * 31.0 + fVar5)) << 5) |
                (ushort)(int)ROUND(*(float *)(iVar3 + arg3) * 31.0 + fVar5);
      puVar8 = puVar8 + 1;
      uVar9 = uVar9 + 1;
    } while (uVar9 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017b47 @ 10017b47 */

/* [binja] int16_t __thiscall sub_10017b47(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017b47(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  ushort *extraout_EDX;
  ushort *puVar8;
  uint uVar9;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar6 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar9 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar7 = 0;
    puVar8 = extraout_EDX;
    do {
      fVar5 = *(float *)(iVar6 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar9 & 3) * 4);
      pfVar1 = (float *)(iVar7 + arg3);
      iVar2 = iVar7 + 4;
      iVar3 = iVar7 + 8;
      iVar4 = iVar7 + 0xc;
      iVar7 = iVar7 + 0x10;
      *puVar8 = (ushort)((((int)ROUND(*(float *)(iVar4 + arg3) * 15.0 + fVar5) << 4 |
                          (int)ROUND(*pfVar1 * 15.0 + fVar5)) << 4 |
                         (int)ROUND(*(float *)(iVar2 + arg3) * 15.0 + fVar5)) << 4) |
                (ushort)(int)ROUND(*(float *)(iVar3 + arg3) * 15.0 + fVar5);
      puVar8 = puVar8 + 1;
      uVar9 = uVar9 + 1;
    } while (uVar9 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017c6a @ 10017c6a */

/* [binja] int16_t __thiscall sub_10017c6a(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017c6a(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  float fVar3;
  int iVar4;
  byte *extraout_EDX;
  byte *pbVar5;
  int iVar6;
  uint uVar7;
  byte local_20;
  
  uVar7 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar4 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar6 = 0;
    pbVar5 = extraout_EDX;
    do {
      fVar3 = *(float *)(iVar4 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar7 & 3) * 4);
      pfVar1 = (float *)(iVar6 + arg3);
      iVar2 = iVar6 + 8;
      local_20 = (byte)(int)ROUND(*(float *)(iVar6 + 4 + arg3) * 7.0 + fVar3);
      iVar6 = iVar6 + 0x10;
      *pbVar5 = ((char)(int)ROUND(*pfVar1 * 7.0 + fVar3) << 3 | local_20) << 2 |
                (byte)(int)ROUND(*(float *)(iVar2 + arg3) * 3.0 + fVar3);
      pbVar5 = pbVar5 + 1;
      uVar7 = uVar7 + 1;
    } while (uVar7 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017d68 @ 10017d68 */

/* [binja] int16_t __thiscall sub_10017d68(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017d68(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  int iVar1;
  uint uVar2;
  undefined1 *extraout_EDX;
  undefined1 *puVar3;
  int iVar4;
  
  iVar4 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar1 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar2 = 0;
  puVar3 = extraout_EDX;
  if (*(int *)((int)this + 0x1058) != 0) {
    do {
      *puVar3 = (char)(int)ROUND(*(float *)(iVar4 + 0xc + arg3) * 255.0 +
                                 *(float *)(iVar1 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 +
                                           (uVar2 & 3) * 4));
      puVar3 = puVar3 + 1;
      uVar2 = uVar2 + 1;
      iVar4 = iVar4 + 0x10;
    } while (uVar2 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017e11 @ 10017e11 */

/* [binja] int16_t __thiscall sub_10017e11(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017e11(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  ushort *extraout_EDX;
  ushort *puVar8;
  uint uVar9;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar6 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar9 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar7 = 0;
    puVar8 = extraout_EDX;
    do {
      fVar5 = *(float *)(iVar6 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar9 & 3) * 4);
      pfVar1 = (float *)(iVar7 + arg3);
      iVar2 = iVar7 + 4;
      iVar3 = iVar7 + 8;
      iVar4 = iVar7 + 0xc;
      iVar7 = iVar7 + 0x10;
      *puVar8 = (ushort)((((int)ROUND(*(float *)(iVar4 + arg3) * 255.0 + fVar5) << 3 |
                          (int)ROUND(*pfVar1 * 7.0 + fVar5)) << 3 |
                         (int)ROUND(*(float *)(iVar2 + arg3) * 7.0 + fVar5)) << 2) |
                (ushort)(int)ROUND(*(float *)(iVar3 + arg3) * 3.0 + fVar5);
      puVar8 = puVar8 + 1;
      uVar9 = uVar9 + 1;
    } while (uVar9 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10017f34 @ 10017f34 */

/* [binja] int16_t __thiscall sub_10017f34(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10017f34(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  ushort *extraout_EDX;
  ushort *puVar7;
  uint uVar8;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar5 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar8 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar6 = 0;
    puVar7 = extraout_EDX;
    do {
      fVar4 = *(float *)(iVar5 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar8 & 3) * 4);
      pfVar1 = (float *)(iVar6 + arg3);
      iVar2 = iVar6 + 4;
      iVar3 = iVar6 + 8;
      iVar6 = iVar6 + 0x10;
      *puVar7 = (ushort)(((int)ROUND(*pfVar1 * 15.0 + fVar4) << 4 |
                         (int)ROUND(*(float *)(iVar2 + arg3) * 15.0 + fVar4)) << 4) |
                (ushort)(int)ROUND(*(float *)(iVar3 + arg3) * 15.0 + fVar4);
      puVar7 = puVar7 + 1;
      uVar8 = uVar8 + 1;
    } while (uVar8 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018035 @ 10018035 */

/* [binja] int16_t __thiscall sub_10018035(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018035(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  uint *extraout_EDX;
  uint *puVar8;
  uint uVar9;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar6 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar9 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar7 = 0;
    puVar8 = extraout_EDX;
    do {
      fVar5 = *(float *)(iVar6 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar9 & 3) * 4);
      pfVar1 = (float *)(iVar7 + arg3);
      iVar2 = iVar7 + 4;
      iVar3 = iVar7 + 8;
      iVar4 = iVar7 + 0xc;
      iVar7 = iVar7 + 0x10;
      *puVar8 = (((int)ROUND(*(float *)(iVar4 + arg3) * 3.0 + fVar5) << 10 |
                 (int)ROUND(*(float *)(iVar3 + arg3) * 1023.0 + fVar5)) << 10 |
                (int)ROUND(*(float *)(iVar2 + arg3) * 1023.0 + fVar5)) << 10 |
                (int)ROUND(*pfVar1 * 1023.0 + fVar5);
      puVar8 = puVar8 + 1;
      uVar9 = uVar9 + 1;
    } while (uVar9 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018158 @ 10018158 */

/* [binja] int16_t __thiscall sub_10018158(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018158(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  int iVar2;
  int iVar3;
  uint *extraout_EDX;
  uint *puVar4;
  uint uVar5;
  
  uVar5 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar3 = 0;
    puVar4 = extraout_EDX;
    do {
      fVar1 = *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar5 & 3) * 4);
      *puVar4 = (int)ROUND(*(float *)(iVar3 + 4 + arg3) * 65535.0 + fVar1) << 0x10 |
                (int)ROUND(*(float *)(iVar3 + arg3) * 65535.0 + fVar1);
      puVar4 = puVar4 + 1;
      uVar5 = uVar5 + 1;
      iVar3 = iVar3 + 0x10;
    } while (uVar5 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018228 @ 10018228 */

/* [binja] int16_t __thiscall sub_10018228(void* arg1, int32_t arg2, int32_t arg3, float* arg4) */

short __thiscall FUN_10018228(void *this,void *arg1,int arg2,int arg3,float *arg4)

{
  int iVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  float *pfVar5;
  ushort *extraout_EDX;
  ushort *puVar6;
  uint uVar7;
  uint local_14;
  int local_10;
  uint local_c;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar7 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    local_10 = 0;
    puVar6 = extraout_EDX;
    do {
      local_14 = 0;
      local_c = 0;
      pfVar5 = (float *)((int)this + 0x38);
      do {
        fVar4 = *(float *)(arg3 + 4) - pfVar5[-1];
        fVar3 = *(float *)(arg3 + 8) - *pfVar5;
        if ((*(float *)arg3 - pfVar5[-2]) * (*(float *)arg3 - pfVar5[-2]) +
            fVar4 * fVar4 + fVar3 * fVar3 < 3.4028235e+38) {
          local_14 = local_c;
        }
        local_c = local_c + 1;
        pfVar5 = pfVar5 + 4;
      } while (local_c < 0x100);
      iVar1 = local_10 + 0xc;
      local_10 = local_10 + 0x10;
      *puVar6 = (ushort)(byte)(int)ROUND(*(float *)(iVar1 + arg3) * 255.0 +
                                         *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4
                                                   + (uVar7 & 3) * 4)) << 8 | (ushort)local_14;
      puVar6 = puVar6 + 1;
      uVar7 = uVar7 + 1;
    } while (uVar7 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018340 @ 10018340 */

/* [binja] void* __thiscall sub_10018340(void* arg1, void* arg2, float arg3, void* arg4) */

void * __thiscall FUN_10018340(void *this,void *arg1,void *arg2,float arg3,void *arg4)

{
  void *pvVar1;
  void *extraout_ECX;
  undefined1 *puVar2;
  float fVar3;
  float *pfVar4;
  float *pfVar5;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (float)grim_convert_vertex_space(this,(float *)arg3);
    this = extraout_ECX;
  }
  puVar2 = (undefined1 *)
           (*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * (int)arg2 +
           *(int *)((int)this + 0x18));
  arg1 = (void *)0x0;
  if (*(int *)((int)this + 0x1058) != 0) {
    pfVar4 = (float *)((int)arg3 + 8);
    do {
      fVar3 = 0.0;
      arg2 = (void *)0x7f7fffff;
      arg3 = 0.0;
      pfVar5 = (float *)((int)this + 0x38);
      do {
        pvVar1 = (void *)((pfVar4[-2] - pfVar5[-2]) * (pfVar4[-2] - pfVar5[-2]) +
                         (pfVar4[-1] - pfVar5[-1]) * (pfVar4[-1] - pfVar5[-1]) +
                         (*pfVar4 - *pfVar5) * (*pfVar4 - *pfVar5) +
                         (pfVar4[1] - pfVar5[1]) * (pfVar4[1] - pfVar5[1]));
        if ((float)pvVar1 < (float)arg2) {
          fVar3 = arg3;
          arg2 = pvVar1;
        }
        arg3 = (float)((int)arg3 + 1);
        pfVar5 = pfVar5 + 4;
      } while ((uint)arg3 < 0x100);
      *puVar2 = SUB41(fVar3,0);
      puVar2 = puVar2 + 1;
      arg3 = (float)((int)arg1 + 1);
      pfVar4 = pfVar4 + 4;
      arg1 = (void *)arg3;
    } while ((uint)arg3 < *(float **)((int)this + 0x1058));
  }
  return (void *)arg3;
}



/* FUN_10018405 @ 10018405 */

/* [binja] int16_t __thiscall sub_10018405(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018405(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  int iVar1;
  float *pfVar2;
  uint uVar3;
  undefined1 *extraout_EDX;
  undefined1 *puVar4;
  int iVar5;
  
  iVar5 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar1 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar3 = 0;
  puVar4 = extraout_EDX;
  if (*(int *)((int)this + 0x1058) != 0) {
    do {
      pfVar2 = (float *)(arg3 + iVar5);
      *puVar4 = (char)(int)ROUND(*(float *)(iVar1 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 +
                                           (uVar3 & 3) * 4) +
                                 (*pfVar2 * 0.2125 + pfVar2[1] * 0.7154 + pfVar2[2] * 0.0721) *
                                 255.0);
      puVar4 = puVar4 + 1;
      uVar3 = uVar3 + 1;
      iVar5 = iVar5 + 0x10;
    } while (uVar3 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_100184ca @ 100184ca */

/* [binja] int16_t __thiscall sub_100184ca(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_100184ca(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  int iVar1;
  float fVar2;
  int iVar3;
  float *pfVar4;
  ushort *extraout_EDX;
  ushort *puVar5;
  int iVar6;
  uint uVar7;
  
  uVar7 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar3 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar6 = 0;
    puVar5 = extraout_EDX;
    do {
      fVar2 = *(float *)(iVar3 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar7 & 3) * 4);
      pfVar4 = (float *)(arg3 + iVar6);
      iVar1 = iVar6 + 0xc;
      iVar6 = iVar6 + 0x10;
      *puVar5 = (ushort)(((int)ROUND(*(float *)(iVar1 + arg3) * 255.0 + fVar2) & 0xffU) << 8) |
                (ushort)(int)ROUND((*pfVar4 * 0.2125 + pfVar4[1] * 0.7154 + pfVar4[2] * 0.0721) *
                                   255.0 + fVar2);
      puVar5 = puVar5 + 1;
      uVar7 = uVar7 + 1;
    } while (uVar7 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_100185c0 @ 100185c0 */

/* [binja] int16_t __thiscall sub_100185c0(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_100185c0(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  int iVar2;
  float *pfVar3;
  byte *extraout_EDX;
  byte *pbVar4;
  int iVar5;
  uint uVar6;
  
  uVar6 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar5 = 0;
    pbVar4 = extraout_EDX;
    do {
      fVar1 = *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar6 & 3) * 4);
      pfVar3 = (float *)(arg3 + iVar5);
      *pbVar4 = (char)(int)ROUND(*(float *)(iVar5 + 0xc + arg3) * 15.0 + fVar1) << 4 |
                (byte)(int)ROUND((*pfVar3 * 0.2125 + pfVar3[1] * 0.7154 + pfVar3[2] * 0.0721) * 15.0
                                 + fVar1);
      pbVar4 = pbVar4 + 1;
      uVar6 = uVar6 + 1;
      iVar5 = iVar5 + 0x10;
    } while (uVar6 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_100186ab @ 100186ab */

/* [binja] int16_t __thiscall sub_100186ab(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_100186ab(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  float fVar3;
  int iVar4;
  uint uVar5;
  undefined2 *extraout_EDX;
  undefined2 *puVar6;
  int iVar7;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar4 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar5 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar7 = 0;
    puVar6 = extraout_EDX;
    do {
      fVar3 = *(float *)(iVar4 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar5 & 3) * 4);
      pfVar1 = (float *)(iVar7 + arg3);
      iVar2 = iVar7 + 4;
      iVar7 = iVar7 + 0x10;
      *puVar6 = CONCAT11((char)(int)ROUND(*(float *)(iVar2 + arg3) * 128.0 + fVar3),
                         (char)(int)ROUND(*pfVar1 * 128.0 + fVar3));
      puVar6 = puVar6 + 1;
      uVar5 = uVar5 + 1;
    } while (uVar5 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018780 @ 10018780 */

/* [binja] int16_t __thiscall sub_10018780(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018780(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  int iVar2;
  ushort *extraout_EDX;
  ushort *puVar3;
  uint uVar4;
  int iVar5;
  
  uVar4 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar5 = 0;
    puVar3 = extraout_EDX;
    do {
      fVar1 = *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar4 & 3) * 4);
      *puVar3 = (ushort)(((int)ROUND(*(float *)(iVar5 + 4 + arg3) * 16.0 + fVar1) & 0x1fU |
                         (int)ROUND(*(float *)(iVar5 + 0xc + arg3) * 63.0 + fVar1) << 5) << 5) |
                (ushort)(int)ROUND(*(float *)(iVar5 + arg3) * 16.0 + fVar1) & 0x1f;
      puVar3 = puVar3 + 1;
      uVar4 = uVar4 + 1;
      iVar5 = iVar5 + 0x10;
    } while (uVar4 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018885 @ 10018885 */

/* [binja] int16_t __thiscall sub_10018885(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018885(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  float fVar4;
  int iVar5;
  uint uVar6;
  uint *extraout_EDX;
  uint *puVar7;
  int iVar8;
  undefined1 local_24;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar5 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar6 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar8 = 0;
    puVar7 = extraout_EDX;
    do {
      fVar4 = *(float *)(iVar5 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar6 & 3) * 4);
      pfVar1 = (float *)(iVar8 + arg3);
      iVar2 = iVar8 + 4;
      iVar3 = iVar8 + 0xc;
      iVar8 = iVar8 + 0x10;
      local_24 = (undefined1)(int)ROUND(*(float *)(iVar2 + arg3) * 128.0 + fVar4);
      *puVar7 = (uint)CONCAT11((char)(int)ROUND(*(float *)(iVar3 + arg3) * 255.0 + fVar4),local_24)
                << 8 | (int)ROUND(*pfVar1 * 128.0 + fVar4) & 0xffU;
      puVar7 = puVar7 + 1;
      uVar6 = uVar6 + 1;
    } while (uVar6 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018990 @ 10018990 */

/* [binja] int16_t __thiscall sub_10018990(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018990(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  int iVar2;
  int iVar3;
  uint *extraout_EDX;
  uint *puVar4;
  uint local_c;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  local_c = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar3 = 0;
    puVar4 = extraout_EDX;
    do {
      fVar1 = *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (local_c & 3) * 4);
      *puVar4 = (((int)ROUND(*(float *)(iVar3 + 8 + arg3) * 128.0 + fVar1) & 0xffU |
                 (int)ROUND(*(float *)(iVar3 + 0xc + arg3) * 128.0 + fVar1) << 8) << 8 |
                (int)ROUND(*(float *)(iVar3 + 4 + arg3) * 128.0 + fVar1) & 0xffU) << 8 |
                (int)ROUND(*(float *)(iVar3 + arg3) * 128.0 + fVar1) & 0xffU;
      puVar4 = puVar4 + 1;
      local_c = local_c + 1;
      iVar3 = iVar3 + 0x10;
    } while (local_c < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018aca @ 10018aca */

/* [binja] int16_t __thiscall sub_10018aca(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018aca(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  int iVar2;
  uint *extraout_EDX;
  uint *puVar3;
  uint uVar4;
  int iVar5;
  
  uVar4 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar5 = 0;
    puVar3 = extraout_EDX;
    do {
      fVar1 = *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar4 & 3) * 4);
      *puVar3 = (int)ROUND(*(float *)(iVar5 + 4 + arg3) * 32768.0 + fVar1) << 0x10 |
                (int)ROUND(*(float *)(iVar5 + arg3) * 32768.0 + fVar1) & 0xffffU;
      puVar3 = puVar3 + 1;
      uVar4 = uVar4 + 1;
      iVar5 = iVar5 + 0x10;
    } while (uVar4 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018ba0 @ 10018ba0 */

/* [binja] int16_t __thiscall sub_10018ba0(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018ba0(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  int iVar2;
  int iVar3;
  uint *extraout_EDX;
  uint *puVar4;
  uint uVar5;
  
  uVar5 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar3 = 0;
    puVar4 = extraout_EDX;
    do {
      fVar1 = *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar5 & 3) * 4);
      *puVar4 = ((int)ROUND(*(float *)(iVar3 + 4 + arg3) * 1024.0 + fVar1) & 0x7ffU |
                (int)ROUND(*(float *)(iVar3 + 8 + arg3) * 1024.0 + fVar1) << 0xb) << 10 |
                (int)ROUND(*(float *)(iVar3 + arg3) * 512.0 + fVar1) & 0x3ffU;
      puVar4 = puVar4 + 1;
      uVar5 = uVar5 + 1;
      iVar3 = iVar3 + 0x10;
    } while (uVar5 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018caa @ 10018caa */

/* [binja] int16_t __thiscall sub_10018caa(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018caa(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  float fVar2;
  int iVar3;
  int iVar4;
  uint *extraout_EDX;
  uint *puVar5;
  uint local_c;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar3 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  local_c = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar4 = 0;
    puVar5 = extraout_EDX;
    do {
      fVar1 = *(float *)(iVar3 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (local_c & 3) * 4);
      fVar2 = *(float *)(iVar4 + 0xc + arg3);
      *puVar5 = (((int)ROUND(*(float *)(iVar4 + 8 + arg3) * 512.0 + fVar1) & 0x3ffU |
                 (int)ROUND(fVar2 + fVar2 + fVar1) << 10) << 10 |
                (int)ROUND(*(float *)(iVar4 + 4 + arg3) * 512.0 + fVar1) & 0x3ffU) << 10 |
                (int)ROUND(*(float *)(iVar4 + arg3) * 512.0 + fVar1) & 0x3ffU;
      puVar5 = puVar5 + 1;
      local_c = local_c + 1;
      iVar4 = iVar4 + 0x10;
    } while (local_c < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018de0 @ 10018de0 */

/* [binja] int16_t __thiscall sub_10018de0(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018de0(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  int iVar1;
  float *pfVar2;
  uint uVar3;
  undefined2 *extraout_EDX;
  undefined2 *puVar4;
  int iVar5;
  
  iVar5 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar1 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar3 = 0;
  puVar4 = extraout_EDX;
  if (*(int *)((int)this + 0x1058) != 0) {
    do {
      pfVar2 = (float *)(arg3 + iVar5);
      *puVar4 = (short)(int)ROUND(*(float *)(iVar1 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 +
                                            (uVar3 & 3) * 4) +
                                  (*pfVar2 * 0.2125 + pfVar2[1] * 0.7154 + pfVar2[2] * 0.0721) *
                                  65535.0);
      puVar4 = puVar4 + 1;
      uVar3 = uVar3 + 1;
      iVar5 = iVar5 + 0x10;
    } while (uVar3 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018ea7 @ 10018ea7 */

/* [binja] int16_t __thiscall sub_10018ea7(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018ea7(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  int iVar1;
  float *pfVar2;
  uint uVar3;
  undefined2 *extraout_EDX;
  undefined2 *puVar4;
  int iVar5;
  
  iVar5 = 0;
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar1 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar3 = 0;
  puVar4 = extraout_EDX;
  if (*(int *)((int)this + 0x1058) != 0) {
    do {
      pfVar2 = (float *)(arg3 + iVar5);
      *puVar4 = (short)(int)ROUND(*(float *)(iVar1 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 +
                                            (uVar3 & 3) * 4) +
                                  (*pfVar2 * 0.2125 + pfVar2[1] * 0.7154 + pfVar2[2] * 0.0721) *
                                  65535.0);
      puVar4 = puVar4 + 1;
      uVar3 = uVar3 + 1;
      iVar5 = iVar5 + 0x10;
    } while (uVar3 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_10018f6e @ 10018f6e */

/* [binja] int16_t __thiscall sub_10018f6e(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_10018f6e(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  int iVar2;
  float *pfVar3;
  int iVar4;
  uint *extraout_EDX;
  uint *puVar5;
  uint uVar6;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar6 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar4 = 0;
    puVar5 = extraout_EDX;
    do {
      fVar1 = *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar6 & 3) * 4);
      pfVar3 = (float *)(arg3 + iVar4);
      *puVar5 = (int)ROUND(*(float *)(iVar4 + 0xc + arg3) * 65535.0 + fVar1) << 0x10 |
                (int)ROUND((*pfVar3 * 0.2125 + pfVar3[1] * 0.7154 + pfVar3[2] * 0.0721) * 65535.0 +
                           fVar1);
      puVar5 = puVar5 + 1;
      uVar6 = uVar6 + 1;
      iVar4 = iVar4 + 0x10;
    } while (uVar6 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_1001905c @ 1001905c */

/* [binja] int16_t __thiscall sub_1001905c(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_1001905c(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  float fVar1;
  int iVar2;
  int iVar3;
  undefined2 *extraout_EDX;
  undefined2 *puVar4;
  uint uVar5;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  iVar2 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  uVar5 = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar3 = 0;
    puVar4 = extraout_EDX;
    do {
      fVar1 = *(float *)(iVar2 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (uVar5 & 3) * 4);
      *puVar4 = (short)(int)ROUND(*(float *)(iVar3 + 8 + arg3) * 65535.0 + fVar1);
      puVar4[1] = (short)(int)ROUND(*(float *)(iVar3 + 4 + arg3) * 65535.0 + fVar1);
      puVar4[2] = (short)(int)ROUND(*(float *)(iVar3 + arg3) * 65535.0 + fVar1);
      puVar4 = puVar4 + 3;
      uVar5 = uVar5 + 1;
      iVar3 = iVar3 + 0x10;
    } while (uVar5 < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_1001914b @ 1001914b */

/* [binja] int16_t __thiscall sub_1001914b(void* arg1, int32_t arg2, int32_t arg3, void* arg4) */

short __thiscall FUN_1001914b(void *this,void *arg1,int arg2,int arg3,void *arg4)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  int iVar7;
  uint *puVar8;
  uint local_c;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    arg3 = (int)grim_convert_vertex_space(this,(float *)arg3);
  }
  puVar8 = (uint *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  iVar6 = *(int *)((int)this + 0x2c);
  fpu_set_round_trunc();
  local_c = 0;
  if (*(int *)((int)this + 0x1058) != 0) {
    iVar7 = 0;
    do {
      fVar4 = *(float *)(iVar6 + ((arg2 & 3U) + ((uint)arg1 & 3) * 8) * 4 + (local_c & 3) * 4);
      uVar1 = (uint)ROUND(*(float *)(iVar7 + arg3) * 65535.0 + fVar4);
      uVar2 = (uint)ROUND(*(float *)(iVar7 + 4 + arg3) * 65535.0 + fVar4);
      uVar3 = (uint)ROUND(*(float *)(iVar7 + 8 + arg3) * 65535.0 + fVar4);
      fVar5 = *(float *)(iVar7 + 0xc + arg3);
      *puVar8 = uVar2 << 0x10 | uVar3;
      puVar8[1] = (((int)ROUND(fVar5 * 65535.0 + fVar4) << 0x10 | uVar1) >> 0x10 |
                  (int)uVar2 >> 0x1f) << 0x10 | (uVar1 << 0x10 | uVar2) >> 0x10 | (int)uVar3 >> 0x1f
      ;
      puVar8 = puVar8 + 2;
      local_c = local_c + 1;
      iVar7 = iVar7 + 0x10;
    } while (local_c < *(uint *)((int)this + 0x1058));
  }
  return (short)DAT_1005db6c;
}



/* FUN_100192a7 @ 100192a7 */

/* [binja] void* __thiscall sub_100192a7(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

void * __thiscall FUN_100192a7(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  byte *pbVar1;
  byte *extraout_EAX;
  byte *pbVar2;
  
  pbVar1 = (byte *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pbVar2 = pbVar1 + *(int *)((int)this + 0x1064);
  for (; pbVar1 < pbVar2; pbVar1 = pbVar1 + 3) {
    *(float *)arg3 = (float)pbVar1[2] * 0.003921569;
    *(float *)(arg3 + 4) = (float)pbVar1[1] * 0.003921569;
    *(float *)(arg3 + 8) = (float)*pbVar1 * 0.003921569;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pbVar1 = extraout_EAX;
  }
  return pbVar1;
}



/* FUN_10019333 @ 10019333 */

/* WARNING: Removing unreachable block (ram,0x10019396) */
/* [binja] int32_t* __thiscall sub_10019333(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

int * __thiscall FUN_10019333(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  uint *puVar1;
  uint *puVar2;
  uint *extraout_EAX;
  
  puVar2 = (uint *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  puVar1 = puVar2 + *(int *)((int)this + 0x1058);
  for (; puVar2 < puVar1; puVar2 = puVar2 + 1) {
    *(float *)arg3 = (float)*(byte *)((int)puVar2 + 2) * 0.003921569;
    *(float *)(arg3 + 4) = (float)*(byte *)((int)puVar2 + 1) * 0.003921569;
    *(float *)(arg3 + 8) = (float)(*puVar2 & 0xff) * 0.003921569;
    *(float *)(arg3 + 0xc) = (float)*(byte *)((int)puVar2 + 3) * 0.003921569;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar2 = extraout_EAX;
  }
  return (int *)puVar2;
}



/* FUN_100193d9 @ 100193d9 */

/* WARNING: Removing unreachable block (ram,0x1001943c) */
/* [binja] void* __thiscall sub_100193d9(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

void * __thiscall FUN_100193d9(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  uint *puVar1;
  uint *puVar2;
  uint *extraout_EAX;
  
  puVar2 = (uint *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  puVar1 = puVar2 + *(int *)((int)this + 0x1058);
  for (; puVar2 < puVar1; puVar2 = puVar2 + 1) {
    *(float *)arg3 = (float)*(byte *)((int)puVar2 + 2) * 0.003921569;
    *(float *)(arg3 + 4) = (float)*(byte *)((int)puVar2 + 1) * 0.003921569;
    *(float *)(arg3 + 8) = (float)(*puVar2 & 0xff) * 0.003921569;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar2 = extraout_EAX;
  }
  return puVar2;
}



/* FUN_10019475 @ 10019475 */

/* [binja] int16_t* __thiscall sub_10019475(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

short * __thiscall FUN_10019475(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  ushort *puVar1;
  ushort *puVar2;
  ushort *extraout_EAX;
  
  puVar2 = (ushort *)
           (*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
           *(int *)((int)this + 0x18));
  puVar1 = puVar2 + *(int *)((int)this + 0x1058);
  for (; puVar2 < puVar1; puVar2 = puVar2 + 1) {
    *(float *)arg3 = (float)(*puVar2 >> 0xb) * 0.032258064;
    *(float *)(arg3 + 4) = (float)((*puVar2 & 0x7e0) >> 5) * 0.015873017;
    *(float *)(arg3 + 8) = (float)((byte)*puVar2 & 0x1f) * 0.032258064;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar2 = extraout_EAX;
  }
  return (short *)puVar2;
}



/* FUN_1001951a @ 1001951a */

/* [binja] int16_t* __thiscall sub_1001951a(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

short * __thiscall FUN_1001951a(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  ushort *puVar1;
  ushort *puVar2;
  ushort *extraout_EAX;
  
  puVar2 = (ushort *)
           (*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
           *(int *)((int)this + 0x18));
  puVar1 = puVar2 + *(int *)((int)this + 0x1058);
  for (; puVar2 < puVar1; puVar2 = puVar2 + 1) {
    *(float *)arg3 = (float)((*puVar2 & 0x7c00) >> 10) * 0.032258064;
    *(float *)(arg3 + 4) = (float)((*puVar2 & 0x3e0) >> 5) * 0.032258064;
    *(float *)(arg3 + 8) = (float)((byte)*puVar2 & 0x1f) * 0.032258064;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar2 = extraout_EAX;
  }
  return (short *)puVar2;
}



/* FUN_100195bc @ 100195bc */

/* [binja] int16_t* __thiscall sub_100195bc(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

short * __thiscall FUN_100195bc(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  ushort *puVar1;
  ushort *puVar2;
  ushort *extraout_EAX;
  
  puVar2 = (ushort *)
           (*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
           *(int *)((int)this + 0x18));
  puVar1 = puVar2 + *(int *)((int)this + 0x1058);
  for (; puVar2 < puVar1; puVar2 = puVar2 + 1) {
    *(float *)arg3 = (float)((*puVar2 & 0x7c00) >> 10) * 0.032258064;
    *(float *)(arg3 + 4) = (float)((*puVar2 & 0x3e0) >> 5) * 0.032258064;
    *(float *)(arg3 + 8) = (float)((byte)*puVar2 & 0x1f) * 0.032258064;
    *(float *)(arg3 + 0xc) = (float)(*puVar2 >> 0xf);
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar2 = extraout_EAX;
  }
  return (short *)puVar2;
}



/* FUN_1001966c @ 1001966c */

/* [binja] void* __thiscall sub_1001966c(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

void * __thiscall FUN_1001966c(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  ushort *puVar1;
  ushort *puVar2;
  ushort *extraout_EAX;
  
  puVar2 = (ushort *)
           (*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
           *(int *)((int)this + 0x18));
  puVar1 = puVar2 + *(int *)((int)this + 0x1058);
  for (; puVar2 < puVar1; puVar2 = puVar2 + 1) {
    *(float *)arg3 = (float)(*(byte *)((int)puVar2 + 1) & 0xf) * 0.06666667;
    *(float *)(arg3 + 4) = (float)(byte)((byte)*puVar2 >> 4) * 0.06666667;
    *(float *)(arg3 + 8) = (float)((byte)*puVar2 & 0xf) * 0.06666667;
    *(float *)(arg3 + 0xc) = (float)(*puVar2 >> 0xc) * 0.06666667;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar2 = extraout_EAX;
  }
  return puVar2;
}



/* FUN_1001971b @ 1001971b */

/* WARNING: Removing unreachable block (ram,0x10019782) */
/* WARNING: Removing unreachable block (ram,0x10019767) */
/* WARNING: Removing unreachable block (ram,0x1001979e) */
/* WARNING: Removing unreachable block (ram,0x100197b8) */
/* [binja] int32_t* __thiscall sub_1001971b(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

int * __thiscall FUN_1001971b(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  uint *puVar1;
  uint *puVar2;
  uint *extraout_EAX;
  
  puVar2 = (uint *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  puVar1 = puVar2 + *(int *)((int)this + 0x1058);
  for (; puVar2 < puVar1; puVar2 = puVar2 + 1) {
    *(float *)arg3 = (float)(*puVar2 & 0x3ff) * 0.0009775171;
    *(float *)(arg3 + 4) = (float)(*puVar2 >> 10 & 0x3ff) * 0.0009775171;
    *(float *)(arg3 + 8) = (float)(*puVar2 >> 0x14 & 0x3ff) * 0.0009775171;
    *(float *)(arg3 + 0xc) = (float)(*puVar2 >> 0x1e) * 0.33333334;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar2 = extraout_EAX;
  }
  return (int *)puVar2;
}



/* FUN_100197f1 @ 100197f1 */

/* WARNING: Removing unreachable block (ram,0x10019837) */
/* [binja] int32_t* __thiscall sub_100197f1(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

int * __thiscall FUN_100197f1(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  uint *puVar1;
  uint *puVar2;
  uint *extraout_EAX;
  
  puVar2 = (uint *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  puVar1 = puVar2 + *(int *)((int)this + 0x1058);
  for (; puVar2 < puVar1; puVar2 = puVar2 + 1) {
    *(float *)arg3 = (float)(*puVar2 & 0xffff) * 1.5259022e-05;
    *(float *)(arg3 + 4) = (float)*(ushort *)((int)puVar2 + 2) * 1.5259022e-05;
    *(float *)(arg3 + 8) = 1.0;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar2 = extraout_EAX;
  }
  return (int *)puVar2;
}



/* FUN_10019883 @ 10019883 */

/* [binja] char* __thiscall sub_10019883(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

char * __thiscall FUN_10019883(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  byte *pbVar1;
  byte *extraout_EAX;
  byte *pbVar2;
  
  pbVar1 = (byte *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pbVar2 = pbVar1 + *(int *)((int)this + 0x1058);
  for (; pbVar1 < pbVar2; pbVar1 = pbVar1 + 1) {
    *(float *)arg3 = (float)(*pbVar1 >> 5) * 0.14285715;
    *(float *)(arg3 + 4) = (float)(*pbVar1 >> 2 & 7) * 0.14285715;
    *(float *)(arg3 + 8) = (float)(*pbVar1 & 3) * 0.33333334;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pbVar1 = extraout_EAX;
  }
  return (char *)pbVar1;
}



/* FUN_10019925 @ 10019925 */

/* [binja] char* __thiscall sub_10019925(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

char * __thiscall FUN_10019925(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  byte *pbVar1;
  byte *extraout_EAX;
  byte *pbVar2;
  
  pbVar1 = (byte *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pbVar2 = pbVar1 + *(int *)((int)this + 0x1058);
  for (; pbVar1 < pbVar2; pbVar1 = pbVar1 + 1) {
    *(undefined4 *)arg3 = 0;
    *(undefined4 *)(arg3 + 4) = 0;
    *(undefined4 *)(arg3 + 8) = 0;
    *(float *)(arg3 + 0xc) = (float)*pbVar1 * 0.003921569;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pbVar1 = extraout_EAX;
  }
  return (char *)pbVar1;
}



/* FUN_10019997 @ 10019997 */

/* [binja] char* __thiscall sub_10019997(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

char * __thiscall FUN_10019997(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  byte *pbVar1;
  byte *pbVar2;
  byte *extraout_EAX;
  
  pbVar2 = (byte *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pbVar1 = pbVar2 + *(int *)((int)this + 0x1058) * 2;
  for (; pbVar2 < pbVar1; pbVar2 = pbVar2 + 2) {
    *(float *)arg3 = (float)(*pbVar2 >> 5) * 0.14285715;
    *(float *)(arg3 + 4) = (float)(*pbVar2 >> 2 & 7) * 0.14285715;
    *(float *)(arg3 + 8) = (float)(*pbVar2 & 3) * 0.33333334;
    *(float *)(arg3 + 0xc) = (float)pbVar2[1] * 0.003921569;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pbVar2 = extraout_EAX;
  }
  return (char *)pbVar2;
}



/* FUN_10019a49 @ 10019a49 */

/* [binja] void* __thiscall sub_10019a49(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

void * __thiscall FUN_10019a49(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  byte *pbVar1;
  byte *pbVar2;
  byte *extraout_EAX;
  
  pbVar2 = (byte *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pbVar1 = pbVar2 + *(int *)((int)this + 0x1058) * 2;
  for (; pbVar2 < pbVar1; pbVar2 = pbVar2 + 2) {
    *(float *)arg3 = (float)(pbVar2[1] & 0xf) * 0.06666667;
    *(float *)(arg3 + 4) = (float)(*pbVar2 >> 4) * 0.06666667;
    *(float *)(arg3 + 8) = (float)(*pbVar2 & 0xf) * 0.06666667;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pbVar2 = extraout_EAX;
  }
  return pbVar2;
}



/* FUN_10019ae8 @ 10019ae8 */

/* [binja] char* __thiscall sub_10019ae8(void* arg1, void* arg2, int32_t arg3, uint32_t arg4) */

char * __thiscall FUN_10019ae8(void *this,void *arg1,void *arg2,int arg3,uint arg4)

{
  byte *pbVar1;
  byte *pbVar2;
  byte *extraout_EAX;
  undefined4 *puVar3;
  
  pbVar2 = (byte *)(*(int *)((int)this + 0x1050) * (int)arg1 +
                    *(int *)((int)this + 0x1054) * (int)arg2 + *(int *)((int)this + 0x18));
  pbVar1 = pbVar2 + *(int *)((int)this + 0x1058) * 2;
  for (; pbVar2 < pbVar1; pbVar2 = pbVar2 + 2) {
    puVar3 = (undefined4 *)((*pbVar2 + 3) * 0x10 + (int)this);
    *(undefined4 *)arg3 = *puVar3;
    *(undefined4 *)(arg3 + 4) = puVar3[1];
    *(undefined4 *)(arg3 + 8) = puVar3[2];
    *(undefined4 *)(arg3 + 0xc) = puVar3[3];
    *(float *)(arg3 + 0xc) = (float)pbVar2[1] * 0.003921569;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pbVar2 = extraout_EAX;
  }
  return (char *)pbVar2;
}



/* FUN_10019bd3 @ 10019bd3 */

/* [binja] char* __thiscall sub_10019bd3(void* arg1, int32_t arg2, int32_t arg3, uint32_t arg4) */

char * __thiscall FUN_10019bd3(void *this,void *arg1,int arg2,int arg3,uint arg4)

{
  float fVar1;
  byte *pbVar2;
  byte *extraout_EAX;
  byte *pbVar3;
  
  pbVar2 = (byte *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pbVar3 = pbVar2 + *(int *)((int)this + 0x1058);
  for (; pbVar2 < pbVar3; pbVar2 = pbVar2 + 1) {
    fVar1 = (float)*pbVar2 * 0.003921569;
    *(float *)(arg3 + 8) = fVar1;
    *(float *)(arg3 + 4) = fVar1;
    *(float *)arg3 = fVar1;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pbVar2 = extraout_EAX;
  }
  return (char *)pbVar2;
}



/* FUN_10019c41 @ 10019c41 */

/* [binja] char* __thiscall sub_10019c41(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

char * __thiscall FUN_10019c41(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  byte *pbVar1;
  float fVar2;
  byte *pbVar3;
  byte *extraout_EAX;
  
  pbVar3 = (byte *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pbVar1 = pbVar3 + *(int *)((int)this + 0x1058) * 2;
  for (; pbVar3 < pbVar1; pbVar3 = pbVar3 + 2) {
    fVar2 = (float)*pbVar3 * 0.003921569;
    *(float *)(arg3 + 8) = fVar2;
    *(float *)(arg3 + 4) = fVar2;
    *(float *)arg3 = fVar2;
    *(float *)(arg3 + 0xc) = (float)pbVar3[1] * 0.003921569;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pbVar3 = extraout_EAX;
  }
  return (char *)pbVar3;
}



/* FUN_10019cca @ 10019cca */

/* [binja] char* __thiscall sub_10019cca(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

char * __thiscall FUN_10019cca(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  float fVar1;
  byte *pbVar2;
  byte *extraout_EAX;
  byte *pbVar3;
  
  pbVar2 = (byte *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pbVar3 = pbVar2 + *(int *)((int)this + 0x1058);
  for (; pbVar2 < pbVar3; pbVar2 = pbVar2 + 1) {
    fVar1 = (float)(*pbVar2 & 0xf) * 0.06666667;
    *(float *)(arg3 + 8) = fVar1;
    *(float *)(arg3 + 4) = fVar1;
    *(float *)arg3 = fVar1;
    *(float *)(arg3 + 0xc) = (float)(*pbVar2 >> 4) * 0.06666667;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pbVar2 = extraout_EAX;
  }
  return (char *)pbVar2;
}



/* FUN_10019d53 @ 10019d53 */

/* [binja] char* __thiscall sub_10019d53(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

char * __thiscall FUN_10019d53(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  char *pcVar1;
  char *pcVar2;
  char *extraout_EAX;
  
  pcVar2 = (char *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pcVar1 = pcVar2 + *(int *)((int)this + 0x1058) * 2;
  for (; pcVar2 < pcVar1; pcVar2 = pcVar2 + 2) {
    *(float *)arg3 = (float)(int)*pcVar2 * 0.0078125;
    *(float *)(arg3 + 4) = (float)(int)pcVar2[1] * 0.0078125;
    *(float *)(arg3 + 8) = 0.0;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pcVar2 = extraout_EAX;
  }
  return pcVar2;
}



/* FUN_10019dd5 @ 10019dd5 */

/* [binja] char* __thiscall sub_10019dd5(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

char * __thiscall FUN_10019dd5(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  ushort *puVar1;
  ushort uVar2;
  ushort *puVar3;
  ushort *extraout_EAX;
  
  puVar3 = (ushort *)
           (*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
           *(int *)((int)this + 0x18));
  puVar1 = puVar3 + *(int *)((int)this + 0x1058);
  for (; puVar3 < puVar1; puVar3 = puVar3 + 1) {
    uVar2 = *puVar3;
    *(float *)arg3 = (float)(int)((char)((char)*puVar3 << 3) >> 3) * 0.0625;
    *(float *)(arg3 + 4) = (float)(int)((char)((char)(uVar2 >> 5) << 3) >> 3) * 0.0625;
    *(float *)(arg3 + 8) = 0.0;
    *(float *)(arg3 + 0xc) = (float)(*puVar3 >> 10) * 0.015873017;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar3 = extraout_EAX;
  }
  return (char *)puVar3;
}



/* FUN_10019e86 @ 10019e86 */

/* [binja] char* __thiscall sub_10019e86(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

char * __thiscall FUN_10019e86(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  char *pcVar1;
  char *pcVar2;
  char *extraout_EAX;
  
  pcVar2 = (char *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pcVar1 = pcVar2 + *(int *)((int)this + 0x1058) * 4;
  for (; pcVar2 < pcVar1; pcVar2 = pcVar2 + 4) {
    *(float *)arg3 = (float)(int)*pcVar2 * 0.0078125;
    *(float *)(arg3 + 4) = (float)(int)pcVar2[1] * 0.0078125;
    *(float *)(arg3 + 8) = 0.0;
    *(float *)(arg3 + 0xc) = (float)(byte)pcVar2[2] * 0.003921569;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pcVar2 = extraout_EAX;
  }
  return pcVar2;
}



/* FUN_10019f17 @ 10019f17 */

/* [binja] char* __thiscall sub_10019f17(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

char * __thiscall FUN_10019f17(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  char *pcVar1;
  char *pcVar2;
  char *extraout_EAX;
  
  pcVar2 = (char *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  pcVar1 = pcVar2 + *(int *)((int)this + 0x1058) * 4;
  for (; pcVar2 < pcVar1; pcVar2 = pcVar2 + 4) {
    *(float *)arg3 = (float)(int)*pcVar2 * 0.0078125;
    *(float *)(arg3 + 4) = (float)(int)pcVar2[1] * 0.0078125;
    *(float *)(arg3 + 8) = (float)(int)pcVar2[2] * 0.0078125;
    *(float *)(arg3 + 0xc) = (float)(int)pcVar2[3] * 0.0078125;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    pcVar2 = extraout_EAX;
  }
  return pcVar2;
}



/* FUN_10019fae @ 10019fae */

/* [binja] int16_t* __thiscall sub_10019fae(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

short * __thiscall FUN_10019fae(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  short *psVar1;
  short *psVar2;
  short *extraout_EAX;
  
  psVar2 = (short *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2
                    + *(int *)((int)this + 0x18));
  psVar1 = psVar2 + *(int *)((int)this + 0x1058) * 2;
  for (; psVar2 < psVar1; psVar2 = psVar2 + 2) {
    *(float *)arg3 = (float)(int)*psVar2 * 3.0517578e-05;
    *(float *)(arg3 + 4) = (float)(int)psVar2[1] * 3.0517578e-05;
    *(float *)(arg3 + 8) = 0.0;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    psVar2 = extraout_EAX;
  }
  return psVar2;
}



/* FUN_1001a031 @ 1001a031 */

/* [binja] int32_t* __thiscall sub_1001a031(void* arg1, uint32_t arg2, int32_t arg3, int32_t arg4)
    */

int * __thiscall FUN_1001a031(void *this,void *arg1,uint arg2,int arg3,int arg4)

{
  uint *puVar1;
  uint uVar2;
  uint *puVar3;
  uint *extraout_EAX;
  
  puVar3 = (uint *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  puVar1 = puVar3 + *(int *)((int)this + 0x1058);
  for (; puVar3 < puVar1; puVar3 = puVar3 + 1) {
    uVar2 = *puVar3;
    *(float *)arg3 = (float)(int)((short)((short)*puVar3 << 6) >> 6) * 0.001953125;
    *(float *)(arg3 + 4) = (float)(int)((short)((short)(uVar2 >> 10) << 5) >> 5) * 0.0009765625;
    *(float *)(arg3 + 8) = (float)(int)(short)((int)uVar2 >> 0x15) * 0.0009765625;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar3 = extraout_EAX;
  }
  return (int *)puVar3;
}



/* FUN_1001a0eb @ 1001a0eb */

/* WARNING: Removing unreachable block (ram,0x1001a185) */
/* [binja] int32_t* __thiscall sub_1001a0eb(void* arg1, uint32_t arg2, int32_t arg3, int32_t arg4)
    */

int * __thiscall FUN_1001a0eb(void *this,void *arg1,uint arg2,int arg3,int arg4)

{
  uint *puVar1;
  uint uVar2;
  uint *puVar3;
  uint *extraout_EAX;
  
  puVar3 = (uint *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  puVar1 = puVar3 + *(int *)((int)this + 0x1058);
  for (; puVar3 < puVar1; puVar3 = puVar3 + 1) {
    uVar2 = *puVar3;
    *(float *)arg3 = (float)(int)((short)((short)*puVar3 << 6) >> 6) * 0.001953125;
    *(float *)(arg3 + 4) = (float)(int)((short)((short)(uVar2 >> 10) << 6) >> 6) * 0.001953125;
    *(float *)(arg3 + 8) = (float)(int)((short)((ushort)(uVar2 >> 0x14) << 6) >> 6) * 0.001953125;
    *(float *)(arg3 + 0xc) = (float)(*puVar3 >> 0x1e) * 0.33333334;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar3 = extraout_EAX;
  }
  return (int *)puVar3;
}



/* FUN_1001a1be @ 1001a1be */

/* [binja] int16_t* __thiscall sub_1001a1be(void* arg1, int32_t arg2, int32_t arg3, uint32_t arg4)
    */

short * __thiscall FUN_1001a1be(void *this,void *arg1,int arg2,int arg3,uint arg4)

{
  ushort *puVar1;
  float fVar2;
  ushort *puVar3;
  ushort *extraout_EAX;
  
  puVar3 = (ushort *)
           (*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
           *(int *)((int)this + 0x18));
  puVar1 = puVar3 + *(int *)((int)this + 0x1058);
  for (; puVar3 < puVar1; puVar3 = puVar3 + 1) {
    fVar2 = (float)*puVar3 * 1.5259022e-05;
    *(float *)(arg3 + 8) = fVar2;
    *(float *)(arg3 + 4) = fVar2;
    *(float *)arg3 = fVar2;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar3 = extraout_EAX;
  }
  return (short *)puVar3;
}



/* FUN_1001a22e @ 1001a22e */

/* WARNING: Removing unreachable block (ram,0x1001a274) */
/* [binja] int32_t* __thiscall sub_1001a22e(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

int * __thiscall FUN_1001a22e(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  uint *puVar1;
  float fVar2;
  uint *puVar3;
  uint *extraout_EAX;
  
  puVar3 = (uint *)(*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  puVar1 = puVar3 + *(int *)((int)this + 0x1058);
  for (; puVar3 < puVar1; puVar3 = puVar3 + 1) {
    fVar2 = (float)(*puVar3 & 0xffff) * 1.5259022e-05;
    *(float *)(arg3 + 8) = fVar2;
    *(float *)(arg3 + 4) = fVar2;
    *(float *)arg3 = fVar2;
    *(float *)(arg3 + 0xc) = (float)*(ushort *)((int)puVar3 + 2) * 1.5259022e-05;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar3 = extraout_EAX;
  }
  return (int *)puVar3;
}



/* FUN_1001a2bc @ 1001a2bc */

/* [binja] void* __thiscall sub_1001a2bc(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

void * __thiscall FUN_1001a2bc(void *this,void *arg1,int arg2,int arg3,int arg4)

{
  ushort *puVar1;
  ushort *extraout_EAX;
  ushort *puVar2;
  
  puVar1 = (ushort *)
           (*(int *)((int)this + 0x1050) * (int)arg1 + *(int *)((int)this + 0x1054) * arg2 +
           *(int *)((int)this + 0x18));
  puVar2 = (ushort *)(*(int *)((int)this + 0x1064) + (int)puVar1);
  for (; puVar1 < puVar2; puVar1 = puVar1 + 3) {
    *(float *)arg3 = (float)puVar1[2] * 1.5259022e-05;
    *(float *)(arg3 + 4) = (float)puVar1[1] * 1.5259022e-05;
    *(float *)(arg3 + 8) = (float)*puVar1 * 1.5259022e-05;
    *(float *)(arg3 + 0xc) = 1.0;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar1 = extraout_EAX;
  }
  return puVar1;
}



/* FUN_1001a348 @ 1001a348 */

/* WARNING: Removing unreachable block (ram,0x1001a3c7) */
/* WARNING: Removing unreachable block (ram,0x1001a3a5) */
/* WARNING: Removing unreachable block (ram,0x1001a3e0) */
/* [binja] uint32_t __thiscall sub_1001a348(uint32_t arg1, uint32_t arg2, int32_t arg3, uint32_t
   arg4) */

uint __thiscall FUN_1001a348(void *this,uint arg1,uint arg2,int arg3,uint arg4)

{
  uint *puVar1;
  uint *puVar2;
  uint *extraout_EAX;
  uint *puVar3;
  ulonglong uVar4;
  
  puVar3 = (uint *)(*(int *)((int)this + 0x1050) * arg1 + *(int *)((int)this + 0x1054) * arg2 +
                   *(int *)((int)this + 0x18));
  puVar1 = puVar3 + *(int *)((int)this + 0x1058) * 2;
  puVar2 = puVar1;
  for (; puVar3 < puVar1; puVar3 = puVar3 + 2) {
    uVar4 = __aullshr(0x20,puVar3[1]);
    *(float *)arg3 = (float)((uint)uVar4 & 0xffff) * 1.5259022e-05;
    *(float *)(arg3 + 4) = (float)(*puVar3 >> 0x10) * 1.5259022e-05;
    *(float *)(arg3 + 8) = (float)(*puVar3 & 0xffff) * 1.5259022e-05;
    puVar2 = (uint *)(uint)*(ushort *)((int)puVar3 + 6);
    *(float *)(arg3 + 0xc) = (float)(int)puVar2 * 1.5259022e-05;
    arg3 = (int)(arg3 + 0x10);
  }
  if (*(int *)((int)this + 0x10) != 0) {
    grim_apply_color_key(this,(float *)(arg3 + *(int *)((int)this + 0x1058) * -4 * 4));
    puVar2 = extraout_EAX;
  }
  return (uint)puVar2;
}



/* grim_pixel_format_ctor_r8g8b8 @ 1001a428 */

/* pixel format ctor for D3DFMT_R8G8B8 */

void * __thiscall grim_pixel_format_ctor_r8g8b8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x18,1);
  *(undefined ***)this = &PTR_FUN_1004cb6c;
  return this;
}



/* grim_pixel_format_init_yuv @ 1001a444 */

/* initializes packed YUV (UYVY/YUY2) cache state and allocates RGB float cache */

void * grim_pixel_format_init_yuv(void *this,uint *desc)

{
  uint uVar1;
  uint uVar2;
  void *pvVar3;
  undefined4 *this_00;
  int iVar4;
  int unaff_EBP;
  
  seh_prolog();
  *(undefined4 **)(unaff_EBP + -0x14) = this_00;
  grim_pixel_format_init(this_00,*(uint **)(unaff_EBP + 8),0,1);
  uVar1 = this_00[0x40c];
  uVar2 = this_00[0x40e] + 1 & 0xfffffffe;
  iVar4 = uVar2 - (uVar1 & 0xfffffffe);
  this_00[0x41e] = uVar2;
  *(undefined4 *)(unaff_EBP + -4) = 0;
  *this_00 = &PTR_LAB_1004cb7c;
  this_00[0x41c] = uVar1 & 0xfffffffe;
  this_00[0x41d] = 0;
  this_00[0x420] = 0;
  this_00[0x41f] = 0;
  this_00[0x421] = 0;
  this_00[0x422] = iVar4;
  this_00[0x423] = 0;
  this_00[0x424] = 1;
  pvVar3 = operator_new(iVar4 * 0x10);
  *(void **)(unaff_EBP + -0x10) = pvVar3;
  *(undefined1 *)(unaff_EBP + -4) = 1;
  if (pvVar3 == (void *)0x0) {
    iVar4 = 0;
  }
  else {
    _vector_constructor_iterator_(pvVar3,0x10,iVar4,(_func_void_ptr_void_ptr *)&LAB_1000ae4f);
    iVar4 = *(int *)(unaff_EBP + -0x10);
  }
  this_00[0x41b] = iVar4;
  if (iVar4 == 0) {
    this_00[0x424] = 0;
  }
  if (*(int *)(*(int *)(unaff_EBP + 8) + 4) == 0x59565955) {
    this_00[0x425] = 8;
    this_00[0x426] = 0;
  }
  else {
    this_00[0x425] = 0;
    this_00[0x426] = 8;
  }
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return this_00;
}



/* grim_pixel_format_ctor_a8r8g8b8 @ 1001a53c */

/* pixel format ctor for D3DFMT_A8R8G8B8 */

void * __thiscall grim_pixel_format_ctor_a8r8g8b8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,1);
  *(undefined ***)this = &PTR_FUN_1004cb8c;
  return this;
}



/* grim_pixel_format_ctor_x8r8g8b8 @ 1001a558 */

/* pixel format ctor for D3DFMT_X8R8G8B8 */

void * __thiscall grim_pixel_format_ctor_x8r8g8b8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,1);
  *(undefined ***)this = &PTR_FUN_1004cb9c;
  return this;
}



/* grim_pixel_format_ctor_r5g6b5 @ 1001a579 */

/* pixel format ctor for D3DFMT_R5G6B5 */

void * __thiscall grim_pixel_format_ctor_r5g6b5(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004cbac;
  return this;
}



/* grim_pixel_format_flush_yuv_cache @ 1001a595 */

/* flushes cached YUV<->RGB conversions back into packed 16-bit storage */

int __fastcall grim_pixel_format_flush_yuv_cache(void *this)

{
  float *pfVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  ushort *local_10;
  uint local_c;
  
  if ((*(int *)((int)this + 0x108c) != 0) && (*(int *)((int)this + 0x1090) != 0)) {
    local_c = *(uint *)((int)this + 0x1070);
    local_10 = (ushort *)
               (*(int *)((int)this + 0x1080) * *(int *)((int)this + 0x1054) +
                *(int *)((int)this + 0x1074) * *(int *)((int)this + 0x1050) + local_c * 2 +
               *(int *)((int)this + 0x18));
    pfVar1 = *(float **)((int)this + 0x106c);
    if (local_c < *(uint *)((int)this + 0x1078)) {
      do {
        iVar2 = (int)ROUND(pfVar1[2] * 24.966 + pfVar1[1] * 128.553 + *pfVar1 * 65.481 + 0.5) + 0x10
        ;
        iVar4 = (int)ROUND(pfVar1[5] * 128.553 + pfVar1[6] * 24.966 + pfVar1[4] * 65.481 + 0.5) +
                0x10;
        iVar3 = (int)ROUND(((pfVar1[2] * 112.0 - pfVar1[1] * 74.203) - *pfVar1 * 37.797) + 0.5) +
                0x80;
        iVar5 = (int)ROUND((*pfVar1 * 112.0 - (pfVar1[2] * 18.214 + pfVar1[1] * 93.786)) + 0.5) +
                0x80;
        if (iVar2 < 0) {
          iVar2 = 0;
        }
        else if (0xff < iVar2) {
          iVar2 = 0xff;
        }
        if (iVar4 < 0) {
          iVar4 = 0;
        }
        else if (0xff < iVar4) {
          iVar4 = 0xff;
        }
        if (iVar3 < 0) {
          iVar3 = 0;
        }
        else if (0xff < iVar3) {
          iVar3 = 0xff;
        }
        if (iVar5 < 0) {
          iVar5 = 0;
        }
        else if (0xff < iVar5) {
          iVar5 = 0xff;
        }
        local_c = local_c + 2;
        pfVar1 = pfVar1 + 8;
        *local_10 = (ushort)(iVar2 << ((byte)*(undefined4 *)((int)this + 0x1094) & 0x1f)) |
                    (ushort)(iVar3 << ((byte)*(undefined4 *)((int)this + 0x1098) & 0x1f));
        local_10[1] = (ushort)(iVar4 << ((byte)*(undefined4 *)((int)this + 0x1094) & 0x1f)) |
                      (ushort)(iVar5 << ((byte)*(undefined4 *)((int)this + 0x1098) & 0x1f));
        local_10 = local_10 + 2;
      } while (local_c < *(uint *)((int)this + 0x1078));
    }
    *(undefined4 *)((int)this + 0x108c) = 0;
  }
  return 0;
}



/* grim_pixel_format_ctor_x1r5g5b5 @ 1001a781 */

/* pixel format ctor for D3DFMT_X1R5G5B5 */

void * __thiscall grim_pixel_format_ctor_x1r5g5b5(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004cbdc;
  return this;
}



/* grim_pixel_format_ctor_a1r5g5b5 @ 1001a79d */

/* pixel format ctor for D3DFMT_A1R5G5B5 */

void * __thiscall grim_pixel_format_ctor_a1r5g5b5(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004cbec;
  return this;
}



/* grim_pixel_format_load_yuv_cache @ 1001a7b9 */

/* loads packed YUV pixels into float cache and converts to RGB */

int __thiscall grim_pixel_format_load_yuv_cache(void *this,uint x,uint y,int load_from_surface)

{
  undefined2 uVar1;
  ushort uVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  int iVar10;
  float *pfVar11;
  ushort *puVar12;
  
  if (*(int *)((int)this + 0x1090) == 0) {
    iVar10 = -0x7ff8fff2;
  }
  else {
    if ((((x < *(uint *)((int)this + 0x1074)) || (*(uint *)((int)this + 0x107c) <= x)) ||
        (y < *(uint *)((int)this + 0x1080))) || (*(uint *)((int)this + 0x1084) <= y)) {
      iVar10 = grim_pixel_format_flush_yuv_cache(this);
      if (iVar10 < 0) {
        return iVar10;
      }
      *(uint *)((int)this + 0x107c) = x + 1;
      *(uint *)((int)this + 0x1074) = x;
      *(uint *)((int)this + 0x1080) = y;
      *(uint *)((int)this + 0x1084) = y + 1;
      if (load_from_surface != 0) {
        load_from_surface = *(uint *)((int)this + 0x1070);
        pfVar11 = *(float **)((int)this + 0x106c);
        puVar12 = (ushort *)
                  (*(int *)((int)this + 0x1050) * x + *(int *)((int)this + 0x1054) * y +
                   load_from_surface * 2 + *(int *)((int)this + 0x18));
        if ((uint)load_from_surface < *(uint *)((int)this + 0x1078)) {
          do {
            uVar1 = *(undefined2 *)((int)this + 0x1094);
            uVar2 = puVar12[1];
            fVar7 = (float)(*puVar12 >> ((byte)*(undefined2 *)((int)this + 0x1098) & 0x1f) & 0xff) -
                    128.0;
            fVar6 = (float)(uVar2 >> ((byte)*(undefined2 *)((int)this + 0x1098) & 0x1f) & 0xff) -
                    128.0;
            fVar3 = fVar6 * 0.00625893;
            fVar5 = ((float)(*puVar12 >> ((byte)*(undefined2 *)((int)this + 0x1094) & 0x1f) & 0xff)
                    - 16.0) * 0.00456621;
            fVar4 = fVar5 + fVar3;
            *pfVar11 = fVar4;
            fVar8 = fVar7 * 0.00153632;
            fVar6 = fVar6 * 0.00318811;
            fVar9 = (fVar5 - fVar8) - fVar6;
            pfVar11[1] = fVar9;
            fVar7 = fVar7 * 0.00791071;
            fVar5 = fVar7 + fVar5;
            pfVar11[2] = fVar5;
            pfVar11[3] = 1.0;
            if (0.0 <= fVar4) {
              if (1.0 < fVar4) {
                fVar4 = 1.0;
              }
            }
            else {
              fVar4 = 0.0;
            }
            *pfVar11 = fVar4;
            if (0.0 <= fVar9) {
              if (1.0 < fVar9) {
                fVar9 = 1.0;
              }
            }
            else {
              fVar9 = 0.0;
            }
            pfVar11[1] = fVar9;
            if (0.0 <= fVar5) {
              if (1.0 < fVar5) {
                fVar5 = 1.0;
              }
            }
            else {
              fVar5 = 0.0;
            }
            pfVar11[2] = fVar5;
            fVar4 = ((float)(uVar2 >> ((byte)uVar1 & 0x1f) & 0xff) - 16.0) * 0.00456621;
            fVar3 = fVar4 + fVar3;
            pfVar11[4] = fVar3;
            fVar6 = (fVar4 - fVar8) - fVar6;
            pfVar11[5] = fVar6;
            fVar4 = fVar4 + fVar7;
            pfVar11[6] = fVar4;
            pfVar11[7] = 1.0;
            if (0.0 <= fVar3) {
              if (1.0 < fVar3) {
                fVar3 = 1.0;
              }
            }
            else {
              fVar3 = 0.0;
            }
            pfVar11[4] = fVar3;
            if (0.0 <= fVar6) {
              if (1.0 < fVar6) {
                fVar6 = 1.0;
              }
            }
            else {
              fVar6 = 0.0;
            }
            pfVar11[5] = fVar6;
            if (0.0 <= fVar4) {
              if (1.0 < fVar4) {
                fVar4 = 1.0;
              }
            }
            else {
              fVar4 = 0.0;
            }
            load_from_surface = load_from_surface + 2;
            pfVar11[6] = fVar4;
            puVar12 = puVar12 + 2;
            pfVar11 = pfVar11 + 8;
          } while ((uint)load_from_surface < *(uint *)((int)this + 0x1078));
        }
      }
    }
    iVar10 = 0;
  }
  return iVar10;
}



/* grim_pixel_format_ctor_a4r4g4b4 @ 1001aa8a */

/* pixel format ctor for D3DFMT_A4R4G4B4 */

void * __thiscall grim_pixel_format_ctor_a4r4g4b4(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004cc10;
  return this;
}



/* grim_pixel_format_ctor_r3g3b2 @ 1001aaa6 */

/* pixel format ctor for D3DFMT_R3G3B2 */

void * __thiscall grim_pixel_format_ctor_r3g3b2(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,8,1);
  *(undefined ***)this = &PTR_FUN_1004cc20;
  return this;
}



/* grim_pixel_format_ctor_a8 @ 1001aac2 */

/* pixel format ctor for D3DFMT_A8 */

void * __thiscall grim_pixel_format_ctor_a8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,8,1);
  *(undefined ***)this = &PTR_FUN_1004cc30;
  return this;
}



/* grim_pixel_format_ctor_a8r3g3b2 @ 1001aade */

/* pixel format ctor for D3DFMT_A8R3G3B2 */

void * __thiscall grim_pixel_format_ctor_a8r3g3b2(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004cc40;
  return this;
}



/* grim_pixel_format_ctor_x4r4g4b4 @ 1001aafa */

/* pixel format ctor for D3DFMT_X4R4G4B4 */

void * __thiscall grim_pixel_format_ctor_x4r4g4b4(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004cc50;
  return this;
}



/* grim_pixel_format_write_yuv_cache @ 1001ab16 */

/* loads YUV cache for coords, copies RGBA floats into cache, marks dirty for flush */

void __thiscall grim_pixel_format_write_yuv_cache(void *this,int x,int y,float *pixels)

{
  int iVar1;
  uint uVar2;
  float *pfVar3;
  
  if (*(int *)((int)this + 0x1048) != 0) {
    pixels = grim_convert_vertex_space(this,pixels);
  }
  iVar1 = grim_pixel_format_load_yuv_cache
                    (this,x + *(int *)((int)this + 0x1034),y + *(int *)((int)this + 0x1040),
                     (uint)(*(int *)((int)this + 0x1088) != *(int *)((int)this + 0x1058)));
  if (-1 < iVar1) {
    pfVar3 = (float *)((*(int *)((int)this + 0x1030) - *(int *)((int)this + 0x1070)) * 0x10 +
                      *(int *)((int)this + 0x106c));
    for (uVar2 = (uint)(*(int *)((int)this + 0x1058) << 4) >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
      *pfVar3 = *pixels;
      pixels = pixels + 1;
      pfVar3 = pfVar3 + 1;
    }
    for (iVar1 = 0; iVar1 != 0; iVar1 = iVar1 + -1) {
      *(undefined1 *)pfVar3 = *(undefined1 *)pixels;
      pixels = (float *)((int)pixels + 1);
      pfVar3 = (float *)((int)pfVar3 + 1);
    }
    *(undefined4 *)((int)this + 0x108c) = 1;
  }
  return;
}



/* grim_pixel_format_ctor_a2b10g10r10 @ 1001aba3 */

/* pixel format ctor for D3DFMT_A2B10G10R10 */

void * __thiscall grim_pixel_format_ctor_a2b10g10r10(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,1);
  *(undefined ***)this = &PTR_FUN_1004cc60;
  return this;
}



/* grim_pixel_format_ctor_g16r16 @ 1001ac2e */

/* pixel format ctor for D3DFMT_G16R16 */

void * __thiscall grim_pixel_format_ctor_g16r16(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,1);
  *(undefined ***)this = &PTR_FUN_1004cc70;
  return this;
}



/* grim_pixel_format_init_dxt @ 1001ac4a */

/* initializes DXT block-compressed pixel format (DXT1..DXT5) */

void * __thiscall grim_pixel_format_init_dxt(void *this,uint *desc)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  undefined4 uVar4;
  uint uVar5;
  uint uVar6;
  
  uVar4 = 1;
  grim_pixel_format_init(this,desc,0,1);
  *(undefined ***)this = &PTR_FUN_1004caf8;
  if (desc[6] == 1) {
    *(undefined4 *)((int)this + 0x1078) = 0;
  }
  else if (desc[6] == 2) {
    *(undefined4 *)((int)this + 0x1078) = 1;
  }
  else {
    *(undefined4 *)((int)this + 0x1078) = 3;
  }
  if (desc[7] == 1) {
    *(undefined4 *)((int)this + 0x107c) = 0;
  }
  else if (desc[7] == 2) {
    *(undefined4 *)((int)this + 0x107c) = 1;
  }
  else {
    *(undefined4 *)((int)this + 0x107c) = 3;
  }
  if ((*(int *)((int)this + 0x1078) == 3) && (*(int *)((int)this + 0x107c) == 3)) {
    uVar4 = 0;
  }
  *(undefined4 *)((int)this + 0x1074) = uVar4;
  iVar1 = *(int *)((int)this + 4);
  if (iVar1 == 0x31545844) {
    *(undefined4 *)((int)this + 0x1080) = 8;
    *(undefined1 **)((int)this + 0x1088) = &LAB_10021b96;
    *(code **)((int)this + 0x1084) = grim_dxt1_decode_color_block;
  }
  else if (iVar1 == 0x32545844) {
    *(undefined4 *)((int)this + 0x1080) = 0x10;
    *(code **)((int)this + 0x1088) = grim_dxt2_encode_block;
    *(undefined1 **)((int)this + 0x1084) = &grim_dxt2_decode_block;
  }
  else if (iVar1 == 0x33545844) {
    *(undefined4 *)((int)this + 0x1080) = 0x10;
    *(code **)((int)this + 0x1088) = grim_dxt3_encode_block;
    *(code **)((int)this + 0x1084) = grim_dxt3_decode_block;
  }
  else if (iVar1 == 0x34545844) {
    *(undefined4 *)((int)this + 0x1080) = 0x10;
    *(code **)((int)this + 0x1088) = grim_dxt4_encode_block;
    *(undefined1 **)((int)this + 0x1084) = &grim_dxt4_decode_block;
  }
  else if (iVar1 == 0x35545844) {
    *(undefined4 *)((int)this + 0x1080) = 0x10;
    *(code **)((int)this + 0x1088) = grim_dxt5_encode_block;
    *(code **)((int)this + 0x1084) = grim_dxt5_decode_block;
  }
  *(undefined4 *)((int)this + 0x10b0) = 0xffffffff;
  *(undefined4 *)((int)this + 0x10b4) = 0xffffffff;
  *(undefined4 *)((int)this + 0x109c) = *(undefined4 *)((int)this + 0x1040);
  uVar2 = *(int *)((int)this + 0x1038) + 3U & 0xfffffffc;
  uVar6 = *(uint *)((int)this + 0x1030) & 0xfffffffc;
  *(uint *)((int)this + 0x1094) = uVar2;
  uVar5 = *(uint *)((int)this + 0x1034) & 0xfffffffc;
  uVar3 = *(int *)((int)this + 0x103c) + 3U & 0xfffffffc;
  *(uint *)((int)this + 0x1098) = uVar3;
  *(uint *)((int)this + 0x10a4) = uVar2 - uVar6 >> 2;
  *(int *)((int)this + 0x10a0) = *(int *)((int)this + 0x1044);
  *(uint *)((int)this + 0x108c) = uVar6;
  *(undefined4 *)((int)this + 0x10b8) = 0;
  *(undefined4 *)((int)this + 0x10bc) = 0;
  *(undefined4 *)((int)this + 0x10c0) = 0;
  *(uint *)((int)this + 0x1090) = uVar5;
  *(uint *)((int)this + 0x10a8) = uVar3 - uVar5 >> 2;
  *(int *)((int)this + 0x10ac) = *(int *)((int)this + 0x1044) - *(int *)((int)this + 0x1040);
  return this;
}



/* grim_pixel_format_ctor_a8p8 @ 1001ae3c */

/* pixel format ctor for D3DFMT_A8P8 */

void * __thiscall grim_pixel_format_ctor_a8p8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004cc80;
  return this;
}



/* FUN_1001ae58 @ 1001ae58 */

/* [binja] void*** __thiscall sub_1001ae58(void*** arg1, char arg2) */

void *** __thiscall FUN_1001ae58(void *this,void ***arg1,char arg2)

{
  grim_vertex_space_converter_destroy(this);
  if (((uint)arg1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}



/* grim_pixel_format_ctor_p8 @ 1001ae74 */

/* pixel format ctor for D3DFMT_P8 */

void * __thiscall grim_pixel_format_ctor_p8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,8,1);
  *(undefined ***)this = &PTR_FUN_1004cc90;
  return this;
}



/* grim_pixel_format_ctor_l8 @ 1001ae90 */

/* pixel format ctor for D3DFMT_L8 */

void * __thiscall grim_pixel_format_ctor_l8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,8,1);
  *(undefined ***)this = &PTR_FUN_1004cca0;
  return this;
}



/* grim_pixel_format_ctor_a8l8 @ 1001aeac */

/* pixel format ctor for D3DFMT_A8L8 */

void * __thiscall grim_pixel_format_ctor_a8l8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004ccb0;
  return this;
}



/* FUN_1001aec8 @ 1001aec8 */

/* [binja] void*** __thiscall sub_1001aec8(void*** arg1, char arg2) */

void *** __thiscall FUN_1001aec8(void *this,void ***arg1,char arg2)

{
  void ***unaff_ESI;
  
  FUN_10016c3c(unaff_ESI);
  if (((uint)arg1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}



/* grim_pixel_format_ctor_a4l4 @ 1001aee4 */

/* pixel format ctor for D3DFMT_A4L4 */

void * __thiscall grim_pixel_format_ctor_a4l4(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,8,1);
  *(undefined ***)this = &PTR_FUN_1004ccc0;
  return this;
}



/* FUN_1001af00 @ 1001af00 */

/* [binja] void* __fastcall sub_1001af00(void* arg1) */

void * __fastcall FUN_1001af00(void *arg1)

{
  undefined4 uVar1;
  
  if ((*(int *)((int)arg1 + 4) == 0x32545844) || (*(int *)((int)arg1 + 4) == 0x33545844)) {
    uVar1 = 0x41700000;
  }
  else {
    uVar1 = 0x437f0000;
  }
  *(undefined4 *)((int)arg1 + 0x106c) = uVar1;
  *(float *)((int)arg1 + 0x1070) = 1.0 / *(float *)((int)arg1 + 0x106c);
  *(float *)((int)arg1 + 0x1c) =
       (float)(int)ROUND(*(float *)((int)arg1 + 0x1c) * 31.0 + 0.5) * 0.032258064;
  *(float *)((int)arg1 + 0x20) =
       (float)(int)ROUND(*(float *)((int)arg1 + 0x20) * 63.0 + 0.5) * 0.015873017;
  *(float *)((int)arg1 + 0x24) =
       (float)(int)ROUND(*(float *)((int)arg1 + 0x24) * 31.0 + 0.5) * 0.032258064;
  *(float *)((int)arg1 + 0x28) =
       (float)(int)ROUND(*(float *)((int)arg1 + 0x106c) * *(float *)((int)arg1 + 0x28) + 0.5) *
       *(float *)((int)arg1 + 0x1070);
  return arg1;
}



/* grim_pixel_format_ctor_v8u8 @ 1001b001 */

/* pixel format ctor for D3DFMT_V8U8 */

void * __thiscall grim_pixel_format_ctor_v8u8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,2);
  *(undefined ***)this = &PTR_FUN_1004ccd0;
  return this;
}



/* grim_pixel_format_ctor_l6v5u5 @ 1001b01d */

/* pixel format ctor for D3DFMT_L6V5U5 */

void * __thiscall grim_pixel_format_ctor_l6v5u5(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,2);
  *(undefined ***)this = &PTR_FUN_1004cce0;
  return this;
}



/* grim_pixel_format_ctor_x8l8v8u8 @ 1001b039 */

/* pixel format ctor for D3DFMT_X8L8V8U8 */

void * __thiscall grim_pixel_format_ctor_x8l8v8u8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,2);
  *(undefined ***)this = &PTR_FUN_1004ccf0;
  return this;
}



/* grim_pixel_format_ctor_q8w8v8u8 @ 1001b055 */

/* pixel format ctor for D3DFMT_Q8W8V8U8 */

void * __thiscall grim_pixel_format_ctor_q8w8v8u8(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,3);
  *(undefined ***)this = &PTR_FUN_1004cd00;
  return this;
}



/* grim_pixel_format_ctor_v16u16 @ 1001b071 */

/* pixel format ctor for D3DFMT_V16U16 */

void * __thiscall grim_pixel_format_ctor_v16u16(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,2);
  *(undefined ***)this = &PTR_FUN_1004cd10;
  return this;
}



/* grim_pixel_format_ctor_w11v11u10 @ 1001b08d */

/* pixel format ctor for D3DFMT_W11V11U10 */

void * __thiscall grim_pixel_format_ctor_w11v11u10(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,2);
  *(undefined ***)this = &PTR_FUN_1004cd20;
  return this;
}



/* grim_pixel_format_ctor_a2w10v10u10 @ 1001b0a9 */

/* pixel format ctor for D3DFMT_A2W10V10U10 */

void * __thiscall grim_pixel_format_ctor_a2w10v10u10(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,2);
  *(undefined ***)this = &PTR_FUN_1004cd30;
  return this;
}



/* grim_pixel_format_ctor_d16_lockable @ 1001b0c5 */

/* pixel format ctor for D3DFMT_D16_LOCKABLE */

void * __thiscall grim_pixel_format_ctor_d16_lockable(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004cd40;
  return this;
}



/* grim_pixel_format_ctor_l16 @ 1001b0e1 */

/* pixel format ctor for FourCC L16 (16-bit luminance) */

void * __thiscall grim_pixel_format_ctor_l16(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x10,1);
  *(undefined ***)this = &PTR_FUN_1004cd50;
  return this;
}



/* grim_pixel_format_read_dxt_cache @ 1001b0fd */

/* decodes DXT blocks into cache on demand and copies RGBA floats to output (color key aware) */

void grim_pixel_format_read_dxt_cache(void *this,uint x,uint y,float *out)

{
  undefined4 *puVar1;
  void *pvVar2;
  int extraout_ECX;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint extraout_EDX;
  int iVar6;
  int unaff_EBP;
  int iVar7;
  undefined4 *puVar8;
  
  seh_prolog();
  *(int *)(unaff_EBP + -0x10) = extraout_ECX;
  *(int *)(unaff_EBP + 8) = *(int *)(unaff_EBP + 8) + *(int *)(extraout_ECX + 0x1034);
  *(int *)(unaff_EBP + 0xc) = *(int *)(unaff_EBP + 0xc) + *(int *)(extraout_ECX + 0x1040);
  iVar3 = extraout_ECX;
  if (*(int *)(extraout_ECX + 0x10b8) == 0) {
    iVar3 = *(int *)(extraout_ECX + 0x10a4);
    pvVar2 = operator_new(iVar3 << 8);
    *(void **)(unaff_EBP + -0x24) = pvVar2;
    *(undefined4 *)(unaff_EBP + -4) = 0;
    if (pvVar2 == (void *)0x0) {
      pvVar2 = (void *)0x0;
    }
    else {
      _vector_constructor_iterator_(pvVar2,0x10,iVar3 << 4,(_func_void_ptr_void_ptr *)&LAB_1000ae4f)
      ;
    }
    *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
    *(void **)(*(int *)(unaff_EBP + -0x10) + 0x10b8) = pvVar2;
    if (pvVar2 == (void *)0x0) goto LAB_1001b396;
    iVar3 = *(int *)(unaff_EBP + -0x10);
  }
  uVar4 = *(uint *)(unaff_EBP + 8) & 0xfffffffc;
  if ((uVar4 != *(uint *)(iVar3 + 0x10b0)) ||
     (*(int *)(unaff_EBP + 0xc) != *(int *)(iVar3 + 0x10b4))) {
    *(uint *)(iVar3 + 0x10b0) = uVar4;
    *(undefined4 *)(*(int *)(unaff_EBP + -0x10) + 0x10b4) = *(undefined4 *)(unaff_EBP + 0xc);
    iVar3 = *(int *)(unaff_EBP + -0x10);
    uVar4 = *(uint *)(iVar3 + 0x108c);
    iVar6 = *(int *)(iVar3 + 0x10b8);
    iVar7 = (*(uint *)(iVar3 + 0x10b0) >> 2) * *(int *)(iVar3 + 0x1050) +
            (uVar4 >> 2) * *(int *)(iVar3 + 0x1080) +
            *(int *)(iVar3 + 0x10b4) * *(int *)(iVar3 + 0x1054) + *(int *)(iVar3 + 0x18);
    for (; uVar4 < *(uint *)(iVar3 + 0x1094); uVar4 = uVar4 + 4) {
      (**(code **)(iVar3 + 0x1084))(iVar6,iVar7);
      iVar3 = *(int *)(unaff_EBP + -0x10);
      iVar7 = iVar7 + *(int *)(iVar3 + 0x1080);
      iVar6 = iVar6 + 0x100;
    }
  }
  iVar6 = *(int *)(unaff_EBP + 8);
  iVar7 = *(int *)(iVar3 + 0x1090);
  uVar4 = *(int *)(iVar3 + 0x1030) - *(int *)(iVar3 + 0x108c);
  uVar5 = *(int *)(iVar3 + 0x1058) + uVar4;
  for (; uVar4 < uVar5; uVar4 = uVar4 + 1) {
    puVar1 = *(undefined4 **)(unaff_EBP + 0x10);
    puVar8 = (undefined4 *)
             (((uVar4 & 0xfffffffc | iVar6 - iVar7 & 3U) << 2 | uVar4 & 3) * 0x10 +
             *(int *)(iVar3 + 0x10b8));
    *puVar1 = *puVar8;
    puVar1[1] = puVar8[1];
    puVar1[2] = puVar8[2];
    puVar1[3] = puVar8[3];
    *(int *)(unaff_EBP + 0x10) = *(int *)(unaff_EBP + 0x10) + 0x10;
    iVar3 = *(int *)(unaff_EBP + -0x10);
  }
  if (*(int *)(iVar3 + 0x10) != 0) {
    fpu_set_round_trunc();
    while (*(uint *)(unaff_EBP + 0x10) < extraout_EDX) {
      *(float *)(unaff_EBP + -0x14) = **(float **)(unaff_EBP + 0x10) * 31.0 + 0.5;
      *(int *)(unaff_EBP + -0x18) = (int)ROUND(*(float *)(unaff_EBP + -0x14));
      *(undefined4 *)(unaff_EBP + -0x14) = *(undefined4 *)(unaff_EBP + -0x18);
      *(float *)(unaff_EBP + -0x34) = (float)*(int *)(unaff_EBP + -0x14) * 0.032258064;
      *(float *)(unaff_EBP + -0x14) = *(float *)(*(int *)(unaff_EBP + 0x10) + 4) * 63.0 + 0.5;
      *(int *)(unaff_EBP + -0x1c) = (int)ROUND(*(float *)(unaff_EBP + -0x14));
      *(undefined4 *)(unaff_EBP + -0x14) = *(undefined4 *)(unaff_EBP + -0x1c);
      *(float *)(unaff_EBP + -0x30) = (float)*(int *)(unaff_EBP + -0x14) * 0.015873017;
      *(float *)(unaff_EBP + -0x14) = *(float *)(*(int *)(unaff_EBP + 0x10) + 8) * 31.0 + 0.5;
      *(int *)(unaff_EBP + -0x20) = (int)ROUND(*(float *)(unaff_EBP + -0x14));
      *(undefined4 *)(unaff_EBP + -0x14) = *(undefined4 *)(unaff_EBP + -0x20);
      *(float *)(unaff_EBP + -0x2c) = (float)*(int *)(unaff_EBP + -0x14) * 0.032258064;
      *(float *)(unaff_EBP + -0x14) =
           *(float *)(*(int *)(unaff_EBP + -0x10) + 0x106c) *
           *(float *)(*(int *)(unaff_EBP + 0x10) + 0xc) + 0.5;
      *(int *)(unaff_EBP + -0x24) = (int)ROUND(*(float *)(unaff_EBP + -0x14));
      iVar3 = *(int *)(unaff_EBP + -0x10);
      *(undefined4 *)(unaff_EBP + -0x14) = *(undefined4 *)(unaff_EBP + -0x24);
      if ((((*(float *)(unaff_EBP + -0x34) == *(float *)(iVar3 + 0x1c)) &&
           (*(float *)(unaff_EBP + -0x30) == *(float *)(iVar3 + 0x20))) &&
          (*(float *)(unaff_EBP + -0x2c) == *(float *)(iVar3 + 0x24))) &&
         ((float)*(int *)(unaff_EBP + -0x14) * *(float *)(iVar3 + 0x1070) ==
          *(float *)(iVar3 + 0x28))) {
        puVar1 = *(undefined4 **)(unaff_EBP + 0x10);
        *(undefined4 *)(unaff_EBP + -0x44) = 0;
        *(undefined4 *)(unaff_EBP + -0x40) = 0;
        *(undefined4 *)(unaff_EBP + -0x3c) = 0;
        *(undefined4 *)(unaff_EBP + -0x38) = 0;
        *puVar1 = *(undefined4 *)(unaff_EBP + -0x44);
        puVar1[1] = *(undefined4 *)(unaff_EBP + -0x40);
        puVar1[2] = *(undefined4 *)(unaff_EBP + -0x3c);
        puVar1[3] = *(undefined4 *)(unaff_EBP + -0x38);
      }
      *(int *)(unaff_EBP + 0x10) = *(int *)(unaff_EBP + 0x10) + 0x10;
    }
    *(undefined4 *)(unaff_EBP + -0x24) = DAT_1005db6c;
  }
LAB_1001b396:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return;
}



/* grim_pixel_format_ctor_al16 @ 1001b3a6 */

/* pixel format ctor for FourCC AL16 */

void * __thiscall grim_pixel_format_ctor_al16(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x20,1);
  *(undefined ***)this = &PTR_FUN_1004cd60;
  return this;
}



/* grim_pixel_format_ctor_r16 @ 1001b3c2 */

/* pixel format ctor for FourCC R16 */

void * __thiscall grim_pixel_format_ctor_r16(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x30,1);
  *(undefined ***)this = &PTR_FUN_1004cd70;
  return this;
}



/* grim_pixel_format_ctor_ar16 @ 1001b3de */

/* pixel format ctor for FourCC AR16 */

void * __thiscall grim_pixel_format_ctor_ar16(void *this,uint *desc)

{
  grim_pixel_format_init(this,desc,0x40,1);
  *(undefined ***)this = &PTR_FUN_1004cd80;
  return this;
}



/* grim_pixel_format_ctor_dxt1 @ 1001b3fa */

/* pixel format ctor for FourCC DXT1 */

void * __thiscall grim_pixel_format_ctor_dxt1(void *this,uint *desc)

{
  grim_pixel_format_init_dxt(this,desc);
  *(undefined ***)this = &PTR_FUN_1004cd90;
  return this;
}



/* grim_pixel_format_ctor_dxt2 @ 1001b412 */

/* pixel format ctor for FourCC DXT2 */

void * __thiscall grim_pixel_format_ctor_dxt2(void *this,uint *desc)

{
  grim_pixel_format_init_dxt(this,desc);
  *(undefined ***)this = &PTR_FUN_1004cda0;
  return this;
}



/* grim_pixel_format_ctor_dxt3 @ 1001b42a */

/* pixel format ctor for FourCC DXT3 */

void * __thiscall grim_pixel_format_ctor_dxt3(void *this,uint *desc)

{
  grim_pixel_format_init_dxt(this,desc);
  *(undefined ***)this = &PTR_FUN_1004cdb0;
  return this;
}



/* grim_pixel_format_ctor_dxt4 @ 1001b442 */

/* pixel format ctor for FourCC DXT4 */

void * __thiscall grim_pixel_format_ctor_dxt4(void *this,uint *desc)

{
  grim_pixel_format_init_dxt(this,desc);
  *(undefined ***)this = &PTR_FUN_1004cdc0;
  return this;
}



/* grim_pixel_format_ctor_dxt5 @ 1001b45a */

/* pixel format ctor for FourCC DXT5 */

void * __thiscall grim_pixel_format_ctor_dxt5(void *this,uint *desc)

{
  grim_pixel_format_init_dxt(this,desc);
  *(undefined ***)this = &PTR_FUN_1004cdd0;
  return this;
}



/* FUN_1001b472 @ 1001b472 */

/* [binja] void*** __thiscall sub_1001b472(void*** arg1, char arg2) */

void *** __thiscall FUN_1001b472(void *this,void ***arg1,char arg2)

{
  void ***unaff_ESI;
  
  thunk_FUN_10016c3c(unaff_ESI);
  if (((uint)arg1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}



/* FUN_1001b493 @ 1001b493 */

/* [binja] int32_t __fastcall sub_1001b493(void*** arg1) */

int FUN_1001b493(void ***arg1)

{
  int extraout_EAX;
  undefined4 *this;
  int unaff_EBP;
  
  seh_prolog();
  *(undefined4 **)(unaff_EBP + -0x10) = this;
  *this = &PTR_LAB_1004cb7c;
  *(undefined4 *)(unaff_EBP + -4) = 0;
  grim_pixel_format_flush_yuv_cache(this);
  if ((void *)this[0x41b] != (void *)0x0) {
    operator_delete((void *)this[0x41b]);
  }
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  grim_vertex_space_converter_destroy(this);
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return extraout_EAX;
}



/* grim_pixel_format_ctor_uyvy @ 1001b4dc */

/* pixel format ctor for FourCC UYVY */

void * __fastcall grim_pixel_format_ctor_uyvy(void *this)

{
  uint *unaff_ESI;
  void *in_stack_00000004;
  
  grim_pixel_format_init_yuv(in_stack_00000004,unaff_ESI);
  *(undefined ***)this = &PTR_FUN_1004cde0;
  return this;
}



/* grim_pixel_format_ctor_yuy2 @ 1001b4f4 */

/* pixel format ctor for FourCC YUY2 */

void * __fastcall grim_pixel_format_ctor_yuy2(void *this)

{
  uint *unaff_ESI;
  void *in_stack_00000004;
  
  grim_pixel_format_init_yuv(in_stack_00000004,unaff_ESI);
  *(undefined ***)this = &PTR_FUN_1004cdf0;
  return this;
}



/* grim_pixel_format_create @ 1001b50c */

/* WARNING (jumptable): Unable to track spacebase fully for stack */
/* factory: picks pixel format implementation from FourCC/D3DFORMAT */

void * grim_pixel_format_create(uint *desc)

{
  uint *desc_00;
  uint uVar1;
  void *pvVar2;
  int unaff_EBP;
  int *piVar3;
  
  seh_prolog();
  desc_00 = *(uint **)(unaff_EBP + 8);
  uVar1 = desc_00[1];
  piVar3 = (int *)0x0;
  if ((int)uVar1 < 0x31545845) {
    if (uVar1 == 0x31545844) {
      pvVar2 = operator_new(0x10c4);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x20;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_dxt1(pvVar2,desc_00);
    }
    else if ((int)uVar1 < 0x29) {
      if (uVar1 == 0x28) {
        pvVar2 = operator_new(0x106c);
        *(void **)(unaff_EBP + 8) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 0xd;
        if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
        piVar3 = grim_pixel_format_ctor_a8p8(pvVar2,desc_00);
      }
      else {
        switch(uVar1) {
        case 0x14:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 0;
          if (pvVar2 == (void *)0x0) {
LAB_1001bc03:
            piVar3 = (int *)0x0;
          }
          else {
            piVar3 = grim_pixel_format_ctor_r8g8b8(pvVar2,desc_00);
          }
          break;
        case 0x15:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 1;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_a8r8g8b8(pvVar2,desc_00);
          break;
        case 0x16:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 2;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_x8r8g8b8(pvVar2,desc_00);
          break;
        case 0x17:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 3;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_r5g6b5(pvVar2,desc_00);
          break;
        case 0x18:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 4;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_x1r5g5b5(pvVar2,desc_00);
          break;
        case 0x19:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 5;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_a1r5g5b5(pvVar2,desc_00);
          break;
        case 0x1a:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 6;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_a4r4g4b4(pvVar2,desc_00);
          break;
        case 0x1b:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 7;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_r3g3b2(pvVar2,desc_00);
          break;
        case 0x1c:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 8;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_a8(pvVar2,desc_00);
          break;
        case 0x1d:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 9;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_a8r3g3b2(pvVar2,desc_00);
          break;
        case 0x1e:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 10;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_x4r4g4b4(pvVar2,desc_00);
          break;
        case 0x1f:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 0xb;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_a2b10g10r10(pvVar2,desc_00);
          break;
        default:
          goto switchD_1001b54e_caseD_20;
        case 0x22:
          pvVar2 = operator_new(0x106c);
          *(void **)(unaff_EBP + 8) = pvVar2;
          *(undefined4 *)(unaff_EBP + -4) = 0xc;
          if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
          piVar3 = grim_pixel_format_ctor_g16r16(pvVar2,desc_00);
        }
      }
    }
    else if ((int)uVar1 < 0x3f) {
      if (uVar1 == 0x3e) {
        pvVar2 = operator_new(0x106c);
        *(void **)(unaff_EBP + 8) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 0x14;
        if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
        piVar3 = grim_pixel_format_ctor_x8l8v8u8(pvVar2,desc_00);
      }
      else if (uVar1 == 0x29) {
        pvVar2 = operator_new(0x106c);
        *(void **)(unaff_EBP + 8) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 0xe;
        if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
        piVar3 = grim_pixel_format_ctor_p8(pvVar2,desc_00);
      }
      else if (uVar1 == 0x32) {
        pvVar2 = operator_new(0x106c);
        *(void **)(unaff_EBP + 8) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 0xf;
        if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
        piVar3 = grim_pixel_format_ctor_l8(pvVar2,desc_00);
      }
      else if (uVar1 == 0x33) {
        pvVar2 = operator_new(0x106c);
        *(void **)(unaff_EBP + 8) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 0x10;
        if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
        piVar3 = grim_pixel_format_ctor_a8l8(pvVar2,desc_00);
      }
      else if (uVar1 == 0x34) {
        pvVar2 = operator_new(0x106c);
        *(void **)(unaff_EBP + 8) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 0x11;
        if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
        piVar3 = grim_pixel_format_ctor_a4l4(pvVar2,desc_00);
      }
      else if (uVar1 == 0x3c) {
        pvVar2 = operator_new(0x106c);
        *(void **)(unaff_EBP + 8) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 0x12;
        if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
        piVar3 = grim_pixel_format_ctor_v8u8(pvVar2,desc_00);
      }
      else {
        if (uVar1 != 0x3d) goto switchD_1001b54e_caseD_20;
        pvVar2 = operator_new(0x106c);
        *(void **)(unaff_EBP + 8) = pvVar2;
        *(undefined4 *)(unaff_EBP + -4) = 0x13;
        if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
        piVar3 = grim_pixel_format_ctor_l6v5u5(pvVar2,desc_00);
      }
    }
    else if (uVar1 == 0x3f) {
      pvVar2 = operator_new(0x106c);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x15;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_q8w8v8u8(pvVar2,desc_00);
    }
    else if (uVar1 == 0x40) {
      pvVar2 = operator_new(0x106c);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x16;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_v16u16(pvVar2,desc_00);
    }
    else if (uVar1 == 0x41) {
      pvVar2 = operator_new(0x106c);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x17;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_w11v11u10(pvVar2,desc_00);
    }
    else if (uVar1 == 0x43) {
      pvVar2 = operator_new(0x106c);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x18;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_a2w10v10u10(pvVar2,desc_00);
    }
    else {
      if (uVar1 != 0x46) goto switchD_1001b54e_caseD_20;
      pvVar2 = operator_new(0x106c);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x19;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_d16_lockable(pvVar2,desc_00);
    }
  }
  else if ((int)uVar1 < 0x36314c21) {
    if (uVar1 == 0x36314c20) {
      pvVar2 = operator_new(0x106c);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x1a;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_l16(pvVar2,desc_00);
    }
    else if (uVar1 == 0x32545844) {
      pvVar2 = operator_new(0x10c4);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x21;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_dxt2(pvVar2,desc_00);
    }
    else if (uVar1 == 0x32595559) {
      pvVar2 = operator_new(0x109c);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x1f;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_yuy2(pvVar2);
    }
    else if (uVar1 == 0x33545844) {
      pvVar2 = operator_new(0x10c4);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x22;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_dxt3(pvVar2,desc_00);
    }
    else if (uVar1 == 0x34545844) {
      pvVar2 = operator_new(0x10c4);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x23;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_dxt4(pvVar2,desc_00);
    }
    else {
      if (uVar1 != 0x35545844) goto switchD_1001b54e_caseD_20;
      pvVar2 = operator_new(0x10c4);
      *(void **)(unaff_EBP + 8) = pvVar2;
      *(undefined4 *)(unaff_EBP + -4) = 0x24;
      if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
      piVar3 = grim_pixel_format_ctor_dxt5(pvVar2,desc_00);
    }
  }
  else if (uVar1 == 0x36314c41) {
    pvVar2 = operator_new(0x106c);
    *(void **)(unaff_EBP + 8) = pvVar2;
    *(undefined4 *)(unaff_EBP + -4) = 0x1b;
    if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
    piVar3 = grim_pixel_format_ctor_al16(pvVar2,desc_00);
  }
  else if (uVar1 == 0x36315220) {
    pvVar2 = operator_new(0x106c);
    *(void **)(unaff_EBP + 8) = pvVar2;
    *(undefined4 *)(unaff_EBP + -4) = 0x1c;
    if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
    piVar3 = grim_pixel_format_ctor_r16(pvVar2,desc_00);
  }
  else if (uVar1 == 0x36315241) {
    pvVar2 = operator_new(0x106c);
    *(void **)(unaff_EBP + 8) = pvVar2;
    *(undefined4 *)(unaff_EBP + -4) = 0x1d;
    if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
    piVar3 = grim_pixel_format_ctor_ar16(pvVar2,desc_00);
  }
  else {
    if (uVar1 != 0x59565955) goto switchD_1001b54e_caseD_20;
    pvVar2 = operator_new(0x109c);
    *(void **)(unaff_EBP + 8) = pvVar2;
    *(undefined4 *)(unaff_EBP + -4) = 0x1e;
    if (pvVar2 == (void *)0x0) goto LAB_1001bc03;
    piVar3 = grim_pixel_format_ctor_uyvy(pvVar2);
  }
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  if ((piVar3 != (int *)0x0) && (piVar3[4] != 0)) {
    (**(code **)(*piVar3 + 0xc))();
  }
switchD_1001b54e_caseD_20:
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return piVar3;
}



/* FUN_1001bc84 @ 1001bc84 */

/* [binja] void*** __thiscall sub_1001bc84(void*** arg1, char arg2) */

void *** __thiscall FUN_1001bc84(void *this,void ***arg1,char arg2)

{
  void ***unaff_ESI;
  
  thunk_FUN_1001b493(unaff_ESI);
  if (((uint)arg1 & 1) != 0) {
    operator_delete(this);
  }
  return this;
}



/* FUN_1001bca5 @ 1001bca5 */

/* [binja] int32_t* __fastcall sub_1001bca5(int32_t* arg1) */

int * __fastcall FUN_1001bca5(int *arg1)

{
  *arg1 = -1;
  arg1[1] = -1;
  arg1[2] = 0;
  arg1[3] = 0;
  return arg1;
}



/* FUN_1001bcb7 @ 1001bcb7 */

/* [binja] int32_t __thiscall sub_1001bcb7(int32_t* arg1, int32_t* arg2, int32_t* arg3) */

int __thiscall FUN_1001bcb7(void *this,int *arg1,int *arg2,int *arg3)

{
  HANDLE pvVar1;
  LPVOID pvVar2;
  DWORD DVar3;
  _OSVERSIONINFOA local_9c;
  int local_8;
  
  if (arg1 == (int *)0x0) {
    return -0x7789f794;
  }
  if (arg2 != (int *)0x0) {
    local_9c.dwOSVersionInfoSize = 0x94;
    GetVersionExA(&local_9c);
    if (local_9c.dwPlatformId != 2) {
      local_8 = WideCharToMultiByte(0,0,(LPCWCH)arg1,-1,(LPSTR)0x0,0,(LPCCH)0x0,(LPBOOL)0x0);
      FUN_1004b790();
      WideCharToMultiByte(0,0,(LPCWCH)arg1,-1,&stack0xffffff58,local_8,(LPCCH)0x0,(LPBOOL)0x0);
      arg2 = (int *)0x0;
      arg1 = (int *)&stack0xffffff58;
    }
    if (arg2 != (int *)0x0) {
      pvVar1 = CreateFileW((LPCWSTR)arg1,0x80000000,1,(LPSECURITY_ATTRIBUTES)0x0,3,0x10000000,
                           (HANDLE)0x0);
      goto LAB_1001bd6b;
    }
  }
  pvVar1 = CreateFileA((LPCSTR)arg1,0x80000000,1,(LPSECURITY_ATTRIBUTES)0x0,3,0x10000000,(HANDLE)0x0
                      );
LAB_1001bd6b:
  *(HANDLE *)this = pvVar1;
  if (pvVar1 != (HANDLE)0xffffffff) {
    pvVar1 = CreateFileMappingA(pvVar1,(LPSECURITY_ATTRIBUTES)0x0,2,0,0,(LPCSTR)0x0);
    *(HANDLE *)((int)this + 4) = pvVar1;
    if (pvVar1 != (HANDLE)0xffffffff) {
      pvVar2 = MapViewOfFile(pvVar1,4,0,0,0);
      *(LPVOID *)((int)this + 8) = pvVar2;
      if (pvVar2 != (LPVOID)0x0) {
        DVar3 = GetFileSize(*(HANDLE *)this,(LPDWORD)0x0);
        *(DWORD *)((int)this + 0xc) = DVar3;
        if (DVar3 != 0xffffffff) {
          return 0;
        }
      }
    }
  }
  GetLastError();
  return -0x7789f4a7;
}



/* FUN_1001bdc7 @ 1001bdc7 */

/* [binja] int32_t __thiscall sub_1001bdc7(void** arg1, int32_t arg2, int32_t* arg3) */

int __thiscall FUN_1001bdc7(void *this,void **arg1,int arg2,int *arg3)

{
  int iVar1;
  HANDLE pvVar2;
  void **lpFileName;
  _OSVERSIONINFOA local_9c;
  undefined4 *local_8;
  
  if (arg1 == (void **)0x0) {
    return -0x7789f794;
  }
  lpFileName = arg1;
  local_8 = this;
  if (arg2 != 0) {
    local_9c.dwOSVersionInfoSize = 0x94;
    GetVersionExA(&local_9c);
    if (local_9c.dwPlatformId != 2) {
      lpFileName = (void **)&stack0xffffff58;
      iVar1 = WideCharToMultiByte(0,0,(LPCWCH)arg1,-1,(LPSTR)0x0,0,(LPCCH)0x0,(LPBOOL)0x0);
      FUN_1004b790();
      WideCharToMultiByte(0,0,(LPCWCH)arg1,-1,&stack0xffffff58,iVar1,(LPCCH)0x0,(LPBOOL)0x0);
      arg2 = 0;
      this = local_8;
    }
    if (arg2 != 0) {
      pvVar2 = CreateFileW((LPCWSTR)lpFileName,0x40000000,0,(LPSECURITY_ATTRIBUTES)0x0,2,0,
                           (HANDLE)0x0);
      goto LAB_1001be6e;
    }
  }
  pvVar2 = CreateFileA((LPCSTR)lpFileName,0x40000000,0,(LPSECURITY_ATTRIBUTES)0x0,2,0,(HANDLE)0x0);
LAB_1001be6e:
  *(HANDLE *)this = pvVar2;
  if (pvVar2 == (HANDLE)0xffffffff) {
    GetLastError();
    iVar1 = -0x7789f4a7;
  }
  else {
    iVar1 = 0;
  }
  return iVar1;
}



/* FUN_1001be91 @ 1001be91 */

/* [binja] int32_t __fastcall sub_1001be91(int32_t* arg1) */

int __fastcall FUN_1001be91(int *arg1)

{
  if ((LPCVOID)arg1[2] != (LPCVOID)0x0) {
    UnmapViewOfFile((LPCVOID)arg1[2]);
    arg1[2] = 0;
    arg1[3] = 0;
  }
  if ((HANDLE)arg1[1] != (HANDLE)0xffffffff) {
    CloseHandle((HANDLE)arg1[1]);
    arg1[1] = -1;
  }
  if ((HANDLE)*arg1 != (HANDLE)0xffffffff) {
    CloseHandle((HANDLE)*arg1);
    *arg1 = -1;
  }
  return 0;
}



/* FUN_1001bed2 @ 1001bed2 */

/* [binja] void __fastcall sub_1001bed2(int32_t* arg1) */

void __fastcall FUN_1001bed2(int *arg1)

{
  if (*arg1 != -1) {
    FUN_1001be91(arg1);
    return;
  }
  return;
}



/* FUN_1001bedd @ 1001bedd */

undefined4 __cdecl FUN_1001bedd(DWORD param_1,LPCSTR param_2,LPBYTE param_3)

{
  LONG LVar1;
  DWORD local_c;
  HKEY local_8;
  
  local_8 = (HKEY)0x0;
  LVar1 = RegOpenKeyA((HKEY)0x80000002,"Software\\Microsoft\\Direct3D",&local_8);
  if (LVar1 == 0) {
    LVar1 = RegQueryValueExA(local_8,param_2,(LPDWORD)0x0,&local_c,param_3,(LPDWORD)&stack0x00000010
                            );
    RegCloseKey(local_8);
    if ((LVar1 == 0) && (local_c == param_1)) {
      return 1;
    }
  }
  return 0;
}



/* FUN_1001bf39 @ 1001bf39 */

/* WARNING: Removing unreachable block (ram,0x1001bf45) */
/* [binja] int32_t __fastcall sub_1001bf39(int32_t arg1) */

int __fastcall FUN_1001bf39(int arg1)

{
  int iVar1;
  
  iVar1 = cpuid_Version_info(1);
  return (uint)((*(uint *)(iVar1 + 8) & 0x800000) != 0);
}



/* FUN_1001bf5e @ 1001bf5e */

int FUN_1001bf5e(void)

{
  LONG LVar1;
  int iVar2;
  int extraout_ECX;
  int extraout_ECX_00;
  int local_14;
  DWORD local_10 [2];
  HKEY local_8;
  
  LVar1 = RegOpenKeyA((HKEY)0x80000002,"Software\\Microsoft\\Direct3D",&local_8);
  iVar2 = extraout_ECX;
  if (LVar1 == 0) {
    local_10[1] = 4;
    LVar1 = RegQueryValueExA(local_8,"DisableMMX",(LPDWORD)0x0,local_10,(LPBYTE)&local_14,
                             local_10 + 1);
    if (((LVar1 == 0) && (local_10[0] == 4)) && (local_14 != 0)) {
      RegCloseKey(local_8);
      DAT_10054498 = 0;
      return 0;
    }
    RegCloseKey(local_8);
    iVar2 = extraout_ECX_00;
  }
  if (DAT_10054498 < 0) {
    DAT_10054498 = 0;
    iVar2 = FUN_1001bf39(iVar2);
    if (iVar2 != 0) {
      DAT_10054498 = 1;
    }
  }
  return DAT_10054498;
}



/* FUN_1001bff7 @ 1001bff7 */

/* WARNING: Removing unreachable block (ram,0x1001c016) */
/* WARNING: Removing unreachable block (ram,0x1001c008) */
/* WARNING: Restarted to delay deadcode elimination for space: stack */
/* [binja] int32_t __fastcall sub_1001bff7(int32_t arg1) */

int __fastcall FUN_1001bff7(int arg1)

{
  uint *puVar1;
  int iVar2;
  undefined4 local_8;
  
  local_8 = 0;
  puVar1 = (uint *)cpuid(0x80000000);
  if (0x80000000 < *puVar1) {
    iVar2 = cpuid(0x80000001);
    local_8 = (uint)((*(uint *)(iVar2 + 8) & 0x80000000) != 0);
  }
  return local_8;
}



/* FUN_1001c02f @ 1001c02f */

/* WARNING: Removing unreachable block (ram,0x1001c059) */
/* [binja] int32_t __fastcall sub_1001c02f(int32_t arg1) */

int FUN_1001c02f(int arg1)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  int unaff_EBP;
  
  seh_prolog();
  *(undefined1 **)(unaff_EBP + -0x10) = &stack0xffffffc4;
  *(undefined4 *)(unaff_EBP + -0x14) = 0;
  builtin_strncpy((char *)(unaff_EBP + -0x24),"Genu",4);
  builtin_strncpy((char *)(unaff_EBP + -0x20),"ineI",4);
  builtin_strncpy((char *)(unaff_EBP + -0x1c),"ntel",4);
  *(char *)(unaff_EBP + -0x18) = '\0';
  *(undefined4 *)(unaff_EBP + -4) = 0;
  puVar1 = (undefined4 *)cpuid_basic_info(0);
  uVar5 = puVar1[1];
  uVar4 = puVar1[2];
  uVar3 = puVar1[3];
  *(undefined4 *)(unaff_EBP + -0x2c) = *puVar1;
  *(undefined4 *)(unaff_EBP + -0x38) = uVar5;
  *(undefined4 *)(unaff_EBP + -0x34) = uVar4;
  *(undefined4 *)(unaff_EBP + -0x30) = uVar3;
  iVar2 = FUN_1001c075();
  return iVar2;
}



/* Catch@1001c069 @ 1001c069 */

undefined * Catch_1001c069(void)

{
  int unaff_EBP;
  
  *(undefined4 *)(unaff_EBP + -0x3c) = *(undefined4 *)(unaff_EBP + -0x14);
  return &DAT_1001c07b;
}



/* FUN_1001c075 @ 1001c075 */

/* WARNING: Removing unreachable block (ram,0x1001c090) */

undefined4 FUN_1001c075(void)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int unaff_EBP;
  
  *(undefined4 *)(unaff_EBP + -4) = 0xffffffff;
  if (*(int *)(unaff_EBP + -0x2c) == 0) {
    uVar2 = *(undefined4 *)(unaff_EBP + -0x14);
  }
  else {
    puVar1 = (undefined4 *)cpuid_Version_info(1);
    uVar2 = puVar1[2];
    *(undefined4 *)(unaff_EBP + -0x2c) = *puVar1;
    *(undefined4 *)(unaff_EBP + -0x28) = uVar2;
    if ((*(uint *)(unaff_EBP + -0x28) & 0x2000000) != 0) {
      *(uint *)(unaff_EBP + -0x14) = *(uint *)(unaff_EBP + -0x14) | 4;
    }
    if ((*(uint *)(unaff_EBP + -0x28) & 0x4000000) != 0) {
      *(uint *)(unaff_EBP + -0x14) = *(uint *)(unaff_EBP + -0x14) | 8;
    }
    uVar2 = *(undefined4 *)(unaff_EBP + -0x14);
  }
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return uVar2;
}



/* FUN_1001c0d4 @ 1001c0d4 */

uint __cdecl FUN_1001c0d4(DWORD param_1)

{
  WINBOOL WVar1;
  uint uVar2;
  int iVar3;
  int arg1;
  int unaff_EDI;
  _OSVERSIONINFOA *p_Var4;
  _OSVERSIONINFOA local_9c;
  char local_5;
  
  p_Var4 = &local_9c;
  for (iVar3 = 0x25; iVar3 != 0; iVar3 = iVar3 + -1) {
    p_Var4->dwOSVersionInfoSize = 0;
    p_Var4 = (_OSVERSIONINFOA *)&p_Var4->dwMajorVersion;
  }
  local_5 = '\0';
  local_9c.dwOSVersionInfoSize = 0x94;
  WVar1 = GetVersionExA(&local_9c);
  if (WVar1 == 0) {
    local_5 = '\x01';
  }
  if (local_9c.dwPlatformId == 1) {
    if ((local_9c.dwMajorVersion < 5) &&
       (((local_9c.dwMajorVersion != 4 || (local_9c.dwMinorVersion < 10)) ||
        ((ushort)local_9c.dwBuildNumber < 0x55d)))) {
      local_5 = '\x01';
    }
  }
  else {
    if (local_9c.dwPlatformId != 2) {
      return 0;
    }
    if (WVar1 != 0) {
      if (param_1 != 10) {
        uVar2 = IsProcessorFeaturePresent(param_1);
        return uVar2;
      }
      goto LAB_1001c179;
    }
  }
  if (param_1 == 6) {
    if (local_5 == '\0') {
      uVar2 = FUN_1001c02f(unaff_EDI);
      return uVar2 & 4;
    }
  }
  else {
    if (param_1 == 7) {
      uVar2 = FUN_1001bff7(arg1);
      return uVar2;
    }
    if ((param_1 == 10) && (local_5 == '\0')) {
LAB_1001c179:
      uVar2 = FUN_1001c02f(unaff_EDI);
      return uVar2 & 8;
    }
  }
  return 0;
}



/* grim_select_renderer_backend @ 1001c188 */

/* copies the render backend vtable and selects D3DX/alt paths based on config */

int grim_select_renderer_backend(int force)

{
  uint uVar1;
  int iVar2;
  undefined **ppuVar3;
  undefined **ppuVar4;
  
  if (force == 0) {
    DAT_1005449c = 0xffff;
    ppuVar3 = &PTR_FUN_10053d40;
    ppuVar4 = &PTR_LAB_10053c58;
    for (iVar2 = 0x39; iVar2 != 0; iVar2 = iVar2 + -1) {
      *ppuVar4 = *ppuVar3;
      ppuVar3 = ppuVar3 + 1;
      ppuVar4 = ppuVar4 + 1;
    }
  }
  else if (DAT_1005449c == 0xffff) {
    DAT_1005449c = 0;
    ppuVar3 = &PTR_FUN_10053d40;
    ppuVar4 = &PTR_LAB_10053c58;
    for (iVar2 = 0x39; iVar2 != 0; iVar2 = iVar2 + -1) {
      *ppuVar4 = *ppuVar3;
      ppuVar3 = ppuVar3 + 1;
      ppuVar4 = ppuVar4 + 1;
    }
    FUN_10022b47(&PTR_LAB_10053c58);
    iVar2 = FUN_1001bedd(4,"DisableD3DXPSGP",(LPBYTE)&force);
    if (iVar2 == 0) {
      force = 0;
    }
    if (force != 1) {
      uVar1 = FUN_1001c0d4(7);
      if (uVar1 == 0) {
        uVar1 = FUN_1001c0d4(10);
        if (uVar1 == 0) {
          uVar1 = FUN_1001c0d4(6);
          if (uVar1 != 0) {
            FUN_100221d0(&PTR_LAB_10053c58);
            DAT_1005449c = 3;
          }
        }
        else {
          FUN_100222e0(&PTR_LAB_10053c58);
          DAT_1005449c = 2;
        }
      }
      else {
        grim_init_mmx_sse_functions(&PTR_LAB_10053c58);
        DAT_1005449c = 1;
      }
    }
  }
  return DAT_1005449c;
}



/* FUN_1001c265 @ 1001c265 */

void __cdecl FUN_1001c265(int *param_1,int param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int unaff_ESI;
  
  param_1[1] = 0;
  if (param_2 != 0x3d) {
    *(undefined4 *)(*param_1 + 0x14) = 10;
    *(undefined4 *)(*param_1 + 0x18) = 0x3d;
    *(int *)(*param_1 + 0x1c) = param_2;
    (**(code **)*param_1)(param_1);
  }
  if (param_3 != 0x1a8) {
    *(undefined4 *)(*param_1 + 0x14) = 0x13;
    *(undefined4 *)(*param_1 + 0x18) = 0x1a8;
    *(int *)(*param_1 + 0x1c) = param_3;
    (**(code **)*param_1)(param_1);
  }
  iVar3 = *param_1;
  piVar1 = param_1;
  for (iVar2 = 0x6a; iVar2 != 0; iVar2 = iVar2 + -1) {
    *piVar1 = 0;
    piVar1 = piVar1 + 1;
  }
  *param_1 = iVar3;
  *(undefined1 *)(param_1 + 3) = 1;
  FUN_10023aef(param_1);
  param_1[2] = 0;
  param_1[5] = 0;
  param_1[0x24] = 0;
  param_1[0x25] = 0;
  param_1[0x26] = 0;
  param_1[0x27] = 0;
  iVar3 = 4;
  piVar1 = param_1 + 0x2c;
  do {
    piVar1[-4] = 0;
    *piVar1 = 0;
    piVar1 = piVar1 + 1;
    iVar3 = iVar3 + -1;
  } while (iVar3 != 0);
  FUN_1001de99((int)param_1);
  FUN_10023139((int)param_1);
  if (DAT_100554e8 == '\x02') {
    iVar3 = FUN_10022c2f(unaff_ESI);
    DAT_100554e8 = (char)iVar3;
  }
  param_1[4] = 200;
  return;
}



/* FUN_1001c32a @ 1001c32a */

void FUN_1001c32a(void)

{
  byte bVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int *unaff_ESI;
  
  iVar2 = unaff_ESI[8];
  if (iVar2 == 1) {
    unaff_ESI[9] = 1;
    unaff_ESI[10] = 1;
    goto LAB_1001c456;
  }
  if (iVar2 == 3) {
    if ((char)unaff_ESI[0x40] == '\0') {
      if (*(char *)((int)unaff_ESI + 0x106) == '\0') {
        piVar3 = (int *)unaff_ESI[0x31];
        iVar2 = *piVar3;
        iVar4 = piVar3[0x15];
        iVar5 = piVar3[0x2a];
        if (iVar2 == 1) {
          if ((iVar4 != 2) || (iVar5 != 3)) goto LAB_1001c408;
        }
        else {
          if (((iVar2 == 0x52) && (iVar4 == 0x47)) && (iVar5 == 0x42)) {
            unaff_ESI[9] = 2;
            goto LAB_1001c42c;
          }
LAB_1001c408:
          iVar6 = *unaff_ESI;
          *(int *)(iVar6 + 0x18) = iVar2;
          *(int *)(iVar6 + 0x1c) = iVar4;
          *(int *)(iVar6 + 0x20) = iVar5;
          *(undefined4 *)(*unaff_ESI + 0x14) = 0x6b;
          (**(code **)(*unaff_ESI + 4))();
        }
        unaff_ESI[9] = 3;
      }
      else {
        bVar1 = *(byte *)((int)unaff_ESI + 0x107);
        if (bVar1 != 0) {
          if (bVar1 != 1) {
            *(undefined4 *)(*unaff_ESI + 0x14) = 0x6e;
            *(uint *)(*unaff_ESI + 0x18) = (uint)*(byte *)((int)unaff_ESI + 0x107);
            (**(code **)(*unaff_ESI + 4))();
          }
          goto LAB_1001c3d7;
        }
        unaff_ESI[9] = 2;
      }
    }
    else {
LAB_1001c3d7:
      unaff_ESI[9] = 3;
    }
LAB_1001c42c:
    unaff_ESI[10] = 2;
    goto LAB_1001c456;
  }
  if (iVar2 != 4) {
    unaff_ESI[9] = 0;
    unaff_ESI[10] = 0;
    goto LAB_1001c456;
  }
  if (*(char *)((int)unaff_ESI + 0x106) == '\0') {
LAB_1001c38e:
    unaff_ESI[9] = 4;
  }
  else {
    bVar1 = *(byte *)((int)unaff_ESI + 0x107);
    if (bVar1 == 0) goto LAB_1001c38e;
    if (bVar1 != 2) {
      *(undefined4 *)(*unaff_ESI + 0x14) = 0x6e;
      *(uint *)(*unaff_ESI + 0x18) = (uint)*(byte *)((int)unaff_ESI + 0x107);
      (**(code **)(*unaff_ESI + 4))();
    }
    unaff_ESI[9] = 5;
  }
  unaff_ESI[10] = 4;
LAB_1001c456:
  *(undefined1 *)(unaff_ESI + 0x10) = 0;
  *(undefined1 *)((int)unaff_ESI + 0x41) = 0;
  unaff_ESI[0xe] = 0;
  unaff_ESI[0xf] = 0x3ff00000;
  unaff_ESI[0x11] = 0;
  *(undefined1 *)((int)unaff_ESI + 0x4a) = 0;
  unaff_ESI[0x1d] = 0;
  *(undefined1 *)(unaff_ESI + 0x16) = 0;
  *(undefined1 *)((int)unaff_ESI + 0x59) = 0;
  *(undefined1 *)((int)unaff_ESI + 0x5a) = 0;
  unaff_ESI[0xb] = 1;
  unaff_ESI[0xc] = 1;
  *(undefined1 *)(unaff_ESI + 0x12) = 1;
  *(undefined1 *)((int)unaff_ESI + 0x49) = 1;
  unaff_ESI[0x13] = 2;
  *(undefined1 *)(unaff_ESI + 0x14) = 1;
  unaff_ESI[0x15] = 0x100;
  return;
}



/* FUN_1001c49d @ 1001c49d */

int __cdecl FUN_1001c49d(int *param_1)

{
  int iVar1;
  
  iVar1 = param_1[4];
  if (iVar1 == 200) {
    (**(code **)(param_1[99] + 4))(param_1);
    (**(code **)(param_1[5] + 8))(param_1);
    param_1[4] = 0xc9;
  }
  else if (iVar1 != 0xc9) {
    if (iVar1 == 0xca) {
      return 1;
    }
    if ((0xca < iVar1) && ((iVar1 < 0xd1 || (iVar1 == 0xd2)))) {
      iVar1 = (**(code **)param_1[99])(param_1);
      return iVar1;
    }
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
    return 0;
  }
  iVar1 = (**(code **)param_1[99])(param_1);
  if (iVar1 == 1) {
    FUN_1001c32a();
    param_1[4] = 0xca;
  }
  return iVar1;
}



/* FUN_1001c537 @ 1001c537 */

undefined4 __cdecl FUN_1001c537(int *param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = param_1[4];
  if (((iVar1 == 0xcd) || (iVar1 == 0xce)) && ((char)param_1[0x10] == '\0')) {
    if ((uint)param_1[0x1e] < (uint)param_1[0x18]) {
      *(undefined4 *)(*param_1 + 0x14) = 0x42;
      (**(code **)*param_1)(param_1);
    }
    (**(code **)(param_1[0x5f] + 4))(param_1);
    param_1[4] = 0xd2;
  }
  else if (iVar1 == 0xcf) {
    param_1[4] = 0xd2;
  }
  else if (iVar1 != 0xd2) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  do {
    if (*(char *)(param_1[99] + 0x11) != '\0') {
      (**(code **)(param_1[5] + 0x18))(param_1);
      uVar2 = FUN_10023ba3((int)param_1);
      return CONCAT31((int3)((uint)uVar2 >> 8),1);
    }
    iVar1 = (**(code **)param_1[99])(param_1);
  } while (iVar1 != 0);
  return 0;
}



/* FUN_1001c5de @ 1001c5de */

int __cdecl FUN_1001c5de(int *param_1,char param_2)

{
  int iVar1;
  
  if ((param_1[4] != 200) && (param_1[4] != 0xc9)) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  iVar1 = FUN_1001c49d(param_1);
  if (iVar1 == 1) {
    iVar1 = 1;
  }
  else if (iVar1 == 2) {
    if (param_2 != '\0') {
      *(undefined4 *)(*param_1 + 0x14) = 0x32;
      (**(code **)*param_1)(param_1);
    }
    FUN_10023ba3((int)param_1);
    return 2;
  }
  return iVar1;
}



/* FUN_1001c641 @ 1001c641 */

uint FUN_1001c641(void)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int unaff_ESI;
  
  if (*(int *)(unaff_ESI + 0x10) != 0xcc) {
    (*(code *)**(undefined4 **)(unaff_ESI + 0x17c))();
    *(undefined4 *)(unaff_ESI + 0x78) = 0;
    *(undefined4 *)(unaff_ESI + 0x10) = 0xcc;
  }
  if (*(char *)(*(int *)(unaff_ESI + 0x17c) + 8) != '\0') {
    puVar1 = (uint *)(unaff_ESI + 0x78);
    do {
      uVar3 = *puVar1;
      if (uVar3 < *(uint *)(unaff_ESI + 0x60)) {
        do {
          if (*(int *)(unaff_ESI + 8) != 0) {
            *(uint *)(*(int *)(unaff_ESI + 8) + 4) = uVar3;
            *(undefined4 *)(*(int *)(unaff_ESI + 8) + 8) = *(undefined4 *)(unaff_ESI + 0x60);
            (*(code *)**(undefined4 **)(unaff_ESI + 8))();
          }
          uVar2 = *puVar1;
          (**(code **)(*(int *)(unaff_ESI + 0x180) + 4))();
          uVar3 = *puVar1;
          if (uVar3 == uVar2) {
            return uVar3 & 0xffffff00;
          }
        } while (uVar3 < *(uint *)(unaff_ESI + 0x60));
      }
      (**(code **)(*(int *)(unaff_ESI + 0x17c) + 4))();
      (*(code *)**(undefined4 **)(unaff_ESI + 0x17c))();
      *puVar1 = 0;
    } while (*(char *)(*(int *)(unaff_ESI + 0x17c) + 8) != '\0');
  }
  iVar4 = (*(char *)(unaff_ESI + 0x41) != '\0') + 0xcd;
  *(int *)(unaff_ESI + 0x10) = iVar4;
  return CONCAT31((int3)((uint)iVar4 >> 8),1);
}



/* FUN_1001c6ea @ 1001c6ea */

int * __cdecl FUN_1001c6ea(int *param_1,undefined4 param_2,undefined4 param_3)

{
  int *piVar1;
  
  piVar1 = param_1;
  if (param_1[4] != 0xcd) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  if ((uint)piVar1[0x1e] < (uint)piVar1[0x18]) {
    if (piVar1[2] != 0) {
      *(int *)(piVar1[2] + 4) = piVar1[0x1e];
      *(int *)(piVar1[2] + 8) = piVar1[0x18];
      (**(code **)piVar1[2])(piVar1);
    }
    param_1 = (int *)0x0;
    (**(code **)(piVar1[0x60] + 4))(piVar1,param_2,&param_1,param_3);
    piVar1[0x1e] = piVar1[0x1e] + (int)param_1;
  }
  else {
    *(undefined4 *)(*piVar1 + 0x14) = 0x77;
    (**(code **)(*piVar1 + 4))(piVar1,0xffffffff);
    param_1 = (int *)0x0;
  }
  return param_1;
}



/* FUN_1001c76e @ 1001c76e */

uint __cdecl FUN_1001c76e(int *param_1)

{
  int *piVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  
  if (param_1[4] == 0xca) {
    uVar2 = FUN_100241e2((int)param_1);
    if ((char)param_1[0x10] != '\0') {
      param_1[4] = 0xcf;
      return CONCAT31((int3)((uint)uVar2 >> 8),1);
    }
    param_1[4] = 0xcb;
  }
  if (param_1[4] == 0xcb) {
    if (*(char *)(param_1[99] + 0x10) != '\0') {
      while( true ) {
        if ((undefined4 *)param_1[2] != (undefined4 *)0x0) {
          (**(code **)param_1[2])(param_1);
        }
        iVar3 = (**(code **)param_1[99])(param_1);
        if (iVar3 == 0) {
          return 0;
        }
        if (iVar3 == 2) break;
        if ((param_1[2] != 0) && ((iVar3 == 3 || (iVar3 == 1)))) {
          piVar1 = (int *)(param_1[2] + 4);
          *piVar1 = *piVar1 + 1;
          iVar3 = param_1[2];
          if (*(int *)(iVar3 + 8) <= *(int *)(iVar3 + 4)) {
            *(int *)(iVar3 + 8) = param_1[0x46] + *(int *)(iVar3 + 8);
          }
        }
      }
    }
    param_1[0x21] = param_1[0x1f];
  }
  else if (param_1[4] != 0xcc) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  uVar4 = FUN_1001c641();
  return uVar4;
}



/* FUN_1001c82f @ 1001c82f */

undefined4 FUN_1001c82f(void)

{
  undefined1 *puVar1;
  int iVar2;
  int *unaff_ESI;
  
  *(undefined4 *)(*unaff_ESI + 0x14) = 0x65;
  (**(code **)(*unaff_ESI + 4))();
  if (*(char *)(unaff_ESI[100] + 0x50) != '\0') {
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x3c;
    (**(code **)*unaff_ESI)();
  }
  puVar1 = (undefined1 *)((int)unaff_ESI + 0xda);
  iVar2 = 0x10;
  do {
    puVar1[-0x10] = 0;
    *puVar1 = 1;
    puVar1[0x10] = 5;
    puVar1 = puVar1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  iVar2 = unaff_ESI[100];
  unaff_ESI[0x3f] = 0;
  unaff_ESI[9] = 0;
  *(undefined1 *)(unaff_ESI + 0x42) = 0;
  *(undefined1 *)(unaff_ESI + 0x40) = 0;
  *(undefined1 *)((int)unaff_ESI + 0x101) = 0;
  *(undefined1 *)((int)unaff_ESI + 0x106) = 0;
  *(undefined1 *)((int)unaff_ESI + 0x107) = 0;
  *(undefined2 *)((int)unaff_ESI + 0x102) = 1;
  *(undefined2 *)(unaff_ESI + 0x41) = 1;
  *(undefined1 *)(iVar2 + 0x50) = 1;
  return CONCAT31((int3)((uint)iVar2 >> 8),1);
}



/* FUN_1001c8bd @ 1001c8bd */

uint __thiscall FUN_1001c8bd(undefined1 param_1,undefined1 param_2)

{
  byte bVar1;
  byte bVar2;
  undefined4 *puVar3;
  uint uVar4;
  int iVar5;
  uint *puVar6;
  int *unaff_ESI;
  byte *pbVar7;
  byte *pbVar8;
  uint local_c;
  int local_8;
  
  puVar3 = (undefined4 *)unaff_ESI[5];
  local_8 = puVar3[1];
  pbVar7 = (byte *)*puVar3;
  *(undefined1 *)(unaff_ESI + 0x32) = param_1;
  *(undefined1 *)((int)unaff_ESI + 0xc9) = param_2;
  if (local_8 == 0) {
    uVar4 = (*(code *)puVar3[3])();
    if ((char)uVar4 != '\0') {
      local_8 = puVar3[1];
      pbVar7 = (byte *)*puVar3;
      goto LAB_1001c8f7;
    }
LAB_1001cbb1:
    uVar4 = uVar4 & 0xffffff00;
  }
  else {
LAB_1001c8f7:
    local_8 = local_8 + -1;
    bVar1 = *pbVar7;
    pbVar7 = pbVar7 + 1;
    if (local_8 == 0) {
      uVar4 = (*(code *)puVar3[3])();
      if ((char)uVar4 == '\0') goto LAB_1001cbb1;
      local_8 = puVar3[1];
      pbVar7 = (byte *)*puVar3;
    }
    bVar2 = *pbVar7;
    local_8 = local_8 + -1;
    pbVar7 = pbVar7 + 1;
    if (local_8 == 0) {
      uVar4 = (*(code *)puVar3[3])();
      if ((char)uVar4 == '\0') goto LAB_1001cbb1;
      local_8 = puVar3[1];
      pbVar7 = (byte *)*puVar3;
    }
    local_8 = local_8 + -1;
    pbVar8 = pbVar7 + 1;
    unaff_ESI[0x30] = (uint)*pbVar7;
    if (local_8 == 0) {
      uVar4 = (*(code *)puVar3[3])();
      if ((char)uVar4 == '\0') goto LAB_1001cbb1;
      local_8 = puVar3[1];
      pbVar8 = (byte *)*puVar3;
    }
    local_8 = local_8 + -1;
    pbVar7 = pbVar8 + 1;
    unaff_ESI[7] = (uint)*pbVar8 << 8;
    if (local_8 == 0) {
      uVar4 = (*(code *)puVar3[3])();
      if ((char)uVar4 == '\0') goto LAB_1001cbb1;
      local_8 = puVar3[1];
      pbVar7 = (byte *)*puVar3;
    }
    local_8 = local_8 + -1;
    unaff_ESI[7] = unaff_ESI[7] + (uint)*pbVar7;
    pbVar7 = pbVar7 + 1;
    if (local_8 == 0) {
      uVar4 = (*(code *)puVar3[3])();
      if ((char)uVar4 == '\0') goto LAB_1001cbb1;
      local_8 = puVar3[1];
      pbVar7 = (byte *)*puVar3;
    }
    local_8 = local_8 + -1;
    pbVar8 = pbVar7 + 1;
    unaff_ESI[6] = (uint)*pbVar7 << 8;
    if (local_8 == 0) {
      uVar4 = (*(code *)puVar3[3])();
      if ((char)uVar4 == '\0') goto LAB_1001cbb1;
      local_8 = puVar3[1];
      pbVar8 = (byte *)*puVar3;
    }
    local_8 = local_8 + -1;
    unaff_ESI[6] = unaff_ESI[6] + (uint)*pbVar8;
    pbVar8 = pbVar8 + 1;
    if (local_8 == 0) {
      uVar4 = (*(code *)puVar3[3])();
      if ((char)uVar4 == '\0') goto LAB_1001cbb1;
      local_8 = puVar3[1];
      pbVar8 = (byte *)*puVar3;
    }
    local_8 = local_8 + -1;
    unaff_ESI[8] = (uint)*pbVar8;
    iVar5 = *unaff_ESI;
    *(int *)(iVar5 + 0x18) = unaff_ESI[0x5e];
    *(int *)(iVar5 + 0x1c) = unaff_ESI[6];
    *(int *)(iVar5 + 0x20) = unaff_ESI[7];
    *(int *)(iVar5 + 0x24) = unaff_ESI[8];
    *(undefined4 *)(*unaff_ESI + 0x14) = 99;
    pbVar8 = pbVar8 + 1;
    (**(code **)(*unaff_ESI + 4))();
    if (*(char *)(unaff_ESI[100] + 0x51) != '\0') {
      *(undefined4 *)(*unaff_ESI + 0x14) = 0x39;
      (**(code **)*unaff_ESI)();
    }
    if (((unaff_ESI[7] == 0) || (unaff_ESI[6] == 0)) || (unaff_ESI[8] < 1)) {
      *(undefined4 *)(*unaff_ESI + 0x14) = 0x1f;
      (**(code **)*unaff_ESI)();
    }
    if ((uint)bVar1 * 0x100 + (uint)bVar2 + -8 != unaff_ESI[8] * 3) {
      *(undefined4 *)(*unaff_ESI + 0x14) = 9;
      (**(code **)*unaff_ESI)();
    }
    if (unaff_ESI[0x31] == 0) {
      iVar5 = (**(code **)unaff_ESI[1])();
      unaff_ESI[0x31] = iVar5;
    }
    local_c = 0;
    puVar6 = (uint *)unaff_ESI[0x31];
    if (0 < unaff_ESI[8]) {
      do {
        puVar6[1] = local_c;
        if (local_8 == 0) {
          uVar4 = (*(code *)puVar3[3])();
          if ((char)uVar4 == '\0') goto LAB_1001cbb1;
          local_8 = puVar3[1];
          pbVar8 = (byte *)*puVar3;
        }
        local_8 = local_8 + -1;
        pbVar7 = pbVar8 + 1;
        *puVar6 = (uint)*pbVar8;
        if (local_8 == 0) {
          uVar4 = (*(code *)puVar3[3])();
          if ((char)uVar4 == '\0') goto LAB_1001cbb1;
          local_8 = puVar3[1];
          pbVar7 = (byte *)*puVar3;
        }
        bVar1 = *pbVar7;
        local_8 = local_8 + -1;
        pbVar7 = pbVar7 + 1;
        puVar6[2] = (int)(uint)bVar1 >> 4;
        puVar6[3] = bVar1 & 0xf;
        if (local_8 == 0) {
          uVar4 = (*(code *)puVar3[3])();
          if ((char)uVar4 == '\0') goto LAB_1001cbb1;
          local_8 = puVar3[1];
          pbVar7 = (byte *)*puVar3;
        }
        local_8 = local_8 + -1;
        puVar6[4] = (uint)*pbVar7;
        iVar5 = *unaff_ESI;
        *(uint *)(iVar5 + 0x18) = *puVar6;
        *(uint *)(iVar5 + 0x1c) = puVar6[2];
        *(uint *)(iVar5 + 0x20) = puVar6[3];
        *(uint *)(iVar5 + 0x24) = puVar6[4];
        *(undefined4 *)(*unaff_ESI + 0x14) = 100;
        pbVar8 = pbVar7 + 1;
        (**(code **)(*unaff_ESI + 4))();
        local_c = local_c + 1;
        puVar6 = puVar6 + 0x15;
      } while ((int)local_c < unaff_ESI[8]);
    }
    *(undefined1 *)(unaff_ESI[100] + 0x51) = 1;
    puVar3[1] = local_8;
    *puVar3 = pbVar8;
    uVar4 = CONCAT31((int3)((uint)local_8 >> 8),1);
  }
  return uVar4;
}



/* FUN_1001cbb8 @ 1001cbb8 */

uint FUN_1001cbb8(void)

{
  byte bVar1;
  byte bVar2;
  undefined4 *puVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  int *unaff_ESI;
  byte *pbVar8;
  byte *pbVar9;
  uint *local_20;
  int local_18;
  int *local_14;
  int local_c;
  int local_8;
  
  puVar3 = (undefined4 *)unaff_ESI[5];
  local_8 = puVar3[1];
  pbVar8 = (byte *)*puVar3;
  if (*(char *)(unaff_ESI[100] + 0x51) == '\0') {
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x3d;
    (**(code **)*unaff_ESI)();
  }
  if (local_8 == 0) {
    uVar5 = (*(code *)puVar3[3])();
    if ((char)uVar5 != '\0') {
      local_8 = puVar3[1];
      pbVar8 = (byte *)*puVar3;
      goto LAB_1001cc01;
    }
LAB_1001cdec:
    uVar5 = uVar5 & 0xffffff00;
  }
  else {
LAB_1001cc01:
    local_8 = local_8 + -1;
    bVar1 = *pbVar8;
    pbVar8 = pbVar8 + 1;
    if (local_8 == 0) {
      uVar5 = (*(code *)puVar3[3])();
      if ((char)uVar5 == '\0') goto LAB_1001cdec;
      local_8 = puVar3[1];
      pbVar8 = (byte *)*puVar3;
    }
    bVar2 = *pbVar8;
    local_8 = local_8 + -1;
    pbVar8 = pbVar8 + 1;
    if (local_8 == 0) {
      uVar5 = (*(code *)puVar3[3])();
      if ((char)uVar5 == '\0') goto LAB_1001cdec;
      local_8 = puVar3[1];
      pbVar8 = (byte *)*puVar3;
    }
    uVar6 = (uint)*pbVar8;
    local_8 = local_8 + -1;
    pbVar8 = pbVar8 + 1;
    if ((((uint)bVar1 * 0x100 + (uint)bVar2 != uVar6 * 2 + 6) || (uVar6 == 0)) || (4 < uVar6)) {
      *(undefined4 *)(*unaff_ESI + 0x14) = 9;
      (**(code **)*unaff_ESI)();
    }
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x66;
    *(uint *)(*unaff_ESI + 0x18) = uVar6;
    (**(code **)(*unaff_ESI + 4))();
    local_18 = 0;
    unaff_ESI[0x48] = uVar6;
    if (uVar6 != 0) {
      local_14 = unaff_ESI + 0x49;
      do {
        if (local_8 == 0) {
          uVar5 = (*(code *)puVar3[3])();
          if ((char)uVar5 == '\0') goto LAB_1001cdec;
          local_8 = puVar3[1];
          pbVar8 = (byte *)*puVar3;
        }
        uVar7 = (uint)*pbVar8;
        local_8 = local_8 + -1;
        pbVar8 = pbVar8 + 1;
        if (local_8 == 0) {
          uVar5 = (*(code *)puVar3[3])();
          if ((char)uVar5 == '\0') goto LAB_1001cdec;
          local_8 = puVar3[1];
          pbVar8 = (byte *)*puVar3;
        }
        bVar1 = *pbVar8;
        local_8 = local_8 + -1;
        local_c = 0;
        local_20 = (uint *)unaff_ESI[0x31];
        pbVar8 = pbVar8 + 1;
        if (0 < unaff_ESI[8]) {
          do {
            if (uVar7 == *local_20) goto LAB_1001cd43;
            local_c = local_c + 1;
            local_20 = local_20 + 0x15;
          } while (local_c < unaff_ESI[8]);
        }
        *(undefined4 *)(*unaff_ESI + 0x14) = 5;
        *(uint *)(*unaff_ESI + 0x18) = uVar7;
        (**(code **)*unaff_ESI)();
LAB_1001cd43:
        *local_14 = (int)local_20;
        local_20[6] = bVar1 & 0xf;
        local_20[5] = (int)(uint)bVar1 >> 4;
        iVar4 = *unaff_ESI;
        *(uint *)(iVar4 + 0x18) = uVar7;
        *(uint *)(iVar4 + 0x1c) = local_20[5];
        *(uint *)(iVar4 + 0x20) = local_20[6];
        *(undefined4 *)(*unaff_ESI + 0x14) = 0x67;
        (**(code **)(*unaff_ESI + 4))();
        local_18 = local_18 + 1;
        local_14 = local_14 + 1;
      } while (local_18 < (int)uVar6);
    }
    if (local_8 == 0) {
      uVar5 = (*(code *)puVar3[3])();
      if ((char)uVar5 == '\0') goto LAB_1001cdec;
      local_8 = puVar3[1];
      pbVar8 = (byte *)*puVar3;
    }
    local_8 = local_8 + -1;
    pbVar9 = pbVar8 + 1;
    unaff_ESI[0x5a] = (uint)*pbVar8;
    if (local_8 == 0) {
      uVar5 = (*(code *)puVar3[3])();
      if ((char)uVar5 == '\0') goto LAB_1001cdec;
      local_8 = puVar3[1];
      pbVar9 = (byte *)*puVar3;
    }
    local_8 = local_8 + -1;
    pbVar8 = pbVar9 + 1;
    unaff_ESI[0x5b] = (uint)*pbVar9;
    if (local_8 == 0) {
      uVar5 = (*(code *)puVar3[3])();
      if ((char)uVar5 == '\0') goto LAB_1001cdec;
      local_8 = puVar3[1];
      pbVar8 = (byte *)*puVar3;
    }
    bVar1 = *pbVar8;
    unaff_ESI[0x5d] = bVar1 & 0xf;
    iVar4 = *unaff_ESI;
    unaff_ESI[0x5c] = (int)(uint)bVar1 >> 4;
    *(int *)(iVar4 + 0x18) = unaff_ESI[0x5a];
    *(int *)(iVar4 + 0x1c) = unaff_ESI[0x5b];
    *(int *)(iVar4 + 0x20) = unaff_ESI[0x5c];
    *(int *)(iVar4 + 0x24) = unaff_ESI[0x5d];
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x68;
    (**(code **)(*unaff_ESI + 4))();
    *(undefined4 *)(unaff_ESI[100] + 0x54) = 0;
    unaff_ESI[0x1f] = unaff_ESI[0x1f] + 1;
    puVar3[1] = local_8 + -1;
    *puVar3 = pbVar8 + 1;
    uVar5 = CONCAT31((int3)((uint)(local_8 + -1) >> 8),1);
  }
  return uVar5;
}



/* FUN_1001ce6a @ 1001ce6a */

undefined4 __cdecl FUN_1001ce6a(int *param_1)

{
  byte *pbVar1;
  int iVar2;
  byte bVar3;
  undefined4 *puVar4;
  int *piVar5;
  int *piVar6;
  uint uVar7;
  int iVar8;
  ushort uVar9;
  byte *pbVar10;
  byte local_1c [4];
  char local_18;
  byte local_17;
  byte local_16;
  undefined1 local_15;
  byte local_14;
  byte local_13;
  byte local_12;
  byte local_11;
  byte local_10;
  byte local_f;
  int local_c;
  int local_8;
  
  piVar5 = param_1;
  puVar4 = (undefined4 *)param_1[5];
  pbVar10 = (byte *)*puVar4;
  piVar6 = (int *)puVar4[1];
  if ((int *)puVar4[1] == (int *)0x0) {
    uVar7 = (*(code *)puVar4[3])(param_1);
    if ((char)uVar7 == '\0') goto LAB_1001cf6a;
    pbVar10 = (byte *)*puVar4;
    piVar6 = (int *)puVar4[1];
  }
  param_1 = piVar6;
  param_1 = (int *)((int)param_1 + -1);
  local_8 = (uint)*pbVar10 << 8;
  pbVar10 = pbVar10 + 1;
  if (param_1 == (int *)0x0) {
    uVar7 = (*(code *)puVar4[3])(piVar5);
    if ((char)uVar7 == '\0') {
LAB_1001cf6a:
      return uVar7 & 0xffffff00;
    }
    param_1 = (int *)puVar4[1];
    pbVar10 = (byte *)*puVar4;
  }
  param_1 = (int *)((int)param_1 + -1);
  local_8 = local_8 + (uint)*pbVar10 + -2;
  pbVar10 = pbVar10 + 1;
  if (local_8 < 0xe) {
    *(undefined4 *)(*piVar5 + 0x14) = 0x4c;
    *(int *)(*piVar5 + 0x18) = local_8;
  }
  else {
    local_c = 0;
    do {
      if (param_1 == (int *)0x0) {
        uVar7 = (*(code *)puVar4[3])(piVar5);
        if ((char)uVar7 == '\0') goto LAB_1001cf6a;
        param_1 = (int *)puVar4[1];
        pbVar10 = (byte *)*puVar4;
      }
      param_1 = (int *)((int)param_1 + -1);
      bVar3 = *pbVar10;
      pbVar10 = pbVar10 + 1;
      iVar2 = local_c + 1;
      pbVar1 = local_1c + local_c;
      local_c = iVar2;
      *pbVar1 = bVar3;
    } while (iVar2 < 0xe);
    iVar2 = local_8 + -0xe;
    if ((((local_1c[0] == 0x4a) && (local_1c[1] == 'F')) && (local_1c[2] == 'I')) &&
       ((local_1c[3] == 'F' && (local_18 == '\0')))) {
      if (local_17 == 1) {
        local_8 = iVar2;
        if (2 < local_16) {
          *(undefined4 *)(*piVar5 + 0x14) = 0x58;
          *(undefined4 *)(*piVar5 + 0x18) = 1;
          *(uint *)(*piVar5 + 0x1c) = (uint)local_16;
          (**(code **)(*piVar5 + 4))(piVar5,1);
        }
      }
      else {
        *(undefined4 *)(*piVar5 + 0x14) = 0x73;
        *(uint *)(*piVar5 + 0x18) = (uint)local_17;
        *(uint *)(*piVar5 + 0x1c) = (uint)local_16;
        local_8 = iVar2;
        (**(code **)(*piVar5 + 4))(piVar5,0xffffffff);
      }
      *(undefined1 *)((int)piVar5 + 0x101) = local_15;
      *(undefined1 *)(piVar5 + 0x40) = 1;
      uVar9 = (ushort)local_13 + (ushort)local_14 * 0x100;
      *(ushort *)((int)piVar5 + 0x102) = uVar9;
      *(ushort *)(piVar5 + 0x41) = (ushort)local_12 * 0x100 + (ushort)local_11;
      iVar2 = *piVar5;
      *(uint *)(iVar2 + 0x18) = (uint)uVar9;
      *(uint *)(iVar2 + 0x1c) = (uint)*(ushort *)(piVar5 + 0x41);
      *(uint *)(iVar2 + 0x20) = (uint)*(byte *)((int)piVar5 + 0x101);
      *(undefined4 *)(*piVar5 + 0x14) = 0x56;
      (**(code **)(*piVar5 + 4))(piVar5,1);
      if (local_f != 0 || local_10 != 0) {
        *(undefined4 *)(*piVar5 + 0x14) = 0x59;
        *(uint *)(*piVar5 + 0x18) = (uint)local_10;
        *(uint *)(*piVar5 + 0x1c) = (uint)local_f;
        (**(code **)(*piVar5 + 4))(piVar5,1);
      }
      if (local_8 == (uint)local_f * (uint)local_10 * 3) goto LAB_1001d085;
      *(undefined4 *)(*piVar5 + 0x14) = 0x57;
      iVar8 = local_8;
    }
    else {
      *(undefined4 *)(*piVar5 + 0x14) = 0x4c;
      iVar8 = local_8;
      local_8 = iVar2;
    }
    *(int *)(*piVar5 + 0x18) = iVar8;
  }
  (**(code **)(*piVar5 + 4))(piVar5,1);
LAB_1001d085:
  *puVar4 = pbVar10;
  puVar4[1] = param_1;
  if (0 < local_8) {
    param_1 = (int *)(**(code **)(piVar5[5] + 0x10))(piVar5,local_8);
  }
  return CONCAT31((int3)((uint)param_1 >> 8),1);
}



/* FUN_1001d0a6 @ 1001d0a6 */

undefined4 __cdecl FUN_1001d0a6(int *param_1)

{
  byte *pbVar1;
  int iVar2;
  byte bVar3;
  undefined4 *puVar4;
  int *piVar5;
  int *piVar6;
  uint uVar7;
  byte *pbVar8;
  byte local_18 [4];
  char local_14;
  undefined1 local_13;
  undefined1 local_12;
  undefined1 local_11;
  undefined1 local_10;
  undefined1 local_f;
  undefined1 local_e;
  byte local_d;
  int local_c;
  int local_8;
  
  piVar5 = param_1;
  puVar4 = (undefined4 *)param_1[5];
  pbVar8 = (byte *)*puVar4;
  piVar6 = (int *)puVar4[1];
  if ((int *)puVar4[1] == (int *)0x0) {
    uVar7 = (*(code *)puVar4[3])(param_1);
    if ((char)uVar7 == '\0') goto LAB_1001d1ca;
    pbVar8 = (byte *)*puVar4;
    piVar6 = (int *)puVar4[1];
  }
  param_1 = piVar6;
  param_1 = (int *)((int)param_1 + -1);
  local_8 = (uint)*pbVar8 << 8;
  pbVar8 = pbVar8 + 1;
  if (param_1 == (int *)0x0) {
    uVar7 = (*(code *)puVar4[3])(piVar5);
    if ((char)uVar7 == '\0') {
LAB_1001d1ca:
      return uVar7 & 0xffffff00;
    }
    param_1 = (int *)puVar4[1];
    pbVar8 = (byte *)*puVar4;
  }
  param_1 = (int *)((int)param_1 + -1);
  local_8 = local_8 + (uint)*pbVar8 + -2;
  pbVar8 = pbVar8 + 1;
  if (local_8 < 0xc) {
    *(undefined4 *)(*piVar5 + 0x14) = 0x4d;
    *(int *)(*piVar5 + 0x18) = local_8;
  }
  else {
    local_c = 0;
    do {
      if (param_1 == (int *)0x0) {
        uVar7 = (*(code *)puVar4[3])(piVar5);
        if ((char)uVar7 == '\0') goto LAB_1001d1ca;
        param_1 = (int *)puVar4[1];
        pbVar8 = (byte *)*puVar4;
      }
      param_1 = (int *)((int)param_1 + -1);
      bVar3 = *pbVar8;
      pbVar8 = pbVar8 + 1;
      iVar2 = local_c + 1;
      pbVar1 = local_18 + local_c;
      local_c = iVar2;
      *pbVar1 = bVar3;
    } while (iVar2 < 0xc);
    if ((((local_18[0] == 0x41) && (local_18[1] == 'd')) && (local_18[2] == 'o')) &&
       ((local_18[3] == 'b' && (local_14 == 'e')))) {
      iVar2 = *piVar5;
      *(uint *)(iVar2 + 0x18) = (uint)CONCAT11(local_13,local_12);
      *(uint *)(iVar2 + 0x1c) = (uint)CONCAT11(local_11,local_10);
      *(uint *)(iVar2 + 0x20) = (uint)CONCAT11(local_f,local_e);
      *(uint *)(iVar2 + 0x24) = (uint)local_d;
      *(undefined4 *)(*piVar5 + 0x14) = 0x4b;
      local_8 = local_8 + -0xc;
      (**(code **)(*piVar5 + 4))(piVar5,1);
      *(undefined1 *)((int)piVar5 + 0x106) = 1;
      *(byte *)((int)piVar5 + 0x107) = local_d;
      goto LAB_1001d1fd;
    }
    *(undefined4 *)(*piVar5 + 0x14) = 0x4d;
    *(int *)(*piVar5 + 0x18) = local_8;
    local_8 = local_8 + -0xc;
  }
  (**(code **)(*piVar5 + 4))(piVar5,1);
LAB_1001d1fd:
  *puVar4 = pbVar8;
  puVar4[1] = param_1;
  if (0 < local_8) {
    param_1 = (int *)(**(code **)(piVar5[5] + 0x10))(piVar5,local_8);
  }
  return CONCAT31((int3)((uint)param_1 >> 8),1);
}



/* FUN_1001d220 @ 1001d220 */

uint FUN_1001d220(void)

{
  byte bVar1;
  undefined4 *puVar2;
  uint uVar3;
  uint uVar4;
  byte bVar5;
  int *unaff_ESI;
  byte *pbVar6;
  byte *pbVar7;
  int local_c;
  int local_8;
  
  puVar2 = (undefined4 *)unaff_ESI[5];
  local_8 = puVar2[1];
  pbVar6 = (byte *)*puVar2;
  if (local_8 == 0) {
    uVar3 = (*(code *)puVar2[3])();
    if ((char)uVar3 != '\0') {
      local_8 = puVar2[1];
      pbVar6 = (byte *)*puVar2;
      goto LAB_1001d24c;
    }
LAB_1001d373:
    uVar3 = uVar3 & 0xffffff00;
  }
  else {
LAB_1001d24c:
    local_8 = local_8 + -1;
    bVar1 = *pbVar6;
    pbVar6 = pbVar6 + 1;
    if (local_8 == 0) {
      uVar3 = (*(code *)puVar2[3])();
      if ((char)uVar3 == '\0') goto LAB_1001d373;
      local_8 = puVar2[1];
      pbVar6 = (byte *)*puVar2;
    }
    local_8 = local_8 + -1;
    pbVar7 = pbVar6 + 1;
    local_c = (uint)bVar1 * 0x100 + (uint)*pbVar6 + -2;
    while (0 < local_c) {
      if (local_8 == 0) {
        uVar3 = (*(code *)puVar2[3])();
        if ((char)uVar3 == '\0') goto LAB_1001d373;
        local_8 = puVar2[1];
        pbVar7 = (byte *)*puVar2;
      }
      uVar4 = (uint)*pbVar7;
      local_8 = local_8 + -1;
      pbVar7 = pbVar7 + 1;
      if (local_8 == 0) {
        uVar3 = (*(code *)puVar2[3])();
        if ((char)uVar3 == '\0') goto LAB_1001d373;
        local_8 = puVar2[1];
        pbVar7 = (byte *)*puVar2;
      }
      bVar1 = *pbVar7;
      uVar3 = (uint)bVar1;
      local_8 = local_8 + -1;
      local_c = local_c + -2;
      *(undefined4 *)(*unaff_ESI + 0x14) = 0x4e;
      *(uint *)(*unaff_ESI + 0x18) = uVar4;
      *(uint *)(*unaff_ESI + 0x1c) = uVar3;
      pbVar7 = pbVar7 + 1;
      (**(code **)(*unaff_ESI + 4))();
      if (0x1f < uVar4) {
        *(undefined4 *)(*unaff_ESI + 0x14) = 0x1a;
        *(uint *)(*unaff_ESI + 0x18) = uVar4;
        (**(code **)*unaff_ESI)();
      }
      if (uVar4 < 0x10) {
        bVar5 = (byte)((int)uVar3 >> 4);
        *(byte *)(uVar4 + 0xca + (int)unaff_ESI) = bVar1 & 0xf;
        *(byte *)(uVar4 + 0xda + (int)unaff_ESI) = bVar5;
        if (bVar5 < (bVar1 & 0xf)) {
          *(undefined4 *)(*unaff_ESI + 0x14) = 0x1b;
          *(uint *)(*unaff_ESI + 0x18) = uVar3;
          (**(code **)*unaff_ESI)();
        }
      }
      else {
        *(byte *)(uVar4 + 0xda + (int)unaff_ESI) = bVar1;
      }
    }
    puVar2[1] = local_8;
    *puVar2 = pbVar7;
    uVar3 = CONCAT31((int3)((uint)local_8 >> 8),1);
  }
  return uVar3;
}



/* FUN_1001d377 @ 1001d377 */

uint FUN_1001d377(void)

{
  byte bVar1;
  uint *puVar2;
  uint uVar3;
  int *unaff_EBX;
  byte *pbVar4;
  int *piVar5;
  byte *pbVar6;
  int iVar7;
  undefined4 *puVar8;
  byte local_134 [256];
  uint local_34;
  int *local_30;
  uint local_2c;
  uint local_28;
  uint local_24;
  uint local_20;
  byte local_1c;
  int local_18;
  int *local_14;
  int local_10;
  byte *local_c;
  int local_8;
  
  piVar5 = (int *)unaff_EBX[5];
  local_8 = piVar5[1];
  pbVar6 = (byte *)*piVar5;
  local_30 = piVar5;
  if (local_8 == 0) {
    uVar3 = (*(code *)piVar5[3])();
    if ((char)uVar3 != '\0') {
      pbVar6 = (byte *)*piVar5;
      local_8 = piVar5[1];
      local_c = pbVar6;
      goto LAB_1001d3af;
    }
LAB_1001d607:
    uVar3 = uVar3 & 0xffffff00;
  }
  else {
LAB_1001d3af:
    local_8 = local_8 + -1;
    local_10 = (uint)*pbVar6 << 8;
    pbVar6 = pbVar6 + 1;
    if (local_8 == 0) {
      uVar3 = (*(code *)piVar5[3])();
      if ((char)uVar3 == '\0') goto LAB_1001d607;
      pbVar6 = (byte *)*piVar5;
      local_8 = piVar5[1];
      local_c = pbVar6;
    }
    local_8 = local_8 + -1;
    local_10 = local_10 + (uint)*pbVar6 + -2;
    pbVar6 = pbVar6 + 1;
    while (0 < local_10) {
      if (local_8 == 0) {
        uVar3 = (*(code *)piVar5[3])();
        if ((char)uVar3 == '\0') goto LAB_1001d607;
        pbVar6 = (byte *)*piVar5;
        local_8 = piVar5[1];
        local_c = pbVar6;
      }
      local_34 = (uint)*pbVar6;
      local_8 = local_8 + -1;
      *(undefined4 *)(*unaff_EBX + 0x14) = 0x4f;
      *(uint *)(*unaff_EBX + 0x18) = local_34;
      pbVar6 = pbVar6 + 1;
      (**(code **)(*unaff_EBX + 4))();
      local_2c = local_2c & 0xffffff00;
      local_18 = 0;
      local_14 = (int *)0x1;
      do {
        if (local_8 == 0) {
          uVar3 = (*(code *)piVar5[3])();
          if ((char)uVar3 == '\0') goto LAB_1001d607;
          pbVar6 = (byte *)*piVar5;
          local_8 = piVar5[1];
        }
        bVar1 = *pbVar6;
        local_8 = local_8 + -1;
        *(byte *)((int)&local_2c + (int)local_14) = bVar1;
        local_18 = local_18 + (uint)bVar1;
        pbVar6 = pbVar6 + 1;
        local_14 = (int *)((int)local_14 + 1);
        local_c = pbVar6;
      } while ((int)local_14 < 0x11);
      iVar7 = *unaff_EBX;
      *(uint *)(iVar7 + 0x18) = local_2c >> 8 & 0xff;
      *(uint *)(iVar7 + 0x1c) = local_2c >> 0x10 & 0xff;
      *(uint *)(iVar7 + 0x20) = local_2c >> 0x18;
      local_10 = local_10 + -0x11;
      *(uint *)(iVar7 + 0x24) = local_28 & 0xff;
      *(uint *)(iVar7 + 0x28) = local_28 >> 8 & 0xff;
      *(uint *)(iVar7 + 0x2c) = local_28 >> 0x10 & 0xff;
      *(uint *)(iVar7 + 0x30) = local_28 >> 0x18;
      *(uint *)(iVar7 + 0x34) = local_24 & 0xff;
      *(undefined4 *)(*unaff_EBX + 0x14) = 0x55;
      (**(code **)(*unaff_EBX + 4))();
      iVar7 = *unaff_EBX;
      *(uint *)(iVar7 + 0x18) = local_24 >> 8 & 0xff;
      *(uint *)(iVar7 + 0x1c) = local_24 >> 0x10 & 0xff;
      *(uint *)(iVar7 + 0x20) = local_24 >> 0x18;
      *(uint *)(iVar7 + 0x24) = local_20 & 0xff;
      *(uint *)(iVar7 + 0x28) = local_20 >> 8 & 0xff;
      *(uint *)(iVar7 + 0x2c) = local_20 >> 0x10 & 0xff;
      *(uint *)(iVar7 + 0x30) = local_20 >> 0x18;
      *(uint *)(iVar7 + 0x34) = (uint)local_1c;
      *(undefined4 *)(*unaff_EBX + 0x14) = 0x55;
      (**(code **)(*unaff_EBX + 4))();
      if ((0x100 < local_18) || (local_10 < local_18)) {
        *(undefined4 *)(*unaff_EBX + 0x14) = 0x1c;
        (**(code **)*unaff_EBX)();
      }
      iVar7 = 0;
      if (0 < local_18) {
        do {
          if (local_8 == 0) {
            uVar3 = (*(code *)piVar5[3])();
            if ((char)uVar3 == '\0') goto LAB_1001d607;
            local_c = (byte *)*piVar5;
            local_8 = piVar5[1];
          }
          local_8 = local_8 + -1;
          bVar1 = *local_c;
          local_c = local_c + 1;
          local_134[iVar7] = bVar1;
          iVar7 = iVar7 + 1;
        } while (iVar7 < local_18);
      }
      local_10 = local_10 - local_18;
      if ((local_34 & 0x10) == 0) {
        piVar5 = unaff_EBX + local_34 + 0x28;
        local_14 = piVar5;
        uVar3 = local_34;
      }
      else {
        piVar5 = unaff_EBX + local_34 + 0x1c;
        local_14 = piVar5;
        uVar3 = local_34 - 0x10;
      }
      local_14 = piVar5;
      if (((int)uVar3 < 0) || (3 < (int)uVar3)) {
        *(undefined4 *)(*unaff_EBX + 0x14) = 0x1d;
        *(uint *)(*unaff_EBX + 0x18) = uVar3;
        (**(code **)*unaff_EBX)();
      }
      if (*piVar5 == 0) {
        iVar7 = FUN_10023bfc((int)unaff_EBX);
        *piVar5 = iVar7;
      }
      puVar2 = (uint *)*piVar5;
      *puVar2 = local_2c;
      puVar2[1] = local_28;
      puVar2[2] = local_24;
      puVar2[3] = local_20;
      *(byte *)(puVar2 + 4) = local_1c;
      pbVar4 = local_134;
      puVar8 = (undefined4 *)(*local_14 + 0x11);
      for (iVar7 = 0x40; piVar5 = local_30, pbVar6 = local_c, iVar7 != 0; iVar7 = iVar7 + -1) {
        *puVar8 = *(undefined4 *)pbVar4;
        pbVar4 = pbVar4 + 4;
        puVar8 = puVar8 + 1;
      }
    }
    piVar5[1] = local_8;
    *piVar5 = (int)pbVar6;
    uVar3 = CONCAT31((int3)((uint)local_8 >> 8),1);
  }
  return uVar3;
}



/* FUN_1001d60b @ 1001d60b */

uint FUN_1001d60b(void)

{
  int *piVar1;
  byte bVar2;
  undefined4 *puVar3;
  ushort uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  ushort *puVar8;
  int *unaff_EBX;
  byte *pbVar9;
  byte *pbVar10;
  int *local_14;
  int local_10;
  int local_c;
  int local_8;
  
  puVar3 = (undefined4 *)unaff_EBX[5];
  local_8 = puVar3[1];
  pbVar9 = (byte *)*puVar3;
  if (local_8 == 0) {
    uVar5 = (*(code *)puVar3[3])();
    if ((char)uVar5 != '\0') {
      local_8 = puVar3[1];
      pbVar9 = (byte *)*puVar3;
      goto LAB_1001d637;
    }
LAB_1001d830:
    uVar5 = uVar5 & 0xffffff00;
  }
  else {
LAB_1001d637:
    local_8 = local_8 + -1;
    bVar2 = *pbVar9;
    pbVar9 = pbVar9 + 1;
    if (local_8 == 0) {
      uVar5 = (*(code *)puVar3[3])();
      if ((char)uVar5 == '\0') goto LAB_1001d830;
      local_8 = puVar3[1];
      pbVar9 = (byte *)*puVar3;
    }
    local_8 = local_8 + -1;
    pbVar10 = pbVar9 + 1;
    iVar7 = (uint)bVar2 * 0x100 + (uint)*pbVar9 + -2;
    while (local_c = iVar7, 0 < local_c) {
      if (local_8 == 0) {
        uVar5 = (*(code *)puVar3[3])();
        if ((char)uVar5 == '\0') goto LAB_1001d830;
        local_8 = puVar3[1];
        pbVar10 = (byte *)*puVar3;
      }
      bVar2 = *pbVar10;
      local_8 = local_8 + -1;
      *(undefined4 *)(*unaff_EBX + 0x14) = 0x50;
      uVar5 = bVar2 & 0xf;
      *(uint *)(*unaff_EBX + 0x18) = uVar5;
      iVar6 = (int)(uint)bVar2 >> 4;
      *(int *)(*unaff_EBX + 0x1c) = iVar6;
      pbVar10 = pbVar10 + 1;
      (**(code **)(*unaff_EBX + 4))();
      if (3 < uVar5) {
        *(undefined4 *)(*unaff_EBX + 0x14) = 0x1e;
        *(uint *)(*unaff_EBX + 0x18) = uVar5;
        (**(code **)*unaff_EBX)();
      }
      piVar1 = unaff_EBX + uVar5 + 0x24;
      if (*piVar1 == 0) {
        iVar7 = FUN_10023be0((int)unaff_EBX);
        *piVar1 = iVar7;
      }
      iVar7 = *piVar1;
      local_14 = &DAT_1004e8c0;
      do {
        if (iVar6 == 0) {
          if (local_8 == 0) {
            uVar5 = (*(code *)puVar3[3])();
            if ((char)uVar5 == '\0') goto LAB_1001d830;
            local_8 = puVar3[1];
            pbVar10 = (byte *)*puVar3;
          }
          uVar4 = (ushort)*pbVar10;
        }
        else {
          if (local_8 == 0) {
            uVar5 = (*(code *)puVar3[3])();
            if ((char)uVar5 == '\0') goto LAB_1001d830;
            local_8 = puVar3[1];
            pbVar10 = (byte *)*puVar3;
          }
          local_8 = local_8 + -1;
          bVar2 = *pbVar10;
          pbVar10 = pbVar10 + 1;
          if (local_8 == 0) {
            uVar5 = (*(code *)puVar3[3])();
            if ((char)uVar5 == '\0') goto LAB_1001d830;
            local_8 = puVar3[1];
            pbVar10 = (byte *)*puVar3;
          }
          uVar4 = (ushort)bVar2 * 0x100 + (ushort)*pbVar10;
        }
        local_8 = local_8 + -1;
        piVar1 = local_14 + 1;
        pbVar10 = pbVar10 + 1;
        *(ushort *)(iVar7 + *local_14 * 2) = uVar4;
        local_14 = piVar1;
      } while ((int)piVar1 < 0x1004e9c0);
      if (1 < *(int *)(*unaff_EBX + 0x68)) {
        puVar8 = (ushort *)(iVar7 + 4);
        local_10 = 8;
        do {
          iVar7 = *unaff_EBX;
          *(uint *)(iVar7 + 0x18) = (uint)puVar8[-2];
          *(uint *)(iVar7 + 0x1c) = (uint)puVar8[-1];
          *(uint *)(iVar7 + 0x20) = (uint)*puVar8;
          *(uint *)(iVar7 + 0x24) = (uint)puVar8[1];
          *(uint *)(iVar7 + 0x28) = (uint)puVar8[2];
          *(uint *)(iVar7 + 0x2c) = (uint)puVar8[3];
          *(uint *)(iVar7 + 0x30) = (uint)puVar8[4];
          *(uint *)(iVar7 + 0x34) = (uint)puVar8[5];
          *(undefined4 *)(*unaff_EBX + 0x14) = 0x5c;
          (**(code **)(*unaff_EBX + 4))();
          puVar8 = puVar8 + 8;
          local_10 = local_10 + -1;
        } while (local_10 != 0);
      }
      iVar7 = local_c + -0x41;
      if (iVar6 != 0) {
        iVar7 = local_c + -0x81;
      }
    }
    puVar3[1] = local_8;
    *puVar3 = pbVar10;
    uVar5 = CONCAT31((int3)((uint)local_8 >> 8),1);
  }
  return uVar5;
}



/* FUN_1001d834 @ 1001d834 */

uint __cdecl FUN_1001d834(int *param_1)

{
  int iVar1;
  byte bVar2;
  undefined4 *puVar3;
  uint uVar4;
  int iVar5;
  byte *pbVar6;
  byte *pbVar7;
  
  puVar3 = (undefined4 *)param_1[5];
  iVar5 = puVar3[1];
  pbVar6 = (byte *)*puVar3;
  if (iVar5 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 != '\0') {
      pbVar6 = (byte *)*puVar3;
      iVar5 = puVar3[1];
      goto LAB_1001d85b;
    }
LAB_1001d8c4:
    uVar4 = uVar4 & 0xffffff00;
  }
  else {
LAB_1001d85b:
    bVar2 = *pbVar6;
    iVar5 = iVar5 + -1;
    pbVar6 = pbVar6 + 1;
    if (iVar5 == 0) {
      uVar4 = (*(code *)puVar3[3])(param_1);
      if ((char)uVar4 == '\0') goto LAB_1001d8c4;
      pbVar6 = (byte *)*puVar3;
      iVar5 = puVar3[1];
    }
    iVar5 = iVar5 + -1;
    pbVar7 = pbVar6 + 1;
    if ((uint)bVar2 * 0x100 + (uint)*pbVar6 != 4) {
      *(undefined4 *)(*param_1 + 0x14) = 9;
      (**(code **)*param_1)(param_1);
    }
    if (iVar5 == 0) {
      uVar4 = (*(code *)puVar3[3])(param_1);
      if ((char)uVar4 == '\0') goto LAB_1001d8c4;
      pbVar7 = (byte *)*puVar3;
      iVar5 = puVar3[1];
    }
    bVar2 = *pbVar7;
    iVar5 = iVar5 + -1;
    pbVar7 = pbVar7 + 1;
    if (iVar5 == 0) {
      uVar4 = (*(code *)puVar3[3])(param_1);
      if ((char)uVar4 == '\0') goto LAB_1001d8c4;
      pbVar7 = (byte *)*puVar3;
      iVar5 = puVar3[1];
    }
    iVar1 = (uint)bVar2 * 0x100 + (uint)*pbVar7;
    *(undefined4 *)(*param_1 + 0x14) = 0x51;
    *(int *)(*param_1 + 0x18) = iVar1;
    (**(code **)(*param_1 + 4))(param_1,1);
    param_1[0x3f] = iVar1;
    *puVar3 = pbVar7 + 1;
    puVar3[1] = iVar5 + -1;
    uVar4 = CONCAT31((int3)((uint)iVar1 >> 8),1);
  }
  return uVar4;
}



/* FUN_1001d90b @ 1001d90b */

uint __cdecl FUN_1001d90b(int *param_1)

{
  int iVar1;
  byte bVar2;
  undefined4 *puVar3;
  int *piVar4;
  int *piVar5;
  uint uVar6;
  undefined4 uVar7;
  byte *pbVar8;
  
  piVar4 = param_1;
  puVar3 = (undefined4 *)param_1[5];
  pbVar8 = (byte *)*puVar3;
  piVar5 = (int *)puVar3[1];
  if ((int *)puVar3[1] == (int *)0x0) {
    uVar6 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar6 != '\0') {
      pbVar8 = (byte *)*puVar3;
      piVar5 = (int *)puVar3[1];
      goto LAB_1001d935;
    }
LAB_1001d94f:
    uVar6 = uVar6 & 0xffffff00;
  }
  else {
LAB_1001d935:
    param_1 = piVar5;
    param_1 = (int *)((int)param_1 + -1);
    bVar2 = *pbVar8;
    pbVar8 = pbVar8 + 1;
    if (param_1 == (int *)0x0) {
      uVar6 = (*(code *)puVar3[3])(piVar4);
      if ((char)uVar6 == '\0') goto LAB_1001d94f;
      param_1 = (int *)puVar3[1];
      pbVar8 = (byte *)*puVar3;
    }
    iVar1 = (uint)bVar2 * 0x100 + (uint)*pbVar8;
    *(undefined4 *)(*piVar4 + 0x14) = 0x5a;
    *(int *)(*piVar4 + 0x18) = piVar4[0x5e];
    *(int *)(*piVar4 + 0x1c) = iVar1;
    (**(code **)(*piVar4 + 4))(piVar4,1);
    *puVar3 = pbVar8 + 1;
    puVar3[1] = (int)param_1 + -1;
    uVar7 = (**(code **)(piVar4[5] + 0x10))(piVar4,iVar1 + -2);
    uVar6 = CONCAT31((int3)((uint)uVar7 >> 8),1);
  }
  return uVar6;
}



/* FUN_1001d9a7 @ 1001d9a7 */

undefined4 __cdecl FUN_1001d9a7(int *param_1)

{
  byte bVar1;
  undefined4 *puVar2;
  uint uVar3;
  int iVar4;
  byte *pbVar5;
  
  puVar2 = (undefined4 *)param_1[5];
  iVar4 = puVar2[1];
  pbVar5 = (byte *)*puVar2;
  do {
    if (iVar4 == 0) {
      uVar3 = (*(code *)puVar2[3])(param_1);
      if ((char)uVar3 == '\0') {
LAB_1001da20:
        return uVar3 & 0xffffff00;
      }
      pbVar5 = (byte *)*puVar2;
      iVar4 = puVar2[1];
    }
    bVar1 = *pbVar5;
    iVar4 = iVar4 + -1;
    pbVar5 = pbVar5 + 1;
    if (bVar1 == 0xff) {
      do {
        if (iVar4 == 0) {
          uVar3 = (*(code *)puVar2[3])(param_1);
          if ((char)uVar3 == '\0') goto LAB_1001da20;
          pbVar5 = (byte *)*puVar2;
          iVar4 = puVar2[1];
        }
        uVar3 = (uint)*pbVar5;
        iVar4 = iVar4 + -1;
        pbVar5 = pbVar5 + 1;
      } while (uVar3 == 0xff);
      if (uVar3 != 0) {
        if (*(int *)(param_1[100] + 0x58) != 0) {
          *(undefined4 *)(*param_1 + 0x14) = 0x70;
          *(undefined4 *)(*param_1 + 0x18) = *(undefined4 *)(param_1[100] + 0x58);
          *(uint *)(*param_1 + 0x1c) = uVar3;
          (**(code **)(*param_1 + 4))(param_1,0xffffffff);
          *(undefined4 *)(param_1[100] + 0x58) = 0;
        }
        param_1[0x5e] = uVar3;
        *puVar2 = pbVar5;
        puVar2[1] = iVar4;
        return CONCAT31((int3)((uint)param_1 >> 8),1);
      }
      *(int *)(param_1[100] + 0x58) = *(int *)(param_1[100] + 0x58) + 2;
    }
    else {
      *(int *)(param_1[100] + 0x58) = *(int *)(param_1[100] + 0x58) + 1;
    }
    *puVar2 = pbVar5;
    puVar2[1] = iVar4;
  } while( true );
}



/* FUN_1001da7e @ 1001da7e */

uint __cdecl FUN_1001da7e(int *param_1)

{
  byte bVar1;
  undefined4 *puVar2;
  uint uVar3;
  int iVar4;
  byte *pbVar5;
  
  puVar2 = (undefined4 *)param_1[5];
  iVar4 = puVar2[1];
  pbVar5 = (byte *)*puVar2;
  if (iVar4 == 0) {
    uVar3 = (*(code *)puVar2[3])(param_1);
    if ((char)uVar3 != '\0') {
      pbVar5 = (byte *)*puVar2;
      iVar4 = puVar2[1];
      goto LAB_1001daa5;
    }
LAB_1001daba:
    uVar3 = uVar3 & 0xffffff00;
  }
  else {
LAB_1001daa5:
    bVar1 = *pbVar5;
    iVar4 = iVar4 + -1;
    pbVar5 = pbVar5 + 1;
    if (iVar4 == 0) {
      uVar3 = (*(code *)puVar2[3])(param_1);
      if ((char)uVar3 == '\0') goto LAB_1001daba;
      pbVar5 = (byte *)*puVar2;
      iVar4 = puVar2[1];
    }
    uVar3 = (uint)*pbVar5;
    if ((bVar1 != 0xff) || (uVar3 != 0xd8)) {
      *(undefined4 *)(*param_1 + 0x14) = 0x34;
      *(uint *)(*param_1 + 0x18) = (uint)bVar1;
      *(uint *)(*param_1 + 0x1c) = uVar3;
      (**(code **)*param_1)(param_1);
    }
    param_1[0x5e] = uVar3;
    *puVar2 = pbVar5 + 1;
    puVar2[1] = iVar4 + -1;
    uVar3 = CONCAT31((int3)((uint)param_1 >> 8),1);
  }
  return uVar3;
}



/* FUN_1001dd02 @ 1001dd02 */

uint __cdecl FUN_1001dd02(int *param_1)

{
  uint uVar1;
  
  if (param_1[0x5e] == 0) {
    uVar1 = FUN_1001d9a7(param_1);
    if ((char)uVar1 == '\0') goto LAB_1001dd7c;
  }
  if (param_1[0x5e] == *(int *)(param_1[100] + 0x54) + 0xd0) {
    *(undefined4 *)(*param_1 + 0x14) = 0x61;
    *(undefined4 *)(*param_1 + 0x18) = *(undefined4 *)(param_1[100] + 0x54);
    (**(code **)(*param_1 + 4))(param_1,3);
    param_1[0x5e] = 0;
  }
  else {
    uVar1 = (**(code **)(param_1[5] + 0x14))(param_1,*(int *)(param_1[100] + 0x54));
    if ((char)uVar1 == '\0') {
LAB_1001dd7c:
      return uVar1 & 0xffffff00;
    }
  }
  *(uint *)(param_1[100] + 0x54) = *(int *)(param_1[100] + 0x54) + 1U & 7;
  return 1;
}



/* FUN_1001de6f @ 1001de6f */

void __cdecl FUN_1001de6f(int param_1)

{
  int *piVar1;
  
  *(undefined4 *)(param_1 + 0xc4) = 0;
  *(undefined4 *)(param_1 + 0x7c) = 0;
  *(undefined4 *)(param_1 + 0x178) = 0;
  piVar1 = (int *)(param_1 + 400);
  *(undefined1 *)(*piVar1 + 0x50) = 0;
  *(undefined1 *)(*piVar1 + 0x51) = 0;
  *(undefined4 *)(*piVar1 + 0x58) = 0;
  return;
}



/* FUN_1001de99 @ 1001de99 */

void __cdecl FUN_1001de99(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x5c);
  *(undefined4 **)(param_1 + 400) = puVar1;
  *puVar1 = FUN_1001de6f;
  *(undefined1 **)(*(int *)(param_1 + 400) + 4) = &LAB_1001db15;
  *(code **)(*(int *)(param_1 + 400) + 8) = FUN_1001dd02;
  *(code **)(*(int *)(param_1 + 400) + 0xc) = FUN_1001d90b;
  iVar2 = 0x10;
  do {
    *(code **)(iVar2 + *(int *)(param_1 + 400)) = FUN_1001d90b;
    iVar2 = iVar2 + 4;
  } while (iVar2 < 0x50);
  *(code **)(*(int *)(param_1 + 400) + 0x10) = FUN_1001ce6a;
  *(code **)(*(int *)(param_1 + 400) + 0x48) = FUN_1001d0a6;
  FUN_1001de6f(param_1);
  return;
}



/* FUN_1001df16 @ 1001df16 */

void FUN_1001df16(int *param_1)

{
  (**(code **)(*param_1 + 8))(param_1);
  FUN_10023bc5((int)param_1);
                    /* WARNING: Subroutine does not return */
  exit(1);
}



/* FUN_1001e027 @ 1001e027 */

void __cdecl FUN_1001e027(undefined4 *param_1)

{
  *param_1 = FUN_1001df16;
  param_1[1] = &LAB_1001df4e;
  param_1[2] = &LAB_1001df31;
  param_1[3] = &LAB_1001df7f;
  param_1[4] = &LAB_1001e016;
  param_1[0x1a] = 0;
  param_1[0x1b] = 0;
  param_1[5] = 0;
  param_1[0x1c] = &PTR_s_Bogus_message_code__d_1004ce48;
  param_1[0x1d] = 0x77;
  param_1[0x1e] = 0;
  param_1[0x1f] = 0;
  param_1[0x20] = 0;
  return;
}



/* FUN_1001e073 @ 1001e073 */

void __thiscall FUN_1001e073(void *this,int param_1,undefined4 *param_2)

{
  undefined4 *puVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  undefined4 *puVar7;
  
  iVar3 = 0;
  iVar6 = 0;
  do {
    bVar2 = *(byte *)(param_1 + 0x10c + iVar6);
    uVar5 = (uint)bVar2;
    iVar6 = iVar6 + 1;
    if (((uVar5 < 0x29) || (0x7a < uVar5)) || ((0x5a < uVar5 && (uVar5 < 0x61)))) {
      *(undefined1 *)(iVar3 + (int)this) = 0x5b;
      *(char *)(iVar3 + 1 + (int)this) = "0123456789ABCDEF1.0.5"[(int)uVar5 >> 4];
      *(char *)(iVar3 + 2 + (int)this) = "0123456789ABCDEF1.0.5"[uVar5 & 0xf];
      iVar4 = iVar3 + 3;
      *(undefined1 *)(iVar4 + (int)this) = 0x5d;
    }
    else {
      *(byte *)(iVar3 + (int)this) = bVar2;
      iVar4 = iVar3;
    }
    iVar3 = iVar4 + 1;
  } while (iVar6 < 4);
  if (param_2 == (undefined4 *)0x0) {
    *(undefined1 *)(iVar3 + (int)this) = 0;
  }
  else {
    *(undefined1 *)(iVar3 + (int)this) = 0x3a;
    *(undefined1 *)(iVar4 + 2 + (int)this) = 0x20;
    puVar1 = (undefined4 *)(iVar4 + 3 + (int)this);
    puVar7 = puVar1;
    for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar7 = *param_2;
      param_2 = param_2 + 1;
      puVar7 = puVar7 + 1;
    }
    *(undefined1 *)((int)puVar1 + 0x3f) = 0;
  }
  return;
}



/* FUN_1001e0fa @ 1001e0fa */

void __cdecl FUN_1001e0fa(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  *(undefined4 *)(param_1 + 0x48) = param_2;
  *(undefined4 *)(param_1 + 0x40) = param_3;
  *(undefined4 *)(param_1 + 0x44) = param_4;
  return;
}



/* png_error @ 1001e114 */

/* png error handler: call error_fn then longjmp */

void png_error(png_structp png_ptr,char *msg)

{
  if (png_ptr->error_fn != (png_error_ptr)0x0) {
    (*png_ptr->error_fn)(png_ptr,msg);
  }
                    /* WARNING: Subroutine does not return */
  longjmp((int *)png_ptr,1);
}



/* png_warning @ 1001e132 */

/* png warning handler: call warning_fn */

void __cdecl png_warning(png_structp png_ptr,char *msg)

{
  if (png_ptr->warning_fn != (png_error_ptr)0x0) {
    (*png_ptr->warning_fn)(png_ptr,msg);
  }
  return;
}



/* FUN_1001e147 @ 1001e147 */

void __cdecl FUN_1001e147(png_structp png_ptr,undefined4 *param_2)

{
  char local_54 [80];
  
  FUN_1001e073(local_54,(int)png_ptr,param_2);
  png_error(png_ptr,local_54);
  return;
}



/* FUN_1001e16c @ 1001e16c */

void __cdecl FUN_1001e16c(png_structp png_ptr,undefined4 *param_2)

{
  char local_54 [80];
  
  FUN_1001e073(local_54,(int)png_ptr,param_2);
  png_warning(png_ptr,local_54);
  return;
}



/* png_create_read_struct @ 1001e191 */

/* allocates png_struct, initializes zlib stream, checks version; error_fn/warn_fn are png_error_ptr
   callbacks */

png_structp __cdecl
png_create_read_struct(char *user_png_ver,png_voidp error_ptr,void *error_fn,void *warn_fn)

{
  png_structp png_ptr;
  int iVar1;
  png_bytep ppVar2;
  char *msg;
  
  png_ptr = (png_structp)FUN_100246f2(1);
  if (png_ptr == (png_structp)0x0) {
    return (png_structp)0x0;
  }
  iVar1 = setjmp3(png_ptr,0);
  if (iVar1 != 0) {
    png_free(png_ptr,png_ptr->zbuf);
    png_free_ptr(png_ptr);
    return (png_structp)0x0;
  }
  FUN_1001e0fa((int)png_ptr,error_ptr,error_fn,warn_fn);
  if ((user_png_ver == (char *)0x0) || (*user_png_ver != '1')) {
    png_error(png_ptr,"Incompatible libpng version in application and library");
  }
  png_ptr->zbuf_size = 0x2000;
  ppVar2 = png_malloc(png_ptr,0x2000);
  png_ptr->zbuf = ppVar2;
  (png_ptr->zstream).words[8] = (png_uint_32)FUN_1002052b;
  (png_ptr->zstream).words[9] = (png_uint_32)png_free_thunk;
  (png_ptr->zstream).words[10] = (png_uint_32)png_ptr;
  iVar1 = inflateInit_((z_streamp)&png_ptr->zstream,"1.1.3",0x38);
  if (iVar1 == -6) {
    msg = "zlib version error";
  }
  else if ((iVar1 == -4) || (iVar1 == -2)) {
    msg = "zlib memory error";
  }
  else {
    if (iVar1 == 0) goto LAB_1001e270;
    msg = "Unknown zlib error";
  }
  png_error(png_ptr,msg);
LAB_1001e270:
  (png_ptr->zstream).words[3] = (png_uint_32)png_ptr->zbuf;
  (png_ptr->zstream).words[4] = png_ptr->zbuf_size;
  FUN_100204a4(png_ptr,0,0);
  return png_ptr;
}



/* FUN_1001e294 @ 1001e294 */

void __cdecl FUN_1001e294(png_structp png_ptr,uint *param_2)

{
  png_byte *buf;
  png_structp png_ptr_00;
  int iVar1;
  int unaff_EBX;
  uint uVar2;
  uint unaff_EBP;
  png_uint_32 pVar3;
  char *pcVar4;
  
  png_ptr_00 = png_ptr;
  if (png_ptr->sig_bytes < 8) {
    uVar2 = (uint)png_ptr->sig_bytes;
    pVar3 = -uVar2 + 8;
    png_read_data(png_ptr,(png_bytep)(uVar2 + 0x20 + (int)param_2),pVar3);
    png_ptr_00->sig_bytes = '\b';
    iVar1 = FUN_100204e3((int)(param_2 + 8),uVar2,pVar3);
    if (iVar1 != 0) {
      if ((uVar2 < 4) && (iVar1 = FUN_100204e3((int)(param_2 + 8),uVar2,-uVar2 + 4), iVar1 != 0)) {
        pcVar4 = "Not a PNG file";
      }
      else {
        pcVar4 = "PNG file corrupted by ASCII conversion";
      }
      png_error(png_ptr_00,pcVar4);
    }
  }
  buf = png_ptr_00->chunk_name;
  while( true ) {
    while( true ) {
      while( true ) {
        while( true ) {
          png_read_data(png_ptr_00,(png_bytep)&png_ptr,4);
          pVar3 = png_get_uint_32((png_bytep)&png_ptr);
          png_reset_crc(png_ptr_00);
          png_crc_read(png_ptr_00,buf,4);
          if (*(int *)buf != 0x52444849) break;
          grim_png_read_IHDR(png_ptr_00,param_2,pVar3);
        }
        if (*(int *)buf != 0x45544c50) break;
        grim_png_read_PLTE((void *)0x45544c50,png_ptr_00,(int)param_2,pVar3);
      }
      if (*(int *)buf != 0x444e4549) break;
      FUN_10025483(png_ptr_00,param_2,pVar3,unaff_EBX,unaff_EBP);
    }
    if (*(int *)buf == 0x54414449) break;
    if (*(int *)buf == 0x414d4167) {
      FUN_100254cd(png_ptr_00,(int)param_2,pVar3);
    }
    else if (*(int *)buf == 0x42475273) {
      FUN_100255d8(png_ptr_00,(int)param_2,pVar3);
    }
    else if (*(int *)buf == 0x534e5274) {
      FUN_100256c7(png_ptr_00,(int)param_2,pVar3);
    }
    else {
      grim_png_read_chunk_generic(png_ptr_00,(int)param_2,pVar3);
    }
  }
  if ((png_ptr_00->mode & 1) == 0) {
    pcVar4 = "Missing IHDR before IDAT";
  }
  else {
    if ((png_ptr_00->color_type != '\x03') || ((png_ptr_00->mode & 2) != 0)) goto LAB_1001e3f8;
    pcVar4 = "Missing PLTE before IDAT";
  }
  png_error(png_ptr_00,pcVar4);
LAB_1001e3f8:
  png_ptr_00->mode = png_ptr_00->mode | 4;
  png_ptr_00->crc = pVar3;
  return;
}



/* FUN_1001e407 @ 1001e407 */

void __cdecl FUN_1001e407(png_structp png_ptr,int *param_2)

{
  if ((png_ptr->flags & 0x40) == 0) {
    FUN_10024f3b(png_ptr);
  }
  FUN_1001ed89((int)png_ptr,param_2);
  return;
}



/* FUN_1001e427 @ 1001e427 */

void __thiscall FUN_1001e427(void *this,png_structp png_ptr,byte *param_2,byte *param_3)

{
  png_uint_32 *ppVar1;
  png_byte pVar2;
  byte bVar3;
  uint uVar4;
  png_bytep buf;
  png_structp png_ptr_00;
  png_uint_32 pVar5;
  int iVar6;
  char *msg;
  png_structp extraout_ECX;
  uint uVar7;
  png_structp extraout_ECX_00;
  png_structp this_00;
  png_structp extraout_ECX_01;
  png_structp extraout_ECX_02;
  png_structp extraout_ECX_03;
  png_structp extraout_ECX_04;
  bool bVar8;
  byte *pbVar9;
  
  png_ptr_00 = png_ptr;
  if ((png_ptr->flags & 0x40) == 0) {
    this = png_ptr;
    FUN_10024f3b(png_ptr);
  }
  if ((png_ptr_00->interlaced != '\0') && ((png_ptr_00->transformations & 2) != 0)) {
    pVar2 = png_ptr_00->pass;
    if (pVar2 == '\0') {
      if (((uint)png_ptr_00->prev_row & 7) != 0) {
        bVar8 = param_3 == (byte *)0x0;
LAB_1001e539:
        if (bVar8) goto LAB_1001e48f;
        uVar7 = 0xff;
LAB_1001e544:
        FUN_100248e1((int)png_ptr_00,param_3,uVar7);
        this = extraout_ECX;
LAB_1001e48f:
        FUN_100258c8(this,(int *)png_ptr_00);
        return;
      }
    }
    else if (pVar2 == '\x01') {
      if ((((uint)png_ptr_00->prev_row & 7) != 0) || (png_ptr_00->width < 5)) {
        if (param_3 == (byte *)0x0) goto LAB_1001e48f;
        uVar7 = 0xf;
        goto LAB_1001e544;
      }
    }
    else if (pVar2 == '\x02') {
      this = (void *)((uint)png_ptr_00->prev_row & 0xffffff07);
      if ((char)this != '\x04') {
        if (param_3 == (byte *)0x0) goto LAB_1001e48f;
        bVar8 = ((uint)png_ptr_00->prev_row & 4) == 0;
        goto LAB_1001e539;
      }
    }
    else if (pVar2 == '\x03') {
      if ((((uint)png_ptr_00->prev_row & 3) != 0) || (png_ptr_00->width < 3)) {
        if (param_3 == (byte *)0x0) goto LAB_1001e48f;
        uVar7 = 0x33;
        goto LAB_1001e544;
      }
    }
    else if (pVar2 == '\x04') {
      this = (void *)((uint)png_ptr_00->prev_row & 0xffffff03);
      if ((char)this != '\x02') {
        if (param_3 == (byte *)0x0) goto LAB_1001e48f;
        bVar8 = ((uint)png_ptr_00->prev_row & 2) == 0;
        goto LAB_1001e539;
      }
    }
    else if (pVar2 == '\x05') {
      if ((((uint)png_ptr_00->prev_row & 1) != 0) || (png_ptr_00->width < 2)) {
        if (param_3 == (byte *)0x0) goto LAB_1001e48f;
        uVar7 = 0x55;
        goto LAB_1001e544;
      }
    }
    else if ((pVar2 == '\x06') && (((uint)png_ptr_00->prev_row & 1) == 0)) goto LAB_1001e48f;
  }
  if ((png_ptr_00->mode & 4) == 0) {
    png_error(png_ptr_00,"Invalid attempt to read row data");
  }
  (png_ptr_00->zstream).words[3] = (png_uint_32)png_ptr_00->sub_row;
  (png_ptr_00->zstream).words[4] = png_ptr_00->iwidth;
  do {
    if ((png_ptr_00->zstream).words[1] == 0) {
      if (png_ptr_00->crc == 0) {
        do {
          png_crc_finish(png_ptr_00,0);
          png_read_data(png_ptr_00,(png_bytep)&png_ptr,4);
          pVar5 = png_get_uint_32((png_bytep)&png_ptr);
          png_ptr_00->crc = pVar5;
          png_reset_crc(png_ptr_00);
          png_crc_read(png_ptr_00,png_ptr_00->chunk_name,4);
          if (*(int *)png_ptr_00->chunk_name != 0x54414449) {
            png_error(png_ptr_00,"Not enough image data");
          }
        } while (png_ptr_00->crc == 0);
      }
      uVar7 = png_ptr_00->zbuf_size;
      uVar4 = png_ptr_00->crc;
      buf = png_ptr_00->zbuf;
      (png_ptr_00->zstream).words[1] = uVar7;
      (png_ptr_00->zstream).words[0] = (png_uint_32)buf;
      if (uVar4 < uVar7) {
        (png_ptr_00->zstream).words[1] = uVar4;
      }
      png_crc_read(png_ptr_00,buf,(png_ptr_00->zstream).words[1]);
      png_ptr_00->crc = png_ptr_00->crc - (png_ptr_00->zstream).words[1];
    }
    iVar6 = inflate((z_streamp)&png_ptr_00->zstream,1);
    if (iVar6 == 1) {
      if ((((png_ptr_00->zstream).words[4] != 0) || ((png_ptr_00->zstream).words[1] != 0)) ||
         (png_ptr_00->crc != 0)) {
        png_error(png_ptr_00,"Extra compressed data");
      }
      png_ptr_00->mode = png_ptr_00->mode | 8;
      png_ptr_00->flags = png_ptr_00->flags | 0x20;
      break;
    }
    if (iVar6 != 0) {
      msg = (char *)(png_ptr_00->zstream).words[6];
      if (msg == (char *)0x0) {
        msg = "Decompression error";
      }
      png_error(png_ptr_00,msg);
    }
  } while ((png_ptr_00->zstream).words[4] != 0);
  pVar2 = png_ptr_00->color_type;
  *(png_byte *)((int)&png_ptr_00->idat_size + 2) = png_ptr_00->channels;
  *(png_byte *)((int)&png_ptr_00->idat_size + 1) = png_ptr_00->bit_depth;
  bVar3 = png_ptr_00->pixel_depth;
  *(byte *)((int)&png_ptr_00->idat_size + 3) = bVar3;
  *(png_byte *)&png_ptr_00->idat_size = pVar2;
  uVar7 = (uint)bVar3 * png_ptr_00->row_number + 7 >> 3;
  ppVar1 = &(png_ptr_00->row_info).rowbytes;
  *ppVar1 = png_ptr_00->row_number;
  pbVar9 = png_ptr_00->sub_row;
  (png_ptr_00->row_info).color_type = (char)uVar7;
  (png_ptr_00->row_info).bit_depth = (char)(uVar7 >> 8);
  (png_ptr_00->row_info).channels = (char)(uVar7 >> 0x10);
  (png_ptr_00->row_info).pixel_depth = (char)(uVar7 >> 0x18);
  FUN_10024dc0(png_ptr_00,(int)ppVar1,pbVar9 + 1,png_ptr_00->row_buf + 1,(uint)*pbVar9);
  FUN_10024790((int)png_ptr_00,(int)png_ptr_00->row_buf,(int)png_ptr_00->sub_row);
  this_00 = extraout_ECX_00;
  if (png_ptr_00->transformations != 0) {
    this_00 = png_ptr_00;
    FUN_10020149(png_ptr_00);
  }
  if ((png_ptr_00->interlaced == '\0') || ((png_ptr_00->transformations & 2) == 0)) {
    if (param_2 != (byte *)0x0) {
      FUN_100248e1((int)png_ptr_00,param_2,0xff);
      this_00 = extraout_ECX_03;
    }
    if (param_3 == (byte *)0x0) goto LAB_1001e7a4;
    uVar7 = 0xff;
    pbVar9 = param_3;
  }
  else {
    bVar3 = png_ptr_00->pass;
    this_00 = (png_structp)CONCAT31((int3)((uint)this_00 >> 8),bVar3);
    if (bVar3 < 6) {
      FUN_10024af7(ppVar1,(int *)(png_ptr_00->sub_row + 1),(uint)bVar3);
      this_00 = extraout_ECX_01;
    }
    if (param_3 != (byte *)0x0) {
      FUN_100248e1((int)png_ptr_00,param_3,*(uint *)(&DAT_1004e1f8 + (uint)png_ptr_00->pass * 4));
      this_00 = extraout_ECX_02;
    }
    if (param_2 == (byte *)0x0) goto LAB_1001e7a4;
    uVar7 = *(uint *)(&DAT_1004e1dc + (uint)png_ptr_00->pass * 4);
    pbVar9 = param_2;
  }
  FUN_100248e1((int)png_ptr_00,pbVar9,uVar7);
  this_00 = extraout_ECX_04;
LAB_1001e7a4:
  FUN_100258c8(this_00,(int *)png_ptr_00);
  if (png_ptr_00[1].write_data_fn != (png_rw_ptr)0x0) {
    (*png_ptr_00[1].write_data_fn)(png_ptr_00,png_ptr_00->prev_row,(png_uint_32)png_ptr_00->pass);
  }
  return;
}



/* FUN_1001e7ce @ 1001e7ce */

void __cdecl FUN_1001e7ce(png_structp png_ptr,undefined4 *param_2)

{
  png_uint_32 pVar1;
  png_uint_32 pVar2;
  undefined4 *puVar3;
  png_structp extraout_ECX;
  png_structp this;
  undefined4 local_8;
  
  this = png_ptr;
  local_8 = FUN_1001ebf8((int)png_ptr);
  pVar1 = png_ptr->height;
  png_ptr->num_rows = pVar1;
  pVar2 = pVar1;
  puVar3 = param_2;
  if (0 < local_8) {
    do {
      for (; pVar2 != 0; pVar2 = pVar2 - 1) {
        FUN_1001e427(this,png_ptr,(byte *)*puVar3,(byte *)0x0);
        puVar3 = puVar3 + 1;
        this = extraout_ECX;
      }
      local_8 = local_8 + -1;
      pVar2 = pVar1;
      puVar3 = param_2;
    } while (local_8 != 0);
  }
  return;
}



/* FUN_1001e81b @ 1001e81b */

void __cdecl FUN_1001e81b(png_structp png_ptr,undefined4 *param_2,undefined4 *param_3)

{
  png_voidp pvVar1;
  png_error_ptr ppVar2;
  png_error_ptr ppVar3;
  int iVar4;
  png_structp ppVar5;
  png_uint_32 *ppVar6;
  int iVar7;
  png_uint_32 local_44 [16];
  
  iVar7 = 0;
  if (param_2 != (undefined4 *)0x0) {
    FUN_100205da((int)png_ptr);
  }
  if (param_3 != (undefined4 *)0x0) {
    FUN_100205da((int)png_ptr);
  }
  png_free(png_ptr,png_ptr->zbuf);
  png_free(png_ptr,png_ptr->sub_row);
  png_free(png_ptr,png_ptr->row_buf);
  png_free(png_ptr,png_ptr[1].io_ptr);
  png_free(png_ptr,(void *)png_ptr[1].mode);
  png_free(png_ptr,(void *)png_ptr[1].jmpbuf[6]);
  if ((png_ptr->flags & 0x1000) != 0) {
    png_free_thunk(png_ptr,*(void **)&png_ptr->num_palette);
  }
  if ((png_ptr->flags & 0x2000) != 0) {
    png_free(png_ptr,(void *)png_ptr[1].jmpbuf[0xf]);
  }
  if (png_ptr[1].jmpbuf[9] != 0) {
    iVar4 = 1 << (8U - (char)png_ptr[1].jmpbuf[3] & 0x1f);
    if (0 < iVar4) {
      do {
        png_free(png_ptr,*(void **)(png_ptr[1].jmpbuf[9] + iVar7 * 4));
        iVar7 = iVar7 + 1;
      } while (iVar7 < iVar4);
    }
    png_free(png_ptr,(void *)png_ptr[1].jmpbuf[9]);
  }
  inflateEnd((z_streamp)&png_ptr->zstream);
  pvVar1 = png_ptr->error_ptr;
  ppVar2 = png_ptr->error_fn;
  ppVar5 = png_ptr;
  ppVar6 = local_44;
  for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
    *ppVar6 = ppVar5->jmpbuf[0];
    ppVar5 = (png_structp)(ppVar5->jmpbuf + 1);
    ppVar6 = ppVar6 + 1;
  }
  ppVar3 = png_ptr->warning_fn;
  ppVar5 = png_ptr;
  for (iVar7 = 0x67; iVar7 != 0; iVar7 = iVar7 + -1) {
    ppVar5->jmpbuf[0] = 0;
    ppVar5 = (png_structp)(ppVar5->jmpbuf + 1);
  }
  png_ptr->warning_fn = ppVar3;
  ppVar6 = local_44;
  ppVar5 = png_ptr;
  for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
    ppVar5->jmpbuf[0] = *ppVar6;
    ppVar6 = ppVar6 + 1;
    ppVar5 = (png_structp)(ppVar5->jmpbuf + 1);
  }
  png_ptr->error_fn = ppVar2;
  png_ptr->error_ptr = pvVar1;
  return;
}



/* FUN_1001e93e @ 1001e93e */

void __cdecl FUN_1001e93e(undefined4 *param_1,undefined4 *param_2,undefined4 *param_3)

{
  undefined4 *ptr;
  undefined4 local_c;
  undefined4 local_8;
  
  ptr = (undefined4 *)0x0;
  local_8 = (png_structp)0x0;
  local_c = (undefined4 *)0x0;
  if (param_1 != (undefined4 *)0x0) {
    local_8 = (png_structp)*param_1;
  }
  if (param_2 != (undefined4 *)0x0) {
    ptr = (undefined4 *)*param_2;
  }
  if (param_3 != (undefined4 *)0x0) {
    local_c = (undefined4 *)*param_3;
  }
  if (local_8 != (png_structp)0x0) {
    FUN_1001e81b(local_8,ptr,local_c);
  }
  if (ptr != (undefined4 *)0x0) {
    png_free_ptr(ptr);
    *param_2 = 0;
  }
  if (local_c != (undefined4 *)0x0) {
    png_free_ptr(local_c);
    *param_3 = 0;
  }
  if (local_8 != (png_structp)0x0) {
    png_free_ptr(local_8);
    *param_1 = 0;
  }
  return;
}



/* FUN_1001e9bf @ 1001e9bf */

uint __cdecl FUN_1001e9bf(int param_1,int param_2,uint param_3)

{
  if ((param_1 != 0) && (param_2 != 0)) {
    return *(uint *)(param_2 + 8) & param_3;
  }
  return 0;
}



/* FUN_1001e9d9 @ 1001e9d9 */

undefined4 __cdecl FUN_1001e9d9(int param_1,int param_2)

{
  if ((param_1 != 0) && (param_2 != 0)) {
    return *(undefined4 *)(param_2 + 0xc);
  }
  return 0;
}



/* FUN_1001e9ef @ 1001e9ef */

undefined1 __cdecl FUN_1001e9ef(int param_1,int param_2)

{
  if ((param_1 != 0) && (param_2 != 0)) {
    return *(undefined1 *)(param_2 + 0x1d);
  }
  return 0;
}



/* FUN_1001ea05 @ 1001ea05 */

undefined4 __cdecl FUN_1001ea05(int param_1,int param_2,double *param_3)

{
  if ((((param_1 != 0) && (param_2 != 0)) && ((*(byte *)(param_2 + 8) & 1) != 0)) &&
     (param_3 != (double *)0x0)) {
    *param_3 = (double)*(float *)(param_2 + 0x28);
    return 1;
  }
  return 0;
}



/* FUN_1001ea2e @ 1001ea2e */

undefined4 __cdecl FUN_1001ea2e(int param_1,int param_2,uint *param_3)

{
  if ((((param_1 != 0) && (param_2 != 0)) && ((*(uint *)(param_2 + 8) & 0x800) != 0)) &&
     (param_3 != (uint *)0x0)) {
    *param_3 = (uint)*(byte *)(param_2 + 0x2c);
    return 0x800;
  }
  return 0;
}



/* FUN_1001ea59 @ 1001ea59 */

undefined4 __cdecl
FUN_1001ea59(png_structp png_ptr,uint *param_2,uint *param_3,uint *param_4,uint *param_5,
            uint *param_6,uint *param_7,uint *param_8,uint *param_9)

{
  uint uVar1;
  uint uVar2;
  undefined4 uVar3;
  
  if ((((png_ptr == (png_structp)0x0) || (param_2 == (uint *)0x0)) || (param_3 == (uint *)0x0)) ||
     (((param_4 == (uint *)0x0 || (param_5 == (uint *)0x0)) || (param_6 == (uint *)0x0)))) {
    uVar3 = 0;
  }
  else {
    *param_3 = *param_2;
    *param_4 = param_2[1];
    *param_5 = (uint)(byte)param_2[6];
    *param_6 = (uint)*(byte *)((int)param_2 + 0x19);
    if (param_8 != (uint *)0x0) {
      *param_8 = (uint)*(byte *)((int)param_2 + 0x1a);
    }
    if (param_9 != (uint *)0x0) {
      *param_9 = (uint)*(byte *)((int)param_2 + 0x1b);
    }
    if (param_7 != (uint *)0x0) {
      *param_7 = (uint)(byte)param_2[7];
    }
    uVar1 = *param_6;
    if (uVar1 == 3) {
      uVar2 = 1;
    }
    else {
      uVar2 = (int)(char)uVar1 & 2U | 1;
    }
    if ((uVar1 & 4) != 0) {
      uVar2 = uVar2 + 1;
    }
    if ((uint)(0x7fffffff / (ulonglong)(uint)((int)(*param_5 * uVar2 + 7) >> 3)) < *param_3) {
      png_warning(png_ptr,"Width too large for libpng to process image data.");
    }
    uVar3 = 1;
  }
  return uVar3;
}



/* FUN_1001eb2a @ 1001eb2a */

undefined4 __cdecl FUN_1001eb2a(int param_1,int param_2,undefined4 *param_3,uint *param_4)

{
  if ((((param_1 != 0) && (param_2 != 0)) && ((*(byte *)(param_2 + 8) & 8) != 0)) &&
     (param_3 != (undefined4 *)0x0)) {
    *param_3 = *(undefined4 *)(param_2 + 0x10);
    *param_4 = (uint)*(ushort *)(param_2 + 0x14);
    return 8;
  }
  return 0;
}



/* FUN_1001eb5d @ 1001eb5d */

undefined4 __cdecl
FUN_1001eb5d(int param_1,int param_2,undefined4 *param_3,uint *param_4,int *param_5)

{
  undefined4 uVar1;
  
  uVar1 = 0;
  if (((param_1 != 0) && (param_2 != 0)) && ((*(byte *)(param_2 + 8) & 0x10) != 0)) {
    if (*(char *)(param_2 + 0x19) == '\x03') {
      if (param_3 != (undefined4 *)0x0) {
        *param_3 = *(undefined4 *)(param_2 + 0x30);
        uVar1 = 0x10;
      }
      if (param_5 != (int *)0x0) {
        *param_5 = param_2 + 0x34;
      }
    }
    else {
      if (param_5 != (int *)0x0) {
        *param_5 = param_2 + 0x34;
        uVar1 = 0x10;
      }
      if (param_3 != (undefined4 *)0x0) {
        *param_3 = 0;
      }
    }
    if (param_4 != (uint *)0x0) {
      *param_4 = (uint)*(ushort *)(param_2 + 0x16);
      uVar1 = 0x10;
    }
  }
  return uVar1;
}



/* FUN_1001ebc4 @ 1001ebc4 */

void __cdecl FUN_1001ebc4(int param_1)

{
  *(uint *)(param_1 + 0x60) = *(uint *)(param_1 + 0x60) | 1;
  return;
}



/* FUN_1001ebcd @ 1001ebcd */

void __cdecl FUN_1001ebcd(int param_1)

{
  if (*(char *)(param_1 + 0x117) == '\x10') {
    *(uint *)(param_1 + 0x60) = *(uint *)(param_1 + 0x60) | 0x10;
  }
  return;
}



/* FUN_1001ebdf @ 1001ebdf */

void __cdecl FUN_1001ebdf(int param_1)

{
  if (*(byte *)(param_1 + 0x117) < 8) {
    *(uint *)(param_1 + 0x60) = *(uint *)(param_1 + 0x60) | 4;
    *(undefined1 *)(param_1 + 0x118) = 8;
  }
  return;
}



/* FUN_1001ebf8 @ 1001ebf8 */

undefined4 __cdecl FUN_1001ebf8(int param_1)

{
  if (*(char *)(param_1 + 0x113) != '\0') {
    *(uint *)(param_1 + 0x60) = *(uint *)(param_1 + 0x60) | 2;
    return 7;
  }
  return 1;
}



/* FUN_1001ec11 @ 1001ec11 */

void __cdecl FUN_1001ec11(int param_1,byte param_2,int param_3)

{
  *(byte *)(param_1 + 0x61) = *(byte *)(param_1 + 0x61) | 0x80;
  *(ushort *)(param_1 + 0x11e) = (ushort)param_2;
  if (param_3 == 1) {
    *(byte *)(param_1 + 0x5c) = *(byte *)(param_1 + 0x5c) | 0x80;
  }
  else {
    *(byte *)(param_1 + 0x5c) = *(byte *)(param_1 + 0x5c) & 0x7f;
  }
  if (*(char *)(param_1 + 0x116) == '\x02') {
    *(undefined1 *)(param_1 + 0x11b) = 4;
  }
  if ((*(char *)(param_1 + 0x116) == '\0') && (7 < *(byte *)(param_1 + 0x117))) {
    *(undefined1 *)(param_1 + 0x11b) = 2;
  }
  return;
}



/* FUN_1001ec5e @ 1001ec5e */

void __cdecl FUN_1001ec5e(int *param_1,undefined1 *param_2)

{
  undefined1 uVar1;
  int iVar2;
  
  if (*(char *)((int)param_1 + 9) == '\x10') {
    for (iVar2 = (uint)*(byte *)((int)param_1 + 10) * *param_1; iVar2 != 0; iVar2 = iVar2 + -1) {
      uVar1 = *param_2;
      *param_2 = param_2[1];
      param_2[1] = uVar1;
      param_2 = param_2 + 2;
    }
  }
  return;
}



/* FUN_1001ec8b @ 1001ec8b */

void __cdecl FUN_1001ec8b(int *param_1,undefined1 *param_2)

{
  byte bVar1;
  undefined1 uVar2;
  undefined1 *puVar3;
  int iVar4;
  
  bVar1 = *(byte *)(param_1 + 2);
  if ((bVar1 & 2) != 0) {
    iVar4 = *param_1;
    if (*(char *)((int)param_1 + 9) == '\b') {
      if (bVar1 == 2) {
        for (; iVar4 != 0; iVar4 = iVar4 + -1) {
          uVar2 = *param_2;
          *param_2 = param_2[2];
          param_2[2] = uVar2;
          param_2 = param_2 + 3;
        }
      }
      else if (bVar1 == 6) {
        for (; iVar4 != 0; iVar4 = iVar4 + -1) {
          uVar2 = *param_2;
          *param_2 = param_2[2];
          param_2[2] = uVar2;
          param_2 = param_2 + 4;
        }
      }
    }
    else if (*(char *)((int)param_1 + 9) == '\x10') {
      if (bVar1 == 2) {
        if (iVar4 != 0) {
          puVar3 = param_2 + 1;
          do {
            uVar2 = puVar3[-1];
            puVar3[-1] = puVar3[3];
            puVar3[3] = uVar2;
            uVar2 = *puVar3;
            *puVar3 = puVar3[4];
            puVar3[4] = uVar2;
            puVar3 = puVar3 + 6;
            iVar4 = iVar4 + -1;
          } while (iVar4 != 0);
        }
      }
      else if ((bVar1 == 6) && (iVar4 != 0)) {
        puVar3 = param_2 + 1;
        do {
          uVar2 = puVar3[-1];
          puVar3[-1] = puVar3[3];
          puVar3[3] = uVar2;
          uVar2 = *puVar3;
          *puVar3 = puVar3[4];
          puVar3[4] = uVar2;
          puVar3 = puVar3 + 8;
          iVar4 = iVar4 + -1;
        } while (iVar4 != 0);
      }
    }
  }
  return;
}



/* FUN_1001ed4a @ 1001ed4a */

void __cdecl FUN_1001ed4a(int param_1,double param_2,double param_3)

{
  if (0.05 < ABS(param_2 * param_3 - 1.0)) {
    *(byte *)(param_1 + 0x61) = *(byte *)(param_1 + 0x61) | 0x20;
  }
  *(float *)(param_1 + 0x130) = (float)param_3;
  *(float *)(param_1 + 0x134) = (float)param_2;
  return;
}



/* FUN_1001ed80 @ 1001ed80 */

void __cdecl FUN_1001ed80(int param_1)

{
  *(byte *)(param_1 + 0x61) = *(byte *)(param_1 + 0x61) | 0x10;
  return;
}



/* FUN_1001ed89 @ 1001ed89 */

void __cdecl FUN_1001ed89(int param_1,int *param_2)

{
  byte bVar1;
  
  if ((*(byte *)(param_1 + 0x61) & 0x10) == 0) goto LAB_1001edd5;
  if (*(byte *)((int)param_2 + 0x19) == 3) {
    *(char *)((int)param_2 + 0x19) = (*(short *)(param_1 + 0x10a) != 0) * '\x04' + '\x02';
LAB_1001edcd:
    *(undefined1 *)(param_2 + 6) = 8;
  }
  else {
    if (*(short *)(param_1 + 0x10a) != 0) {
      *(byte *)((int)param_2 + 0x19) = *(byte *)((int)param_2 + 0x19) | 4;
    }
    if (*(byte *)(param_2 + 6) < 8) goto LAB_1001edcd;
  }
  *(undefined2 *)((int)param_2 + 0x16) = 0;
LAB_1001edd5:
  if ((*(byte *)(param_1 + 0x61) & 0x20) != 0) {
    param_2[10] = *(int *)(param_1 + 0x130);
  }
  if (((*(byte *)(param_1 + 0x61) & 4) != 0) && ((char)param_2[6] == '\x10')) {
    *(undefined1 *)(param_2 + 6) = 8;
  }
  if (((*(byte *)(param_1 + 0x60) & 0x40) != 0) &&
     ((((*(char *)((int)param_2 + 0x19) == '\x02' || (*(char *)((int)param_2 + 0x19) == '\x06')) &&
       (*(int *)(param_1 + 0x174) != 0)) && ((char)param_2[6] == '\b')))) {
    *(undefined1 *)((int)param_2 + 0x19) = 3;
  }
  if (((*(byte *)(param_1 + 0x60) & 4) != 0) && (*(byte *)(param_2 + 6) < 8)) {
    *(undefined1 *)(param_2 + 6) = 8;
  }
  bVar1 = *(byte *)((int)param_2 + 0x19);
  if ((bVar1 == 3) || ((bVar1 & 2) == 0)) {
    *(undefined1 *)((int)param_2 + 0x1d) = 1;
  }
  else {
    *(undefined1 *)((int)param_2 + 0x1d) = 3;
  }
  if ((bVar1 & 4) != 0) {
    *(char *)((int)param_2 + 0x1d) = *(char *)((int)param_2 + 0x1d) + '\x01';
  }
  if (((*(byte *)(param_1 + 0x61) & 0x80) != 0) && ((bVar1 == 2 || (bVar1 == 0)))) {
    *(char *)((int)param_2 + 0x1d) = *(char *)((int)param_2 + 0x1d) + '\x01';
  }
  bVar1 = (char)param_2[6] * *(char *)((int)param_2 + 0x1d);
  *(byte *)((int)param_2 + 0x1e) = bVar1;
  param_2[3] = (uint)bVar1 * *param_2 + 7 >> 3;
  return;
}



/* FUN_1001ee74 @ 1001ee74 */

void __cdecl FUN_1001ee74(int *param_1,int param_2)

{
  int iVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  byte *pbVar5;
  byte *pbVar6;
  
  bVar2 = *(byte *)((int)param_1 + 9);
  if (bVar2 < 8) {
    iVar3 = *param_1;
    if (bVar2 == 1) {
      pbVar5 = (byte *)((iVar3 - 1U >> 3) + param_2);
      pbVar6 = (byte *)(iVar3 + -1 + param_2);
      iVar4 = 7 - (iVar3 - 1U & 7);
      for (iVar1 = iVar3; iVar1 != 0; iVar1 = iVar1 + -1) {
        *pbVar6 = *pbVar5 >> ((byte)iVar4 & 0x1f) & 1;
        if (iVar4 == 7) {
          iVar4 = 0;
          pbVar5 = pbVar5 + -1;
        }
        else {
          iVar4 = iVar4 + 1;
        }
        pbVar6 = pbVar6 + -1;
      }
    }
    else if (bVar2 == 2) {
      pbVar5 = (byte *)((iVar3 - 1U >> 2) + param_2);
      pbVar6 = (byte *)(iVar3 + -1 + param_2);
      iVar4 = (iVar3 - 1U & 3) * -2 + 6;
      for (iVar1 = iVar3; iVar1 != 0; iVar1 = iVar1 + -1) {
        *pbVar6 = *pbVar5 >> ((byte)iVar4 & 0x1f) & 3;
        if (iVar4 == 6) {
          iVar4 = 0;
          pbVar5 = pbVar5 + -1;
        }
        else {
          iVar4 = iVar4 + 2;
        }
        pbVar6 = pbVar6 + -1;
      }
    }
    else if (bVar2 == 4) {
      pbVar5 = (byte *)((iVar3 - 1U >> 1) + param_2);
      pbVar6 = (byte *)(iVar3 + -1 + param_2);
      iVar4 = (iVar3 - 1U & 1) * -4 + 4;
      for (iVar1 = iVar3; iVar1 != 0; iVar1 = iVar1 + -1) {
        *pbVar6 = *pbVar5 >> ((byte)iVar4 & 0x1f) & 0xf;
        if (iVar4 == 4) {
          iVar4 = 0;
          pbVar5 = pbVar5 + -1;
        }
        else {
          iVar4 = 4;
        }
        pbVar6 = pbVar6 + -1;
      }
    }
    *(undefined1 *)((int)param_1 + 9) = 8;
    *(byte *)((int)param_1 + 0xb) = *(byte *)((int)param_1 + 10) << 3;
    param_1[1] = (uint)*(byte *)((int)param_1 + 10) * iVar3;
  }
  return;
}



/* FUN_1001ef84 @ 1001ef84 */

byte * __cdecl FUN_1001ef84(byte *param_1,byte *param_2,byte *param_3)

{
  bool bVar1;
  byte bVar2;
  ushort uVar3;
  undefined4 in_EAX;
  byte *pbVar4;
  uint uVar5;
  byte bVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  int local_18 [4];
  byte *local_8;
  
  bVar2 = param_1[8];
  pbVar4 = (byte *)CONCAT31((int3)((uint)in_EAX >> 8),bVar2);
  if (bVar2 != 3) {
    bVar1 = false;
    iVar10 = *(int *)param_1;
    if ((bVar2 & 2) == 0) {
      iVar8 = (uint)param_1[9] - (uint)param_3[3];
      uVar9 = 1;
    }
    else {
      iVar8 = (uint)param_1[9] - (uint)*param_3;
      local_18[1] = (uint)param_1[9] - (uint)param_3[1];
      local_18[2] = (uint)param_1[9] - (uint)param_3[2];
      uVar9 = 3;
    }
    local_18[0] = iVar8;
    pbVar4 = param_3;
    if ((param_1[8] & 4) != 0) {
      pbVar4 = (byte *)((uint)param_1[9] - (uint)param_3[4]);
      local_18[uVar9] = (int)pbVar4;
      uVar9 = uVar9 + 1;
    }
    iVar7 = 0;
    if (uVar9 != 0) {
      do {
        pbVar4 = (byte *)(local_18 + iVar7);
        if (*(int *)pbVar4 < 1) {
          pbVar4[0] = 0;
          pbVar4[1] = 0;
          pbVar4[2] = 0;
          pbVar4[3] = 0;
          iVar8 = local_18[0];
        }
        else {
          bVar1 = true;
        }
        iVar7 = iVar7 + 1;
      } while (iVar7 < (int)uVar9);
      if (bVar1) {
        uVar5 = (uint)param_1[9];
        if (uVar5 == 2) {
          pbVar4 = param_2;
          for (iVar10 = *(int *)(param_1 + 4); iVar10 != 0; iVar10 = iVar10 + -1) {
            *pbVar4 = *pbVar4 >> 1 & 0x55;
            pbVar4 = pbVar4 + 1;
          }
        }
        else if (uVar5 == 4) {
          bVar6 = (byte)iVar8;
          uVar9 = 0xf0 >> (bVar6 & 0x1f) & 0xfffffff0;
          bVar2 = (byte)uVar9 | (byte)(0xf >> (bVar6 & 0x1f));
          pbVar4 = (byte *)CONCAT31((int3)(uVar9 >> 8),bVar2);
          for (iVar10 = *(int *)(param_1 + 4); iVar10 != 0; iVar10 = iVar10 + -1) {
            *param_2 = *param_2 >> (bVar6 & 0x1f) & bVar2;
            param_2 = param_2 + 1;
          }
        }
        else if (uVar5 == 8) {
          uVar5 = iVar10 * uVar9;
          uVar11 = 0;
          pbVar4 = (byte *)0x0;
          if (uVar5 != 0) {
            do {
              pbVar4 = (byte *)(uVar11 / uVar9);
              *param_2 = *param_2 >> (*(byte *)(local_18 + uVar11 % uVar9) & 0x1f);
              param_2 = param_2 + 1;
              uVar11 = uVar11 + 1;
            } while (uVar11 < uVar5);
          }
        }
        else {
          pbVar4 = (byte *)(uVar5 - 0x10);
          if (pbVar4 == (byte *)0x0) {
            local_8 = (byte *)(iVar10 * uVar9);
            param_1 = (byte *)0x0;
            if (local_8 != (byte *)0x0) {
              do {
                uVar3 = (ushort)((ushort)*param_2 * 0x100 + (ushort)param_2[1]) >>
                        ((byte)(short)local_18[(uint)param_1 % uVar9] & 0x1f);
                *param_2 = (byte)(uVar3 >> 8);
                param_2[1] = (byte)uVar3;
                param_2 = param_2 + 2;
                pbVar4 = param_1 + 1;
                param_1 = pbVar4;
              } while (pbVar4 < local_8);
            }
          }
        }
      }
    }
  }
  return pbVar4;
}



/* FUN_1001f0fb @ 1001f0fb */

void __cdecl FUN_1001f0fb(int *param_1,undefined1 *param_2)

{
  undefined1 uVar1;
  int iVar2;
  undefined1 *puVar3;
  
  if (*(char *)((int)param_1 + 9) == '\x10') {
    puVar3 = param_2;
    for (iVar2 = (uint)*(byte *)((int)param_1 + 10) * *param_1; iVar2 != 0; iVar2 = iVar2 + -1) {
      uVar1 = *param_2;
      param_2 = param_2 + 2;
      *puVar3 = uVar1;
      puVar3 = puVar3 + 1;
    }
    *(undefined1 *)((int)param_1 + 9) = 8;
    *(byte *)((int)param_1 + 0xb) = *(byte *)((int)param_1 + 10) << 3;
    param_1[1] = (uint)*(byte *)((int)param_1 + 10) * *param_1;
  }
  return;
}



/* FUN_1001f13f @ 1001f13f */

void __cdecl FUN_1001f13f(uint *param_1,int param_2,uint param_3,byte param_4)

{
  int iVar1;
  uint *puVar2;
  uint uVar3;
  undefined1 *puVar4;
  undefined1 *puVar5;
  undefined1 uVar6;
  byte bVar7;
  uint uVar8;
  undefined1 *puVar9;
  
  puVar2 = param_1;
  uVar3 = *param_1;
  uVar8 = param_3 >> 8;
  bVar7 = (byte)(param_3 >> 8);
  uVar6 = (undefined1)param_3;
  if ((char)param_1[2] == '\0') {
    if (*(char *)((int)param_1 + 9) == '\b') {
      puVar4 = (undefined1 *)(param_2 + uVar3);
      puVar9 = puVar4 + uVar3;
      uVar8 = uVar3;
      if ((param_4 & 0x80) == 0) {
        for (; uVar8 != 0; uVar8 = uVar8 - 1) {
          puVar4 = puVar4 + -1;
          puVar9[-1] = *puVar4;
          puVar9 = puVar9 + -2;
          *puVar9 = uVar6;
        }
      }
      else {
        if (1 < uVar3) {
          param_1 = (uint *)(uVar3 - 1);
          do {
            puVar4 = puVar4 + -1;
            puVar9[-1] = uVar6;
            puVar9 = puVar9 + -2;
            param_1 = (uint *)((int)param_1 + -1);
            *puVar9 = *puVar4;
          } while (param_1 != (uint *)0x0);
        }
        puVar9[-1] = uVar6;
      }
      *(undefined1 *)((int)puVar2 + 10) = 2;
      *(undefined1 *)((int)puVar2 + 0xb) = 0x10;
      uVar3 = uVar3 * 2;
    }
    else {
      if (*(char *)((int)param_1 + 9) != '\x10') {
        return;
      }
      if ((param_4 & 0x80) == 0) {
        puVar9 = (undefined1 *)(uVar3 + param_2);
        puVar4 = puVar9 + uVar3;
        for (uVar8 = uVar3; uVar8 != 0; uVar8 = uVar8 - 1) {
          puVar5 = puVar9 + -1;
          puVar9 = puVar9 + -2;
          puVar4[-1] = *puVar5;
          puVar4[-2] = *puVar9;
          puVar4[-3] = bVar7;
          puVar4 = puVar4 + -4;
          *puVar4 = uVar6;
        }
      }
      else {
        puVar9 = (undefined1 *)(param_2 + uVar3);
        puVar4 = puVar9 + uVar3;
        if (1 < uVar3) {
          param_3 = uVar3 - 1;
          do {
            puVar4[-1] = (char)uVar8;
            puVar4[-2] = uVar6;
            puVar4[-3] = puVar9[-1];
            puVar9 = puVar9 + -2;
            puVar4 = puVar4 + -4;
            param_3 = param_3 - 1;
            *puVar4 = *puVar9;
            uVar8 = (uint)bVar7;
          } while (param_3 != 0);
        }
        puVar4[-1] = bVar7;
        puVar4[-2] = uVar6;
      }
      *(undefined1 *)((int)param_1 + 10) = 2;
      *(undefined1 *)((int)param_1 + 0xb) = 0x20;
      uVar3 = uVar3 << 2;
    }
  }
  else {
    if ((char)param_1[2] != '\x02') {
      return;
    }
    if (*(char *)((int)param_1 + 9) == '\b') {
      if ((param_4 & 0x80) == 0) {
        puVar9 = (undefined1 *)(param_2 + uVar3 * 3);
        puVar4 = puVar9 + uVar3;
        for (uVar8 = uVar3; uVar8 != 0; uVar8 = uVar8 - 1) {
          puVar4[-1] = puVar9[-1];
          puVar4[-2] = puVar9[-2];
          puVar9 = puVar9 + -3;
          puVar4[-3] = *puVar9;
          puVar4 = puVar4 + -4;
          *puVar4 = uVar6;
        }
      }
      else {
        puVar9 = (undefined1 *)(param_2 + uVar3 * 3);
        puVar4 = puVar9 + uVar3;
        if (1 < uVar3) {
          param_1 = (uint *)(uVar3 - 1);
          do {
            puVar4[-1] = uVar6;
            puVar4[-2] = puVar9[-1];
            puVar5 = puVar9 + -2;
            puVar9 = puVar9 + -3;
            puVar4[-3] = *puVar5;
            puVar4 = puVar4 + -4;
            param_1 = (uint *)((int)param_1 + -1);
            *puVar4 = *puVar9;
          } while (param_1 != (uint *)0x0);
        }
        puVar4[-1] = uVar6;
      }
      *(undefined1 *)((int)puVar2 + 0xb) = 0x20;
      iVar1 = 2;
    }
    else {
      if (*(char *)((int)param_1 + 9) != '\x10') {
        return;
      }
      puVar9 = (undefined1 *)(param_2 + uVar3 * 3);
      puVar4 = puVar9 + uVar3;
      uVar8 = uVar3;
      if ((param_4 & 0x80) == 0) {
        for (; uVar8 != 0; uVar8 = uVar8 - 1) {
          puVar4[-1] = puVar9[-1];
          puVar4[-2] = puVar9[-2];
          puVar4[-3] = puVar9[-3];
          puVar4[-4] = puVar9[-4];
          puVar4[-5] = puVar9[-5];
          puVar9 = puVar9 + -6;
          puVar4[-6] = *puVar9;
          puVar4[-7] = bVar7;
          puVar4 = puVar4 + -8;
          *puVar4 = uVar6;
        }
      }
      else {
        if (1 < uVar3) {
          param_3 = uVar3 - 1;
          do {
            puVar4[-1] = bVar7;
            puVar4[-2] = uVar6;
            puVar4[-3] = puVar9[-1];
            puVar4[-4] = puVar9[-2];
            puVar4[-5] = puVar9[-3];
            puVar4[-6] = puVar9[-4];
            puVar5 = puVar9 + -5;
            puVar9 = puVar9 + -6;
            puVar4[-7] = *puVar5;
            puVar4 = puVar4 + -8;
            param_3 = param_3 - 1;
            *puVar4 = *puVar9;
          } while (param_3 != 0);
        }
        puVar4[-1] = bVar7;
        puVar4[-2] = uVar6;
      }
      *(undefined1 *)((int)param_1 + 0xb) = 0x40;
      iVar1 = 3;
    }
    uVar3 = uVar3 << iVar1;
    *(undefined1 *)((int)puVar2 + 10) = 4;
  }
  puVar2[1] = uVar3;
  return;
}



/* FUN_1001f377 @ 1001f377 */

void __cdecl FUN_1001f377(int *param_1,byte *param_2,int param_3,int param_4,byte param_5)

{
  byte bVar1;
  char cVar2;
  undefined2 uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  int local_c;
  byte *local_8;
  
  bVar1 = *(byte *)((int)param_1 + 9);
  iVar8 = *param_1;
  if (((bVar1 < 9) && (param_3 != 0)) || ((bVar1 == 0x10 && (param_4 != 0)))) {
    cVar2 = (char)param_1[2];
    if (cVar2 == '\0') {
      if ((bVar1 == 2) && (local_8 = param_2, iVar8 != 0)) {
        local_c = (iVar8 - 1U >> 2) + 1;
        do {
          uVar4 = (uint)*local_8;
          uVar6 = uVar4 & 0xc0;
          uVar5 = uVar4 & 3;
          uVar7 = uVar4 & 0xc;
          uVar4 = uVar4 & 0x30;
          local_c = local_c + -1;
          *local_8 = (byte)((byte)(*(byte *)(((uVar7 << 2 | uVar7) << 2 | (int)uVar7 >> 2 | uVar7) +
                                            param_3) & 0xcf |
                                  *(byte *)((((uVar5 << 2 | uVar5) << 2 | uVar5) << 2 | uVar5) +
                                           param_3) >> 2) >> 2 |
                           *(byte *)(((int)((int)uVar4 >> 2 | uVar4) >> 2 | uVar4 << 2 | uVar4) +
                                    param_3) & 0xc3) >> 2 |
                     *(byte *)(((int)((int)((int)uVar6 >> 2 | uVar6) >> 2 | uVar6) >> 2 | uVar6) +
                              param_3) & 0xc0;
          local_8 = local_8 + 1;
        } while (local_c != 0);
      }
      cVar2 = *(char *)((int)param_1 + 9);
      if (cVar2 == '\x04') {
        if (iVar8 != 0) {
          iVar8 = (iVar8 - 1U >> 1) + 1;
          do {
            uVar5 = *param_2 & 0xf0;
            uVar4 = *param_2 & 0xf;
            *param_2 = *(byte *)(((int)uVar5 >> 4 | uVar5) + param_3) & 0xf0 |
                       *(byte *)((uVar4 << 4 | uVar4) + param_3) >> 4;
            param_2 = param_2 + 1;
            iVar8 = iVar8 + -1;
          } while (iVar8 != 0);
        }
      }
      else if (cVar2 == '\b') {
        for (; iVar8 != 0; iVar8 = iVar8 + -1) {
          *param_2 = *(byte *)((uint)*param_2 + param_3);
          param_2 = param_2 + 1;
        }
      }
      else if (cVar2 == '\x10') {
        for (; iVar8 != 0; iVar8 = iVar8 + -1) {
          uVar3 = *(undefined2 *)
                   (*(int *)(param_4 + (uint)(param_2[1] >> (param_5 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_2[1] = (byte)uVar3;
          param_2 = param_2 + 2;
        }
      }
    }
    else if (cVar2 == '\x02') {
      if (bVar1 == 8) {
        for (; iVar8 != 0; iVar8 = iVar8 + -1) {
          *param_2 = *(byte *)((uint)*param_2 + param_3);
          param_2[1] = *(byte *)((uint)param_2[1] + param_3);
          param_2[2] = *(byte *)((uint)param_2[2] + param_3);
          param_2 = param_2 + 3;
        }
      }
      else {
        for (; iVar8 != 0; iVar8 = iVar8 + -1) {
          uVar3 = *(undefined2 *)
                   (*(int *)(param_4 + (uint)(param_2[1] >> (param_5 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          param_2[1] = (byte)uVar3;
          *param_2 = (byte)((ushort)uVar3 >> 8);
          uVar3 = *(undefined2 *)
                   (*(int *)(param_4 + (uint)(param_2[3] >> (param_5 & 0x1f)) * 4) +
                   (uint)param_2[2] * 2);
          param_2[3] = (byte)uVar3;
          param_2[2] = (byte)((ushort)uVar3 >> 8);
          uVar3 = *(undefined2 *)
                   (*(int *)(param_4 + (uint)(param_2[5] >> (param_5 & 0x1f)) * 4) +
                   (uint)param_2[4] * 2);
          param_2[4] = (byte)((ushort)uVar3 >> 8);
          param_2[5] = (byte)uVar3;
          param_2 = param_2 + 6;
        }
      }
    }
    else if (cVar2 == '\x04') {
      if (bVar1 == 8) {
        for (; iVar8 != 0; iVar8 = iVar8 + -1) {
          *param_2 = *(byte *)((uint)*param_2 + param_3);
          param_2 = param_2 + 2;
        }
      }
      else {
        for (; iVar8 != 0; iVar8 = iVar8 + -1) {
          uVar3 = *(undefined2 *)
                   (*(int *)(param_4 + (uint)(param_2[1] >> (param_5 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          *param_2 = (byte)((ushort)uVar3 >> 8);
          param_2[1] = (byte)uVar3;
          param_2 = param_2 + 4;
        }
      }
    }
    else if (cVar2 == '\x06') {
      if (bVar1 == 8) {
        for (; iVar8 != 0; iVar8 = iVar8 + -1) {
          *param_2 = *(byte *)((uint)*param_2 + param_3);
          param_2[1] = *(byte *)((uint)param_2[1] + param_3);
          param_2[2] = *(byte *)((uint)param_2[2] + param_3);
          param_2 = param_2 + 4;
        }
      }
      else {
        for (; iVar8 != 0; iVar8 = iVar8 + -1) {
          uVar3 = *(undefined2 *)
                   (*(int *)(param_4 + (uint)(param_2[1] >> (param_5 & 0x1f)) * 4) +
                   (uint)*param_2 * 2);
          param_2[1] = (byte)uVar3;
          *param_2 = (byte)((ushort)uVar3 >> 8);
          uVar3 = *(undefined2 *)
                   (*(int *)(param_4 + (uint)(param_2[3] >> (param_5 & 0x1f)) * 4) +
                   (uint)param_2[2] * 2);
          param_2[3] = (byte)uVar3;
          param_2[2] = (byte)((ushort)uVar3 >> 8);
          uVar3 = *(undefined2 *)
                   (*(int *)(param_4 + (uint)(param_2[5] >> (param_5 & 0x1f)) * 4) +
                   (uint)param_2[4] * 2);
          param_2[4] = (byte)((ushort)uVar3 >> 8);
          param_2[5] = (byte)uVar3;
          param_2 = param_2 + 8;
        }
      }
    }
  }
  return;
}



/* FUN_1001f6c5 @ 1001f6c5 */

void __cdecl FUN_1001f6c5(uint *param_1,int param_2,int param_3,int param_4,int param_5)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  undefined1 *puVar4;
  byte *pbVar5;
  byte *pbVar6;
  uint uVar7;
  
  uVar2 = *param_1;
  if ((char)param_1[2] == '\x03') {
    bVar1 = *(byte *)((int)param_1 + 9);
    if (bVar1 < 8) {
      if (bVar1 == 1) {
        pbVar6 = (byte *)(uVar2 + param_2 + -1);
        iVar3 = 7 - (uVar2 - 1 & 7);
        pbVar5 = (byte *)((uVar2 - 1 >> 3) + param_2);
        for (uVar7 = uVar2; uVar7 != 0; uVar7 = uVar7 - 1) {
          *pbVar6 = *pbVar5 >> ((byte)iVar3 & 0x1f) & 1;
          if (iVar3 == 7) {
            iVar3 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar3 = iVar3 + 1;
          }
          pbVar6 = pbVar6 + -1;
        }
      }
      else if (bVar1 == 2) {
        pbVar6 = (byte *)(uVar2 + param_2 + -1);
        iVar3 = (3 - (uVar2 - 1 & 3)) * 2;
        pbVar5 = (byte *)((uVar2 - 1 >> 2) + param_2);
        for (uVar7 = uVar2; uVar7 != 0; uVar7 = uVar7 - 1) {
          *pbVar6 = *pbVar5 >> ((byte)iVar3 & 0x1f) & 3;
          if (iVar3 == 6) {
            iVar3 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar3 = iVar3 + 2;
          }
          pbVar6 = pbVar6 + -1;
        }
      }
      else if (bVar1 == 4) {
        pbVar6 = (byte *)(uVar2 + param_2 + -1);
        iVar3 = (uVar2 & 1) << 2;
        pbVar5 = (byte *)((uVar2 - 1 >> 1) + param_2);
        for (uVar7 = uVar2; uVar7 != 0; uVar7 = uVar7 - 1) {
          *pbVar6 = *pbVar5 >> ((byte)iVar3 & 0x1f) & 0xf;
          if (iVar3 == 4) {
            iVar3 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar3 = iVar3 + 4;
          }
          pbVar6 = pbVar6 + -1;
        }
      }
      *(undefined1 *)((int)param_1 + 9) = 8;
      *(undefined1 *)((int)param_1 + 0xb) = 8;
      param_1[1] = uVar2;
    }
    if (*(char *)((int)param_1 + 9) == '\b') {
      pbVar6 = (byte *)(uVar2 + param_2 + -1);
      if (param_4 == 0) {
        uVar7 = uVar2 * 3;
        puVar4 = (undefined1 *)((uVar7 - 1) + param_2);
        for (; uVar2 != 0; uVar2 = uVar2 - 1) {
          *puVar4 = *(undefined1 *)((uint)*pbVar6 * 3 + 2 + param_3);
          puVar4[-1] = *(undefined1 *)((uint)*pbVar6 * 3 + 1 + param_3);
          puVar4[-2] = *(undefined1 *)(param_3 + (uint)*pbVar6 * 3);
          puVar4 = puVar4 + -3;
          pbVar6 = pbVar6 + -1;
        }
        *(undefined1 *)((int)param_1 + 0xb) = 0x18;
        *(undefined1 *)(param_1 + 2) = 2;
        *(undefined1 *)((int)param_1 + 10) = 3;
      }
      else {
        uVar7 = uVar2 * 4;
        puVar4 = (undefined1 *)((uVar7 - 1) + param_2);
        for (; uVar2 != 0; uVar2 = uVar2 - 1) {
          if ((int)(uint)*pbVar6 < param_5) {
            *puVar4 = *(undefined1 *)((uint)*pbVar6 + param_4);
          }
          else {
            *puVar4 = 0xff;
          }
          puVar4[-1] = *(undefined1 *)((uint)*pbVar6 * 3 + 2 + param_3);
          puVar4[-2] = *(undefined1 *)((uint)*pbVar6 * 3 + 1 + param_3);
          puVar4[-3] = *(undefined1 *)(param_3 + (uint)*pbVar6 * 3);
          puVar4 = puVar4 + -4;
          pbVar6 = pbVar6 + -1;
        }
        *(undefined1 *)((int)param_1 + 0xb) = 0x20;
        *(undefined1 *)(param_1 + 2) = 6;
        *(undefined1 *)((int)param_1 + 10) = 4;
      }
      *(undefined1 *)((int)param_1 + 9) = 8;
      param_1[1] = uVar7;
    }
  }
  return;
}



/* FUN_1001f8cd @ 1001f8cd */

void __cdecl FUN_1001f8cd(int *param_1,int param_2,int param_3)

{
  char *pcVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  byte *pbVar5;
  byte *pbVar6;
  int iVar7;
  byte bVar8;
  ushort uVar9;
  undefined1 *puVar10;
  undefined1 *puVar11;
  
  iVar2 = *param_1;
  if ((char)param_1[2] == '\0') {
    uVar9 = 0;
    if (param_3 != 0) {
      uVar9 = *(ushort *)(param_3 + 8);
    }
    bVar8 = *(byte *)((int)param_1 + 9);
    if (bVar8 < 8) {
      if (bVar8 == 1) {
        uVar9 = uVar9 * 0xff;
        pcVar1 = (char *)(iVar2 + param_2 + -1);
        iVar4 = 7 - (iVar2 - 1U & 7);
        pbVar5 = (byte *)((iVar2 - 1U >> 3) + param_2);
        for (iVar7 = iVar2; iVar7 != 0; iVar7 = iVar7 + -1) {
          *pcVar1 = -((*pbVar5 >> ((byte)iVar4 & 0x1f) & 1) != 0);
          if (iVar4 == 7) {
            iVar4 = 0;
            pbVar5 = pbVar5 + -1;
          }
          else {
            iVar4 = iVar4 + 1;
          }
          pcVar1 = pcVar1 + -1;
        }
      }
      else if (bVar8 == 2) {
        uVar9 = uVar9 * 0x55;
        pbVar5 = (byte *)(iVar2 + param_2 + -1);
        iVar4 = (3 - (iVar2 - 1U & 3)) * 2;
        pbVar6 = (byte *)((iVar2 - 1U >> 2) + param_2);
        for (iVar7 = iVar2; iVar7 != 0; iVar7 = iVar7 + -1) {
          bVar8 = *pbVar6 >> ((byte)iVar4 & 0x1f) & 3;
          *pbVar5 = ((bVar8 << 2 | bVar8) << 2 | bVar8) << 2 | bVar8;
          if (iVar4 == 6) {
            iVar4 = 0;
            pbVar6 = pbVar6 + -1;
          }
          else {
            iVar4 = iVar4 + 2;
          }
          pbVar5 = pbVar5 + -1;
        }
      }
      else if (bVar8 == 4) {
        uVar9 = uVar9 * 0x11;
        pbVar5 = (byte *)(iVar2 + param_2 + -1);
        pbVar6 = (byte *)((iVar2 - 1U >> 1) + param_2);
        iVar4 = (iVar2 - 1U & 1) * -4 + 4;
        for (iVar7 = iVar2; iVar7 != 0; iVar7 = iVar7 + -1) {
          bVar8 = *pbVar6 >> ((byte)iVar4 & 0x1f) & 0xf;
          *pbVar5 = bVar8 << 4 | bVar8;
          iVar3 = 4;
          if (iVar4 == 4) {
            iVar3 = 0;
            pbVar6 = pbVar6 + -1;
          }
          pbVar5 = pbVar5 + -1;
          iVar4 = iVar3;
        }
      }
      *(undefined1 *)((int)param_1 + 9) = 8;
      *(undefined1 *)((int)param_1 + 0xb) = 8;
      param_1[1] = iVar2;
    }
    if (param_3 == 0) {
      return;
    }
    if (*(char *)((int)param_1 + 9) == '\b') {
      pbVar5 = (byte *)(iVar2 + param_2 + -1);
      puVar10 = (undefined1 *)(param_2 + -1 + iVar2 * 2);
      for (iVar7 = iVar2; iVar7 != 0; iVar7 = iVar7 + -1) {
        if (*pbVar5 == uVar9) {
          *puVar10 = 0;
        }
        else {
          *puVar10 = 0xff;
        }
        puVar10[-1] = *pbVar5;
        puVar10 = puVar10 + -2;
        pbVar5 = pbVar5 + -1;
      }
    }
    else if (*(char *)((int)param_1 + 9) == '\x10') {
      puVar10 = (undefined1 *)(param_1[1] + -1 + param_2);
      puVar11 = (undefined1 *)(param_2 + -1 + param_1[1] * 2);
      for (iVar7 = iVar2; iVar7 != 0; iVar7 = iVar7 + -1) {
        if (CONCAT11(puVar10[-1],*puVar10) == uVar9) {
          *puVar11 = 0;
          puVar11[-1] = 0;
        }
        else {
          *puVar11 = 0xff;
          puVar11[-1] = 0xff;
        }
        puVar11[-2] = *puVar10;
        puVar11[-3] = puVar10[-1];
        puVar11 = puVar11 + -4;
        puVar10 = puVar10 + -2;
      }
    }
    *(undefined1 *)(param_1 + 2) = 4;
    *(undefined1 *)((int)param_1 + 10) = 2;
    bVar8 = *(char *)((int)param_1 + 9) << 1;
  }
  else {
    if ((char)param_1[2] != '\x02') {
      return;
    }
    if (param_3 == 0) {
      return;
    }
    if (*(char *)((int)param_1 + 9) == '\b') {
      pbVar5 = (byte *)(param_1[1] + -1 + param_2);
      puVar10 = (undefined1 *)(param_2 + -1 + iVar2 * 4);
      for (iVar7 = iVar2; iVar7 != 0; iVar7 = iVar7 + -1) {
        if ((((ushort)pbVar5[-2] == *(ushort *)(param_3 + 2)) &&
            ((ushort)pbVar5[-1] == *(ushort *)(param_3 + 4))) &&
           ((ushort)*pbVar5 == *(ushort *)(param_3 + 6))) {
          *puVar10 = 0;
        }
        else {
          *puVar10 = 0xff;
        }
        puVar10[-1] = *pbVar5;
        puVar10[-2] = pbVar5[-1];
        puVar10[-3] = pbVar5[-2];
        puVar10 = puVar10 + -4;
        pbVar5 = pbVar5 + -3;
      }
    }
    else if (*(char *)((int)param_1 + 9) == '\x10') {
      puVar10 = (undefined1 *)(param_1[1] + -1 + param_2);
      puVar11 = (undefined1 *)(param_2 + -1 + iVar2 * 8);
      for (iVar7 = iVar2; iVar7 != 0; iVar7 = iVar7 + -1) {
        if (((CONCAT11(puVar10[-5],puVar10[-4]) == *(short *)(param_3 + 2)) &&
            (CONCAT11(puVar10[-3],puVar10[-2]) == *(short *)(param_3 + 4))) &&
           (CONCAT11(puVar10[-1],*puVar10) == *(short *)(param_3 + 6))) {
          *puVar11 = 0;
          puVar11[-1] = 0;
        }
        else {
          *puVar11 = 0xff;
          puVar11[-1] = 0xff;
        }
        puVar11[-2] = *puVar10;
        puVar11[-3] = puVar10[-1];
        puVar11[-4] = puVar10[-2];
        puVar11[-5] = puVar10[-3];
        puVar11[-6] = puVar10[-4];
        puVar11[-7] = puVar10[-5];
        puVar11 = puVar11 + -8;
        puVar10 = puVar10 + -6;
      }
    }
    *(undefined1 *)(param_1 + 2) = 6;
    *(undefined1 *)((int)param_1 + 10) = 4;
    bVar8 = *(char *)((int)param_1 + 9) << 2;
  }
  *(byte *)((int)param_1 + 0xb) = bVar8;
  param_1[1] = (uint)bVar8 * iVar2 >> 3;
  return;
}



/* FUN_1001fc1f @ 1001fc1f */

void __cdecl FUN_1001fc1f(int *param_1,byte *param_2,int param_3,int param_4)

{
  char cVar1;
  byte bVar2;
  int iVar3;
  byte *pbVar4;
  int iVar5;
  byte *pbVar6;
  byte *pbVar7;
  
  cVar1 = (char)param_1[2];
  iVar5 = *param_1;
  if (((cVar1 == '\x02') && (param_3 != 0)) &&
     (iVar3 = iVar5, pbVar4 = param_2, *(char *)((int)param_1 + 9) == '\b')) {
    for (; iVar3 != 0; iVar3 = iVar3 + -1) {
      bVar2 = *param_2;
      pbVar6 = param_2 + 1;
      pbVar7 = param_2 + 2;
      param_2 = param_2 + 3;
      *pbVar4 = *(byte *)((((bVar2 & 0xf8) << 5 | *pbVar6 & 0xf8) << 2 | (int)(uint)*pbVar7 >> 3) +
                         param_3);
      pbVar4 = pbVar4 + 1;
    }
  }
  else {
    if (((cVar1 != '\x06') || (param_3 == 0)) ||
       (iVar3 = iVar5, pbVar4 = param_2, *(char *)((int)param_1 + 9) != '\b')) {
      if (cVar1 != '\x03') {
        return;
      }
      if (param_4 == 0) {
        return;
      }
      if (*(char *)((int)param_1 + 9) != '\b') {
        return;
      }
      for (; iVar5 != 0; iVar5 = iVar5 + -1) {
        *param_2 = *(byte *)((uint)*param_2 + param_4);
        param_2 = param_2 + 1;
      }
      return;
    }
    for (; iVar3 != 0; iVar3 = iVar3 + -1) {
      bVar2 = *param_2;
      pbVar6 = param_2 + 1;
      pbVar7 = param_2 + 2;
      param_2 = param_2 + 4;
      *pbVar4 = *(byte *)((((bVar2 & 0xf8) << 5 | *pbVar6 & 0xf8) << 2 | (int)(uint)*pbVar7 >> 3) +
                         param_3);
      pbVar4 = pbVar4 + 1;
    }
  }
  *(byte *)((int)param_1 + 0xb) = *(byte *)((int)param_1 + 9);
  *(undefined1 *)(param_1 + 2) = 3;
  *(undefined1 *)((int)param_1 + 10) = 1;
  param_1[1] = (uint)*(byte *)((int)param_1 + 9) * iVar5 + 7 >> 3;
  return;
}



/* FUN_1001fd2d @ 1001fd2d */

void __cdecl FUN_1001fd2d(png_structp png_ptr)

{
  png_structp ppVar1;
  byte bVar2;
  png_uint_32 pVar3;
  png_structp png_ptr_00;
  undefined1 uVar4;
  undefined2 uVar5;
  void *pvVar6;
  uint uVar7;
  uint uVar8;
  byte bVar9;
  uint uVar10;
  int iVar11;
  uint uVar12;
  int iVar13;
  ushort local_10;
  uint local_8;
  
  png_ptr_00 = png_ptr;
  if ((float)png_ptr[1].jmpbuf[4] != 0.0) {
    if (png_ptr->bit_depth < 9) {
      pvVar6 = png_malloc(png_ptr,0x100);
      png_ptr = (png_structp)0x0;
      png_ptr_00[1].jmpbuf[6] = (png_uint_32)pvVar6;
      do {
        _CIpow();
        uVar4 = ftol();
        ppVar1 = (png_structp)((int)png_ptr->jmpbuf + 1);
        *(undefined1 *)((int)png_ptr->jmpbuf + png_ptr_00[1].jmpbuf[6]) = uVar4;
        png_ptr = ppVar1;
      } while ((int)ppVar1 < 0x100);
    }
    else {
      if ((png_ptr->color_type & 2) == 0) {
        local_8 = (uint)*(byte *)((int)png_ptr[1].jmpbuf + 0x33);
      }
      else {
        local_8 = (uint)(byte)png_ptr[1].jmpbuf[0xc];
        uVar10 = (uint)*(byte *)((int)png_ptr[1].jmpbuf + 0x31);
        if (local_8 < uVar10) {
          local_8 = uVar10;
        }
        uVar10 = (uint)*(byte *)((int)png_ptr[1].jmpbuf + 0x32);
        if (local_8 < uVar10) {
          local_8 = uVar10;
        }
      }
      if (local_8 == 0) {
        local_8 = 0;
      }
      else {
        local_8 = 0x10 - local_8;
      }
      if (((png_ptr->transformations & 0x400) != 0) && ((int)local_8 < 5)) {
        local_8 = 5;
      }
      if (8 < (int)local_8) {
        local_8 = 8;
      }
      if ((int)local_8 < 0) {
        local_8 = 0;
      }
      bVar2 = (byte)local_8;
      bVar9 = 8 - bVar2;
      iVar11 = 1 << (bVar9 & 0x1f);
      png_ptr[1].jmpbuf[3] = local_8 & 0xff;
      pvVar6 = png_malloc(png_ptr,iVar11 << 2);
      pVar3 = png_ptr->transformations;
      png_ptr[1].jmpbuf[9] = (png_uint_32)pvVar6;
      png_ptr = (png_structp)0x0;
      if ((pVar3 & 0x480) == 0) {
        if (0 < iVar11) {
          do {
            pvVar6 = png_malloc(png_ptr_00,0x200);
            *(void **)(png_ptr_00[1].jmpbuf[9] + (int)png_ptr * 4) = pvVar6;
            iVar13 = 0;
            do {
              _CIpow();
              uVar5 = ftol();
              *(undefined2 *)(iVar13 + *(int *)(png_ptr_00[1].jmpbuf[9] + (int)png_ptr * 4)) = uVar5
              ;
              iVar13 = iVar13 + 2;
            } while (iVar13 < 0x200);
            png_ptr = (png_structp)((int)png_ptr->jmpbuf + 1);
          } while ((int)png_ptr < iVar11);
        }
      }
      else {
        if (0 < iVar11) {
          do {
            pvVar6 = png_malloc(png_ptr_00,0x200);
            ppVar1 = (png_structp)((int)png_ptr->jmpbuf + 1);
            *(void **)(png_ptr_00[1].jmpbuf[9] + (int)png_ptr * 4) = pvVar6;
            png_ptr = ppVar1;
          } while ((int)ppVar1 < iVar11);
        }
        uVar10 = 0;
        png_ptr = (png_structp)0x0;
        do {
          _CIpow();
          uVar7 = ftol();
          if (uVar10 <= uVar7) {
            local_10 = (ushort)(((uint)png_ptr & 0xff) << 8) | (ushort)png_ptr;
            do {
              uVar12 = uVar10 >> (bVar9 & 0x1f);
              uVar8 = 0xff >> (bVar2 & 0x1f) & uVar10;
              uVar10 = uVar10 + 1;
              *(ushort *)(*(int *)(png_ptr_00[1].jmpbuf[9] + uVar8 * 4) + uVar12 * 2) = local_10;
            } while (uVar10 <= uVar7);
          }
          png_ptr = (png_structp)((int)png_ptr->jmpbuf + 1);
        } while ((int)png_ptr < 0x100);
        if (uVar10 < (uint)(iVar11 << 8)) {
          do {
            *(undefined2 *)
             (*(int *)(png_ptr_00[1].jmpbuf[9] + (0xff >> (bVar2 & 0x1f) & uVar10) * 4) +
             (uVar10 >> (bVar9 & 0x1f)) * 2) = 0xffff;
            uVar10 = uVar10 + 1;
          } while (uVar10 < (uint)(iVar11 << 8));
        }
      }
    }
  }
  return;
}



/* FUN_10020036 @ 10020036 */

void __cdecl FUN_10020036(png_structp png_ptr)

{
  png_byte pVar1;
  ushort uVar2;
  png_structp ppVar3;
  png_structp ppVar4;
  byte *pbVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  int local_8;
  
  ppVar4 = png_ptr;
  pVar1 = png_ptr->color_type;
  if ((png_ptr->transformations & 0x602000) != 0) {
    FUN_1001fd2d(png_ptr);
    if (pVar1 == '\x03') {
      uVar7 = (uint)(ushort)png_ptr->chunk_name_pad;
      if (uVar7 != 0) {
        pbVar5 = (byte *)(*(int *)&png_ptr->num_palette + 2);
        do {
          pbVar5[-2] = *(byte *)((uint)pbVar5[-2] + png_ptr[1].jmpbuf[6]);
          pbVar5[-1] = *(byte *)((uint)pbVar5[-1] + png_ptr[1].jmpbuf[6]);
          *pbVar5 = *(byte *)((uint)*pbVar5 + png_ptr[1].jmpbuf[6]);
          pbVar5 = pbVar5 + 3;
          uVar7 = uVar7 - 1;
        } while (uVar7 != 0);
      }
    }
  }
  if (((png_ptr->transformations & 8) != 0) && (pVar1 == '\x03')) {
    ppVar3 = png_ptr + 1;
    iVar8 = 8 - (uint)(byte)png_ptr[1].jmpbuf[0xc];
    png_ptr = (png_structp)(8 - (uint)*(byte *)((int)png_ptr[1].jmpbuf + 0x31));
    local_8 = 8 - (uint)*(byte *)((int)ppVar3->jmpbuf + 0x32);
    if ((iVar8 < 0) || (8 < iVar8)) {
      iVar8 = 0;
    }
    if (((int)png_ptr < 0) || (8 < (int)png_ptr)) {
      png_ptr = (png_structp)0x0;
    }
    if ((local_8 < 0) || (8 < local_8)) {
      local_8 = 0;
    }
    uVar2 = (ushort)ppVar4->chunk_name_pad;
    if (uVar2 != 0) {
      iVar6 = 0;
      uVar7 = (uint)uVar2;
      do {
        pbVar5 = (byte *)(iVar6 + *(int *)&ppVar4->num_palette);
        *pbVar5 = *pbVar5 >> ((byte)iVar8 & 0x1f);
        pbVar5 = (byte *)(iVar6 + 1 + *(int *)&ppVar4->num_palette);
        *pbVar5 = *pbVar5 >> ((byte)png_ptr & 0x1f);
        pbVar5 = (byte *)(iVar6 + 2 + *(int *)&ppVar4->num_palette);
        *pbVar5 = *pbVar5 >> ((byte)local_8 & 0x1f);
        iVar6 = iVar6 + 3;
        uVar7 = uVar7 - 1;
      } while (uVar7 != 0);
    }
  }
  return;
}



/* FUN_10020149 @ 10020149 */

void __cdecl FUN_10020149(png_structp png_ptr)

{
  int iVar1;
  int iVar2;
  png_error_ptr *pppVar3;
  
  if (png_ptr->sub_row == (png_bytep)0x0) {
    png_error(png_ptr,"NULL row buffer");
  }
  if ((png_ptr->transformations & 0x1000) != 0) {
    if ((char)png_ptr->idat_size == '\x03') {
      iVar1._0_2_ = png_ptr->num_palette;
      iVar1._2_2_ = png_ptr->num_trans;
      FUN_1001f6c5(&(png_ptr->row_info).rowbytes,(int)(png_ptr->sub_row + 1),iVar1,
                   png_ptr[1].jmpbuf[0xf],(uint)*(ushort *)((int)&png_ptr->chunk_name_pad + 2));
    }
    else {
      if (*(short *)((int)&png_ptr->chunk_name_pad + 2) == 0) {
        pppVar3 = (png_error_ptr *)0x0;
      }
      else {
        pppVar3 = &png_ptr[1].error_fn;
      }
      FUN_1001f8cd((int *)&(png_ptr->row_info).rowbytes,(int)(png_ptr->sub_row + 1),(int)pppVar3);
    }
  }
  if (((png_ptr->transformations & 0x2000) != 0) && (png_ptr->color_type != '\x03')) {
    FUN_1001f377((int *)&(png_ptr->row_info).rowbytes,png_ptr->sub_row + 1,png_ptr[1].jmpbuf[6],
                 png_ptr[1].jmpbuf[9],(byte)png_ptr[1].jmpbuf[3]);
  }
  if ((png_ptr->transformations & 0x400) != 0) {
    FUN_1001f0fb((int *)&(png_ptr->row_info).rowbytes,png_ptr->sub_row + 1);
  }
  if ((png_ptr->transformations & 0x40) != 0) {
    FUN_1001fc1f((int *)&(png_ptr->row_info).rowbytes,png_ptr->sub_row + 1,(int)png_ptr[1].io_ptr,
                 png_ptr[1].mode);
    iVar2._0_1_ = (png_ptr->row_info).color_type;
    iVar2._1_1_ = (png_ptr->row_info).bit_depth;
    iVar2._2_1_ = (png_ptr->row_info).channels;
    iVar2._3_1_ = (png_ptr->row_info).pixel_depth;
    if (iVar2 == 0) {
      png_error(png_ptr,"png_do_dither returned rowbytes=0");
    }
  }
  if ((png_ptr->transformations & 8) != 0) {
    FUN_1001ef84((byte *)&(png_ptr->row_info).rowbytes,png_ptr->sub_row + 1,
                 (byte *)((int)png_ptr[1].jmpbuf + 0x35));
  }
  if ((png_ptr->transformations & 4) != 0) {
    FUN_1001ee74((int *)&(png_ptr->row_info).rowbytes,(int)(png_ptr->sub_row + 1));
  }
  if ((png_ptr->transformations & 1) != 0) {
    FUN_1001ec8b((int *)&(png_ptr->row_info).rowbytes,png_ptr->sub_row + 1);
  }
  if ((png_ptr->transformations & 0x8000) != 0) {
    FUN_1001f13f(&(png_ptr->row_info).rowbytes,(int)(png_ptr->sub_row + 1),
                 (uint)*(ushort *)&png_ptr->field_0x11e,(byte)png_ptr->flags);
  }
  if ((png_ptr->transformations & 0x10) != 0) {
    FUN_1001ec5e((int *)&(png_ptr->row_info).rowbytes,png_ptr->sub_row + 1);
  }
  return;
}



/* FUN_10020301 @ 10020301 */

void __cdecl FUN_10020301(int param_1,int param_2,double param_3)

{
  if ((param_1 != 0) && (param_2 != 0)) {
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) | 1;
    *(float *)(param_2 + 0x28) = (float)param_3;
  }
  return;
}



/* FUN_1002031c @ 1002031c */

void __cdecl
FUN_1002031c(png_structp png_ptr,uint *param_2,uint param_3,uint param_4,char param_5,byte param_6,
            undefined1 param_7,undefined1 param_8,undefined1 param_9)

{
  byte bVar1;
  
  if ((png_ptr != (png_structp)0x0) && (param_2 != (uint *)0x0)) {
    *(undefined1 *)((int)param_2 + 0x1a) = param_8;
    param_2[1] = param_4;
    *(undefined1 *)((int)param_2 + 0x1b) = param_9;
    *param_2 = param_3;
    *(char *)(param_2 + 6) = param_5;
    *(byte *)((int)param_2 + 0x19) = param_6;
    *(undefined1 *)(param_2 + 7) = param_7;
    if ((param_6 == 3) || ((param_6 & 2) == 0)) {
      *(undefined1 *)((int)param_2 + 0x1d) = 1;
    }
    else {
      *(undefined1 *)((int)param_2 + 0x1d) = 3;
    }
    if ((param_6 & 4) != 0) {
      *(char *)((int)param_2 + 0x1d) = *(char *)((int)param_2 + 0x1d) + '\x01';
    }
    bVar1 = *(char *)((int)param_2 + 0x1d) * param_5;
    *(byte *)((int)param_2 + 0x1e) = bVar1;
    if ((uint)(0x7fffffff / (ulonglong)(uint)((int)(bVar1 + 7) >> 3)) < param_3) {
      png_warning(png_ptr,"Width too large to process image data; rowbytes will overflow.");
      param_2[3] = 0;
    }
    else {
      param_2[3] = bVar1 * param_3 + 7 >> 3;
    }
  }
  return;
}



/* FUN_100203bd @ 100203bd */

void __cdecl FUN_100203bd(int param_1,int param_2,undefined4 param_3,undefined2 param_4)

{
  if ((param_1 != 0) && (param_2 != 0)) {
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) | 8;
    *(undefined4 *)(param_2 + 0x10) = param_3;
    *(undefined2 *)(param_2 + 0x14) = param_4;
  }
  return;
}



/* FUN_100203e1 @ 100203e1 */

void __cdecl FUN_100203e1(int param_1,int param_2,undefined1 param_3)

{
  if ((param_1 != 0) && (param_2 != 0)) {
    *(byte *)(param_2 + 9) = *(byte *)(param_2 + 9) | 8;
    *(undefined1 *)(param_2 + 0x2c) = param_3;
  }
  return;
}



/* FUN_100203fc @ 100203fc */

void __cdecl FUN_100203fc(int param_1,int param_2,undefined1 param_3)

{
  if ((param_1 != 0) && (param_2 != 0)) {
    FUN_100203e1(param_1,param_2,param_3);
    FUN_10020301(param_1,param_2,0.45454999804496765);
  }
  return;
}



/* FUN_10020435 @ 10020435 */

void __cdecl FUN_10020435(int param_1,int param_2,int param_3,int param_4,undefined4 *param_5)

{
  if ((param_1 != 0) && (param_2 != 0)) {
    if (param_3 != 0) {
      *(int *)(param_2 + 0x30) = param_3;
    }
    if (param_5 != (undefined4 *)0x0) {
      *(undefined4 *)(param_2 + 0x34) = *param_5;
      *(undefined4 *)(param_2 + 0x38) = param_5[1];
      *(undefined2 *)(param_2 + 0x3c) = *(undefined2 *)(param_5 + 2);
      if (param_4 == 0) {
        param_4 = 1;
      }
    }
    *(uint *)(param_2 + 8) = *(uint *)(param_2 + 8) | 0x10;
    *(undefined2 *)(param_2 + 0x16) = (undefined2)param_4;
  }
  return;
}



/* png_read_data @ 1002047c */

/* png read callback wrapper (errors if NULL) */

void __cdecl png_read_data(png_structp png_ptr,png_bytep data,png_uint_32 length)

{
  if (png_ptr->read_data_fn != (png_rw_ptr)0x0) {
    (*png_ptr->read_data_fn)(png_ptr,data,length);
    return;
  }
  png_error(png_ptr,"Call to NULL read function");
  return;
}



/* FUN_100204a4 @ 100204a4 */

void __cdecl FUN_100204a4(png_structp png_ptr,png_voidp param_2,png_rw_ptr param_3)

{
  png_ptr->io_ptr = param_2;
  png_ptr->read_data_fn = param_3;
  if (png_ptr->write_data_fn != (png_rw_ptr)0x0) {
    png_ptr->write_data_fn = (png_rw_ptr)0x0;
    png_warning(png_ptr,"It\'s an error to set both read_data_fn and write_data_fn in the ");
    png_warning(png_ptr,"same structure.  Resetting write_data_fn to NULL.");
  }
  png_ptr[1].jmpbuf[0] = 0;
  return;
}



/* FUN_100204e3 @ 100204e3 */

int __cdecl FUN_100204e3(int param_1,uint param_2,uint param_3)

{
  int iVar1;
  uint uVar2;
  byte *pbVar3;
  byte *pbVar4;
  bool bVar5;
  bool bVar6;
  
  uVar2 = 8;
  if (((param_3 < 9) && (uVar2 = param_3, param_3 == 0)) || (7 < param_2)) {
    return 0;
  }
  if (8 < param_2 + uVar2) {
    uVar2 = 8 - param_2;
  }
  bVar5 = false;
  iVar1 = 0;
  bVar6 = true;
  pbVar3 = (byte *)(param_1 + param_2);
  pbVar4 = &DAT_1004e51c + param_2;
  do {
    if (uVar2 == 0) break;
    uVar2 = uVar2 - 1;
    bVar5 = *pbVar3 < *pbVar4;
    bVar6 = *pbVar3 == *pbVar4;
    pbVar3 = pbVar3 + 1;
    pbVar4 = pbVar4 + 1;
  } while (bVar6);
  if (!bVar6) {
    iVar1 = (1 - (uint)bVar5) - (uint)(bVar5 != 0);
  }
  return iVar1;
}



/* FUN_1002052b @ 1002052b */

undefined4 * __cdecl FUN_1002052b(png_structp png_ptr,int param_2,int param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  undefined4 *puVar6;
  
  uVar5 = param_2 * param_3;
  puVar1 = png_malloc(png_ptr,uVar5);
  puVar2 = (undefined4 *)0x0;
  if (puVar1 != (undefined4 *)0x0) {
    puVar6 = puVar1;
    if (0x8000 < uVar5) {
      puVar2 = puVar1;
      for (iVar3 = 0x2000; iVar3 != 0; iVar3 = iVar3 + -1) {
        *puVar2 = 0;
        puVar2 = puVar2 + 1;
      }
      uVar5 = uVar5 - 0x8000;
      puVar6 = puVar1 + 0x2000;
    }
    for (uVar4 = uVar5 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
      *puVar6 = 0;
      puVar6 = puVar6 + 1;
    }
    for (uVar5 = uVar5 & 3; puVar2 = puVar1, uVar5 != 0; uVar5 = uVar5 - 1) {
      *(undefined1 *)puVar6 = 0;
      puVar6 = (undefined4 *)((int)puVar6 + 1);
    }
  }
  return puVar2;
}



/* png_reset_crc @ 10020583 */

/* reset png CRC state */

void __cdecl png_reset_crc(png_structp png_ptr)

{
  png_colorp ppVar1;
  
  ppVar1 = (png_colorp)FUN_10025aec(0,(byte *)0x0,0);
  png_ptr->palette = ppVar1;
  return;
}



/* png_calculate_crc @ 1002059b */

/* update png CRC with buffer */

void __cdecl png_calculate_crc(png_structp png_ptr,png_bytep data,png_uint_32 length)

{
  png_colorp ppVar1;
  
  if ((png_ptr->chunk_name[0] & 0x20) == 0) {
    if ((png_ptr->flags & 0x800) != 0) {
      return;
    }
  }
  else if ((png_ptr->flags & 0x300) == 0x300) {
    return;
  }
  ppVar1 = (png_colorp)FUN_10025aec((uint)png_ptr->palette,data,length);
  png_ptr->palette = ppVar1;
  return;
}



/* FUN_100205da @ 100205da */

/* [binja] void sub_100205da(int32_t arg1) */

void __cdecl FUN_100205da(int arg1)

{
  int iVar1;
  undefined4 *in_stack_00000008;
  
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *in_stack_00000008 = 0;
    in_stack_00000008 = in_stack_00000008 + 1;
  }
  return;
}



/* FUN_100205e8 @ 100205e8 */

undefined4 * __cdecl FUN_100205e8(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  if (param_1 != 0) {
    puVar1 = FUN_100246f2(2);
    if (puVar1 != (undefined4 *)0x0) {
      puVar3 = puVar1;
      for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
        *puVar3 = 0;
        puVar3 = puVar3 + 1;
      }
    }
    return puVar1;
  }
  return (undefined4 *)0x0;
}



/* grim_dxt_decode_rgb565 @ 1002060e */

/* unpacks RGB565 into RGBA floats (alpha=1) */

void __fastcall grim_dxt_decode_rgb565(float *out_rgba,uint rgb565)

{
  float *in_EAX;
  
  *in_EAX = (float)((uint)out_rgba >> 0xb & 0x1f) * 0.032258064;
  in_EAX[1] = (float)((uint)out_rgba >> 5 & 0x3f) * 0.015873017;
  in_EAX[2] = (float)((uint)out_rgba & 0x1f) * 0.032258064;
  in_EAX[3] = 1.0;
  return;
}



/* grim_dxt_unpremultiply_rgba_block @ 1002065a */

/* divides rgb by alpha for a 4x4 RGBA block */

int __fastcall grim_dxt_unpremultiply_rgba_block(float *rgba)

{
  float fVar1;
  float fVar2;
  int iVar3;
  
  iVar3 = 0x10;
  do {
    if (rgba[3] == 0.0) {
      *rgba = 0.0;
      rgba[1] = 0.0;
      fVar1 = 0.0;
LAB_100206cc:
      rgba[2] = fVar1;
    }
    else if (rgba[3] < 1.0) {
      fVar1 = 1.0 / rgba[3];
      if (rgba[3] <= *rgba) {
        fVar2 = 1.0;
      }
      else {
        fVar2 = fVar1 * *rgba;
      }
      *rgba = fVar2;
      if (rgba[3] <= rgba[1]) {
        fVar2 = 1.0;
      }
      else {
        fVar2 = fVar1 * rgba[1];
      }
      rgba[1] = fVar2;
      if (rgba[3] <= rgba[2]) {
        fVar1 = 1.0;
      }
      else {
        fVar1 = fVar1 * rgba[2];
      }
      goto LAB_100206cc;
    }
    rgba = rgba + 4;
    iVar3 = iVar3 + -1;
    if (iVar3 == 0) {
      return 0;
    }
  } while( true );
}



/* grim_dxt_premultiply_rgba_block @ 100206d8 */

/* multiplies rgb by alpha for a 4x4 RGBA block */

int __fastcall grim_dxt_premultiply_rgba_block(float *out_rgba)

{
  float *in_EAX;
  int iVar1;
  
  iVar1 = 0x10;
  do {
    *out_rgba = in_EAX[3] * *in_EAX;
    iVar1 = iVar1 + -1;
    out_rgba[1] = in_EAX[1] * in_EAX[3];
    out_rgba[2] = in_EAX[2] * in_EAX[3];
    out_rgba[3] = in_EAX[3];
    in_EAX = in_EAX + 4;
    out_rgba = out_rgba + 4;
  } while (iVar1 != 0);
  return 0;
}



/* fpu_save_control_word @ 10020708 */

/* captures x87 FPU control word into DAT_1005db70 (used by DXT encode helpers) */

void __fastcall fpu_save_control_word(void)

{
  undefined4 in_ECX;
  undefined2 in_FPUControlWord;
  undefined4 local_8;
  
  local_8 = CONCAT22((short)((uint)in_ECX >> 0x10),in_FPUControlWord);
  fpu_control_word_saved_dxt = local_8;
  return;
}



/* grim_dxt_pack_rgb565 @ 1002072b */

/* clamps rgb floats and packs into RGB565 */

uint __fastcall grim_dxt_pack_rgb565(float *rgb)

{
  float local_1c;
  float local_18;
  float local_14;
  
  if (0.0 <= *rgb) {
    if (1.0 < *rgb) {
      local_1c = 1.0;
    }
    else {
      local_1c = *rgb;
    }
  }
  else {
    local_1c = 0.0;
  }
  if (0.0 <= rgb[1]) {
    if (1.0 < rgb[1]) {
      local_18 = 1.0;
    }
    else {
      local_18 = rgb[1];
    }
  }
  else {
    local_18 = 0.0;
  }
  if (0.0 <= rgb[2]) {
    if (rgb[2] <= 1.0) {
      local_14 = rgb[2];
    }
    else {
      local_14 = 1.0;
    }
  }
  else {
    local_14 = 0.0;
  }
  fpu_save_control_word();
  return ((int)ROUND(local_1c * 31.0 + 0.5) << 6 | (int)ROUND(local_18 * 63.0 + 0.5)) << 5 |
         (int)ROUND(local_14 * 31.0 + 0.5);
}



/* grim_dxt5_optimize_alpha_endpoints @ 10020825 */

/* iteratively chooses DXT5 alpha endpoints for 6/8-alpha modes */

void __cdecl
grim_dxt5_optimize_alpha_endpoints(float *min_out,float *max_out,float *alphas,uint mode)

{
  float fVar1;
  float *pfVar2;
  uint uVar3;
  int iVar4;
  float *pfVar5;
  uint uVar6;
  float local_54 [6];
  undefined4 local_3c;
  undefined4 local_38;
  uint local_34;
  float local_30;
  float local_2c;
  float local_28;
  uint local_24;
  undefined4 *local_20;
  float local_1c;
  float local_18;
  float local_14;
  float local_10;
  float local_c;
  float local_8;
  
  if (mode == 6) {
    pfVar5 = (float *)&grim_dxt5_alpha_weights_min_6;
    local_20 = &grim_dxt5_alpha_weights_max_6;
  }
  else {
    pfVar5 = (float *)&grim_dxt5_alpha_weights_min_8;
    local_20 = (undefined4 *)&grim_dxt5_alpha_weights_max_8;
  }
  uVar3 = 0;
  local_8 = 1.0;
  local_c = 0.0;
  if (mode == 8) {
    do {
      pfVar2 = alphas + uVar3;
      if (*pfVar2 < local_8) {
        local_8 = *pfVar2;
      }
      if (local_c < *pfVar2) {
        local_c = *pfVar2;
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < 0x10);
  }
  else {
    do {
      pfVar2 = alphas + uVar3;
      if ((*pfVar2 < local_8) && (0.0 < *pfVar2)) {
        local_8 = *pfVar2;
      }
      if ((local_c < *pfVar2) && (*pfVar2 < 1.0)) {
        local_c = *pfVar2;
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < 0x10);
  }
  uVar3 = mode - 1;
  local_28 = (float)(int)uVar3;
  if ((int)uVar3 < 0) {
    local_28 = local_28 + 4.2949673e+09;
  }
  local_34 = uVar3;
  fpu_save_control_word();
  local_24 = 0;
  while (0.00390625 <= local_c - local_8) {
    local_2c = local_28 / (local_c - local_8);
    if (mode != 0) {
      iVar4 = (int)local_20 - (int)pfVar5;
      pfVar2 = pfVar5;
      uVar6 = mode;
      do {
        *(float *)(((int)local_54 - (int)pfVar5) + (int)pfVar2) =
             local_8 * *pfVar2 + local_c * *(float *)(iVar4 + (int)pfVar2);
        pfVar2 = pfVar2 + 1;
        uVar6 = uVar6 - 1;
      } while (uVar6 != 0);
    }
    if (mode == 6) {
      local_3c = 0;
      local_38 = 0x3f800000;
    }
    uVar6 = 0;
    local_10 = 0.0;
    local_14 = 0.0;
    local_18 = 0.0;
    local_1c = 0.0;
    do {
      pfVar2 = alphas + uVar6;
      fVar1 = (*pfVar2 - local_8) * local_2c;
      if (fVar1 < 0.0 == (fVar1 == 0.0)) {
        if (fVar1 < local_28) {
          local_30 = fVar1 + 0.5;
          local_34 = (uint)ROUND(fVar1 + 0.5);
        }
        else {
          local_34 = uVar3;
          if ((mode == 6) && (fVar1 = (local_c + 1.0) * 0.5, fVar1 < *pfVar2 != (fVar1 == *pfVar2)))
          goto LAB_10020a28;
        }
LAB_100209e6:
        if (local_34 < mode) {
          local_10 = (*pfVar2 - local_54[local_34]) * pfVar5[local_34] + local_10;
          local_18 = pfVar5[local_34] * pfVar5[local_34] + local_18;
          local_14 = (*pfVar2 - local_54[local_34]) * (float)local_20[local_34] + local_14;
          fVar1 = (float)local_20[local_34];
          local_1c = fVar1 * fVar1 + local_1c;
        }
      }
      else if ((mode != 6) || (local_8 * 0.5 < *pfVar2)) {
        local_34 = 0;
        goto LAB_100209e6;
      }
LAB_10020a28:
      uVar6 = uVar6 + 1;
    } while (uVar6 < 0x10);
    if (0.0 < local_18) {
      local_8 = local_8 - local_10 / local_18;
    }
    if (0.0 < local_1c) {
      local_c = local_c - local_14 / local_1c;
    }
    fVar1 = local_c;
    if (local_c < local_8) {
      local_c = local_8;
      local_8 = fVar1;
    }
    if (((local_10 * local_10 < 0.015625) && (local_14 * local_14 < 0.015625)) ||
       (local_24 = local_24 + 1, 7 < local_24)) break;
  }
  if (0.0 <= local_8) {
    if (1.0 < local_8) {
      local_8 = 1.0;
    }
  }
  else {
    local_8 = 0.0;
  }
  *min_out = local_8;
  if (0.0 <= local_c) {
    if (1.0 < local_c) {
      local_c = 1.0;
    }
  }
  else {
    local_c = 0.0;
  }
  *max_out = local_c;
  return;
}



/* grim_dxt1_optimize_color_endpoints @ 10020b2a */

/* optimizes DXT1 color endpoints for 3- or 4-color mode */

void __cdecl
grim_dxt1_optimize_color_endpoints(float *min_out,float *max_out,float *rgba,float mode)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float *pfVar11;
  int iVar12;
  float *pfVar13;
  int iVar14;
  uint uVar15;
  uint uVar16;
  float fVar17;
  float local_c4 [16];
  float *local_84;
  int local_80;
  float local_7c;
  float local_78;
  float local_74;
  float *local_6c;
  undefined4 *local_68;
  float local_64;
  float local_60;
  float local_5c;
  float local_58;
  float local_54;
  float local_50;
  float local_48;
  float local_44;
  float local_40;
  float local_3c;
  float local_34 [6];
  float local_1c;
  float local_14;
  float local_10;
  float local_c;
  undefined4 uStack_8;
  
  fVar10 = mode;
  if (mode == 4.2039e-45) {
    local_6c = (float *)&grim_dxt1_color_weights_min_3;
    local_68 = &grim_dxt1_color_weights_max_3;
  }
  else {
    local_6c = (float *)&grim_dxt1_color_weights_min_4;
    local_68 = (undefined4 *)&grim_dxt1_color_weights_max_4;
  }
  local_34[4] = 0.0;
  fVar17 = 0.0;
  local_14 = DAT_100544c0;
  local_10 = DAT_100544c4;
  local_1c = 0.0;
  local_c = DAT_100544c8;
  uStack_8 = DAT_100544cc;
  pfVar11 = rgba + 2;
  iVar12 = 0x10;
  local_84 = pfVar11;
  pfVar13 = pfVar11;
  iVar14 = iVar12;
  do {
    if (pfVar13[-2] < local_14) {
      local_14 = pfVar13[-2];
    }
    if (pfVar13[-1] < local_10) {
      local_10 = pfVar13[-1];
    }
    if (*pfVar13 < local_c) {
      local_c = *pfVar13;
    }
    if (local_34[4] < pfVar13[-2]) {
      local_34[4] = pfVar13[-2];
    }
    if (fVar17 < pfVar13[-1]) {
      fVar17 = pfVar13[-1];
    }
    if (local_1c < *pfVar13) {
      local_1c = *pfVar13;
    }
    fVar4 = local_1c;
    pfVar13 = pfVar13 + 4;
    iVar14 = iVar14 + -1;
  } while (iVar14 != 0);
  local_34[5] = fVar17;
  fVar7 = local_34[4] - local_14;
  fVar6 = fVar17 - local_10;
  fVar5 = local_1c - local_c;
  local_48 = fVar7 * fVar7 + fVar6 * fVar6 + fVar5 * fVar5;
  if (1.1754944e-38 <= local_48) {
    fVar8 = 1.0 / local_48;
    local_7c = fVar7 * fVar8;
    local_78 = fVar6 * fVar8;
    local_74 = fVar8 * fVar5;
    local_58 = (local_34[4] + local_14) * 0.5;
    local_54 = (fVar17 + local_10) * 0.5;
    local_50 = (local_1c + local_c) * 0.5;
    local_34[3] = 0.0;
    local_34[2] = 0.0;
    local_34[1] = 0.0;
    fVar3 = 0.0;
    do {
      local_44 = (pfVar11[-2] - local_58) * fVar7 * fVar8;
      local_40 = (pfVar11[-1] - local_54) * fVar6 * fVar8;
      fVar2 = *pfVar11;
      pfVar11 = pfVar11 + 4;
      iVar12 = iVar12 + -1;
      fVar2 = (fVar2 - local_50) * fVar8 * fVar5;
      fVar9 = local_40 + fVar2 + local_44;
      fVar3 = fVar9 * fVar9 + fVar3;
      fVar9 = (local_40 + local_44) - fVar2;
      local_34[1] = fVar9 * fVar9 + local_34[1];
      fVar9 = (local_44 - local_40) + fVar2;
      local_34[2] = fVar9 * fVar9 + local_34[2];
      fVar2 = (local_44 - local_40) - fVar2;
      local_34[3] = fVar2 * fVar2 + local_34[3];
    } while (iVar12 != 0);
    local_34[0] = fVar3;
    uVar16 = 0;
    uVar15 = 1;
    do {
      if (fVar3 < local_34[uVar15]) {
        fVar3 = local_34[uVar15];
        uVar16 = uVar15;
      }
      uVar15 = uVar15 + 1;
    } while (uVar15 < 4);
    if ((uVar16 & 2) != 0) {
      local_34[5] = local_10;
      local_10 = fVar17;
    }
    if ((uVar16 & 1) != 0) {
      local_1c = local_c;
      local_c = fVar4;
    }
    if (0.00024414062 <= local_48) {
      local_60 = (float)((int)mode + -1);
      if ((int)mode + -1 < 0) {
        local_60 = local_60 + 4.2949673e+09;
      }
      fpu_save_control_word();
      local_48 = 0.0;
      while( true ) {
        iVar12 = 0x10;
        if (fVar10 != 0.0) {
          pfVar13 = local_c4 + 1;
          iVar14 = (int)local_68 - (int)local_6c;
          pfVar11 = local_6c;
          fVar17 = fVar10;
          do {
            pfVar13[-1] = local_34[4] * *(float *)(iVar14 + (int)pfVar11) + local_14 * *pfVar11;
            *pfVar13 = local_34[5] * *(float *)(iVar14 + (int)pfVar11) + local_10 * *pfVar11;
            fVar4 = *pfVar11;
            pfVar1 = (float *)(iVar14 + (int)pfVar11);
            pfVar11 = pfVar11 + 1;
            pfVar13[1] = local_1c * *pfVar1 + local_c * fVar4;
            pfVar13 = pfVar13 + 4;
            fVar17 = (float)((int)fVar17 + -1);
          } while (fVar17 != 0.0);
        }
        fVar17 = local_34[4] - local_14;
        fVar7 = local_34[5] - local_10;
        fVar6 = local_1c - local_c;
        fVar4 = fVar17 * fVar17 + fVar7 * fVar7 + fVar6 * fVar6;
        if (fVar4 < 0.00024414062) break;
        fVar4 = local_60 / fVar4;
        local_44 = fVar4 * fVar17;
        local_40 = fVar7 * fVar4;
        local_3c = fVar4 * fVar6;
        local_34[2] = 0.0;
        local_34[1] = 0.0;
        local_34[0] = 0.0;
        local_50 = 0.0;
        local_54 = 0.0;
        local_58 = 0.0;
        local_5c = 0.0;
        mode = 0.0;
        pfVar13 = local_84;
        do {
          fVar5 = (*pfVar13 - local_c) * fVar4 * fVar6 +
                  (pfVar13[-2] - local_14) * fVar4 * fVar17 +
                  (pfVar13[-1] - local_10) * fVar7 * fVar4;
          local_64 = fVar5;
          if (fVar5 < local_60) {
            local_64 = fVar5 + 0.5;
            local_80 = (int)ROUND(fVar5 + 0.5);
          }
          else {
            local_80 = (int)fVar10 + -1;
          }
          pfVar11 = pfVar13 + -2;
          local_78 = local_c4[local_80 * 4 + 1] - pfVar13[-1];
          fVar5 = *pfVar13;
          fVar3 = local_6c[local_80] * 0.125;
          pfVar13 = pfVar13 + 4;
          iVar12 = iVar12 + -1;
          fVar8 = (float)local_68[local_80] * 0.125;
          mode = fVar3 * local_6c[local_80] + mode;
          local_58 = fVar3 * (local_c4[local_80 * 4] - *pfVar11) + local_58;
          local_54 = fVar3 * local_78 + local_54;
          local_50 = fVar3 * (local_c4[local_80 * 4 + 2] - fVar5) + local_50;
          local_5c = fVar8 * (float)local_68[local_80] + local_5c;
          local_34[0] = fVar8 * (local_c4[local_80 * 4] - *pfVar11) + local_34[0];
          local_34[1] = local_78 * fVar8 + local_34[1];
          local_34[2] = fVar8 * (local_c4[local_80 * 4 + 2] - fVar5) + local_34[2];
        } while (iVar12 != 0);
        if (0.0 < mode) {
          fVar17 = -1.0 / mode;
          local_14 = local_58 * fVar17 + local_14;
          local_10 = local_54 * fVar17 + local_10;
          local_c = fVar17 * local_50 + local_c;
        }
        if (0.0 < local_5c) {
          local_5c = -1.0 / local_5c;
          local_34[4] = local_34[0] * local_5c + local_34[4];
          local_34[5] = local_34[1] * local_5c + local_34[5];
          local_1c = local_5c * local_34[2] + local_1c;
        }
        if (((((local_58 * local_58 < 1.5258789e-05) && (local_54 * local_54 < 1.5258789e-05)) &&
             (local_50 * local_50 < 1.5258789e-05)) &&
            (((local_34[0] * local_34[0] < 1.5258789e-05 &&
              (local_34[1] * local_34[1] < 1.5258789e-05)) &&
             (local_34[2] * local_34[2] < 1.5258789e-05)))) ||
           (local_48 = (float)((int)local_48 + 1), 7 < (uint)local_48)) break;
      }
      *min_out = local_14;
      min_out[1] = local_10;
      min_out[2] = local_c;
      *max_out = local_34[4];
      max_out[1] = local_34[5];
    }
    else {
      *min_out = local_14;
      min_out[1] = local_10;
      min_out[2] = local_c;
      max_out[1] = local_34[5];
      *max_out = local_34[4];
    }
  }
  else {
    *min_out = local_14;
    min_out[1] = local_10;
    min_out[2] = local_c;
    max_out[1] = fVar17;
    *max_out = local_34[4];
  }
  max_out[2] = local_1c;
  return;
}



/* grim_dxt1_encode_color_block @ 10021095 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* encodes a 4x4 RGBA block into a DXT1 color block (supports 1-bit alpha mode) */

int __cdecl grim_dxt1_encode_color_block(ushort *out_block,float mode)

{
  float fVar1;
  float fVar2;
  float fVar3;
  int in_EAX;
  float *pfVar4;
  float *out_rgba;
  uint uVar5;
  float extraout_EDX;
  uint rgb565;
  uint rgb565_00;
  float extraout_EDX_00;
  float fVar6;
  uint uVar7;
  ushort uVar8;
  int iVar9;
  ushort uVar10;
  int iVar11;
  float local_2d4 [64];
  float local_1d4;
  float local_1d0;
  undefined1 local_1cc [4];
  undefined1 local_1c8 [4];
  undefined1 local_1c4 [4];
  undefined1 local_1c0 [20];
  undefined1 local_1ac [4];
  undefined1 local_1a8 [4];
  undefined1 local_1a4 [4];
  undefined1 local_1a0 [4];
  undefined1 local_19c [4];
  undefined1 local_198 [4];
  undefined1 local_194 [4];
  float local_190;
  undefined1 local_18c [4];
  undefined1 local_188 [4];
  undefined1 local_184 [4];
  undefined1 local_180 [172];
  float local_d4;
  float local_d0;
  float local_cc;
  int local_c4;
  undefined1 *local_c0;
  undefined1 *local_bc;
  undefined1 *local_b8;
  undefined1 *local_b4;
  undefined1 *local_b0;
  undefined1 *local_ac;
  int local_a8;
  undefined1 *local_a4;
  undefined1 *local_a0;
  float local_9c [4];
  float local_8c;
  float local_88;
  float local_84;
  float local_80;
  float local_7c;
  float local_78;
  float local_74;
  float local_70;
  float local_6c;
  float local_68;
  float local_64;
  float local_60;
  undefined1 *local_5c;
  undefined1 *local_58;
  undefined1 *local_54;
  undefined1 *local_50;
  float local_4c;
  float local_48;
  float local_44;
  float fStack_40;
  float local_3c;
  float local_38;
  float local_34;
  float *local_2c;
  float *local_28;
  undefined *local_24;
  float local_20;
  float local_1c;
  float local_18;
  float fStack_14;
  float local_10;
  float *local_c;
  float local_8;
  
  if (mode == 0.0) {
    local_10 = 5.60519e-45;
  }
  else {
    iVar9 = 0;
    pfVar4 = (float *)(in_EAX + 0xc);
    iVar11 = 0x10;
    do {
      if (*pfVar4 < 0.5) {
        iVar9 = iVar9 + 1;
      }
      pfVar4 = pfVar4 + 4;
      iVar11 = iVar11 + -1;
    } while (iVar11 != 0);
    if (iVar9 == 0x10) {
      out_block[1] = 0xffff;
      out_block[2] = 0xffff;
      out_block[3] = 0xffff;
      *out_block = 0;
      return 0;
    }
    local_10 = (float)(4 - (uint)(iVar9 != 0));
  }
  pfVar4 = &local_1d4;
  for (iVar11 = 0x40; iVar11 != 0; iVar11 = iVar11 + -1) {
    *pfVar4 = 0.0;
    pfVar4 = pfVar4 + 1;
  }
  fpu_save_control_word();
  local_58 = local_1cc + -in_EAX;
  local_b8 = local_1c8 + -in_EAX;
  local_c0 = local_1c4 + -in_EAX;
  local_5c = local_1ac + -in_EAX;
  local_b4 = local_1a8 + -in_EAX;
  local_ac = local_1a4 + -in_EAX;
  local_28 = (float *)(local_19c + -in_EAX);
  local_bc = local_198 + -in_EAX;
  local_a4 = local_194 + -in_EAX;
  local_2c = (float *)(local_18c + -in_EAX);
  local_a0 = local_188 + -in_EAX;
  local_b0 = local_184 + -in_EAX;
  pfVar4 = (float *)(in_EAX + 8);
  local_a8 = (int)&local_1d4 - in_EAX;
  uVar7 = 0;
  mode = extraout_EDX;
  do {
    local_20 = *(float *)((int)&local_1d4 + uVar7) + pfVar4[-2];
    fVar6 = pfVar4[-1];
    fVar1 = *(float *)(local_1cc + (uVar7 - 4));
    local_1c = fVar6 + fVar1;
    local_18 = *(float *)(local_a8 + (int)pfVar4) + *pfVar4;
    local_c4 = (int)ROUND(local_20 * 31.0 + 0.5);
    local_24 = (undefined *)((float)local_c4 * 0.032258064);
    *(undefined **)((int)local_2d4 + uVar7) = local_24;
    local_50 = (undefined1 *)(int)ROUND((fVar6 + fVar1) * 63.0 + 0.5);
    local_8 = (float)(int)local_50 * 0.015873017;
    *(float *)((int)local_2d4 + uVar7 + 4) = local_8;
    local_54 = (undefined1 *)(int)ROUND(local_18 * 31.0 + 0.5);
    fVar6 = (float)(int)local_54 * 0.032258064;
    local_c = (float *)((uint)mode & 3);
    *(float *)(((int)local_2d4 - in_EAX) + (int)pfVar4) = fVar6;
    *(undefined4 *)((int)local_2d4 + (4 - in_EAX) + (int)pfVar4) = 0x3f800000;
    fVar3 = local_20 - (float)local_24;
    fVar2 = local_1c - local_8;
    local_38 = fVar2;
    fVar1 = local_18 - fVar6;
    local_34 = fVar1;
    if (((uint)mode & 3) != 3) {
      *(float *)(local_58 + (int)pfVar4) = fVar3 * 0.4375 + *(float *)(local_58 + (int)pfVar4);
      *(float *)(local_b8 + (int)pfVar4) = fVar2 * 0.4375 + *(float *)(local_b8 + (int)pfVar4);
      *(float *)(local_c0 + (int)pfVar4) = fVar1 * 0.4375 + *(float *)(local_c0 + (int)pfVar4);
    }
    if (uVar7 < 0xc0) {
      if (local_c != (float *)0x0) {
        *(float *)(local_5c + (int)pfVar4) = fVar3 * 0.1875 + *(float *)(local_5c + (int)pfVar4);
        *(float *)(local_b4 + (int)pfVar4) = fVar2 * 0.1875 + *(float *)(local_b4 + (int)pfVar4);
        *(float *)(local_ac + (int)pfVar4) = fVar1 * 0.1875 + *(float *)(local_ac + (int)pfVar4);
      }
      *(float *)((int)local_28 + (int)pfVar4) =
           fVar3 * 0.3125 + *(float *)((int)local_28 + (int)pfVar4);
      *(float *)(local_bc + (int)pfVar4) = fVar2 * 0.3125 + *(float *)(local_bc + (int)pfVar4);
      *(float *)(local_a4 + (int)pfVar4) = fVar1 * 0.3125 + *(float *)(local_a4 + (int)pfVar4);
      if (local_c != (float *)0x3) {
        *(float *)((int)local_2c + (int)pfVar4) =
             fVar3 * 0.0625 + *(float *)((int)local_2c + (int)pfVar4);
        *(float *)(local_a0 + (int)pfVar4) = fVar2 * 0.0625 + *(float *)(local_a0 + (int)pfVar4);
        *(float *)(local_b0 + (int)pfVar4) = fVar1 * 0.0625 + *(float *)(local_b0 + (int)pfVar4);
      }
    }
    mode = (float)((int)mode + 1);
    uVar5 = uVar7 + 0x10;
    *(float *)((int)local_2d4 + uVar7) = (float)local_24 * DAT_100544c0;
    *(float *)((int)local_2d4 + uVar7 + 4) = local_8 * DAT_100544c4;
    *(float *)(((int)local_2d4 - in_EAX) + (int)pfVar4) = fVar6 * DAT_100544c8;
    pfVar4 = pfVar4 + 4;
    uVar7 = uVar5;
  } while (uVar5 < 0x100);
  grim_dxt1_optimize_color_endpoints(&local_4c,&local_20,local_2d4,local_10);
  local_d4 = local_4c * _DAT_100544d0;
  local_d0 = local_48 * _DAT_100544d4;
  local_cc = local_44 * _DAT_100544d8;
  local_3c = local_20 * _DAT_100544d0;
  local_38 = local_1c * _DAT_100544d4;
  local_34 = local_18 * _DAT_100544d8;
  pfVar4 = (float *)grim_dxt_pack_rgb565(&local_d4);
  local_28 = pfVar4;
  out_rgba = (float *)grim_dxt_pack_rgb565(&local_3c);
  uVar8 = (ushort)pfVar4;
  uVar10 = (ushort)out_rgba;
  if ((local_10 == 5.60519e-45) && (uVar8 == uVar10)) {
    out_block[2] = 0;
    out_block[3] = 0;
    *out_block = uVar8;
    out_block[1] = uVar10;
  }
  else {
    local_2c = out_rgba;
    grim_dxt_decode_rgb565(pfVar4,rgb565);
    grim_dxt_decode_rgb565(out_rgba,rgb565_00);
    local_4c = local_d4 * DAT_100544c0;
    local_48 = local_d0 * DAT_100544c4;
    local_44 = local_cc * DAT_100544c8;
    local_20 = local_3c * DAT_100544c0;
    local_1c = local_38 * DAT_100544c4;
    local_18 = local_34 * DAT_100544c8;
    if ((local_10 == 4.2039e-45) == uVar8 <= uVar10) {
      *out_block = uVar8;
      out_block[1] = uVar10;
      local_9c[0] = local_4c;
      local_9c[1] = local_48;
      local_9c[2] = local_44;
      local_9c[3] = fStack_40;
      pfVar4 = &local_20;
    }
    else {
      out_block[1] = uVar8;
      *out_block = uVar10;
      local_9c[0] = local_20;
      local_9c[1] = local_1c;
      local_9c[2] = local_18;
      local_9c[3] = fStack_14;
      pfVar4 = &local_4c;
    }
    local_8c = *pfVar4;
    local_88 = pfVar4[1];
    local_84 = pfVar4[2];
    local_80 = pfVar4[3];
    local_20 = *pfVar4 - local_9c[0];
    if (local_10 == 4.2039e-45) {
      local_24 = &grim_dxt1_index_map_3color;
      local_7c = local_20 * 0.5;
      local_78 = (local_88 - local_9c[1]) * 0.5;
      local_74 = (local_84 - local_9c[2]) * 0.5;
      local_70 = (local_80 - local_9c[3]) * 0.5;
    }
    else {
      local_24 = &grim_dxt1_index_map_4color;
      local_7c = local_20 * 0.33333334;
      local_78 = (local_88 - local_9c[1]) * 0.33333334;
      local_74 = (local_84 - local_9c[2]) * 0.33333334;
      local_70 = (local_80 - local_9c[3]) * 0.33333334;
      local_6c = local_20 * 0.6666667 + local_9c[0];
      local_68 = (local_88 - local_9c[1]) * 0.6666667 + local_9c[1];
      local_64 = (local_84 - local_9c[2]) * 0.6666667 + local_9c[2];
      local_60 = (local_80 - local_9c[3]) * 0.6666667 + local_9c[3];
    }
    local_70 = local_70 + local_9c[3];
    local_74 = local_74 + local_9c[2];
    local_78 = local_78 + local_9c[1];
    local_7c = local_7c + local_9c[0];
    mode = local_84 - local_9c[2];
    fVar6 = local_88 - local_9c[1];
    local_8 = (float)((int)local_10 + -1);
    if ((int)local_10 + -1 < 0) {
      local_8 = local_8 + 4.2949673e+09;
    }
    if ((short)local_28 == (short)local_2c) {
      fVar1 = 0.0;
    }
    else {
      fVar1 = local_8 / (local_20 * local_20 + fVar6 * fVar6 + mode * mode);
    }
    local_20 = local_20 * fVar1;
    pfVar4 = &local_1d4;
    for (iVar11 = 0x40; iVar11 != 0; iVar11 = iVar11 + -1) {
      *pfVar4 = 0.0;
      pfVar4 = pfVar4 + 1;
    }
    local_1c = fVar1 * fVar6;
    local_18 = fVar1 * mode;
    fpu_save_control_word();
    local_c = &local_1d4;
    local_2c = (float *)(local_1cc + (-4 - in_EAX));
    local_58 = local_1c0 + -in_EAX;
    local_54 = local_1a0 + -in_EAX;
    iVar11 = (int)local_2d4 + (8 - in_EAX);
    pfVar4 = (float *)(in_EAX + 4);
    local_50 = local_180 + -in_EAX;
    fVar6 = extraout_EDX_00;
    mode = extraout_EDX_00;
    do {
      if ((local_10 != 4.2039e-45) || (0.5 <= pfVar4[2])) {
        local_4c = DAT_100544c0 * pfVar4[-1] + *local_c;
        local_48 = DAT_100544c4 * *pfVar4 + *(float *)((int)pfVar4 + local_a8);
        local_44 = DAT_100544c8 * pfVar4[1] + *(float *)((int)local_2c + (int)pfVar4);
        fVar1 = (local_48 - local_9c[1]) * local_1c +
                (local_44 - local_9c[2]) * local_18 + (local_4c - local_9c[0]) * local_20;
        if (fVar1 < 0.0 == (fVar1 == 0.0)) {
          if (fVar1 < local_8) {
            local_28 = (float *)(fVar1 + 0.5);
            local_5c = (undefined1 *)(int)ROUND(fVar1 + 0.5);
            iVar9 = *(int *)(local_24 + (int)local_5c * 4);
          }
          else {
            iVar9 = 1;
          }
        }
        else {
          iVar9 = 0;
        }
        fVar6 = (float)((uint)fVar6 >> 2 | iVar9 << 0x1e);
        fVar1 = (local_4c - local_9c[iVar9 * 4]) * *(float *)(iVar11 + (int)pfVar4);
        uVar7 = (uint)mode & 3;
        fVar2 = (local_48 - local_9c[iVar9 * 4 + 1]) * *(float *)(iVar11 + (int)pfVar4);
        local_38 = fVar2;
        fVar3 = (local_44 - local_9c[iVar9 * 4 + 2]) * *(float *)(iVar11 + (int)pfVar4);
        local_34 = fVar3;
        if (uVar7 != 3) {
          *(float *)(local_b8 + (int)pfVar4) = fVar1 * 0.4375 + *(float *)(local_b8 + (int)pfVar4);
          *(float *)(local_c0 + (int)pfVar4) = fVar2 * 0.4375 + *(float *)(local_c0 + (int)pfVar4);
          *(float *)(local_58 + (int)pfVar4) = fVar3 * 0.4375 + *(float *)(local_58 + (int)pfVar4);
        }
        if ((uint)mode < 0xc) {
          if (uVar7 != 0) {
            *(float *)(local_b4 + (int)pfVar4) = fVar1 * 0.1875 + *(float *)(local_b4 + (int)pfVar4)
            ;
            *(float *)(local_ac + (int)pfVar4) = fVar2 * 0.1875 + *(float *)(local_ac + (int)pfVar4)
            ;
            *(float *)(local_54 + (int)pfVar4) = fVar3 * 0.1875 + *(float *)(local_54 + (int)pfVar4)
            ;
          }
          *(float *)(local_bc + (int)pfVar4) = fVar1 * 0.3125 + *(float *)(local_bc + (int)pfVar4);
          *(float *)(local_a4 + (int)pfVar4) = fVar2 * 0.3125 + *(float *)(local_a4 + (int)pfVar4);
          *(float *)(((int)&local_190 - in_EAX) + (int)pfVar4) =
               fVar3 * 0.3125 + *(float *)(((int)&local_190 - in_EAX) + (int)pfVar4);
          if (uVar7 != 3) {
            *(float *)(local_a0 + (int)pfVar4) = fVar1 * 0.0625 + *(float *)(local_a0 + (int)pfVar4)
            ;
            *(float *)(local_b0 + (int)pfVar4) =
                 local_38 * 0.0625 + *(float *)(local_b0 + (int)pfVar4);
            *(float *)(local_50 + (int)pfVar4) =
                 local_34 * 0.0625 + *(float *)(local_50 + (int)pfVar4);
          }
        }
      }
      else {
        fVar6 = (float)((uint)fVar6 >> 2 | 0xc0000000);
      }
      mode = (float)((int)mode + 1);
      local_c = local_c + 4;
      pfVar4 = pfVar4 + 4;
    } while ((uint)mode < 0x10);
    *(float *)(out_block + 2) = fVar6;
  }
  return 0;
}



/* grim_dxt1_decode_color_block @ 10021899 */

/* decodes a DXT1 color block into 16 RGBA floats */

int __cdecl grim_dxt1_decode_color_block(float *out_rgba,ushort *block)

{
  float *pfVar1;
  ushort uVar2;
  ushort uVar3;
  int iVar4;
  uint in_EDX;
  uint rgb565;
  uint uVar5;
  uint uVar6;
  float local_5c [4];
  float local_4c;
  float local_48;
  float local_44;
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  float local_c;
  float local_8;
  
  uVar2 = *block;
  grim_dxt_decode_rgb565((float *)(uint)uVar2,in_EDX);
  uVar3 = block[1];
  grim_dxt_decode_rgb565((float *)(uint)uVar3,rgb565);
  if (uVar3 < uVar2) {
    local_3c = (local_4c - local_5c[0]) * 0.33333334 + local_5c[0];
    local_38 = (local_48 - local_5c[1]) * 0.33333334 + local_5c[1];
    local_8 = local_44 - local_5c[2];
    local_34 = local_8 * 0.33333334 + local_5c[2];
    local_c = local_40 - local_5c[3];
    local_30 = local_c * 0.33333334 + local_5c[3];
    local_2c = (local_4c - local_5c[0]) * 0.6666667 + local_5c[0];
    local_28 = (local_48 - local_5c[1]) * 0.6666667 + local_5c[1];
    local_24 = local_8 * 0.6666667 + local_5c[2];
    local_20 = local_c * 0.6666667 + local_5c[3];
  }
  else {
    local_3c = (local_4c - local_5c[0]) * 0.5 + local_5c[0];
    local_38 = (local_48 - local_5c[1]) * 0.5 + local_5c[1];
    local_34 = (local_44 - local_5c[2]) * 0.5 + local_5c[2];
    local_30 = (local_40 - local_5c[3]) * 0.5 + local_5c[3];
    local_1c = 0;
    local_18 = 0;
    local_14 = 0;
    local_10 = 0;
    local_2c = 0.0;
    local_28 = 0.0;
    local_24 = 0.0;
    local_20 = 0.0;
  }
  uVar6 = *(uint *)(block + 2);
  iVar4 = 0x10;
  do {
    uVar5 = uVar6 & 3;
    *out_rgba = local_5c[uVar5 * 4];
    out_rgba[1] = local_5c[uVar5 * 4 + 1];
    pfVar1 = out_rgba + 3;
    out_rgba[2] = local_5c[uVar5 * 4 + 2];
    out_rgba = out_rgba + 4;
    uVar6 = uVar6 >> 2;
    iVar4 = iVar4 + -1;
    *pfVar1 = local_5c[uVar5 * 4 + 3];
  } while (iVar4 != 0);
  return 0;
}



/* grim_dxt3_decode_block @ 100219d7 */

/* WARNING: Removing unreachable block (ram,0x10021a10) */
/* WARNING: Removing unreachable block (ram,0x10021a3f) */
/* decodes a DXT3 block (explicit alpha + DXT1 color) to RGBA floats */

int __cdecl grim_dxt3_decode_block(float *out_rgba,uint *block)

{
  int iVar1;
  float *pfVar2;
  uint uVar3;
  uint uVar4;
  
  iVar1 = grim_dxt1_decode_color_block(out_rgba,(ushort *)(block + 2));
  if (-1 < iVar1) {
    uVar3 = *block;
    iVar1 = 8;
    pfVar2 = out_rgba + 3;
    do {
      uVar4 = uVar3 & 0xf;
      uVar3 = uVar3 >> 4;
      *pfVar2 = (float)uVar4 * 0.06666667;
      pfVar2 = pfVar2 + 4;
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    uVar3 = block[1];
    iVar1 = 8;
    pfVar2 = out_rgba + 0x23;
    do {
      uVar4 = uVar3 & 0xf;
      uVar3 = uVar3 >> 4;
      *pfVar2 = (float)uVar4 * 0.06666667;
      pfVar2 = pfVar2 + 4;
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
    iVar1 = 0;
  }
  return iVar1;
}



/* grim_dxt5_decode_block @ 10021a5a */

/* decodes a DXT5 block (interpolated alpha + DXT1 color) to RGBA floats */

int __cdecl grim_dxt5_decode_block(float *out_rgba,uchar *block)

{
  float fVar1;
  float fVar2;
  int iVar3;
  uint uVar4;
  float *pfVar5;
  uint uVar6;
  float local_24 [8];
  
  iVar3 = grim_dxt1_decode_color_block(out_rgba,(ushort *)(block + 8));
  if (-1 < iVar3) {
    local_24[0] = (float)*block * 0.003921569;
    local_24[1] = (float)block[1] * 0.003921569;
    if (block[1] < *block) {
      uVar4 = 1;
      do {
        fVar1 = (float)(int)(7 - uVar4);
        if ((int)(7 - uVar4) < 0) {
          fVar1 = fVar1 + 4.2949673e+09;
        }
        fVar2 = (float)(int)uVar4;
        if ((int)uVar4 < 0) {
          fVar2 = fVar2 + 4.2949673e+09;
        }
        uVar4 = uVar4 + 1;
        local_24[uVar4] = (fVar2 * local_24[1] + fVar1 * local_24[0]) * 0.14285715;
      } while (uVar4 < 7);
    }
    else {
      uVar4 = 1;
      do {
        fVar1 = (float)(int)(5 - uVar4);
        if ((int)(5 - uVar4) < 0) {
          fVar1 = fVar1 + 4.2949673e+09;
        }
        fVar2 = (float)(int)uVar4;
        if ((int)uVar4 < 0) {
          fVar2 = fVar2 + 4.2949673e+09;
        }
        uVar4 = uVar4 + 1;
        local_24[uVar4] = (fVar2 * local_24[1] + fVar1 * local_24[0]) * 0.2;
      } while (uVar4 < 5);
      local_24[6] = 0.0;
      local_24[7] = 1.0;
    }
    iVar3 = 8;
    uVar4 = (uint)*(uint3 *)(block + 2);
    pfVar5 = out_rgba + 3;
    do {
      uVar6 = uVar4 & 7;
      uVar4 = uVar4 >> 3;
      *pfVar5 = local_24[uVar6];
      pfVar5 = pfVar5 + 4;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
    iVar3 = 8;
    uVar4 = (uint)*(uint3 *)(block + 5);
    pfVar5 = out_rgba + 0x23;
    do {
      uVar6 = uVar4 & 7;
      uVar4 = uVar4 >> 3;
      *pfVar5 = local_24[uVar6];
      pfVar5 = pfVar5 + 4;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
    iVar3 = 0;
  }
  return iVar3;
}



/* grim_dxt3_encode_block @ 10021bae */

/* encodes a 4x4 RGBA block into DXT3 (explicit alpha + DXT1 color) */

void __cdecl grim_dxt3_encode_block(uint *out_block,float *rgba)

{
  uint *puVar1;
  float fVar2;
  uint *puVar3;
  int iVar4;
  uint *extraout_EDX;
  uint uVar5;
  float *pfVar6;
  float local_54 [16];
  int local_14;
  int local_10;
  float local_c;
  float *local_8;
  
  puVar3 = out_block;
  *out_block = 0;
  out_block[1] = 0;
  pfVar6 = local_54;
  for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
    *pfVar6 = 0.0;
    pfVar6 = pfVar6 + 1;
  }
  fpu_save_control_word();
  local_8 = rgba + 3;
  out_block = extraout_EDX;
  do {
    local_c = local_54[(int)out_block] + *local_8;
    local_14 = (int)ROUND(local_c * 15.0 + 0.5);
    puVar1 = puVar3 + ((uint)out_block >> 3);
    local_10 = local_14;
    fVar2 = (float)local_14;
    *puVar1 = *puVar1 >> 4 | local_14 << 0x1c;
    if (local_14 < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    uVar5 = (uint)out_block & 3;
    fVar2 = local_c - fVar2 * 0.06666667;
    if (uVar5 != 3) {
      local_54[(int)out_block + 1] = fVar2 * 0.4375 + local_54[(int)out_block + 1];
    }
    if (out_block < (uint *)0xc) {
      if (uVar5 != 0) {
        local_54[(int)out_block + 3] = fVar2 * 0.1875 + local_54[(int)out_block + 3];
      }
      local_54[(int)(out_block + 1)] = fVar2 * 0.3125 + local_54[(int)(out_block + 1)];
      if (uVar5 != 3) {
        local_54[(int)out_block + 5] = fVar2 * 0.0625 + local_54[(int)out_block + 5];
      }
    }
    out_block = (uint *)((int)out_block + 1);
    local_8 = local_8 + 4;
  } while (out_block < (uint *)0x10);
  grim_dxt1_encode_color_block((ushort *)(puVar3 + 2),0.0);
  return;
}



/* grim_dxt5_encode_block @ 10021cc2 */

/* encodes a 4x4 RGBA block into DXT5 (interpolated alpha + DXT1 color) */

int __cdecl grim_dxt5_encode_block(uchar *out_block,float *rgba)

{
  float fVar1;
  float fVar2;
  uchar *puVar3;
  uchar uVar4;
  uint uVar5;
  uchar uVar6;
  int iVar7;
  uint uVar8;
  float *pfVar9;
  float fVar10;
  uint uVar11;
  float *pfVar12;
  float local_a4 [32];
  int local_24;
  float local_20;
  float local_1c;
  float local_18;
  undefined *local_14;
  float *local_10;
  float *local_c;
  float local_8;
  
  pfVar9 = rgba + 3;
  local_10 = (float *)*pfVar9;
  pfVar12 = local_a4;
  local_c = local_10;
  for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
    *pfVar12 = 0.0;
    pfVar12 = pfVar12 + 1;
  }
  fpu_save_control_word();
  puVar3 = out_block;
  uVar8 = 0;
  pfVar12 = pfVar9;
  do {
    local_18 = local_a4[uVar8] + *pfVar12;
    local_14 = (undefined *)(int)ROUND(local_18 * 255.0 + 0.5);
    local_8 = (float)local_14;
    fVar10 = (float)(int)local_14 * 0.003921569;
    local_a4[uVar8 + 0x10] = fVar10;
    if ((float)local_c <= fVar10) {
      if ((float)local_10 < fVar10) {
        local_10 = (float *)fVar10;
      }
    }
    else {
      local_c = (float *)fVar10;
    }
    fVar10 = local_18 - fVar10;
    uVar11 = uVar8 & 3;
    if (uVar11 != 3) {
      local_a4[uVar8 + 1] = fVar10 * 0.4375 + local_a4[uVar8 + 1];
    }
    if (uVar8 < 0xc) {
      if (uVar11 != 0) {
        local_a4[uVar8 + 3] = fVar10 * 0.1875 + local_a4[uVar8 + 3];
      }
      local_a4[uVar8 + 4] = fVar10 * 0.3125 + local_a4[uVar8 + 4];
      if (uVar11 != 3) {
        local_a4[uVar8 + 5] = fVar10 * 0.0625 + local_a4[uVar8 + 5];
      }
    }
    uVar8 = uVar8 + 1;
    pfVar12 = pfVar12 + 4;
  } while (uVar8 < 0x10);
  local_8 = fpu_control_word_saved_dxt;
  iVar7 = grim_dxt1_encode_color_block((ushort *)(out_block + 8),0.0);
  if (iVar7 < 0) {
    return iVar7;
  }
  if ((float)local_c == 1.0) {
    *puVar3 = 0xff;
    puVar3[1] = 0xff;
LAB_10021ea4:
    puVar3[2] = '\0';
    puVar3[3] = '\0';
    puVar3[4] = '\0';
    puVar3[5] = '\0';
    puVar3[6] = '\0';
    puVar3[7] = '\0';
  }
  else {
    if (((float)local_c == 0.0) || ((float)local_10 == 1.0)) {
      rgba = (float *)0x6;
      uVar8 = 6;
    }
    else {
      uVar8 = 8;
      rgba = (float *)0x8;
    }
    grim_dxt5_optimize_alpha_endpoints(&local_8,(float *)&out_block,local_a4 + 0x10,uVar8);
    fpu_save_control_word();
    uVar11 = (uint)ROUND(local_8 * 255.0 + 0.5);
    local_8 = (float)(int)ROUND((float)out_block * 255.0 + 0.5);
    fVar10 = (float)(uVar11 & 0xff) * 0.003921569;
    local_a4[0x19] = (float)((uint)local_8 & 0xff) * 0.003921569;
    uVar4 = (uchar)uVar11;
    uVar6 = SUB41(local_8,0);
    if (uVar8 == 8) {
      if (uVar4 == uVar6) {
        *puVar3 = uVar4;
        puVar3[1] = uVar6;
        goto LAB_10021ea4;
      }
LAB_10021f19:
      puVar3[1] = uVar4;
      *puVar3 = uVar6;
      uVar11 = 1;
      do {
        fVar1 = (float)(int)(7 - uVar11);
        if ((int)(7 - uVar11) < 0) {
          fVar1 = fVar1 + 4.2949673e+09;
        }
        fVar2 = (float)(int)uVar11;
        if ((int)uVar11 < 0) {
          fVar2 = fVar2 + 4.2949673e+09;
        }
        uVar5 = uVar11 + 1;
        local_a4[uVar11 + 0x19] = (fVar2 * fVar10 + fVar1 * local_a4[0x19]) * 0.14285715;
        uVar11 = uVar5;
      } while (uVar5 < 7);
      local_14 = &grim_dxt5_alpha_index_map_8;
      local_a4[0x18] = local_a4[0x19];
      local_a4[0x19] = fVar10;
    }
    else {
      if (uVar8 != 6) goto LAB_10021f19;
      *puVar3 = uVar4;
      puVar3[1] = uVar6;
      uVar11 = 1;
      do {
        fVar1 = (float)(int)(5 - uVar11);
        if ((int)(5 - uVar11) < 0) {
          fVar1 = fVar1 + 4.2949673e+09;
        }
        fVar2 = (float)(int)uVar11;
        if ((int)uVar11 < 0) {
          fVar2 = fVar2 + 4.2949673e+09;
        }
        uVar5 = uVar11 + 1;
        local_a4[uVar11 + 0x19] = (fVar2 * local_a4[0x19] + fVar1 * fVar10) * 0.2;
        uVar11 = uVar5;
      } while (uVar5 < 5);
      local_14 = &grim_dxt5_alpha_index_map_6;
      local_a4[0x1e] = 0.0;
      local_a4[0x1f] = 1.0;
      local_a4[0x18] = fVar10;
    }
    out_block = (uchar *)(uVar8 - 1);
    local_1c = (float)(int)out_block;
    if ((int)out_block < 0) {
      local_1c = local_1c + 4.2949673e+09;
    }
    if (local_a4[0x18] == local_a4[0x19]) {
      local_18 = 0.0;
    }
    else {
      local_18 = local_1c / (local_a4[0x19] - local_a4[0x18]);
    }
    pfVar12 = local_a4;
    for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
      *pfVar12 = 0.0;
      pfVar12 = pfVar12 + 1;
    }
    fpu_save_control_word();
    local_c = pfVar9;
    fVar10 = 0.0;
    do {
      uVar8 = 0;
      out_block._2_1_ = '\0';
      local_8 = (float)((int)fVar10 + 8U);
      if ((uint)fVar10 < (int)fVar10 + 8U) {
        local_10 = local_c;
        do {
          fVar1 = local_a4[(int)fVar10] + *local_10;
          fVar2 = (fVar1 - local_a4[0x18]) * local_18;
          if (fVar2 < 0.0 == (fVar2 == 0.0)) {
            if (fVar2 < local_1c) {
              local_20 = fVar2 + 0.5;
              local_24 = (int)ROUND(fVar2 + 0.5);
              iVar7 = *(int *)(local_14 + local_24 * 4);
            }
            else if ((rgba == (float *)0x6) &&
                    (fVar2 = (local_a4[0x19] + 1.0) * 0.5, fVar2 < fVar1 != (fVar2 == fVar1))) {
              iVar7 = 7;
            }
            else {
              iVar7 = 1;
            }
          }
          else if ((rgba != (float *)0x6) || (local_a4[0x18] * 0.5 < fVar1)) {
            iVar7 = 0;
          }
          else {
            iVar7 = 6;
          }
          fVar1 = fVar1 - local_a4[iVar7 + 0x18];
          uVar8 = uVar8 >> 3 | iVar7 << 0x15;
          uVar11 = (uint)fVar10 & 3;
          if (uVar11 != 3) {
            local_a4[(int)fVar10 + 1] = fVar1 * 0.4375 + local_a4[(int)fVar10 + 1];
          }
          if ((uint)fVar10 < 0xc) {
            if (uVar11 != 0) {
              local_a4[(int)fVar10 + 3] = fVar1 * 0.1875 + local_a4[(int)fVar10 + 3];
            }
            local_a4[(int)fVar10 + 4] = fVar1 * 0.3125 + local_a4[(int)fVar10 + 4];
            if (uVar11 != 3) {
              local_a4[(int)fVar10 + 5] = fVar1 * 0.0625 + local_a4[(int)fVar10 + 5];
            }
          }
          local_10 = local_10 + 4;
          fVar10 = (float)((int)fVar10 + 1);
        } while ((uint)fVar10 < (uint)local_8);
        out_block._2_1_ = (uchar)(uVar8 >> 0x10);
      }
      local_c = local_c + 0x20;
      puVar3[4] = out_block._2_1_;
      puVar3[2] = (uchar)uVar8;
      puVar3[3] = (uchar)(uVar8 >> 8);
      fVar10 = local_8;
      puVar3 = puVar3 + 3;
    } while ((uint)local_8 < 0x10);
  }
  return 0;
}



/* grim_dxt2_encode_block @ 1002215a */

/* premultiplies RGBA and encodes a DXT3-style block (DXT2) */

int __cdecl grim_dxt2_encode_block(void *out_block)

{
  int iVar1;
  int extraout_EAX;
  float local_104 [64];
  
  iVar1 = grim_dxt_premultiply_rgba_block(local_104);
  if (-1 < iVar1) {
    grim_dxt3_encode_block(out_block,local_104);
    iVar1 = extraout_EAX;
    if (-1 < extraout_EAX) {
      iVar1 = 0;
    }
  }
  return iVar1;
}



/* grim_dxt4_encode_block @ 1002218e */

/* premultiplies RGBA and encodes a DXT5-style block (DXT4) */

int __cdecl grim_dxt4_encode_block(void *out_block)

{
  int iVar1;
  float local_104 [64];
  
  iVar1 = grim_dxt_premultiply_rgba_block(local_104);
  if (-1 < iVar1) {
    iVar1 = grim_dxt5_encode_block(out_block,local_104);
    if (-1 < iVar1) {
      iVar1 = 0;
    }
  }
  return iVar1;
}



/* FUN_100221d0 @ 100221d0 */

void __cdecl FUN_100221d0(undefined4 *param_1)

{
  param_1[0x1c] = &LAB_10026970;
  *param_1 = FUN_10025c00;
  param_1[0xd] = &LAB_100266f0;
  param_1[0x1b] = &LAB_100267e0;
  param_1[0xb] = &LAB_100278b0;
  param_1[0x30] = &LAB_100265d0;
  param_1[0x2f] = &LAB_100261f0;
  param_1[0x11] = &LAB_10026490;
  param_1[0x36] = &LAB_10026580;
  param_1[0x35] = &LAB_10026280;
  param_1[0x34] = &LAB_100263f0;
  param_1[0x33] = &LAB_10026520;
  param_1[0x32] = &LAB_10026130;
  param_1[0x31] = &LAB_10026330;
  param_1[0x12] = &LAB_100272d0;
  param_1[0x16] = &LAB_10026630;
  param_1[0x19] = &LAB_10026d10;
  param_1[0x18] = &LAB_10026bf0;
  param_1[0x13] = &LAB_10026a50;
  param_1[0x2c] = &LAB_10026b80;
  param_1[0x14] = &LAB_10026ae0;
  param_1[0x10] = &LAB_10025fe0;
  param_1[0x15] = &LAB_10025f00;
  param_1[8] = &LAB_10026090;
  param_1[7] = &LAB_10025e30;
  param_1[10] = &LAB_10026f60;
  param_1[9] = FUN_10025c40;
  param_1[6] = &LAB_10026de0;
  param_1[5] = &LAB_10025ca0;
  param_1[4] = &LAB_10027590;
  param_1[3] = &LAB_10025ce0;
  param_1[2] = &LAB_10027060;
  param_1[1] = &LAB_10026ea0;
  return;
}



/* FUN_100222e0 @ 100222e0 */

void __cdecl FUN_100222e0(undefined4 *param_1)

{
  param_1[0x1c] = &LAB_10027c00;
  *param_1 = FUN_10025c00;
  param_1[0xd] = &LAB_10027980;
  param_1[0x1b] = &LAB_10027a70;
  param_1[0xb] = &LAB_100278b0;
  param_1[0x30] = &LAB_100265d0;
  param_1[0x2f] = &LAB_100261f0;
  param_1[0x11] = &LAB_10026490;
  param_1[0x36] = &LAB_10026580;
  param_1[0x35] = &LAB_10026280;
  param_1[0x34] = &LAB_100263f0;
  param_1[0x33] = &LAB_10026520;
  param_1[0x32] = &LAB_10026130;
  param_1[0x31] = &LAB_10026330;
  param_1[0x12] = &LAB_100272d0;
  param_1[0x16] = &LAB_10026630;
  param_1[0x19] = &LAB_10027e00;
  param_1[0x18] = &LAB_10027ce0;
  param_1[0x1f] = &LAB_10027820;
  param_1[0x1e] = &LAB_100277a0;
  param_1[0x13] = &LAB_10026a50;
  param_1[0x14] = &LAB_10026ae0;
  param_1[0x10] = &LAB_100276f0;
  param_1[0x15] = &LAB_100271f0;
  param_1[8] = &LAB_10026090;
  param_1[7] = &LAB_10027120;
  param_1[10] = &LAB_10026f60;
  param_1[9] = FUN_10025c40;
  param_1[6] = &LAB_10026de0;
  param_1[5] = &LAB_10025ca0;
  param_1[4] = &LAB_10027590;
  param_1[3] = &LAB_10025ce0;
  param_1[2] = &LAB_10027060;
  param_1[1] = &LAB_10026ea0;
  return;
}



/* FUN_100223f0 @ 100223f0 */

/* WARNING: Removing unreachable block (ram,0x1002246d) */
/* WARNING: Removing unreachable block (ram,0x1002245b) */
/* WARNING: Removing unreachable block (ram,0x10022440) */
/* WARNING: Removing unreachable block (ram,0x10022424) */
/* WARNING: Removing unreachable block (ram,0x10022419) */

undefined8 FUN_100223f0(void)

{
  undefined4 *puVar1;
  uint *puVar2;
  uint uVar3;
  int iVar4;
  char *pcVar5;
  int *piVar6;
  bool bVar7;
  char local_2c [16];
  int local_1c;
  uint local_18;
  int local_14;
  char cStack_10;
  undefined4 local_c;
  uint local_8;
  
  cStack_10 = '\0';
  builtin_strncpy(local_2c,"AuthenticAMD",0xd);
  cpuid_basic_info(0);
  local_8 = 1;
  piVar6 = (int *)cpuid_basic_info(0);
  local_18 = piVar6[2];
  local_1c = piVar6[1];
  local_14 = piVar6[3];
  if (*piVar6 != 0) {
    puVar1 = (undefined4 *)cpuid_Version_info(1);
    local_c = *puVar1;
    uVar3 = -(uint)((puVar1[2] & 0x800000) != 0) & 0x20;
    local_8 = uVar3 | 3;
    puVar2 = (uint *)cpuid(0x80000000);
    local_18 = puVar2[2];
    if (0x80000000 < *puVar2) {
      iVar4 = cpuid(0x80000001);
      local_18 = *(uint *)(iVar4 + 8);
      local_8 = uVar3 | 7 | -(uint)((local_18 & 0x80000000) != 0) & 0x80;
      bVar7 = local_8 == 0;
      iVar4 = 0xc;
      pcVar5 = local_2c;
      piVar6 = &local_1c;
      do {
        if (iVar4 == 0) break;
        iVar4 = iVar4 + -1;
        bVar7 = *pcVar5 == (char)*piVar6;
        pcVar5 = pcVar5 + 1;
        piVar6 = (int *)((int)piVar6 + 1);
      } while (bVar7);
      if (bVar7) {
        local_8 = local_8 | -(uint)((local_18 & 0x40000000) != 0) & 0x100 |
                  -(uint)((local_18 & 0x400000) != 0) & 0x200;
      }
    }
  }
  return CONCAT44(local_18,local_8);
}



/* grim_init_mmx_sse_functions @ 100224c5 */

/* fills a function pointer table with MMX/SSE implementations based on CPUID */

void __cdecl grim_init_mmx_sse_functions(undefined4 *table)

{
  ulonglong uVar1;
  
  uVar1 = FUN_100223f0();
  if (((uVar1 & 0x20) != 0) && ((char)uVar1 < '\0')) {
    *table = &LAB_1002dca8;
    table[1] = &LAB_1002d1ea;
    table[2] = &LAB_1002df69;
    table[3] = &LAB_1002943a;
    table[5] = &LAB_1002dcfd;
    table[6] = &LAB_1002d25b;
    table[7] = FUN_1002d2c2;
    table[8] = &LAB_1002dfeb;
    table[9] = &LAB_1002dd36;
    table[10] = &LAB_1002d7a2;
    table[0xb] = &LAB_1002966c;
    table[0xc] = &LAB_1002e393;
    table[0xd] = &LAB_1002e3d6;
    table[0xe] = FUN_1002d7a7;
    table[0xf] = &LAB_1002d92f;
    table[0x10] = &LAB_1002e04a;
    table[0x11] = &LAB_1002dd9a;
    table[0x12] = &LAB_1002d1ce;
    table[0x13] = &LAB_10027ed0;
    table[0x14] = &LAB_10027f69;
    table[0x15] = FUN_1002e578;
    table[0x16] = &LAB_1002e4ba;
    table[0x17] = FUN_10027fc6;
    table[0x18] = &LAB_10028079;
    table[0x19] = &LAB_100284aa;
    table[0x1a] = &LAB_1002973b;
    table[0x1b] = &LAB_1002978b;
    table[0x1c] = &LAB_10029876;
    table[0x1d] = FUN_1002856f;
    table[0x1e] = &LAB_10029952;
    table[0x1f] = &LAB_100299b5;
    table[0x20] = &LAB_10029a13;
    table[0x21] = &LAB_10029a6c;
    table[0x22] = &LAB_1002e5dc;
    table[0x23] = FUN_100285db;
    table[0x24] = FUN_10028712;
    table[0x25] = &LAB_10029ab3;
    table[0x26] = &LAB_10029b5b;
    table[0x27] = FUN_10029ce2;
    table[0x28] = FUN_1002ae7a;
    table[0x29] = &LAB_1002b01f;
    table[0x2a] = FUN_1002b553;
    table[0x2b] = FUN_1002879f;
    table[0x2c] = &LAB_10028831;
    table[0x36] = &LAB_1002e17c;
    table[0x33] = &LAB_1002d321;
    table[0x30] = &LAB_1002de32;
    table[0x2e] = &LAB_1002de7b;
    table[0x34] = &LAB_1002e1ed;
    table[0x31] = &LAB_1002d392;
    table[0x37] = FUN_10028895;
    table[0x38] = &LAB_1002893c;
    table[0x35] = &LAB_1002e2b5;
    table[0x2f] = &LAB_1002debe;
    table[0x32] = &LAB_1002d466;
    table[4] = &LAB_1002caa2;
    table[0x2d] = FUN_100289e1;
    if (((uVar1 & 0x100) != 0) && ((uVar1 & 0x200) != 0)) {
      table[0xf] = FUN_1002db55;
      table[0x12] = FUN_1002c7c0;
      table[0x26] = &LAB_10029c2d;
      table[0x27] = FUN_1002b66c;
      table[0x18] = &LAB_10028295;
    }
  }
  return;
}



/* FUN_1002290c @ 1002290c */

/* [binja] float* __stdcall sub_1002290c(float* arg1, float* arg2) */

float * FUN_1002290c(float *arg1,float *arg2)

{
  float fVar1;
  float fVar2;
  float fVar3;
  uint uVar4;
  float10 fVar5;
  
  fVar5 = (float10)*arg2 * (float10)*arg2 + (float10)arg2[1] * (float10)arg2[1] +
          (float10)arg2[2] * (float10)arg2[2];
  fVar1 = (float)fVar5;
  if (fVar1 == 0.0) {
    ffree(fVar5);
    *arg1 = 0.0;
    arg1[1] = 0.0;
    arg1[2] = 0.0;
  }
  else if ((uint)ABS((float)(fVar5 - (float10)1)) < 0x3727c5ad) {
    if (arg1 != arg2) {
      *arg1 = *arg2;
      arg1[1] = arg2[1];
      arg1[2] = arg2[2];
    }
  }
  else {
    uVar4 = (uint)fVar1 >> 0xc & 0xff8;
    fVar3 = ((float)((uint)fVar1 & 0xffffff | 0x3f000000) * *(float *)(&DAT_100544e0 + uVar4) +
            *(float *)(&DAT_100544e4 + uVar4)) * (float)(0xbeffffffU - (int)fVar1 >> 1 & 0xff800000)
    ;
    fVar1 = arg2[1];
    fVar2 = arg2[2];
    *arg1 = *arg2 * fVar3;
    arg1[1] = fVar1 * fVar3;
    arg1[2] = fVar2 * fVar3;
  }
  return arg1;
}



/* FUN_100229d6 @ 100229d6 */

/* [binja] int32_t __stdcall sub_100229d6(int32_t arg1, int32_t arg2, void* arg3) */

int FUN_100229d6(int arg1,int arg2,void *arg3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  float10 fVar9;
  float10 fVar10;
  float10 fVar11;
  float10 fVar12;
  undefined4 local_44 [16];
  
  iVar5 = arg1;
  if (arg3 == (void *)arg1) {
    if (arg2 != arg1) {
      iVar7 = -4;
      do {
        iVar6 = -0x10;
        fVar9 = (float10)*(float *)((int)arg3 + iVar7 * 4 + 0x10);
        fVar10 = (float10)*(float *)((int)arg3 + iVar7 * 4 + 0x20);
        fVar11 = (float10)*(float *)((int)arg3 + iVar7 * 4 + 0x30);
        fVar12 = (float10)*(float *)((int)arg3 + iVar7 * 4 + 0x40);
        do {
          *(float *)(arg1 + 0x40 + iVar6 * 4) =
               (float)(fVar12 * (float10)*(float *)(arg2 + 0x4c + iVar6 * 4) +
                       fVar10 * (float10)*(float *)(arg2 + 0x44 + iVar6 * 4) +
                      fVar9 * (float10)*(float *)(arg2 + 0x40 + iVar6 * 4) +
                      fVar11 * (float10)*(float *)(arg2 + 0x48 + iVar6 * 4));
          iVar6 = iVar6 + 4;
        } while (iVar6 != 0);
        ffree(fVar9);
        ffree(fVar10);
        ffree(fVar11);
        ffree(fVar12);
        arg1 = arg1 + 4;
        iVar7 = iVar7 + 1;
      } while (iVar7 != 0);
      return iVar5;
    }
    puVar8 = local_44;
    for (iVar7 = 0x10; iVar7 != 0; iVar7 = iVar7 + -1) {
      *puVar8 = *(undefined4 *)arg3;
      arg3 = (undefined4 *)((int)arg3 + 4);
      puVar8 = puVar8 + 1;
    }
    arg3 = local_44;
  }
  iVar7 = -4;
  do {
    iVar6 = -4;
    fVar1 = *(float *)arg2;
    fVar2 = *(float *)(arg2 + 4);
    fVar3 = *(float *)(arg2 + 8);
    fVar4 = *(float *)(arg2 + 0xc);
    do {
      *(float *)(arg1 + 0x10 + iVar6 * 4) =
           (float)((float10)fVar4 * (float10)*(float *)((int)arg3 + iVar6 * 4 + 0x40) +
                   (float10)fVar2 * (float10)*(float *)((int)arg3 + iVar6 * 4 + 0x20) +
                  (float10)fVar1 * (float10)*(float *)((int)arg3 + iVar6 * 4 + 0x10) +
                  (float10)fVar3 * (float10)*(float *)((int)arg3 + iVar6 * 4 + 0x30));
      iVar6 = iVar6 + 1;
    } while (iVar6 != 0);
    ffree((float10)fVar1);
    ffree((float10)fVar2);
    ffree((float10)fVar3);
    ffree((float10)fVar4);
    arg2 = arg2 + 0x10;
    arg1 = arg1 + 0x10;
    iVar7 = iVar7 + 1;
  } while (iVar7 != 0);
  return iVar5;
}



/* FUN_10022ab9 @ 10022ab9 */

/* [binja] void* __stdcall sub_10022ab9(void* arg1, int32_t arg2, int32_t arg3) */

void * FUN_10022ab9(void *arg1,int arg2,int arg3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  undefined4 *puVar5;
  float *pfVar6;
  int iVar7;
  int iVar8;
  undefined4 *puVar9;
  undefined4 local_48 [17];
  
  if ((arg1 == (void *)arg2) || (puVar5 = arg1, arg1 == (void *)arg3)) {
    puVar5 = local_48;
  }
  iVar8 = -4;
  do {
    iVar7 = -4;
    pfVar6 = (float *)(puVar5 + iVar8 + 4);
    fVar1 = *(float *)arg2;
    fVar2 = *(float *)(arg2 + 4);
    fVar3 = *(float *)(arg2 + 8);
    fVar4 = *(float *)(arg2 + 0xc);
    do {
      *pfVar6 = (float)((float10)fVar4 * (float10)*(float *)(arg3 + 0x40 + iVar7 * 4) +
                        (float10)fVar2 * (float10)*(float *)(arg3 + 0x20 + iVar7 * 4) +
                       (float10)fVar1 * (float10)*(float *)(arg3 + 0x10 + iVar7 * 4) +
                       (float10)fVar3 * (float10)*(float *)(arg3 + 0x30 + iVar7 * 4));
      pfVar6 = pfVar6 + 4;
      iVar7 = iVar7 + 1;
    } while (iVar7 != 0);
    ffree((float10)fVar1);
    ffree((float10)fVar2);
    ffree((float10)fVar3);
    ffree((float10)fVar4);
    arg2 = arg2 + 0x10;
    iVar8 = iVar8 + 1;
  } while (iVar8 != 0);
  if (puVar5 != arg1) {
    puVar9 = arg1;
    for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
      *puVar9 = *puVar5;
      puVar5 = puVar5 + 1;
      puVar9 = puVar9 + 1;
    }
  }
  return arg1;
}



/* FUN_10022b47 @ 10022b47 */

void __cdecl FUN_10022b47(undefined4 *param_1)

{
  *param_1 = &LAB_100226eb;
  param_1[1] = &LAB_10022789;
  param_1[2] = &LAB_10022873;
  param_1[3] = FUN_100229d6;
  param_1[4] = FUN_10022ab9;
  param_1[5] = &LAB_10022754;
  param_1[6] = &LAB_10022814;
  param_1[7] = FUN_1002290c;
  return;
}



/* FUN_10022b83 @ 10022b83 */

int __cdecl FUN_10022b83(int param_1,int param_2)

{
  return (param_1 + -1 + param_2) / param_2;
}



/* FUN_10022b93 @ 10022b93 */

int __cdecl FUN_10022b93(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = param_1 + -1 + param_2;
  return iVar1 - iVar1 % param_2;
}



/* FUN_10022bab @ 10022bab */

void __cdecl FUN_10022bab(int param_1,int param_2,int param_3,int param_4,int param_5,uint param_6)

{
  undefined4 *puVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
  puVar1 = (undefined4 *)(param_1 + param_2 * 4);
  puVar3 = (undefined4 *)(param_3 + param_4 * 4);
  if (0 < param_5) {
    param_2 = param_5;
    do {
      puVar4 = (undefined4 *)*puVar1;
      puVar5 = (undefined4 *)*puVar3;
      for (uVar2 = param_6 >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
        *puVar5 = *puVar4;
        puVar4 = puVar4 + 1;
        puVar5 = puVar5 + 1;
      }
      puVar1 = puVar1 + 1;
      puVar3 = puVar3 + 1;
      param_2 = param_2 + -1;
      for (uVar2 = param_6 & 3; uVar2 != 0; uVar2 = uVar2 - 1) {
        *(undefined1 *)puVar5 = *(undefined1 *)puVar4;
        puVar4 = (undefined4 *)((int)puVar4 + 1);
        puVar5 = (undefined4 *)((int)puVar5 + 1);
      }
    } while (param_2 != 0);
  }
  return;
}



/* FUN_10022bf2 @ 10022bf2 */

void __cdecl FUN_10022bf2(undefined4 *param_1,undefined4 *param_2,int param_3)

{
  uint uVar1;
  int iVar2;
  
  for (uVar1 = (uint)(param_3 << 7) >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
    *param_2 = *param_1;
    param_1 = param_1 + 1;
    param_2 = param_2 + 1;
  }
  for (iVar2 = 0; iVar2 != 0; iVar2 = iVar2 + -1) {
    *(undefined1 *)param_2 = *(undefined1 *)param_1;
    param_1 = (undefined4 *)((int)param_1 + 1);
    param_2 = (undefined4 *)((int)param_2 + 1);
  }
  return;
}



/* memzero @ 10022c14 */

/* zero-fill helper (memset to 0) */

void __cdecl memzero(void *dst,uint size)

{
  uint uVar1;
  
  for (uVar1 = size >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
    *(undefined4 *)dst = 0;
    dst = (undefined4 *)((int)dst + 4);
  }
  for (uVar1 = size & 3; uVar1 != 0; uVar1 = uVar1 - 1) {
    *(undefined1 *)dst = 0;
    dst = (undefined4 *)((int)dst + 1);
  }
  return;
}



/* FUN_10022c2f @ 10022c2f */

/* WARNING: Removing unreachable block (ram,0x10022c4c) */
/* [binja] int32_t __fastcall sub_10022c2f(int32_t arg1) */

int FUN_10022c2f(int arg1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  byte in_CF;
  byte in_PF;
  byte in_AF;
  byte in_ZF;
  byte in_SF;
  byte in_TF;
  byte in_IF;
  byte in_OF;
  byte in_NT;
  byte in_AC;
  byte in_VIF;
  byte in_VIP;
  byte in_ID;
  uint uVar4;
  
  uVar4 = (uint)(in_NT & 1) * 0x4000 | (uint)(in_OF & 1) * 0x800 | (uint)(in_IF & 1) * 0x200 |
          (uint)(in_TF & 1) * 0x100 | (uint)(in_SF & 1) * 0x80 | (uint)(in_ZF & 1) * 0x40 |
          (uint)(in_AF & 1) * 0x10 | (uint)(in_PF & 1) * 4 | (uint)(in_CF & 1) |
          (uint)(in_ID & 1) * 0x200000 | (uint)(in_VIP & 1) * 0x100000 |
          (uint)(in_VIF & 1) * 0x80000 | (uint)(in_AC & 1) * 0x40000;
  uVar2 = uVar4 ^ 0x200000;
  uVar3 = 0;
  if (((uint)((uVar2 & 0x4000) != 0) * 0x4000 | (uint)((uVar2 & 0x800) != 0) * 0x800 |
       (uint)((uVar2 & 0x200) != 0) * 0x200 | (uint)((uVar2 & 0x100) != 0) * 0x100 |
       (uint)((uVar2 & 0x80) != 0) * 0x80 | (uint)((uVar2 & 0x40) != 0) * 0x40 |
       (uint)((uVar2 & 0x10) != 0) * 0x10 | (uint)((uVar2 & 4) != 0) * 4 | (uint)((uVar2 & 1) != 0)
       | (uint)((uVar2 & 0x200000) != 0) * 0x200000 | (uint)((uVar2 & 0x40000) != 0) * 0x40000) !=
      uVar4) {
    iVar1 = cpuid_Version_info(1);
    uVar3 = (*(uint *)(iVar1 + 8) & 0x800000) >> 0x17;
  }
  return uVar3;
}



/* FUN_10022c61 @ 10022c61 */

void FUN_10022c61(void)

{
  int iVar1;
  int iVar2;
  int *unaff_ESI;
  int *piVar3;
  
  if ((0xffdc < unaff_ESI[7]) || (0xffdc < unaff_ESI[6])) {
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x28;
    *(undefined4 *)(*unaff_ESI + 0x18) = 0xffdc;
    (**(code **)*unaff_ESI)();
  }
  if (unaff_ESI[0x30] != 8) {
    *(undefined4 *)(*unaff_ESI + 0x14) = 0xd;
    *(int *)(*unaff_ESI + 0x18) = unaff_ESI[0x30];
    (**(code **)*unaff_ESI)();
  }
  if (10 < unaff_ESI[8]) {
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x18;
    *(int *)(*unaff_ESI + 0x18) = unaff_ESI[8];
    *(undefined4 *)(*unaff_ESI + 0x1c) = 10;
    (**(code **)*unaff_ESI)();
  }
  iVar2 = 0;
  unaff_ESI[0x43] = 1;
  unaff_ESI[0x44] = 1;
  if (0 < unaff_ESI[8]) {
    piVar3 = (int *)(unaff_ESI[0x31] + 0xc);
    do {
      if ((((piVar3[-1] < 1) || (4 < piVar3[-1])) || (*piVar3 < 1)) || (4 < *piVar3)) {
        *(undefined4 *)(*unaff_ESI + 0x14) = 0x10;
        (**(code **)*unaff_ESI)();
      }
      iVar1 = unaff_ESI[0x43];
      if (unaff_ESI[0x43] <= piVar3[-1]) {
        iVar1 = piVar3[-1];
      }
      unaff_ESI[0x43] = iVar1;
      iVar1 = unaff_ESI[0x44];
      if (unaff_ESI[0x44] <= *piVar3) {
        iVar1 = *piVar3;
      }
      iVar2 = iVar2 + 1;
      unaff_ESI[0x44] = iVar1;
      piVar3 = piVar3 + 0x15;
    } while (iVar2 < unaff_ESI[8]);
  }
  iVar2 = 0;
  unaff_ESI[0x45] = 8;
  if (0 < unaff_ESI[8]) {
    piVar3 = (int *)(unaff_ESI[0x31] + 0x1c);
    do {
      piVar3[2] = 8;
      iVar1 = FUN_10022b83(piVar3[-5] * unaff_ESI[6],unaff_ESI[0x43] << 3);
      *piVar3 = iVar1;
      iVar1 = FUN_10022b83(piVar3[-4] * unaff_ESI[7],unaff_ESI[0x44] << 3);
      piVar3[1] = iVar1;
      iVar1 = FUN_10022b83(piVar3[-5] * unaff_ESI[6],unaff_ESI[0x43]);
      piVar3[3] = iVar1;
      iVar1 = FUN_10022b83(piVar3[-4] * unaff_ESI[7],unaff_ESI[0x44]);
      piVar3[0xc] = 0;
      piVar3[4] = iVar1;
      *(undefined1 *)(piVar3 + 5) = 1;
      iVar2 = iVar2 + 1;
      piVar3 = piVar3 + 0x15;
    } while (iVar2 < unaff_ESI[8]);
  }
  iVar2 = FUN_10022b83(unaff_ESI[7],unaff_ESI[0x44] << 3);
  unaff_ESI[0x46] = iVar2;
  if ((unaff_ESI[8] <= unaff_ESI[0x48]) && ((char)unaff_ESI[0x32] == '\0')) {
    *(undefined1 *)(unaff_ESI[99] + 0x10) = 0;
    return;
  }
  *(undefined1 *)(unaff_ESI[99] + 0x10) = 1;
  return;
}



/* FUN_10022e1c @ 10022e1c */

uint FUN_10022e1c(void)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int *unaff_ESI;
  int iVar5;
  int *local_c;
  uint local_8;
  
  iVar2 = unaff_ESI[0x48];
  if (iVar2 == 1) {
    iVar2 = unaff_ESI[0x49];
    unaff_ESI[0x4d] = *(int *)(iVar2 + 0x1c);
    unaff_ESI[0x4e] = *(int *)(iVar2 + 0x20);
    uVar4 = *(uint *)(iVar2 + 0xc);
    *(undefined4 *)(iVar2 + 0x40) = *(undefined4 *)(iVar2 + 0x24);
    uVar1 = *(uint *)(iVar2 + 0x20) / uVar4;
    uVar3 = *(uint *)(iVar2 + 0x20) % uVar4;
    *(undefined4 *)(iVar2 + 0x34) = 1;
    *(undefined4 *)(iVar2 + 0x38) = 1;
    *(undefined4 *)(iVar2 + 0x3c) = 1;
    *(undefined4 *)(iVar2 + 0x44) = 1;
    if (uVar3 == 0) {
      uVar3 = uVar4;
    }
    *(uint *)(iVar2 + 0x48) = uVar3;
    unaff_ESI[0x50] = 0;
    unaff_ESI[0x4f] = 1;
  }
  else {
    if ((iVar2 < 1) || (4 < iVar2)) {
      *(undefined4 *)(*unaff_ESI + 0x14) = 0x18;
      *(int *)(*unaff_ESI + 0x18) = unaff_ESI[0x48];
      *(undefined4 *)(*unaff_ESI + 0x1c) = 4;
      (**(code **)*unaff_ESI)();
    }
    iVar2 = FUN_10022b83(unaff_ESI[6],unaff_ESI[0x43] << 3);
    unaff_ESI[0x4d] = iVar2;
    uVar1 = FUN_10022b83(unaff_ESI[7],unaff_ESI[0x44] << 3);
    unaff_ESI[0x4e] = uVar1;
    unaff_ESI[0x4f] = 0;
    local_8 = 0;
    if (0 < unaff_ESI[0x48]) {
      local_c = unaff_ESI + 0x49;
      do {
        iVar2 = *local_c;
        uVar1 = *(uint *)(iVar2 + 8);
        *(uint *)(iVar2 + 0x40) = *(int *)(iVar2 + 0x24) * uVar1;
        uVar4 = *(uint *)(iVar2 + 0x1c) % uVar1;
        *(int *)(iVar2 + 0x38) = *(int *)(iVar2 + 0xc);
        iVar5 = *(int *)(iVar2 + 0xc) * uVar1;
        *(uint *)(iVar2 + 0x34) = uVar1;
        *(int *)(iVar2 + 0x3c) = iVar5;
        if (uVar4 == 0) {
          uVar4 = uVar1;
        }
        *(uint *)(iVar2 + 0x44) = uVar4;
        uVar1 = *(uint *)(iVar2 + 0x20) % *(uint *)(iVar2 + 0xc);
        if (uVar1 == 0) {
          uVar1 = *(uint *)(iVar2 + 0xc);
        }
        *(uint *)(iVar2 + 0x48) = uVar1;
        if (10 < unaff_ESI[0x4f] + iVar5) {
          *(undefined4 *)(*unaff_ESI + 0x14) = 0xb;
          (**(code **)*unaff_ESI)();
        }
        if (0 < iVar5) {
          do {
            unaff_ESI[unaff_ESI[0x4f] + 0x50] = local_8;
            unaff_ESI[0x4f] = unaff_ESI[0x4f] + 1;
            iVar5 = iVar5 + -1;
          } while (iVar5 != 0);
        }
        uVar1 = local_8 + 1;
        local_c = local_c + 1;
        local_8 = uVar1;
      } while ((int)uVar1 < unaff_ESI[0x48]);
    }
  }
  return uVar1;
}



/* FUN_10022f92 @ 10022f92 */

void FUN_10022f92(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  int *unaff_EBX;
  undefined4 *puVar5;
  undefined4 *puVar6;
  int local_c;
  int *local_8;
  
  local_c = 0;
  if (0 < unaff_EBX[0x48]) {
    local_8 = unaff_EBX + 0x49;
    do {
      iVar1 = *local_8;
      if (*(int *)(iVar1 + 0x4c) == 0) {
        iVar2 = *(int *)(iVar1 + 0x10);
        if (((iVar2 < 0) || (3 < iVar2)) || (unaff_EBX[iVar2 + 0x24] == 0)) {
          *(undefined4 *)(*unaff_EBX + 0x14) = 0x33;
          *(int *)(*unaff_EBX + 0x18) = iVar2;
          (**(code **)*unaff_EBX)();
        }
        puVar3 = (undefined4 *)(**(code **)unaff_EBX[1])();
        puVar5 = (undefined4 *)unaff_EBX[iVar2 + 0x24];
        puVar6 = puVar3;
        for (iVar4 = 0x20; iVar4 != 0; iVar4 = iVar4 + -1) {
          *puVar6 = *puVar5;
          puVar5 = puVar5 + 1;
          puVar6 = puVar6 + 1;
        }
        *(undefined2 *)puVar6 = *(undefined2 *)puVar5;
        *(undefined4 **)(iVar1 + 0x4c) = puVar3;
      }
      local_c = local_c + 1;
      local_8 = local_8 + 1;
    } while (local_c < unaff_EBX[0x48]);
  }
  return;
}



/* FUN_10023024 @ 10023024 */

void __cdecl FUN_10023024(int param_1)

{
  FUN_10022e1c();
  FUN_10022f92();
  (*(code *)**(undefined4 **)(param_1 + 0x194))(param_1);
  (*(code *)**(undefined4 **)(param_1 + 0x184))(param_1);
  **(undefined4 **)(param_1 + 0x18c) = *(undefined4 *)(*(int *)(param_1 + 0x184) + 4);
  return;
}



/* FUN_100230f1 @ 100230f1 */

void __cdecl FUN_100230f1(int *param_1)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)param_1[99];
  *(undefined1 *)(puVar1 + 4) = 0;
  *(undefined1 *)((int)puVar1 + 0x11) = 0;
  *puVar1 = &LAB_1002305e;
  *(undefined1 *)(puVar1 + 5) = 1;
  (**(code **)(*param_1 + 0x10))(param_1);
  (**(code **)param_1[100])(param_1);
  param_1[0x23] = 0;
  return;
}



/* FUN_10023139 @ 10023139 */

void __cdecl FUN_10023139(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x18);
  *(undefined4 **)(param_1 + 0x18c) = puVar1;
  *(undefined1 *)(puVar1 + 4) = 0;
  *(undefined1 *)((int)puVar1 + 0x11) = 0;
  *puVar1 = &LAB_1002305e;
  puVar1[1] = FUN_100230f1;
  puVar1[2] = FUN_10023024;
  puVar1[3] = &LAB_10023128;
  *(undefined1 *)(puVar1 + 5) = 1;
  return;
}



/* FUN_1002317a @ 1002317a */

void __fastcall FUN_1002317a(undefined4 param_1,undefined4 param_2)

{
  int *in_EAX;
  
  *(undefined4 *)(*in_EAX + 0x14) = 0x35;
  *(undefined4 *)(*in_EAX + 0x18) = param_2;
  (**(code **)*in_EAX)();
  return;
}



/* FUN_1002318f @ 1002318f */

/* [binja] void* sub_1002318f(int32_t* arg1, int32_t* arg2, int32_t* arg3) */

void * __thiscall FUN_1002318f(void *this,int *arg1,int *arg2,int *arg3)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  int *piVar5;
  int *piVar6;
  uint uVar7;
  int iVar8;
  
  iVar3 = arg1[1];
  if ((int *)0x3b9ac9f0 < arg3) {
    FUN_1002317a(this,1);
  }
  piVar6 = arg3;
  if (((uint)arg3 & 7) != 0) {
    piVar6 = (int *)((int)arg3 + (8 - ((uint)arg3 & 7)));
  }
  if (((int)arg2 < 0) || (1 < (int)arg2)) {
    *(undefined4 *)(*arg1 + 0x14) = 0xc;
    *(int **)(*arg1 + 0x18) = arg2;
    (**(code **)*arg1)(arg1);
  }
  arg3 = (int *)0x0;
  piVar2 = (int *)(iVar3 + 0x30 + (int)arg2 * 4);
  piVar5 = (int *)*piVar2;
  if (piVar5 != (int *)0x0) {
    do {
      piVar4 = piVar5;
      piVar5 = piVar4;
      if (piVar6 <= (int *)piVar4[2]) break;
      piVar5 = (int *)*piVar4;
      arg3 = piVar4;
    } while (piVar5 != (int *)0x0);
    if (piVar5 != (int *)0x0) goto LAB_10023275;
  }
  piVar4 = piVar6 + 4;
  if (arg3 == (int *)0x0) {
    uVar7 = *(uint *)(&DAT_1004ea00 + (int)arg2 * 4);
  }
  else {
    uVar7 = *(uint *)(&DAT_1004ea08 + (int)arg2 * 4);
  }
  if (1000000000U - (int)piVar4 < uVar7) {
    uVar7 = 1000000000U - (int)piVar4;
  }
  while( true ) {
    iVar8 = uVar7 + (int)piVar4;
    piVar5 = (int *)FUN_1002e65a((uint)arg1);
    if (piVar5 != (int *)0x0) break;
    uVar7 = uVar7 >> 1;
    if (uVar7 < 0x32) {
      FUN_1002317a(iVar8,2);
    }
  }
  piVar1 = (int *)(iVar3 + 0x48);
  *piVar1 = (int)piVar4 + *piVar1 + uVar7;
  *piVar5 = 0;
  piVar5[1] = 0;
  piVar5[2] = uVar7 + (int)piVar6;
  if (arg3 == (int *)0x0) {
    arg3 = piVar2;
  }
  *arg3 = (int)piVar5;
LAB_10023275:
  iVar3 = piVar5[1];
  piVar5[2] = piVar5[2] - (int)piVar6;
  piVar5[1] = iVar3 + (int)piVar6;
  return (void *)(iVar3 + 0x10 + (int)piVar5);
}



/* FUN_1002328b @ 1002328b */

/* [binja] void* sub_1002328b(uint32_t arg1, int32_t arg2, int32_t arg3) */

void * __thiscall FUN_1002328b(void *this,uint arg1,int arg2,int arg3)

{
  int *piVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  int iVar6;
  
  iVar3 = *(int *)(arg1 + 4);
  if (0x3b9ac9f0 < (uint)arg3) {
    FUN_1002317a(this,3);
  }
  if ((arg3 & 7U) != 0) {
    arg3 = arg3 + (8 - (arg3 & 7U));
  }
  if ((arg2 < 0) || (1 < arg2)) {
    *(undefined4 *)(*(int *)arg1 + 0x14) = 0xc;
    *(int *)(*(int *)arg1 + 0x18) = arg2;
    (*(code *)**(undefined4 **)arg1)(arg1);
  }
  iVar6 = arg3 + 0x10;
  puVar5 = (undefined4 *)FUN_1002e65a(arg1);
  if (puVar5 == (undefined4 *)0x0) {
    FUN_1002317a(iVar6,4);
  }
  piVar1 = (int *)(iVar3 + 0x48);
  *piVar1 = *piVar1 + arg3 + 0x10;
  puVar2 = (undefined4 *)(iVar3 + 0x38 + arg2 * 4);
  uVar4 = *puVar2;
  puVar5[2] = 0;
  puVar5[1] = arg3;
  *puVar5 = uVar4;
  *puVar2 = puVar5;
  return puVar5 + 4;
}



/* FUN_10023319 @ 10023319 */

int __cdecl FUN_10023319(int *param_1,int param_2,uint param_3,uint param_4)

{
  int iVar1;
  uint uVar2;
  void *pvVar3;
  void *pvVar4;
  int *this;
  void *extraout_ECX;
  void *this_00;
  void *extraout_ECX_00;
  uint uVar5;
  uint uVar6;
  
  uVar2 = (uint)(0x3b9ac9f0 / (ulonglong)param_3);
  iVar1 = param_1[1];
  this = param_1;
  if (uVar2 == 0) {
    *(undefined4 *)(*param_1 + 0x14) = 0x45;
    (**(code **)*param_1)();
  }
  if ((int)param_4 <= (int)uVar2) {
    uVar2 = param_4;
  }
  *(uint *)(iVar1 + 0x4c) = uVar2;
  pvVar3 = FUN_1002318f(this,param_1,(int *)param_2,(int *)(param_4 << 2));
  uVar6 = 0;
  this_00 = extraout_ECX;
  if (param_4 != 0) {
    do {
      if (param_4 - uVar6 <= uVar2) {
        uVar2 = param_4 - uVar6;
      }
      pvVar4 = FUN_1002328b(this_00,(uint)param_1,param_2,uVar2 * param_3);
      this_00 = extraout_ECX_00;
      for (uVar5 = uVar2; uVar5 != 0; uVar5 = uVar5 - 1) {
        *(void **)((int)pvVar3 + uVar6 * 4) = pvVar4;
        pvVar4 = (void *)((int)pvVar4 + param_3);
        uVar6 = uVar6 + 1;
        this_00 = (void *)0x0;
      }
    } while (uVar6 < param_4);
  }
  return (int)pvVar3;
}



/* FUN_100233ab @ 100233ab */

int __cdecl FUN_100233ab(int *param_1,int param_2,int param_3,uint param_4)

{
  int iVar1;
  uint uVar2;
  void *pvVar3;
  void *pvVar4;
  int *piVar5;
  int *this;
  void *extraout_ECX;
  void *this_00;
  void *extraout_ECX_00;
  uint uVar6;
  uint uVar7;
  
  piVar5 = (int *)(param_3 * 0x80);
  uVar2 = (uint)(0x3b9ac9f0 / ZEXT48(piVar5));
  iVar1 = param_1[1];
  this = piVar5;
  if (uVar2 == 0) {
    *(undefined4 *)(*param_1 + 0x14) = 0x45;
    this = param_1;
    (**(code **)*param_1)();
  }
  if ((int)param_4 <= (int)uVar2) {
    uVar2 = param_4;
  }
  *(uint *)(iVar1 + 0x4c) = uVar2;
  pvVar3 = FUN_1002318f(this,param_1,(int *)param_2,(int *)(param_4 << 2));
  uVar7 = 0;
  this_00 = extraout_ECX;
  if (param_4 != 0) {
    do {
      if (param_4 - uVar7 <= uVar2) {
        uVar2 = param_4 - uVar7;
      }
      pvVar4 = FUN_1002328b(this_00,(uint)param_1,param_2,uVar2 * param_3 * 0x80);
      this_00 = extraout_ECX_00;
      for (uVar6 = uVar2; uVar6 != 0; uVar6 = uVar6 - 1) {
        *(void **)((int)pvVar3 + uVar7 * 4) = pvVar4;
        pvVar4 = (void *)((int)pvVar4 + (int)piVar5);
        uVar7 = uVar7 + 1;
        this_00 = (void *)0x0;
      }
    } while (uVar7 < param_4);
  }
  return (int)pvVar3;
}



/* FUN_10023449 @ 10023449 */

/* [binja] void* sub_10023449(int32_t* arg1, int32_t* arg2, char arg3, int32_t arg4, int32_t arg5,
   int32_t arg6) */

void * __thiscall FUN_10023449(void *this,int *arg1,int *arg2,char arg3,int arg4,int arg5,int arg6)

{
  int iVar1;
  undefined4 *puVar2;
  
  iVar1 = arg1[1];
  if (arg2 != (int *)0x1) {
    *(undefined4 *)(*arg1 + 0x14) = 0xc;
    *(int **)(*arg1 + 0x18) = arg2;
    this = arg1;
    (**(code **)*arg1)();
  }
  puVar2 = FUN_1002318f(this,arg1,arg2,(int *)0x78);
  *puVar2 = 0;
  puVar2[1] = arg5;
  puVar2[2] = arg4;
  puVar2[3] = arg6;
  *(undefined1 *)((int)puVar2 + 0x22) = 0;
  *(char *)(puVar2 + 8) = arg3;
  puVar2[9] = *(undefined4 *)(iVar1 + 0x40);
  *(undefined4 **)(iVar1 + 0x40) = puVar2;
  return puVar2;
}



/* FUN_100234aa @ 100234aa */

/* [binja] void* sub_100234aa(int32_t* arg1, int32_t* arg2, char arg3, int32_t arg4, int32_t arg5,
   int32_t arg6) */

void * __thiscall FUN_100234aa(void *this,int *arg1,int *arg2,char arg3,int arg4,int arg5,int arg6)

{
  int iVar1;
  undefined4 *puVar2;
  
  iVar1 = arg1[1];
  if (arg2 != (int *)0x1) {
    *(undefined4 *)(*arg1 + 0x14) = 0xc;
    *(int **)(*arg1 + 0x18) = arg2;
    this = arg1;
    (**(code **)*arg1)();
  }
  puVar2 = FUN_1002318f(this,arg1,arg2,(int *)0x78);
  *puVar2 = 0;
  puVar2[1] = arg5;
  puVar2[2] = arg4;
  puVar2[3] = arg6;
  *(undefined1 *)((int)puVar2 + 0x22) = 0;
  *(char *)(puVar2 + 8) = arg3;
  puVar2[9] = *(undefined4 *)(iVar1 + 0x44);
  *(undefined4 **)(iVar1 + 0x44) = puVar2;
  return puVar2;
}



/* FUN_1002350b @ 1002350b */

void __cdecl FUN_1002350b(int *param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int local_8;
  
  iVar1 = param_1[1];
  iVar4 = 0;
  iVar3 = 0;
  for (piVar2 = *(int **)(iVar1 + 0x40); piVar2 != (int *)0x0; piVar2 = (int *)piVar2[9]) {
    if (*piVar2 == 0) {
      iVar4 = iVar4 + piVar2[3] * piVar2[2];
      iVar3 = iVar3 + piVar2[1] * piVar2[2];
    }
  }
  for (piVar2 = *(int **)(iVar1 + 0x44); piVar2 != (int *)0x0; piVar2 = (int *)piVar2[9]) {
    if (*piVar2 == 0) {
      iVar4 = iVar4 + piVar2[3] * piVar2[2] * 0x80;
      iVar3 = iVar3 + piVar2[1] * piVar2[2] * 0x80;
    }
  }
  if (0 < iVar4) {
    local_8 = FUN_1002e670((int)param_1);
    if (local_8 < iVar3) {
      local_8 = local_8 / iVar4;
      if (local_8 < 1) {
        local_8 = 1;
      }
    }
    else {
      local_8 = 1000000000;
    }
    for (piVar2 = *(int **)(iVar1 + 0x40); piVar2 != (int *)0x0; piVar2 = (int *)piVar2[9]) {
      if (*piVar2 == 0) {
        if (local_8 < (int)((piVar2[1] - 1U) / (uint)piVar2[3] + 1)) {
          piVar2[4] = piVar2[3] * local_8;
          FUN_1002e675(param_1);
          *(undefined1 *)((int)piVar2 + 0x22) = 1;
        }
        else {
          piVar2[4] = piVar2[1];
        }
        iVar3 = FUN_10023319(param_1,1,piVar2[2],piVar2[4]);
        *piVar2 = iVar3;
        iVar3 = *(int *)(iVar1 + 0x4c);
        piVar2[6] = 0;
        piVar2[7] = 0;
        *(undefined1 *)((int)piVar2 + 0x21) = 0;
        piVar2[5] = iVar3;
      }
    }
    for (piVar2 = *(int **)(iVar1 + 0x44); piVar2 != (int *)0x0; piVar2 = (int *)piVar2[9]) {
      if (*piVar2 == 0) {
        if (local_8 < (int)((piVar2[1] - 1U) / (uint)piVar2[3] + 1)) {
          piVar2[4] = piVar2[3] * local_8;
          FUN_1002e675(param_1);
          *(undefined1 *)((int)piVar2 + 0x22) = 1;
        }
        else {
          piVar2[4] = piVar2[1];
        }
        iVar3 = FUN_100233ab(param_1,1,piVar2[2],piVar2[4]);
        *piVar2 = iVar3;
        iVar3 = *(int *)(iVar1 + 0x4c);
        piVar2[6] = 0;
        piVar2[7] = 0;
        *(undefined1 *)((int)piVar2 + 0x21) = 0;
        piVar2[5] = iVar3;
      }
    }
  }
  return;
}



/* FUN_1002368a @ 1002368a */

void __cdecl FUN_1002368a(undefined4 param_1,char param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int *unaff_ESI;
  int iVar5;
  
  iVar1 = unaff_ESI[2];
  iVar4 = unaff_ESI[6] * iVar1;
  iVar3 = unaff_ESI[4];
  iVar5 = 0;
  if (0 < iVar3) {
    do {
      iVar2 = iVar3 - iVar5;
      if (unaff_ESI[5] < iVar3 - iVar5) {
        iVar2 = unaff_ESI[5];
      }
      iVar3 = unaff_ESI[7] - (unaff_ESI[6] + iVar5);
      if (iVar3 <= iVar2) {
        iVar2 = iVar3;
      }
      iVar3 = unaff_ESI[1] - (unaff_ESI[6] + iVar5);
      if (iVar3 <= iVar2) {
        iVar2 = iVar3;
      }
      if (iVar2 < 1) {
        return;
      }
      iVar2 = iVar2 * iVar1;
      if (param_2 == '\0') {
        (*(code *)unaff_ESI[10])
                  (param_1,unaff_ESI + 10,*(undefined4 *)(*unaff_ESI + iVar5 * 4),iVar4,iVar2);
      }
      else {
        (*(code *)unaff_ESI[0xb])(param_1,unaff_ESI + 10,*(undefined4 *)(*unaff_ESI + iVar5 * 4));
      }
      iVar5 = iVar5 + unaff_ESI[5];
      iVar3 = unaff_ESI[4];
      iVar4 = iVar4 + iVar2;
    } while (iVar5 < iVar3);
  }
  return;
}



/* FUN_10023712 @ 10023712 */

void __cdecl FUN_10023712(undefined4 param_1,char param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int *unaff_ESI;
  int iVar5;
  
  iVar1 = unaff_ESI[2];
  iVar4 = unaff_ESI[6] * iVar1 * 0x80;
  iVar3 = unaff_ESI[4];
  iVar5 = 0;
  if (0 < iVar3) {
    do {
      iVar2 = iVar3 - iVar5;
      if (unaff_ESI[5] < iVar3 - iVar5) {
        iVar2 = unaff_ESI[5];
      }
      iVar3 = unaff_ESI[7] - (unaff_ESI[6] + iVar5);
      if (iVar3 <= iVar2) {
        iVar2 = iVar3;
      }
      iVar3 = unaff_ESI[1] - (unaff_ESI[6] + iVar5);
      if (iVar3 <= iVar2) {
        iVar2 = iVar3;
      }
      if (iVar2 < 1) {
        return;
      }
      iVar2 = iVar2 * iVar1 * 0x80;
      if (param_2 == '\0') {
        (*(code *)unaff_ESI[10])
                  (param_1,unaff_ESI + 10,*(undefined4 *)(*unaff_ESI + iVar5 * 4),iVar4,iVar2);
      }
      else {
        (*(code *)unaff_ESI[0xb])(param_1,unaff_ESI + 10,*(undefined4 *)(*unaff_ESI + iVar5 * 4));
      }
      iVar5 = iVar5 + unaff_ESI[5];
      iVar3 = unaff_ESI[4];
      iVar4 = iVar4 + iVar2;
    } while (iVar5 < iVar3);
  }
  return;
}



/* FUN_1002379d @ 1002379d */

int __cdecl FUN_1002379d(int *param_1,int *param_2,uint param_3,uint param_4,char param_5)

{
  uint uVar1;
  uint size;
  int iVar2;
  uint uVar3;
  
  uVar1 = param_3 + param_4;
  if ((((uint)param_2[1] < uVar1) || ((uint)param_2[3] < param_4)) || (*param_2 == 0)) {
    *(undefined4 *)(*param_1 + 0x14) = 0x14;
    (**(code **)*param_1)(param_1);
  }
  if ((param_3 < (uint)param_2[6]) || ((uint)(param_2[4] + param_2[6]) < uVar1)) {
    if (*(char *)((int)param_2 + 0x22) == '\0') {
      *(undefined4 *)(*param_1 + 0x14) = 0x44;
      (**(code **)*param_1)(param_1);
    }
    if (*(char *)((int)param_2 + 0x21) != '\0') {
      FUN_1002368a(param_1,'\x01');
      *(undefined1 *)((int)param_2 + 0x21) = 0;
    }
    uVar3 = param_3;
    if ((param_3 <= (uint)param_2[6]) && (uVar3 = uVar1 - param_2[4], (int)uVar3 < 0)) {
      uVar3 = 0;
    }
    param_2[6] = uVar3;
    FUN_1002368a(param_1,'\0');
  }
  uVar3 = param_2[7];
  if (uVar3 < uVar1) {
    if ((uVar3 < param_3) && (uVar3 = param_3, param_5 != '\0')) {
      *(undefined4 *)(*param_1 + 0x14) = 0x14;
      (**(code **)*param_1)(param_1);
    }
    if (param_5 != '\0') {
      param_2[7] = uVar1;
    }
    if ((char)param_2[8] != '\0') {
      size = param_2[2];
      iVar2 = param_2[6];
      for (uVar3 = uVar3 - iVar2; uVar3 < uVar1 - iVar2; uVar3 = uVar3 + 1) {
        memzero(*(void **)(*param_2 + uVar3 * 4),size);
      }
      goto LAB_100238a1;
    }
    if (param_5 == '\0') {
      *(undefined4 *)(*param_1 + 0x14) = 0x14;
      (**(code **)*param_1)(param_1);
      goto LAB_100238a1;
    }
  }
  else {
LAB_100238a1:
    if (param_5 == '\0') goto LAB_100238ab;
  }
  *(undefined1 *)((int)param_2 + 0x21) = 1;
LAB_100238ab:
  return *param_2 + (param_3 - param_2[6]) * 4;
}



/* FUN_100238bb @ 100238bb */

int __cdecl FUN_100238bb(int *param_1,int *param_2,uint param_3,uint param_4,char param_5)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  uVar1 = param_3 + param_4;
  if ((((uint)param_2[1] < uVar1) || ((uint)param_2[3] < param_4)) || (*param_2 == 0)) {
    *(undefined4 *)(*param_1 + 0x14) = 0x14;
    (**(code **)*param_1)(param_1);
  }
  if ((param_3 < (uint)param_2[6]) || ((uint)(param_2[4] + param_2[6]) < uVar1)) {
    if (*(char *)((int)param_2 + 0x22) == '\0') {
      *(undefined4 *)(*param_1 + 0x14) = 0x44;
      (**(code **)*param_1)(param_1);
    }
    if (*(char *)((int)param_2 + 0x21) != '\0') {
      FUN_10023712(param_1,'\x01');
      *(undefined1 *)((int)param_2 + 0x21) = 0;
    }
    if ((uint)param_2[6] < param_3) {
      param_2[6] = param_3;
    }
    else {
      iVar3 = uVar1 - param_2[4];
      if (iVar3 < 0) {
        iVar3 = 0;
      }
      param_2[6] = iVar3;
    }
    FUN_10023712(param_1,'\0');
  }
  uVar4 = param_2[7];
  if (uVar4 < uVar1) {
    if ((uVar4 < param_3) && (uVar4 = param_3, param_5 != '\0')) {
      *(undefined4 *)(*param_1 + 0x14) = 0x14;
      (**(code **)*param_1)(param_1);
    }
    if (param_5 != '\0') {
      param_2[7] = uVar1;
    }
    if ((char)param_2[8] != '\0') {
      iVar3 = param_2[6];
      iVar2 = param_2[2];
      for (uVar4 = uVar4 - iVar3; uVar4 < uVar1 - iVar3; uVar4 = uVar4 + 1) {
        memzero(*(void **)(*param_2 + uVar4 * 4),iVar2 << 7);
      }
      goto LAB_100239c4;
    }
    if (param_5 == '\0') {
      *(undefined4 *)(*param_1 + 0x14) = 0x14;
      (**(code **)*param_1)(param_1);
      goto LAB_100239c4;
    }
  }
  else {
LAB_100239c4:
    if (param_5 == '\0') goto LAB_100239ce;
  }
  *(undefined1 *)((int)param_2 + 0x21) = 1;
LAB_100239ce:
  return *param_2 + (param_3 - param_2[6]) * 4;
}



/* FUN_100239de @ 100239de */

void __cdecl FUN_100239de(int *param_1,int param_2)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  int iVar5;
  
  iVar1 = param_1[1];
  if ((param_2 < 0) || (1 < param_2)) {
    *(undefined4 *)(*param_1 + 0x14) = 0xc;
    *(int *)(*param_1 + 0x18) = param_2;
    (**(code **)*param_1)(param_1);
  }
  if (param_2 == 1) {
    for (iVar5 = *(int *)(iVar1 + 0x40); iVar5 != 0; iVar5 = *(int *)(iVar5 + 0x24)) {
      if (*(char *)(iVar5 + 0x22) != '\0') {
        *(undefined1 *)(iVar5 + 0x22) = 0;
        (**(code **)(iVar5 + 0x30))(param_1,iVar5 + 0x28);
      }
    }
    *(undefined4 *)(iVar1 + 0x40) = 0;
    for (iVar5 = *(int *)(iVar1 + 0x44); iVar5 != 0; iVar5 = *(int *)(iVar5 + 0x24)) {
      if (*(char *)(iVar5 + 0x22) != '\0') {
        *(undefined1 *)(iVar5 + 0x22) = 0;
        (**(code **)(iVar5 + 0x30))(param_1,iVar5 + 0x28);
      }
    }
    *(undefined4 *)(iVar1 + 0x44) = 0;
  }
  puVar2 = *(undefined4 **)(iVar1 + 0x38 + param_2 * 4);
  *(undefined4 *)(iVar1 + 0x38 + param_2 * 4) = 0;
  while (puVar2 != (undefined4 *)0x0) {
    iVar5 = puVar2[2];
    iVar3 = puVar2[1];
    puVar4 = (undefined4 *)*puVar2;
    zcfree(param_1,puVar2);
    *(int *)(iVar1 + 0x48) = *(int *)(iVar1 + 0x48) - (iVar5 + 0x10 + iVar3);
    puVar2 = puVar4;
  }
  puVar2 = (undefined4 *)(iVar1 + 0x30 + param_2 * 4);
  puVar4 = (undefined4 *)*puVar2;
  *puVar2 = 0;
  while (puVar4 != (undefined4 *)0x0) {
    iVar5 = puVar4[2];
    iVar3 = puVar4[1];
    puVar2 = (undefined4 *)*puVar4;
    zcfree(param_1,puVar4);
    *(int *)(iVar1 + 0x48) = *(int *)(iVar1 + 0x48) - (iVar5 + 0x10 + iVar3);
    puVar4 = puVar2;
  }
  return;
}



/* FUN_10023abf @ 10023abf */

void __cdecl FUN_10023abf(int *param_1)

{
  int iVar1;
  
  iVar1 = 1;
  do {
    FUN_100239de(param_1,iVar1);
    iVar1 = iVar1 + -1;
  } while (-1 < iVar1);
  zcfree(param_1,(voidpf)param_1[1]);
  param_1[1] = 0;
  FUN_10016c3b();
  return;
}



/* FUN_10023aef @ 10023aef */

void __cdecl FUN_10023aef(int *param_1)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  int *piVar5;
  
  param_1[1] = 0;
  uVar1 = FUN_1002e689();
  puVar2 = (undefined4 *)FUN_1002e65a((uint)param_1);
  if (puVar2 == (undefined4 *)0x0) {
    piVar5 = param_1;
    FUN_10016c3b();
    *(undefined4 *)(*param_1 + 0x14) = 0x35;
    *(undefined4 *)(*param_1 + 0x18) = 0;
    (**(code **)*param_1)(param_1,piVar5);
  }
  else {
    *puVar2 = FUN_1002318f;
    puVar2[1] = FUN_1002328b;
    puVar2[2] = FUN_10023319;
    puVar2[3] = FUN_100233ab;
    puVar2[4] = FUN_10023449;
    puVar2[5] = FUN_100234aa;
    puVar2[6] = FUN_1002350b;
    puVar2[7] = FUN_1002379d;
    puVar2[8] = FUN_100238bb;
    puVar2[9] = FUN_100239de;
    puVar2[10] = FUN_10023abf;
    puVar2[0xb] = uVar1;
    puVar3 = puVar2 + 0xf;
    iVar4 = 2;
    do {
      puVar3[-2] = 0;
      *puVar3 = 0;
      puVar3 = puVar3 + -1;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
    puVar2[0x10] = 0;
    puVar2[0x11] = 0;
    puVar2[0x12] = 0x50;
    param_1[1] = (int)puVar2;
  }
  return;
}



/* FUN_10023ba3 @ 10023ba3 */

void __cdecl FUN_10023ba3(int param_1)

{
  (**(code **)(*(int *)(param_1 + 4) + 0x24))(param_1,1);
  *(uint *)(param_1 + 0x10) = (-(uint)(*(char *)(param_1 + 0xc) != '\0') & 100) + 100;
  return;
}



/* FUN_10023bc5 @ 10023bc5 */

void __cdecl FUN_10023bc5(int param_1)

{
  if (*(int *)(param_1 + 4) != 0) {
    (**(code **)(*(int *)(param_1 + 4) + 0x28))(param_1);
  }
  *(undefined4 *)(param_1 + 4) = 0;
  *(undefined4 *)(param_1 + 0x10) = 0;
  return;
}



/* FUN_10023be0 @ 10023be0 */

void __cdecl FUN_10023be0(int param_1)

{
  int iVar1;
  
  iVar1 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x82);
  *(undefined1 *)(iVar1 + 0x80) = 0;
  return;
}



/* FUN_10023bfc @ 10023bfc */

void __cdecl FUN_10023bfc(int param_1)

{
  int iVar1;
  
  iVar1 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x112);
  *(undefined1 *)(iVar1 + 0x111) = 0;
  return;
}



/* FUN_10023c18 @ 10023c18 */

/* [binja] int32_t __fastcall sub_10023c18(int32_t arg1, void* arg2) */

int __fastcall FUN_10023c18(int arg1,void *arg2)

{
  int iVar1;
  int iVar2;
  uint in_EAX;
  
  if (((((*(char *)((int)arg2 + 0x48) != '\0') || (*(char *)((int)arg2 + 0x108) != '\0')) ||
       (*(int *)((int)arg2 + 0x24) != 3)) ||
      (((*(int *)((int)arg2 + 0x20) != 3 || (*(int *)((int)arg2 + 0x28) != 2)) ||
       ((*(int *)((int)arg2 + 100) != 3 ||
        ((iVar1 = *(int *)((int)arg2 + 0xc4), *(int *)(iVar1 + 8) != 2 ||
         (in_EAX = 1, *(int *)(iVar1 + 0x5c) != 1)))))))) ||
     ((*(int *)(iVar1 + 0xb0) != 1 ||
      (((((2 < *(int *)(iVar1 + 0xc) || (*(int *)(iVar1 + 0x60) != 1)) ||
         (*(int *)(iVar1 + 0xb4) != 1)) ||
        ((iVar2 = *(int *)((int)arg2 + 0x114), *(int *)(iVar1 + 0x24) != iVar2 ||
         (*(int *)(iVar1 + 0x78) != iVar2)))) || (*(int *)(iVar1 + 0xcc) != iVar2)))))) {
    in_EAX = in_EAX & 0xffffff00;
  }
  return in_EAX;
}



/* FUN_10023c89 @ 10023c89 */

void __cdecl FUN_10023c89(int *param_1)

{
  uint uVar1;
  int *piVar2;
  int *arg2;
  int iVar3;
  int *piVar4;
  int iVar5;
  int local_8;
  
  arg2 = param_1;
  if (param_1[4] != 0xca) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  iVar3 = param_1[0xb];
  uVar1 = param_1[0xc];
  if (uVar1 < (uint)(iVar3 << 3)) {
    if (uVar1 < (uint)(iVar3 << 2)) {
      if (uVar1 < (uint)(iVar3 * 2)) {
        param_1[0x17] = param_1[6];
        iVar3 = param_1[7];
        param_1[0x45] = 8;
      }
      else {
        iVar3 = FUN_10022b83(param_1[6],2);
        param_1[0x17] = iVar3;
        iVar3 = FUN_10022b83(param_1[7],2);
        param_1[0x45] = 4;
      }
    }
    else {
      iVar3 = FUN_10022b83(param_1[6],4);
      param_1[0x17] = iVar3;
      iVar3 = FUN_10022b83(param_1[7],4);
      param_1[0x45] = 2;
    }
  }
  else {
    iVar3 = FUN_10022b83(param_1[6],8);
    param_1[0x17] = iVar3;
    iVar3 = FUN_10022b83(param_1[7],8);
    param_1[0x45] = 1;
  }
  local_8 = 0;
  param_1[0x18] = iVar3;
  if (0 < param_1[8]) {
    piVar4 = (int *)(param_1[0x31] + 0xc);
    do {
      piVar2 = (int *)arg2[0x45];
      param_1 = piVar2;
      if ((int)piVar2 < 8) {
        do {
          iVar3 = piVar4[-1] * (int)param_1 * 2;
          if ((iVar3 - arg2[0x43] * (int)piVar2 != 0 && arg2[0x43] * (int)piVar2 <= iVar3) ||
             (iVar3 = *piVar4 * (int)param_1 * 2,
             iVar3 - arg2[0x44] * (int)piVar2 != 0 && arg2[0x44] * (int)piVar2 <= iVar3)) break;
          param_1 = (int *)((int)param_1 * 2);
        } while ((int)param_1 < 8);
      }
      local_8 = local_8 + 1;
      piVar4[6] = (int)param_1;
      piVar4 = piVar4 + 0x15;
    } while (local_8 < arg2[8]);
  }
  iVar3 = 0;
  if (0 < arg2[8]) {
    piVar4 = (int *)(arg2[0x31] + 0x24);
    do {
      iVar5 = FUN_10022b83(piVar4[-7] * *piVar4 * arg2[6],arg2[0x43] << 3);
      piVar4[1] = iVar5;
      iVar5 = FUN_10022b83(piVar4[-6] * arg2[7] * *piVar4,arg2[0x44] << 3);
      piVar4[2] = iVar5;
      iVar3 = iVar3 + 1;
      piVar4 = piVar4 + 0x15;
    } while (iVar3 < arg2[8]);
  }
  iVar3 = arg2[10];
  iVar5 = 1;
  if (iVar3 == 1) {
LAB_10023e44:
    arg2[0x19] = iVar5;
  }
  else {
    if (1 < iVar3) {
      iVar5 = 3;
      if (iVar3 < 4) goto LAB_10023e44;
      if (iVar3 < 6) {
        arg2[0x19] = 4;
        goto LAB_10023e47;
      }
    }
    arg2[0x19] = arg2[8];
  }
LAB_10023e47:
  if (*(char *)((int)arg2 + 0x4a) == '\0') {
    iVar3 = arg2[0x19];
  }
  else {
    iVar3 = 1;
  }
  arg2[0x1a] = iVar3;
  iVar3 = FUN_10023c18(iVar5,arg2);
  if ((char)iVar3 == '\0') {
    arg2[0x1b] = 1;
  }
  else {
    arg2[0x1b] = arg2[0x44];
  }
  return;
}



/* FUN_10023e78 @ 10023e78 */

void FUN_10023e78(void)

{
  int in_EAX;
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(in_EAX + 4))();
  iVar2 = 0;
  *(undefined4 **)(in_EAX + 0x11c) = puVar1 + 0x40;
  puVar4 = puVar1;
  for (iVar3 = 0x40; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar4 = 0;
    puVar4 = puVar4 + 1;
  }
  do {
    *(char *)(iVar2 + (int)(puVar1 + 0x40)) = (char)iVar2;
    iVar2 = iVar2 + 1;
  } while (iVar2 < 0x100);
  puVar4 = puVar1 + 0x80;
  for (iVar3 = 0x60; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar4 = 0xffffffff;
    puVar4 = puVar4 + 1;
  }
  puVar4 = puVar1 + 0xe0;
  for (iVar3 = 0x60; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar4 = 0;
    puVar4 = puVar4 + 1;
  }
  puVar4 = *(undefined4 **)(in_EAX + 0x11c);
  puVar1 = puVar1 + 0x140;
  for (iVar3 = 0x20; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar1 = puVar1 + 1;
  }
  return;
}



/* FUN_10023ee7 @ 10023ee7 */

void FUN_10023ee7(void)

{
  int iVar1;
  int iVar2;
  int arg1;
  int *unaff_ESI;
  char local_8;
  
  iVar1 = unaff_ESI[0x5f];
  FUN_10023c89(unaff_ESI);
  FUN_10023e78();
  *(undefined4 *)(iVar1 + 0xc) = 0;
  iVar2 = FUN_10023c18(arg1,unaff_ESI);
  *(char *)(iVar1 + 0x10) = (char)iVar2;
  *(undefined4 *)(iVar1 + 0x14) = 0;
  *(undefined4 *)(iVar1 + 0x18) = 0;
  if ((*(char *)((int)unaff_ESI + 0x4a) == '\0') || ((char)unaff_ESI[0x10] == '\0')) {
    *(undefined1 *)(unaff_ESI + 0x16) = 0;
    *(undefined1 *)((int)unaff_ESI + 0x59) = 0;
    *(undefined1 *)((int)unaff_ESI + 0x5a) = 0;
  }
  if (*(char *)((int)unaff_ESI + 0x4a) == '\0') goto LAB_10023f85;
  if (*(char *)((int)unaff_ESI + 0x41) != '\0') {
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x2e;
    (**(code **)*unaff_ESI)();
  }
  if (unaff_ESI[0x19] == 3) {
    if (unaff_ESI[0x1d] == 0) {
      if ((char)unaff_ESI[0x14] == '\0') goto LAB_10023f52;
      *(undefined1 *)((int)unaff_ESI + 0x5a) = 1;
    }
    else {
      *(undefined1 *)((int)unaff_ESI + 0x59) = 1;
    }
  }
  else {
    *(undefined1 *)((int)unaff_ESI + 0x59) = 0;
    *(undefined1 *)((int)unaff_ESI + 0x5a) = 0;
    unaff_ESI[0x1d] = 0;
LAB_10023f52:
    *(undefined1 *)(unaff_ESI + 0x16) = 1;
  }
  if ((char)unaff_ESI[0x16] != '\0') {
    FUN_10033e84(unaff_ESI);
    *(int *)(iVar1 + 0x14) = unaff_ESI[0x69];
  }
  if ((*(char *)((int)unaff_ESI + 0x5a) != '\0') || (*(char *)((int)unaff_ESI + 0x59) != '\0')) {
    FUN_100333f2(unaff_ESI);
    *(int *)(iVar1 + 0x18) = unaff_ESI[0x69];
  }
LAB_10023f85:
  if (*(char *)((int)unaff_ESI + 0x41) == '\0') {
    if (*(char *)(iVar1 + 0x10) == '\0') {
      FUN_10031e84(unaff_ESI);
      FUN_100316f9(unaff_ESI);
    }
    else {
      FUN_1003247d((int)unaff_ESI);
    }
    FUN_1003123a((int)unaff_ESI,*(char *)((int)unaff_ESI + 0x5a));
  }
  FUN_10030f9f(unaff_ESI);
  if (*(char *)((int)unaff_ESI + 0xc9) == '\0') {
    if ((char)unaff_ESI[0x32] == '\0') {
      FUN_100301d9((int)unaff_ESI);
    }
    else {
      FUN_10030d87((int)unaff_ESI);
    }
  }
  else {
    *(undefined4 *)(*unaff_ESI + 0x14) = 1;
    (**(code **)*unaff_ESI)();
  }
  if ((*(char *)(unaff_ESI[99] + 0x10) != '\0') || (local_8 = '\0', (char)unaff_ESI[0x10] != '\0'))
  {
    local_8 = '\x01';
  }
  FUN_1002f809((int)unaff_ESI,local_8);
  if (*(char *)((int)unaff_ESI + 0x41) == '\0') {
    FUN_1002ebca(unaff_ESI,'\0');
  }
  (**(code **)(unaff_ESI[1] + 0x18))();
  (**(code **)(unaff_ESI[99] + 8))();
  if (((unaff_ESI[2] != 0) && ((char)unaff_ESI[0x10] == '\0')) &&
     (*(char *)(unaff_ESI[99] + 0x10) != '\0')) {
    iVar2 = unaff_ESI[8];
    if ((char)unaff_ESI[0x32] != '\0') {
      iVar2 = iVar2 * 3 + 2;
    }
    *(undefined4 *)(unaff_ESI[2] + 4) = 0;
    *(int *)(unaff_ESI[2] + 8) = unaff_ESI[0x46] * iVar2;
    *(undefined4 *)(unaff_ESI[2] + 0xc) = 0;
    *(uint *)(unaff_ESI[2] + 0x10) = (*(char *)((int)unaff_ESI + 0x5a) != '\0') + 2;
    *(int *)(iVar1 + 0xc) = *(int *)(iVar1 + 0xc) + 1;
  }
  return;
}



/* FUN_100241e2 @ 100241e2 */

void __cdecl FUN_100241e2(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x1c);
  *(undefined4 **)(param_1 + 0x17c) = puVar1;
  *(undefined1 *)(puVar1 + 2) = 0;
  *puVar1 = &LAB_10024094;
  puVar1[1] = &LAB_100241c1;
  FUN_10023ee7();
  return;
}



/* inflateReset @ 10024212 */

/* zlib: reset inflate state */

int __cdecl inflateReset(z_streamp strm)

{
  internal_state *piVar1;
  
  if ((strm != (z_streamp)0x0) && (piVar1 = strm->state, piVar1 != (internal_state *)0x0)) {
    strm->total_out = 0;
    strm->total_in = 0;
    strm->msg = (char *)0x0;
    piVar1->dummy = -(uint)(piVar1[3].dummy != 0) & 7;
    inflate_blocks_reset((void *)strm->state[5].dummy,strm,(uLongf *)0x0);
    return 0;
  }
  return -2;
}



/* inflateEnd @ 10024251 */

/* zlib: free inflate state */

int __cdecl inflateEnd(z_streamp strm)

{
  void *s;
  
  if (((strm != (z_streamp)0x0) && (strm->state != (internal_state *)0x0)) &&
     (strm->zfree != (free_func)0x0)) {
    s = (void *)strm->state[5].dummy;
    if (s != (void *)0x0) {
      inflate_blocks_free(s,strm);
    }
    (*strm->zfree)(strm->opaque,strm->state);
    strm->state = (internal_state *)0x0;
    return 0;
  }
  return -2;
}



/* inflateInit2_ @ 1002428f */

/* zlib: init inflate with window bits */

int __cdecl inflateInit2_(z_streamp strm,int windowBits,char *version,int stream_size)

{
  internal_state *piVar1;
  void *pvVar2;
  int iVar3;
  
  if (((version == (char *)0x0) || (*version != '1')) || (stream_size != 0x38)) {
    iVar3 = -6;
  }
  else if (strm == (z_streamp)0x0) {
    iVar3 = -2;
  }
  else {
    strm->msg = (char *)0x0;
    if (strm->zalloc == (alloc_func)0x0) {
      strm->zalloc = zcalloc;
      strm->opaque = (voidpf)0x0;
    }
    if (strm->zfree == (free_func)0x0) {
      strm->zfree = zcfree;
    }
    piVar1 = (*strm->zalloc)(strm->opaque,1,0x18);
    strm->state = piVar1;
    if (piVar1 == (internal_state *)0x0) {
      iVar3 = -4;
    }
    else {
      piVar1[5].dummy = 0;
      strm->state[3].dummy = 0;
      if (windowBits < 0) {
        windowBits = -windowBits;
        strm->state[3].dummy = 1;
      }
      if ((windowBits < 8) || (0xf < windowBits)) {
        iVar3 = -2;
      }
      else {
        strm->state[4].dummy = windowBits;
        pvVar2 = inflate_blocks_new(strm,(void *)(~-(uint)(strm->state[3].dummy != 0) & 0x100347d2),
                                    1 << ((byte)windowBits & 0x1f));
        strm->state[5].dummy = (int)pvVar2;
        if (strm->state[5].dummy != 0) {
          inflateReset(strm);
          return 0;
        }
        iVar3 = -4;
      }
      inflateEnd(strm);
    }
  }
  return iVar3;
}



/* inflateInit_ @ 10024374 */

/* zlib: init inflate (wrapper for inflateInit2_) */

int __cdecl inflateInit_(z_streamp strm,char *version,int stream_size)

{
  int iVar1;
  
  iVar1 = inflateInit2_(strm,0xf,version,stream_size);
  return iVar1;
}



/* inflate @ 1002438b */

/* zlib: inflate compressed data */

int __cdecl inflate(z_streamp strm,int flush)

{
  byte bVar1;
  int iVar2;
  internal_state *piVar3;
  int iVar4;
  
  if (((strm == (z_streamp)0x0) || (piVar3 = strm->state, piVar3 == (internal_state *)0x0)) ||
     (strm->next_in == (Bytef *)0x0)) {
LAB_100245c8:
    return -2;
  }
  iVar2 = -5;
  iVar4 = 0;
  if (flush == 4) {
    iVar4 = iVar2;
  }
LAB_100245bb:
  switch(piVar3->dummy) {
  case 0:
    if (strm->avail_in == 0) {
      return iVar2;
    }
    strm->total_in = strm->total_in + 1;
    strm->avail_in = strm->avail_in - 1;
    strm->state[1].dummy = (uint)*strm->next_in;
    piVar3 = strm->state;
    iVar2 = piVar3[1].dummy;
    strm->next_in = strm->next_in + 1;
    if (((byte)iVar2 & 0xf) == 8) {
      if (((uint)piVar3[1].dummy >> 4) + 8 <= (uint)piVar3[4].dummy) {
        piVar3->dummy = 1;
        iVar2 = iVar4;
        goto switchD_100243c8_caseD_1;
      }
      piVar3->dummy = 0xd;
      strm->msg = "invalid window size";
    }
    else {
      piVar3->dummy = 0xd;
      strm->msg = "unknown compression method";
    }
    goto LAB_100245ae;
  case 1:
switchD_100243c8_caseD_1:
    if (strm->avail_in == 0) {
      return iVar2;
    }
    piVar3 = strm->state;
    strm->total_in = strm->total_in + 1;
    strm->avail_in = strm->avail_in - 1;
    bVar1 = *strm->next_in;
    strm->next_in = strm->next_in + 1;
    if ((piVar3[1].dummy * 0x100 + (uint)bVar1) % 0x1f != 0) {
      piVar3->dummy = 0xd;
      strm->msg = "incorrect header check";
      goto LAB_100245ae;
    }
    if ((bVar1 & 0x20) != 0) {
      strm->state->dummy = 2;
      iVar2 = iVar4;
      goto switchD_100243c8_caseD_2;
    }
    piVar3->dummy = 7;
    iVar2 = iVar4;
    break;
  case 2:
switchD_100243c8_caseD_2:
    if (strm->avail_in == 0) {
      return iVar2;
    }
    strm->total_in = strm->total_in + 1;
    strm->avail_in = strm->avail_in - 1;
    strm->state[2].dummy = (uint)*strm->next_in << 0x18;
    strm->next_in = strm->next_in + 1;
    strm->state->dummy = 3;
    iVar2 = iVar4;
  case 3:
    goto switchD_100243c8_caseD_3;
  case 4:
    goto switchD_100243c8_caseD_4;
  case 5:
    goto switchD_100243c8_caseD_5;
  case 6:
    strm->state->dummy = 0xd;
    strm->msg = "need dictionary";
    strm->state[1].dummy = 0;
    return -2;
  case 7:
    iVar2 = inflate_blocks((void *)strm->state[5].dummy,strm,iVar2);
    if (iVar2 == -3) {
      strm->state->dummy = 0xd;
      strm->state[1].dummy = 0;
      iVar2 = -3;
    }
    else {
      if (iVar2 == 0) {
        iVar2 = iVar4;
      }
      if (iVar2 != 1) {
        return iVar2;
      }
      inflate_blocks_reset((void *)strm->state[5].dummy,strm,(uLongf *)(strm->state + 1));
      piVar3 = strm->state;
      if (piVar3[3].dummy == 0) {
        piVar3->dummy = 8;
        iVar2 = iVar4;
        goto switchD_100243c8_caseD_8;
      }
      piVar3->dummy = 0xc;
      iVar2 = iVar4;
    }
    break;
  case 8:
switchD_100243c8_caseD_8:
    if (strm->avail_in == 0) {
      return iVar2;
    }
    strm->total_in = strm->total_in + 1;
    strm->avail_in = strm->avail_in - 1;
    strm->state[2].dummy = (uint)*strm->next_in << 0x18;
    strm->next_in = strm->next_in + 1;
    strm->state->dummy = 9;
    iVar2 = iVar4;
  case 9:
    if (strm->avail_in == 0) {
      return iVar2;
    }
    strm->total_in = strm->total_in + 1;
    strm->avail_in = strm->avail_in - 1;
    strm->state[2].dummy = strm->state[2].dummy + (uint)*strm->next_in * 0x10000;
    strm->next_in = strm->next_in + 1;
    strm->state->dummy = 10;
    iVar2 = iVar4;
  case 10:
    goto switchD_100243c8_caseD_a;
  case 0xb:
    goto switchD_100243c8_caseD_b;
  case 0xc:
    goto LAB_100245c8;
  case 0xd:
    return -3;
  default:
    goto LAB_100245c8;
  }
LAB_100245b8:
  piVar3 = strm->state;
  goto LAB_100245bb;
switchD_100243c8_caseD_a:
  if (strm->avail_in == 0) {
    return iVar2;
  }
  strm->total_in = strm->total_in + 1;
  strm->avail_in = strm->avail_in - 1;
  strm->state[2].dummy = strm->state[2].dummy + (uint)*strm->next_in * 0x100;
  strm->next_in = strm->next_in + 1;
  strm->state->dummy = 0xb;
  iVar2 = iVar4;
switchD_100243c8_caseD_b:
  if (strm->avail_in == 0) {
    return iVar2;
  }
  strm->total_in = strm->total_in + 1;
  strm->avail_in = strm->avail_in - 1;
  strm->state[2].dummy = strm->state[2].dummy + (uint)*strm->next_in;
  piVar3 = strm->state;
  strm->next_in = strm->next_in + 1;
  if (piVar3[1].dummy == piVar3[2].dummy) {
    strm->state->dummy = 0xc;
LAB_100245c8:
    return 1;
  }
  piVar3->dummy = 0xd;
  strm->msg = "incorrect data check";
LAB_100245ae:
  strm->state[1].dummy = 5;
  iVar2 = iVar4;
  goto LAB_100245b8;
switchD_100243c8_caseD_3:
  if (strm->avail_in == 0) {
    return iVar2;
  }
  strm->total_in = strm->total_in + 1;
  strm->avail_in = strm->avail_in - 1;
  strm->state[2].dummy = strm->state[2].dummy + (uint)*strm->next_in * 0x10000;
  strm->next_in = strm->next_in + 1;
  strm->state->dummy = 4;
  iVar2 = iVar4;
switchD_100243c8_caseD_4:
  if (strm->avail_in == 0) {
    return iVar2;
  }
  strm->total_in = strm->total_in + 1;
  strm->avail_in = strm->avail_in - 1;
  strm->state[2].dummy = strm->state[2].dummy + (uint)*strm->next_in * 0x100;
  strm->next_in = strm->next_in + 1;
  strm->state->dummy = 5;
  iVar2 = iVar4;
switchD_100243c8_caseD_5:
  if (strm->avail_in != 0) {
    strm->total_in = strm->total_in + 1;
    strm->avail_in = strm->avail_in - 1;
    strm->state[2].dummy = strm->state[2].dummy + (uint)*strm->next_in;
    strm->next_in = strm->next_in + 1;
    strm->adler = strm->state[2].dummy;
    strm->state->dummy = 6;
    return 2;
  }
  return iVar2;
}



/* FUN_100246f2 @ 100246f2 */

undefined4 * __cdecl FUN_100246f2(int param_1)

{
  undefined4 *puVar1;
  uint uVar2;
  int iVar3;
  undefined4 *puVar4;
  
  if (param_1 == 2) {
    uVar2 = 0x40;
  }
  else {
    if (param_1 != 1) {
      return (undefined4 *)0x0;
    }
    uVar2 = 0x19c;
  }
  puVar1 = malloc(uVar2);
  if (puVar1 != (undefined4 *)0x0) {
    puVar4 = puVar1;
    for (uVar2 = uVar2 >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
      *puVar4 = 0;
      puVar4 = puVar4 + 1;
    }
    for (iVar3 = 0; iVar3 != 0; iVar3 = iVar3 + -1) {
      *(undefined1 *)puVar4 = 0;
      puVar4 = (undefined4 *)((int)puVar4 + 1);
    }
  }
  return puVar1;
}



/* png_free_ptr @ 10024734 */

/* free wrapper for png allocations */

void __cdecl png_free_ptr(void *ptr)

{
  if (ptr != (void *)0x0) {
    free(ptr);
    return;
  }
  return;
}



/* png_malloc @ 10024741 */

/* png malloc wrapper (errors on OOM) */

void * __cdecl png_malloc(png_structp png_ptr,png_uint_32 size)

{
  void *pvVar1;
  
  if ((png_ptr != (png_structp)0x0) && (size != 0)) {
    pvVar1 = malloc(size);
    if (pvVar1 == (void *)0x0) {
      png_error(png_ptr,"Out of Memory");
    }
    return pvVar1;
  }
  return (void *)0x0;
}



/* png_free @ 10024777 */

/* png free callback wrapper */

void __cdecl png_free(png_structp png_ptr,void *ptr)

{
  if ((png_ptr != (png_structp)0x0) && (ptr != (void *)0x0)) {
    free(ptr);
  }
  return;
}



/* FUN_10024790 @ 10024790 */

/* [binja] int32_t sub_10024790(int32_t arg1, int32_t arg2, int32_t arg3) */

int __cdecl FUN_10024790(int arg1,int arg2,int arg3)

{
  uint uVar1;
  undefined4 *puVar2;
  uint in_stack_00000010;
  
  puVar2 = (undefined4 *)arg2;
  for (uVar1 = in_stack_00000010 >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
    *puVar2 = *(undefined4 *)arg3;
    arg3 = (int)(arg3 + 4);
    puVar2 = puVar2 + 1;
  }
  for (uVar1 = in_stack_00000010 & 3; uVar1 != 0; uVar1 = uVar1 - 1) {
    *(undefined1 *)puVar2 = *(undefined1 *)arg3;
    arg3 = (int)(arg3 + 1);
    puVar2 = (undefined4 *)((int)puVar2 + 1);
  }
  return arg2;
}



/* FUN_100247b3 @ 100247b3 */

/* [binja] int32_t sub_100247b3(int32_t arg1, char arg2, int32_t arg3) */

int __cdecl FUN_100247b3(int arg1,char arg2,int arg3)

{
  uint uVar1;
  undefined4 *puVar2;
  undefined3 in_stack_00000009;
  uint in_stack_00000010;
  
  puVar2 = _arg2;
  for (uVar1 = in_stack_00000010 >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
    *puVar2 = CONCAT22(CONCAT11((undefined1)arg3,(undefined1)arg3),
                       CONCAT11((undefined1)arg3,(undefined1)arg3));
    puVar2 = puVar2 + 1;
  }
  for (uVar1 = in_stack_00000010 & 3; uVar1 != 0; uVar1 = uVar1 - 1) {
    *(undefined1 *)puVar2 = (undefined1)arg3;
    puVar2 = (undefined4 *)((int)puVar2 + 1);
  }
  return (int)_arg2;
}



/* png_get_uint_32 @ 100247e4 */

/* read big-endian 32-bit value */

png_uint_32 __cdecl png_get_uint_32(png_bytep buf)

{
  return CONCAT31(CONCAT21(CONCAT11(*buf,buf[1]),buf[2]),buf[3]);
}



/* png_crc_read @ 10024807 */

/* read PNG chunk data and update CRC */

void __cdecl png_crc_read(png_structp png_ptr,png_bytep buf,png_uint_32 length)

{
  png_read_data(png_ptr,buf,length);
  png_calculate_crc(png_ptr,buf,length);
  return;
}



/* png_crc_error @ 10024821 */

/* read stored CRC and compare with computed */

int __cdecl png_crc_error(png_structp png_ptr)

{
  bool bVar1;
  png_structp ppVar2;
  png_colorp ppVar3;
  uint uVar4;
  
  ppVar2 = png_ptr;
  bVar1 = true;
  if ((png_ptr->chunk_name[0] & 0x20) == 0) {
    if ((png_ptr->flags & 0x800) == 0) goto LAB_1002484d;
  }
  else if ((png_ptr->flags & 0x300) != 0x300) goto LAB_1002484d;
  bVar1 = false;
LAB_1002484d:
  png_read_data(png_ptr,(png_bytep)&png_ptr,4);
  if (bVar1) {
    ppVar3 = (png_colorp)png_get_uint_32((png_bytep)&png_ptr);
    uVar4 = (uint)(ppVar3 != ppVar2->palette);
  }
  else {
    uVar4 = 0;
  }
  return uVar4;
}



/* png_check_chunk_name @ 1002487f */

/* validate PNG chunk type characters */

void __cdecl png_check_chunk_name(png_structp png_ptr,png_bytep chunk_name)

{
  byte bVar1;
  
  bVar1 = *chunk_name;
  if (((((((bVar1 < 0x29) || (0x7a < bVar1)) || ((0x5a < bVar1 && (bVar1 < 0x61)))) ||
        ((bVar1 = chunk_name[1], bVar1 < 0x29 || (0x7a < bVar1)))) ||
       ((0x5a < bVar1 && (bVar1 < 0x61)))) ||
      ((((bVar1 = chunk_name[2], bVar1 < 0x29 || (0x7a < bVar1)) ||
        ((0x5a < bVar1 && (bVar1 < 0x61)))) ||
       ((bVar1 = chunk_name[3], bVar1 < 0x29 || (0x7a < bVar1)))))) ||
     ((0x5a < bVar1 && (bVar1 < 0x61)))) {
    FUN_1001e147(png_ptr,(undefined4 *)"invalid chunk type");
  }
  return;
}



/* FUN_100248e1 @ 100248e1 */

void __cdecl FUN_100248e1(int param_1,byte *param_2,uint param_3)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  byte *pbVar5;
  int iVar6;
  byte *pbVar7;
  byte *pbVar8;
  uint local_c;
  byte local_5;
  
  bVar1 = *(byte *)(param_1 + 0xfb);
  uVar3 = (uint)bVar1;
  if (param_3 == 0xff) {
    uVar3 = uVar3 * *(int *)(param_1 + 0xb8) + 7;
    pbVar5 = (byte *)(*(int *)(param_1 + 0xdc) + 1);
    for (uVar4 = uVar3 >> 5; uVar4 != 0; uVar4 = uVar4 - 1) {
      *(undefined4 *)param_2 = *(undefined4 *)pbVar5;
      pbVar5 = pbVar5 + 4;
      param_2 = param_2 + 4;
    }
    for (uVar3 = uVar3 >> 3 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
      *param_2 = *pbVar5;
      pbVar5 = pbVar5 + 1;
      param_2 = param_2 + 1;
    }
  }
  else if (uVar3 == 1) {
    iVar2 = *(int *)(param_1 + 0xb8);
    pbVar5 = (byte *)(*(int *)(param_1 + 0xdc) + 1);
    local_c = 0x80;
    iVar6 = 7;
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      if ((local_c & param_3) != 0) {
        bVar1 = (byte)iVar6;
        *param_2 = (byte)(0x7f7f >> (7 - bVar1 & 0x1f)) & *param_2 |
                   (*pbVar5 >> (bVar1 & 0x1f) & 1) << (bVar1 & 0x1f);
      }
      if (iVar6 == 0) {
        pbVar5 = pbVar5 + 1;
        iVar6 = 7;
        param_2 = param_2 + 1;
      }
      else {
        iVar6 = iVar6 + -1;
      }
      if (local_c == 1) {
        local_c = 0x80;
      }
      else {
        local_c = (int)local_c >> 1;
      }
    }
  }
  else if (uVar3 == 2) {
    iVar2 = *(int *)(param_1 + 0xb8);
    pbVar5 = (byte *)(*(int *)(param_1 + 0xdc) + 1);
    local_c = 0x80;
    iVar6 = 6;
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      if ((local_c & param_3) != 0) {
        bVar1 = (byte)iVar6;
        *param_2 = (byte)(0x3f3f >> (6 - bVar1 & 0x1f)) & *param_2 |
                   (*pbVar5 >> (bVar1 & 0x1f) & 3) << (bVar1 & 0x1f);
      }
      if (iVar6 == 0) {
        pbVar5 = pbVar5 + 1;
        iVar6 = 6;
        param_2 = param_2 + 1;
      }
      else {
        iVar6 = iVar6 + -2;
      }
      if (local_c == 1) {
        local_c = 0x80;
      }
      else {
        local_c = (int)local_c >> 1;
      }
    }
  }
  else if (uVar3 == 4) {
    iVar2 = *(int *)(param_1 + 0xb8);
    pbVar5 = (byte *)(*(int *)(param_1 + 0xdc) + 1);
    local_c = 0x80;
    iVar6 = 4;
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      if ((local_c & param_3) != 0) {
        bVar1 = (byte)iVar6;
        *param_2 = (byte)(0xf0f >> (4 - bVar1 & 0x1f)) & *param_2 |
                   (*pbVar5 >> (bVar1 & 0x1f) & 0xf) << (bVar1 & 0x1f);
      }
      if (iVar6 == 0) {
        pbVar5 = pbVar5 + 1;
        iVar6 = 4;
        param_2 = param_2 + 1;
      }
      else {
        iVar6 = iVar6 + -4;
      }
      if (local_c == 1) {
        local_c = 0x80;
      }
      else {
        local_c = (int)local_c >> 1;
      }
    }
  }
  else {
    iVar2 = *(int *)(param_1 + 0xb8);
    uVar3 = (uint)(bVar1 >> 3);
    pbVar5 = (byte *)(*(int *)(param_1 + 0xdc) + 1);
    local_5 = 0x80;
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      if ((local_5 & (byte)param_3) != 0) {
        pbVar7 = pbVar5;
        pbVar8 = param_2;
        for (uVar4 = (uint)(bVar1 >> 5); uVar4 != 0; uVar4 = uVar4 - 1) {
          *(undefined4 *)pbVar8 = *(undefined4 *)pbVar7;
          pbVar7 = pbVar7 + 4;
          pbVar8 = pbVar8 + 4;
        }
        for (uVar4 = uVar3 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
          *pbVar8 = *pbVar7;
          pbVar7 = pbVar7 + 1;
          pbVar8 = pbVar8 + 1;
        }
      }
      pbVar5 = pbVar5 + uVar3;
      param_2 = param_2 + uVar3;
      if (local_5 == 1) {
        local_5 = 0x80;
      }
      else {
        local_5 = local_5 >> 1;
      }
    }
  }
  return;
}



/* FUN_10024af7 @ 10024af7 */

void __cdecl FUN_10024af7(uint *param_1,int *param_2,int param_3)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int *piVar6;
  int *piVar7;
  int *piVar8;
  byte *pbVar9;
  byte *pbVar10;
  int local_1c [4];
  uint local_c;
  uint local_8;
  
  if ((param_2 != (int *)0x0) && (param_1 != (uint *)0x0)) {
    local_1c[3] = *(int *)(&DAT_1004eaac + param_3 * 4);
    uVar4 = *param_1;
    uVar5 = uVar4 * local_1c[3];
    bVar1 = *(byte *)((int)param_1 + 0xb);
    if (bVar1 == 1) {
      local_1c[2] = 0;
      pbVar10 = (byte *)((uVar4 - 1 >> 3) + (int)param_2);
      pbVar9 = (byte *)((uVar5 - 1 >> 3) + (int)param_2);
      local_c = 7 - (uVar4 - 1 & 7);
      local_8 = 7 - (uVar5 - 1 & 7);
      if (uVar4 != 0) {
        do {
          bVar1 = *pbVar10;
          local_1c[1] = local_1c[3];
          if (0 < local_1c[3]) {
            do {
              *pbVar9 = (byte)(0x7f7f >> (7 - (byte)local_8 & 0x1f)) & *pbVar9 |
                        (bVar1 >> ((byte)local_c & 0x1f) & 1) << ((byte)local_8 & 0x1f);
              if (local_8 == 7) {
                local_8 = 0;
                pbVar9 = pbVar9 + -1;
              }
              else {
                local_8 = local_8 + 1;
              }
              local_1c[1] = local_1c[1] + -1;
            } while (local_1c[1] != 0);
          }
          if (local_c == 7) {
            local_c = 0;
            pbVar10 = pbVar10 + -1;
          }
          else {
            local_c = local_c + 1;
          }
          local_1c[2] = local_1c[2] + 1;
        } while ((uint)local_1c[2] < *param_1);
      }
    }
    else if (bVar1 == 2) {
      local_1c[2] = 0;
      pbVar10 = (byte *)((uVar4 - 1 >> 2) + (int)param_2);
      pbVar9 = (byte *)((uVar5 - 1 >> 2) + (int)param_2);
      local_c = (3 - (uVar4 - 1 & 3)) * 2;
      local_8 = (3 - (uVar5 - 1 & 3)) * 2;
      if (uVar4 != 0) {
        do {
          bVar1 = *pbVar10;
          local_1c[1] = local_1c[3];
          if (0 < local_1c[3]) {
            do {
              *pbVar9 = (byte)(0x3f3f >> (6 - (byte)local_8 & 0x1f)) & *pbVar9 |
                        (bVar1 >> ((byte)local_c & 0x1f) & 3) << ((byte)local_8 & 0x1f);
              if (local_8 == 6) {
                local_8 = 0;
                pbVar9 = pbVar9 + -1;
              }
              else {
                local_8 = local_8 + 2;
              }
              local_1c[1] = local_1c[1] + -1;
            } while (local_1c[1] != 0);
          }
          if (local_c == 6) {
            local_c = 0;
            pbVar10 = pbVar10 + -1;
          }
          else {
            local_c = local_c + 2;
          }
          local_1c[2] = local_1c[2] + 1;
        } while ((uint)local_1c[2] < *param_1);
      }
    }
    else if (bVar1 == 4) {
      local_1c[2] = 0;
      pbVar10 = (byte *)((uVar4 - 1 >> 1) + (int)param_2);
      pbVar9 = (byte *)((uVar5 - 1 >> 1) + (int)param_2);
      local_c = (uVar4 - 1 & 1) * -4 + 4;
      local_8 = (uVar5 - 1 & 1) * -4 + 4;
      if (uVar4 != 0) {
        do {
          bVar1 = *pbVar10;
          local_1c[1] = local_1c[3];
          if (0 < local_1c[3]) {
            do {
              *pbVar9 = (byte)(0xf0f >> (4 - (byte)local_8 & 0x1f)) & *pbVar9 |
                        (bVar1 >> ((byte)local_c & 0x1f) & 0xf) << ((byte)local_8 & 0x1f);
              if (local_8 == 4) {
                local_8 = 0;
                pbVar9 = pbVar9 + -1;
              }
              else {
                local_8 = local_8 + 4;
              }
              local_1c[1] = local_1c[1] + -1;
            } while (local_1c[1] != 0);
          }
          if (local_c == 4) {
            local_c = 0;
            pbVar10 = pbVar10 + -1;
          }
          else {
            local_c = local_c + 4;
          }
          local_1c[2] = local_1c[2] + 1;
        } while ((uint)local_1c[2] < *param_1);
      }
    }
    else {
      local_8 = 0;
      local_c = (uint)(bVar1 >> 3);
      piVar6 = (int *)((uVar4 - 1) * local_c + (int)param_2);
      param_2 = (int *)((uVar5 - 1) * local_c + (int)param_2);
      if (uVar4 != 0) {
        do {
          uVar4 = local_c;
          piVar7 = piVar6;
          piVar8 = local_1c;
          for (uVar3 = local_c >> 2; iVar2 = local_1c[3], uVar3 != 0; uVar3 = uVar3 - 1) {
            *piVar8 = *piVar7;
            piVar7 = piVar7 + 1;
            piVar8 = piVar8 + 1;
          }
          for (uVar4 = uVar4 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
            *(char *)piVar8 = (char)*piVar7;
            piVar7 = (int *)((int)piVar7 + 1);
            piVar8 = (int *)((int)piVar8 + 1);
          }
          if (0 < iVar2) {
            local_1c[2] = iVar2;
            do {
              piVar7 = (int *)((int)param_2 - local_c);
              piVar8 = local_1c;
              for (uVar4 = local_c >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
                *param_2 = *piVar8;
                piVar8 = piVar8 + 1;
                param_2 = param_2 + 1;
              }
              local_1c[2] = local_1c[2] + -1;
              for (uVar4 = local_c & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
                *(char *)param_2 = (char)*piVar8;
                piVar8 = (int *)((int)piVar8 + 1);
                param_2 = (int *)((int)param_2 + 1);
              }
              param_2 = piVar7;
            } while (local_1c[2] != 0);
          }
          piVar6 = (int *)((int)piVar6 - local_c);
          local_8 = local_8 + 1;
        } while (local_8 < *param_1);
      }
    }
    *param_1 = uVar5;
    param_1[1] = *(byte *)((int)param_1 + 0xb) * uVar5 + 7 >> 3;
  }
  return;
}



/* FUN_10024dc0 @ 10024dc0 */

void __cdecl FUN_10024dc0(png_structp png_ptr,int param_2,byte *param_3,byte *param_4,int param_5)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  byte bVar5;
  int iVar6;
  uint uVar7;
  byte *pbVar8;
  int iVar9;
  int iVar10;
  byte *pbVar11;
  int local_c;
  
  if (param_5 != 0) {
    if (param_5 == 1) {
      uVar4 = (int)(*(byte *)(param_2 + 0xb) + 7) >> 3;
      pbVar8 = param_3 + uVar4;
      if (uVar4 < *(uint *)(param_2 + 4)) {
        pbVar11 = pbVar8 + -uVar4;
        iVar6 = *(uint *)(param_2 + 4) - uVar4;
        do {
          *pbVar8 = *pbVar8 + *pbVar11;
          pbVar8 = pbVar8 + 1;
          pbVar11 = pbVar11 + 1;
          iVar6 = iVar6 + -1;
        } while (iVar6 != 0);
      }
    }
    else if (param_5 == 2) {
      uVar4 = *(uint *)(param_2 + 4);
      uVar7 = 0;
      if (uVar4 != 0) {
        do {
          *param_3 = *param_3 + param_4[uVar7];
          param_3 = param_3 + 1;
          uVar7 = uVar7 + 1;
        } while (uVar7 < uVar4);
      }
    }
    else if (param_5 == 3) {
      iVar6 = (int)(*(byte *)(param_2 + 0xb) + 7) >> 3;
      iVar3 = *(int *)(param_2 + 4) - iVar6;
      pbVar8 = param_3;
      for (; iVar6 != 0; iVar6 = iVar6 + -1) {
        *pbVar8 = *pbVar8 + (*param_4 >> 1);
        param_4 = param_4 + 1;
        pbVar8 = pbVar8 + 1;
      }
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        *pbVar8 = *pbVar8 + (char)(((uint)*param_3 + (uint)*param_4) / 2);
        param_3 = param_3 + 1;
        param_4 = param_4 + 1;
        pbVar8 = pbVar8 + 1;
      }
    }
    else if (param_5 == 4) {
      iVar3 = (int)(*(byte *)(param_2 + 0xb) + 7) >> 3;
      iVar6 = *(int *)(param_2 + 4) - iVar3;
      pbVar8 = param_3;
      pbVar11 = param_4;
      for (; iVar3 != 0; iVar3 = iVar3 + -1) {
        *pbVar8 = *pbVar8 + *pbVar11;
        pbVar11 = pbVar11 + 1;
        pbVar8 = pbVar8 + 1;
      }
      for (; iVar6 != 0; iVar6 = iVar6 + -1) {
        bVar5 = *param_3;
        bVar1 = *pbVar11;
        bVar2 = *param_4;
        param_3 = param_3 + 1;
        pbVar11 = pbVar11 + 1;
        param_4 = param_4 + 1;
        iVar3 = (uint)bVar1 - (uint)bVar2;
        iVar9 = (uint)bVar5 - (uint)bVar2;
        local_c = iVar3;
        if (iVar3 < 0) {
          local_c = -iVar3;
        }
        iVar10 = iVar9;
        if (iVar9 < 0) {
          iVar10 = -iVar9;
        }
        iVar3 = iVar3 + iVar9;
        if (iVar3 < 0) {
          iVar3 = -iVar3;
        }
        if (((iVar10 < local_c) || (iVar3 < local_c)) && (bVar5 = bVar1, iVar3 < iVar10)) {
          bVar5 = bVar2;
        }
        *pbVar8 = *pbVar8 + bVar5;
        pbVar8 = pbVar8 + 1;
      }
    }
    else {
      png_warning(png_ptr,"Ignoring bad adaptive filter type");
      *param_3 = 0;
    }
  }
  return;
}



/* FUN_10024f3b @ 10024f3b */

void __cdecl FUN_10024f3b(png_structp png_ptr)

{
  png_byte pVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  png_bytep ppVar5;
  png_uint_32 pVar6;
  
  (png_ptr->zstream).words[1] = 0;
  FUN_10020036(png_ptr);
  uVar3 = png_ptr->height;
  if (png_ptr->interlaced == '\0') {
    pVar6 = png_ptr->width;
    png_ptr->num_rows = uVar3;
    png_ptr->row_number = pVar6;
    png_ptr->iwidth = png_ptr->rowbytes + 1;
  }
  else {
    if ((png_ptr->transformations & 2) == 0) {
      uVar3 = uVar3 + 7 >> 3;
    }
    pVar6 = png_ptr->width;
    png_ptr->num_rows = uVar3;
    iVar4 = (uint)png_ptr->pass * 4;
    uVar3 = ((pVar6 - *(int *)(&DAT_1004ea90 + iVar4)) + -1 + *(uint *)(&DAT_1004eaac + iVar4)) /
            *(uint *)(&DAT_1004eaac + iVar4);
    png_ptr->row_number = uVar3;
    png_ptr->iwidth = (png_ptr->pixel_depth * uVar3 + 7 >> 3) + 1;
  }
  uVar3 = (uint)png_ptr->pixel_depth;
  uVar2 = png_ptr->transformations;
  if (((uVar2 & 4) != 0) && (png_ptr->bit_depth < 8)) {
    uVar3 = 8;
  }
  if ((uVar2 & 0x1000) != 0) {
    pVar1 = png_ptr->color_type;
    if (pVar1 == '\x03') {
      uVar3 = (uint)(*(short *)((int)&png_ptr->chunk_name_pad + 2) != 0) * 8 + 0x18;
    }
    else if (pVar1 == '\0') {
      if (uVar3 < 8) {
        uVar3 = 8;
      }
      if (*(short *)((int)&png_ptr->chunk_name_pad + 2) != 0) {
        uVar3 = uVar3 * 2;
      }
    }
    else if ((pVar1 == '\x02') && (*(short *)((int)&png_ptr->chunk_name_pad + 2) != 0)) {
      uVar3 = (uVar3 << 2) / 3;
    }
  }
  if ((char)(uVar2 >> 8) < '\0') {
    pVar1 = png_ptr->color_type;
    if (pVar1 == '\x03') {
      uVar3 = 0x20;
    }
    else if (pVar1 == '\0') {
      uVar3 = ((8 < uVar3) - 1 & 0xfffffff0) + 0x20;
    }
    else if (pVar1 == '\x02') {
      uVar3 = ((0x20 < uVar3) - 1 & 0xffffffe0) + 0x40;
    }
  }
  ppVar5 = png_malloc(png_ptr,((pVar6 + 7 & 0xfffffff8) * uVar3 + 7 >> 3) + 1 +
                              ((int)(uVar3 + 7) >> 3));
  png_ptr->sub_row = ppVar5;
  ppVar5 = png_malloc(png_ptr,png_ptr->rowbytes + 1);
  png_ptr->row_buf = ppVar5;
  FUN_100247b3((int)png_ptr,(char)ppVar5,0);
  png_ptr->flags = png_ptr->flags | 0x40;
  return;
}



/* png_crc_finish @ 100250d7 */

/* read remaining chunk bytes and check CRC */

int __cdecl png_crc_finish(png_structp png_ptr,png_uint_32 skip)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  
  uVar1 = png_ptr->zbuf_size;
  for (; uVar1 < skip; skip = skip - uVar1) {
    png_crc_read(png_ptr,png_ptr->zbuf,png_ptr->zbuf_size);
  }
  if (skip != 0) {
    png_crc_read(png_ptr,png_ptr->zbuf,skip);
  }
  iVar3 = png_crc_error(png_ptr);
  if (iVar3 == 0) {
    iVar3 = 0;
  }
  else {
    bVar2 = png_ptr->chunk_name[0] & 0x20;
    if (((bVar2 == 0) || ((png_ptr->flags & 0x200) != 0)) &&
       ((bVar2 != 0 || ((png_ptr->flags & 0x400) == 0)))) {
      FUN_1001e147(png_ptr,(undefined4 *)"CRC error");
    }
    else {
      FUN_1001e16c(png_ptr,(undefined4 *)"CRC error");
    }
    iVar3 = 1;
  }
  return iVar3;
}



/* grim_png_read_IHDR @ 10025163 */

void __cdecl grim_png_read_IHDR(png_structp png_ptr,uint *param_2,int param_3)

{
  byte bVar1;
  png_uint_32 pVar2;
  png_uint_32 pVar3;
  png_byte local_20 [4];
  png_byte local_1c [4];
  byte local_18;
  byte local_17;
  byte local_16;
  byte local_15;
  byte local_14;
  uint local_10;
  uint local_c;
  uint local_8;
  
  if (png_ptr->mode != 0) {
    png_error(png_ptr,"Out of place IHDR");
  }
  if (param_3 != 0xd) {
    png_error(png_ptr,"Invalid IHDR chunk");
  }
  png_ptr->mode = png_ptr->mode | 1;
  png_crc_read(png_ptr,local_20,0xd);
  png_crc_finish(png_ptr,0);
  pVar2 = png_get_uint_32(local_20);
  pVar3 = png_get_uint_32(local_1c);
  local_10 = (uint)local_16;
  local_c = (uint)local_15;
  local_8 = (uint)local_14;
  if ((((pVar2 == 0) || (0x7fffffff < pVar2)) || (pVar3 == 0)) || (0x7fffffff < pVar3)) {
    png_error(png_ptr,"Invalid image size in IHDR");
  }
  if (((local_18 != 1) && (local_18 != 2)) &&
     ((local_18 != 4 && ((local_18 != 8 && (local_18 != 0x10)))))) {
    png_error(png_ptr,"Invalid bit depth in IHDR");
  }
  if (((local_17 == 1) || (local_17 == 5)) || (6 < local_17)) {
    png_error(png_ptr,"Invalid color type in IHDR");
  }
  if (((local_17 == 3) && (8 < local_18)) ||
     (((local_17 == 2 || ((local_17 == 4 || (local_17 == 6)))) && (local_18 < 8)))) {
    png_error(png_ptr,"Invalid color type/bit depth combination in IHDR");
  }
  if (1 < (int)local_8) {
    png_error(png_ptr,"Unknown interlace method in IHDR");
  }
  if (local_10 != 0) {
    png_error(png_ptr,"Unknown compression method in IHDR");
  }
  if (local_c != 0) {
    png_error(png_ptr,"Unknown filter method in IHDR");
  }
  png_ptr->interlaced = (png_byte)local_8;
  png_ptr->width = pVar2;
  png_ptr->height = pVar3;
  png_ptr->bit_depth = local_18;
  png_ptr->color_type = local_17;
  if (local_17 != 0) {
    if (local_17 == 2) {
      png_ptr->channels = '\x03';
      goto LAB_1002531b;
    }
    if (local_17 != 3) {
      if (local_17 == 4) {
        png_ptr->channels = '\x02';
      }
      else if (local_17 == 6) {
        png_ptr->channels = '\x04';
      }
      goto LAB_1002531b;
    }
  }
  png_ptr->channels = '\x01';
LAB_1002531b:
  bVar1 = png_ptr->channels * local_18;
  png_ptr->pixel_depth = bVar1;
  png_ptr->rowbytes = bVar1 * pVar2 + 7 >> 3;
  FUN_1002031c(png_ptr,param_2,pVar2,pVar3,local_18,local_17,(png_byte)local_8,(char)local_10,
               (char)local_c);
  return;
}



/* grim_png_read_PLTE @ 10025359 */

void __thiscall grim_png_read_PLTE(void *this,png_structp png_ptr,int param_2,uint param_3)

{
  byte *pbVar1;
  ushort *puVar2;
  uint uVar3;
  png_structp png_ptr_00;
  int iVar4;
  int iVar5;
  undefined4 *puVar6;
  png_structp unaff_ESI;
  undefined1 *puVar7;
  char *pcVar8;
  int local_8;
  
  png_ptr_00 = png_ptr;
  uVar3 = png_ptr->mode;
  if ((uVar3 & 1) == 0) {
    pcVar8 = "Missing IHDR before PLTE";
LAB_10025385:
    png_error(png_ptr,pcVar8);
LAB_1002538d:
    png_ptr_00->mode = png_ptr_00->mode | 2;
    if (param_3 % 3 != 0) {
      pcVar8 = "Invalid palette chunk";
      unaff_ESI = png_ptr_00;
      if (png_ptr_00->color_type != '\x03') goto LAB_100253ad;
      png_error(png_ptr_00,"Invalid palette chunk");
    }
    iVar5 = (int)param_3 / 3;
    puVar6 = FUN_1002052b(png_ptr_00,iVar5,3);
    pbVar1 = (byte *)((int)&png_ptr_00->flags + 1);
    *pbVar1 = *pbVar1 | 0x10;
    if (0 < iVar5) {
      puVar7 = (undefined1 *)((int)puVar6 + 2);
      local_8 = iVar5;
      do {
        png_crc_read(png_ptr_00,(png_bytep)&png_ptr,3);
        puVar7[-2] = png_ptr._0_1_;
        puVar7[-1] = png_ptr._1_1_;
        *puVar7 = png_ptr._2_1_;
        puVar7 = puVar7 + 3;
        local_8 = local_8 + -1;
      } while (local_8 != 0);
    }
    png_crc_finish(png_ptr_00,0);
    iVar4 = param_2;
    *(undefined4 **)&png_ptr_00->num_palette = puVar6;
    *(short *)&png_ptr_00->chunk_name_pad = (short)iVar5;
    FUN_100203bd((int)png_ptr_00,param_2,puVar6,(short)iVar5);
    if ((((png_ptr_00->color_type == '\x03') && (iVar4 != 0)) &&
        ((*(byte *)(iVar4 + 8) & 0x10) != 0)) &&
       (puVar2 = (ushort *)((int)&png_ptr_00->chunk_name_pad + 2),
       (ushort)png_ptr_00->chunk_name_pad < *puVar2)) {
      png_warning(png_ptr_00,"Truncating incorrect tRNS chunk length");
      *puVar2 = (ushort)png_ptr_00->chunk_name_pad;
    }
  }
  else {
    pcVar8 = this;
    if ((uVar3 & 4) == 0) {
      if ((uVar3 & 2) != 0) {
        pcVar8 = "Duplicate PLTE chunk";
        goto LAB_10025385;
      }
      goto LAB_1002538d;
    }
LAB_100253ad:
    png_warning(unaff_ESI,pcVar8);
    png_crc_finish(png_ptr_00,param_3);
  }
  return;
}



/* FUN_10025483 @ 10025483 */

void __cdecl
FUN_10025483(png_structp png_ptr,undefined4 param_2,undefined4 param_3,int param_4,uint param_5)

{
  if ((((png_ptr->mode & 1) == 0) || ((png_ptr->mode & 4) == 0)) &&
     (png_error(png_ptr,"No image in file"), param_4 == 0)) {
    return;
  }
  png_ptr->mode = png_ptr->mode | 0x18;
  if (param_5 != 0) {
    png_warning(png_ptr,"Incorrect IEND chunk length");
  }
  png_crc_finish(png_ptr,param_5);
  return;
}



/* FUN_100254cd @ 100254cd */

void __cdecl FUN_100254cd(png_structp png_ptr,int param_2,uint param_3)

{
  uint uVar1;
  float fVar2;
  png_structp png_ptr_00;
  int iVar3;
  int iVar4;
  png_uint_32 pVar5;
  char *msg;
  
  iVar3 = param_2;
  png_ptr_00 = png_ptr;
  uVar1 = png_ptr->mode;
  if ((uVar1 & 1) == 0) {
    png_error(png_ptr,"Missing IHDR before gAMA");
  }
  else {
    if ((uVar1 & 4) != 0) {
      msg = "Invalid gAMA after IDAT";
      goto LAB_100254fe;
    }
    if ((uVar1 & 2) == 0) {
      if (((param_2 != 0) && ((*(uint *)(param_2 + 8) & 1) != 0)) &&
         ((*(uint *)(param_2 + 8) & 0x800) == 0)) {
        msg = "Duplicate gAMA chunk";
        goto LAB_100254fe;
      }
    }
    else {
      png_warning(png_ptr,"Out of place gAMA chunk");
    }
  }
  if (param_3 == 4) {
    png_crc_read(png_ptr_00,(png_bytep)&png_ptr,4);
    iVar4 = png_crc_finish(png_ptr_00,0);
    if (iVar4 != 0) {
      return;
    }
    pVar5 = png_get_uint_32((png_bytep)&png_ptr);
    if (pVar5 == 0) {
      return;
    }
    if ((*(uint *)(iVar3 + 8) & 0x800) != 0) {
      fVar2 = (float)(int)pVar5;
      if ((int)pVar5 < 0) {
        fVar2 = fVar2 + 4.2949673e+09;
      }
      if (500.0 < ABS(fVar2 - 45455.0)) {
        png_warning(png_ptr_00,"Ignoring incorrect gAMA value when sRGB is also present");
        return;
      }
    }
    fVar2 = (float)(int)pVar5;
    if ((int)pVar5 < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    png_ptr_00[1].jmpbuf[4] = (png_uint_32)(fVar2 * 1e-05);
    FUN_10020301((int)png_ptr_00,iVar3,(double)(fVar2 * 1e-05));
    return;
  }
  msg = "Incorrect gAMA chunk length";
LAB_100254fe:
  png_warning(png_ptr_00,msg);
  png_crc_finish(png_ptr_00,param_3);
  return;
}



/* FUN_100255d8 @ 100255d8 */

void __cdecl FUN_100255d8(png_structp png_ptr,int param_2,uint param_3)

{
  uint uVar1;
  png_structp png_ptr_00;
  byte bVar2;
  int iVar3;
  char *msg;
  
  png_ptr_00 = png_ptr;
  uVar1 = png_ptr->mode;
  if ((uVar1 & 1) == 0) {
    png_error(png_ptr,"Missing IHDR before sRGB");
  }
  else {
    if ((uVar1 & 4) != 0) {
      msg = "Invalid sRGB after IDAT";
      goto LAB_100255fe;
    }
    if ((uVar1 & 2) == 0) {
      if ((param_2 != 0) && ((*(byte *)(param_2 + 9) & 8) != 0)) {
        msg = "Duplicate sRGB chunk";
        goto LAB_100255fe;
      }
    }
    else {
      png_warning(png_ptr,"Out of place sRGB chunk");
    }
  }
  if (param_3 == 1) {
    png_crc_read(png_ptr_00,(png_bytep)((int)&png_ptr + 3),1);
    iVar3 = png_crc_finish(png_ptr_00,0);
    if (iVar3 != 0) {
      return;
    }
    bVar2 = png_ptr._3_1_;
    if (3 < png_ptr._3_1_) {
      png_warning(png_ptr_00,"Unknown sRGB intent");
      return;
    }
    if (((*(byte *)(param_2 + 8) & 1) != 0) &&
       (500.0 < ABS(((float)png_ptr_00[1].jmpbuf[4] * 100000.0 + 0.5) - 45455.0))) {
      png_warning(png_ptr_00,"Ignoring incorrect gAMA value when sRGB is also present");
    }
    FUN_100203fc((int)png_ptr_00,param_2,bVar2);
    return;
  }
  msg = "Incorrect sRGB chunk length";
LAB_100255fe:
  png_warning(png_ptr_00,msg);
  png_crc_finish(png_ptr_00,param_3);
  return;
}



/* FUN_100256c7 @ 100256c7 */

void __cdecl FUN_100256c7(png_structp png_ptr,int param_2,uint param_3)

{
  byte *pbVar1;
  png_byte pVar2;
  png_bytep buf;
  int iVar3;
  char *pcVar4;
  undefined4 local_c;
  ushort local_8;
  
  if ((png_ptr->mode & 1) == 0) {
    png_error(png_ptr,"Missing IHDR before tRNS");
  }
  else {
    if ((png_ptr->mode & 4) != 0) {
      pcVar4 = "Invalid tRNS after IDAT";
LAB_1002573c:
      png_warning(png_ptr,pcVar4);
      png_crc_finish(png_ptr,param_3);
      return;
    }
    if ((param_2 != 0) && ((*(byte *)(param_2 + 8) & 0x10) != 0)) {
      pcVar4 = "Duplicate tRNS chunk";
      goto LAB_1002573c;
    }
  }
  pVar2 = png_ptr->color_type;
  if (pVar2 == '\x03') {
    if ((png_ptr->mode & 2) == 0) {
      png_warning(png_ptr,"Missing PLTE before tRNS");
LAB_1002570d:
      if (param_3 != 0) {
        buf = png_malloc(png_ptr,param_3);
        pbVar1 = (byte *)((int)&png_ptr->flags + 1);
        *pbVar1 = *pbVar1 | 0x20;
        png_ptr[1].jmpbuf[0xf] = (png_uint_32)buf;
        png_crc_read(png_ptr,buf,param_3);
        *(short *)((int)&png_ptr->chunk_name_pad + 2) = (short)param_3;
        goto LAB_10025833;
      }
      png_warning(png_ptr,"Zero length tRNS chunk");
    }
    else {
      if (param_3 <= (ushort)png_ptr->chunk_name_pad) goto LAB_1002570d;
      png_warning(png_ptr,"Incorrect tRNS chunk length");
    }
LAB_10025870:
    png_crc_finish(png_ptr,param_3);
  }
  else {
    if (pVar2 == '\x02') {
      if (param_3 != 6) {
LAB_100257fe:
        pcVar4 = "Incorrect tRNS chunk length";
LAB_10025867:
        png_warning(png_ptr,pcVar4);
        goto LAB_10025870;
      }
      png_crc_read(png_ptr,(png_bytep)&local_c,6);
      *(short *)((int)&png_ptr[1].error_fn + 2) =
           (short)((local_c & 0xff) * 0x100 + (local_c >> 8 & 0xff));
      *(ushort *)&png_ptr[1].warning_fn = (ushort)local_c._2_1_ * 0x100 + (ushort)local_c._3_1_;
      *(ushort *)((int)&png_ptr[1].warning_fn + 2) = local_8 * 0x100 + (local_8 >> 8);
    }
    else {
      if (pVar2 != '\0') {
        pcVar4 = "tRNS chunk not allowed with alpha channel";
        goto LAB_10025867;
      }
      if (param_3 != 2) goto LAB_100257fe;
      png_crc_read(png_ptr,(png_bytep)&local_c,2);
      *(ushort *)&png_ptr[1].error_ptr = (ushort)local_c * 0x100 + ((ushort)local_c >> 8);
    }
    *(undefined2 *)((int)&png_ptr->chunk_name_pad + 2) = 1;
LAB_10025833:
    iVar3 = png_crc_finish(png_ptr,0);
    if (iVar3 == 0) {
      FUN_10020435((int)png_ptr,param_2,png_ptr[1].jmpbuf[0xf],
                   (uint)*(ushort *)((int)&png_ptr->chunk_name_pad + 2),&png_ptr[1].error_fn);
    }
  }
  return;
}



/* grim_png_read_chunk_generic @ 1002587e */

void __cdecl grim_png_read_chunk_generic(png_structp png_ptr,int param_2,uint param_3)

{
  png_check_chunk_name(png_ptr,png_ptr->chunk_name);
  if (((png_ptr->chunk_name[0] & 0x20) == 0) &&
     (FUN_1001e147(png_ptr,(undefined4 *)"unknown critical chunk"), param_2 == 0)) {
    return;
  }
  if ((png_ptr->mode & 4) != 0) {
    png_ptr->mode = png_ptr->mode | 8;
  }
  png_crc_finish(png_ptr,param_3);
  return;
}



/* FUN_100258c8 @ 100258c8 */

void __thiscall FUN_100258c8(void *this,int *param_1)

{
  uint *puVar1;
  byte bVar2;
  uint uVar3;
  png_bytep buf;
  int *png_ptr;
  uint uVar4;
  png_uint_32 pVar5;
  char *msg;
  int iVar6;
  void *local_4;
  
  png_ptr = param_1;
  puVar1 = (uint *)(param_1 + 0x35);
  *puVar1 = *puVar1 + 1;
  if ((uint)param_1[0x30] <= *puVar1) {
    local_4 = this;
    if (*(char *)((int)param_1 + 0x113) != '\0') {
      *puVar1 = 0;
      FUN_100247b3((int)param_1,(char)param_1[0x36],0);
      do {
        *(char *)(png_ptr + 0x45) = (char)png_ptr[0x45] + '\x01';
        bVar2 = *(byte *)(png_ptr + 0x45);
        if (6 < bVar2) goto LAB_10025995;
        iVar6 = (uint)bVar2 * 4;
        uVar4 = ((png_ptr[0x2e] - *(int *)(&DAT_1004ea90 + iVar6)) + -1 +
                *(uint *)(&DAT_1004eaac + iVar6)) / *(uint *)(&DAT_1004eaac + iVar6);
        png_ptr[0x34] = uVar4;
        png_ptr[0x33] = (*(byte *)((int)png_ptr + 0x119) * uVar4 + 7 >> 3) + 1;
      } while (((*(byte *)(png_ptr + 0x18) & 2) == 0) &&
              (png_ptr[0x30] =
                    ((png_ptr[0x2f] - *(int *)(&DAT_1004eac8 + iVar6)) + -1 +
                    *(uint *)(&DAT_1004eae4 + iVar6)) / *(uint *)(&DAT_1004eae4 + iVar6),
              png_ptr[0x34] == 0));
      if (bVar2 < 7) {
        return;
      }
    }
LAB_10025995:
    if ((*(byte *)(png_ptr + 0x17) & 0x20) == 0) {
      png_ptr[0x1c] = (int)&param_1;
      png_ptr[0x1d] = 1;
      while( true ) {
        if (png_ptr[0x1a] == 0) {
          if (png_ptr[0x3f] == 0) {
            do {
              png_crc_finish((png_structp)png_ptr,0);
              png_read_data((png_structp)png_ptr,(png_bytep)&local_4,4);
              pVar5 = png_get_uint_32((png_bytep)&local_4);
              png_ptr[0x3f] = pVar5;
              png_reset_crc((png_structp)png_ptr);
              png_crc_read((png_structp)png_ptr,(png_bytep)(png_ptr + 0x43),4);
              if (png_ptr[0x43] != 0x54414449) {
                png_error((png_structp)png_ptr,"Not enough image data");
              }
            } while (png_ptr[0x3f] == 0);
          }
          uVar4 = png_ptr[0x28];
          uVar3 = png_ptr[0x3f];
          buf = (png_bytep)png_ptr[0x27];
          png_ptr[0x1a] = uVar4;
          ((z_streamp)(png_ptr + 0x19))->next_in = buf;
          if (uVar3 < uVar4) {
            png_ptr[0x1a] = uVar3;
          }
          png_crc_read((png_structp)png_ptr,buf,png_ptr[0x1a]);
          png_ptr[0x3f] = png_ptr[0x3f] - png_ptr[0x1a];
        }
        iVar6 = inflate((z_streamp)(png_ptr + 0x19),1);
        if (iVar6 == 1) break;
        if (iVar6 != 0) {
          msg = (char *)png_ptr[0x1f];
          if (msg == (char *)0x0) {
            msg = "Decompression Error";
          }
          png_error((png_structp)png_ptr,msg);
        }
        if (png_ptr[0x1d] == 0) {
          png_error((png_structp)png_ptr,"Extra compressed data");
        }
      }
      if (((png_ptr[0x1d] == 0) || (png_ptr[0x1a] != 0)) || (png_ptr[0x3f] != 0)) {
        png_error((png_structp)png_ptr,"Extra compressed data");
      }
      png_ptr[0x16] = png_ptr[0x16] | 8;
      png_ptr[0x17] = png_ptr[0x17] | 0x20;
      png_ptr[0x1d] = 0;
    }
    if ((png_ptr[0x3f] != 0) || (png_ptr[0x1a] != 0)) {
      png_error((png_structp)png_ptr,"Extra compression data");
    }
    inflateReset((z_streamp)(png_ptr + 0x19));
    png_ptr[0x16] = png_ptr[0x16] | 8;
  }
  return;
}



/* FUN_10025aec @ 10025aec */

uint __cdecl FUN_10025aec(uint param_1,byte *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  
  if (param_2 == (byte *)0x0) {
    return 0;
  }
  uVar2 = ~param_1;
  if (7 < param_3) {
    uVar1 = param_3 >> 3;
    do {
      param_3 = param_3 - 8;
      uVar2 = *(uint *)(&DAT_1004ef90 + ((*param_2 ^ uVar2) & 0xff) * 4) ^ uVar2 >> 8;
      uVar2 = *(uint *)(&DAT_1004ef90 + ((param_2[1] ^ uVar2) & 0xff) * 4) ^ uVar2 >> 8;
      uVar2 = *(uint *)(&DAT_1004ef90 + ((param_2[2] ^ uVar2) & 0xff) * 4) ^ uVar2 >> 8;
      uVar2 = *(uint *)(&DAT_1004ef90 + ((param_2[3] ^ uVar2) & 0xff) * 4) ^ uVar2 >> 8;
      uVar2 = *(uint *)(&DAT_1004ef90 + ((param_2[4] ^ uVar2) & 0xff) * 4) ^ uVar2 >> 8;
      uVar2 = *(uint *)(&DAT_1004ef90 + ((param_2[5] ^ uVar2) & 0xff) * 4) ^ uVar2 >> 8;
      uVar2 = *(uint *)(&DAT_1004ef90 + ((param_2[6] ^ uVar2) & 0xff) * 4) ^ uVar2 >> 8;
      uVar2 = uVar2 >> 8 ^ *(uint *)(&DAT_1004ef90 + ((param_2[7] ^ uVar2) & 0xff) * 4);
      param_2 = param_2 + 8;
      uVar1 = uVar1 - 1;
    } while (uVar1 != 0);
  }
  for (; param_3 != 0; param_3 = param_3 - 1) {
    uVar2 = uVar2 >> 8 ^ *(uint *)(&DAT_1004ef90 + ((*param_2 ^ uVar2) & 0xff) * 4);
    param_2 = param_2 + 1;
  }
  return ~uVar2;
}



/* FUN_10025c00 @ 10025c00 */

float * FUN_10025c00(float *param_1,float *param_2,float *param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  
  fVar3 = param_3[1];
  fVar4 = param_3[2];
  fVar5 = param_3[3];
  fVar1 = *param_2;
  fVar6 = param_3[5];
  fVar7 = param_3[6];
  fVar8 = param_3[7];
  fVar2 = param_2[1];
  fVar9 = param_3[0xd];
  fVar10 = param_3[0xe];
  fVar11 = param_3[0xf];
  *param_1 = fVar1 * *param_3 + param_3[0xc] + fVar2 * param_3[4];
  param_1[1] = fVar1 * fVar3 + fVar9 + fVar2 * fVar6;
  param_1[2] = fVar1 * fVar4 + fVar10 + fVar2 * fVar7;
  param_1[3] = fVar1 * fVar5 + fVar11 + fVar2 * fVar8;
  return param_1;
}



/* FUN_10025c40 @ 10025c40 */

undefined8 * FUN_10025c40(undefined8 *param_1,float *param_2,float *param_3)

{
  float fVar1;
  float fVar2;
  undefined1 in_XMM0 [16];
  undefined1 auVar3 [16];
  float fVar4;
  float fVar5;
  float fVar6;
  
  fVar1 = *param_2;
  fVar2 = param_2[1];
  fVar4 = fVar1 * *param_3 + param_3[0xc] + fVar2 * param_3[4];
  fVar5 = fVar1 * param_3[1] + param_3[0xd] + fVar2 * param_3[5];
  fVar6 = fVar1 * param_3[3] + param_3[0xf] + fVar2 * param_3[7];
  auVar3._4_4_ = fVar5;
  auVar3._0_4_ = fVar4;
  auVar3._8_4_ = fVar1 * param_3[2] + param_3[0xe] + fVar2 * param_3[6];
  auVar3._12_4_ = fVar6;
  auVar3 = rcpps(in_XMM0,auVar3);
  fVar6 = auVar3._12_4_ * auVar3._12_4_ * fVar6;
  *param_1 = CONCAT44(fVar5 * fVar6,fVar4 * fVar6);
  return param_1;
}



/* FUN_10027fc6 @ 10027fc6 */

void FUN_10027fc6(undefined8 *param_1,undefined8 *param_2,undefined4 *param_3)

{
  undefined8 uVar1;
  ulonglong uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  
  uVar4 = *param_1;
  uVar1 = param_1[1];
  uVar5 = PackedFloatingMUL(uVar4,uVar4);
  uVar3 = PackedFloatingMUL(uVar1,uVar1);
  uVar5 = PackedFloatingADD(uVar5,uVar3);
  uVar5 = PackedFloatingAccumulate(uVar5,uVar5);
  uVar6 = PackedFloatingCompareGE(0x80000000800000,uVar5);
  uVar3 = PackedFloatingReciprocalSQRAprox(uVar3,uVar5);
  if ((int)uVar6 == 0) {
    uVar6 = PackedFloatingMUL(uVar3,uVar3);
    if (param_2 != (undefined8 *)0x0) {
      uVar5 = PackedFloatingReciprocalSQRIter1(uVar6,uVar5);
      uVar3 = PackedFloatingReciprocalIter2(uVar5,uVar3);
      uVar5 = PackedFloatingMUL(uVar4,uVar3);
      uVar4 = PackedFloatingMUL(uVar3,uVar1);
      *param_2 = uVar5;
      *(int *)(param_2 + 1) = (int)uVar4;
    }
    if (param_3 != (undefined4 *)0x0) {
      uVar2 = FUN_10034f00();
      uVar4 = PackedFloatingMUL(uVar2,0x4000000040000000);
      *param_3 = (int)uVar4;
    }
  }
  else {
    if (param_2 != (undefined8 *)0x0) {
      *(undefined8 *)((int)param_2 + 4) = 0;
      *(undefined4 *)param_2 = 0x3f800000;
    }
    if (param_3 != (undefined4 *)0x0) {
      *param_3 = 0;
    }
  }
  FastExitMediaState();
  return;
}



/* FUN_1002856f @ 1002856f */

void FUN_1002856f(undefined8 *param_1,ulonglong *param_2,uint param_3)

{
  ulonglong uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined4 uVar4;
  undefined8 local_18;
  uint local_10;
  
  FastExitMediaState();
  FUN_1002d2c2(&local_18,param_2);
  PackedFloatingMUL((ulonglong)param_3,0x3f0000003f000000);
  uVar1 = FUN_100354e0();
  uVar4 = (undefined4)(uVar1 >> 0x20);
  uVar3 = CONCAT44(uVar4,uVar4);
  uVar2 = PackedFloatingMUL(local_18,uVar3);
  uVar3 = PackedFloatingMUL((ulonglong)local_10,uVar3);
  *param_1 = uVar2;
  param_1[1] = CONCAT44((int)uVar1,(int)uVar3);
  FastExitMediaState();
  return;
}



/* FUN_100285db @ 100285db */

void FUN_100285db(undefined8 *param_1,undefined8 *param_2,undefined8 *param_3,uint param_4)

{
  undefined4 uVar1;
  uint uVar2;
  undefined8 uVar4;
  ulonglong uVar5;
  undefined8 uVar6;
  ulonglong uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  ulonglong uVar10;
  ulonglong uVar11;
  ulonglong uVar3;
  
  FastExitMediaState();
  uVar4 = PackedFloatingMUL(*param_2,*param_3);
  uVar6 = PackedFloatingMUL(param_2[1],param_3[1]);
  uVar4 = PackedFloatingADD(uVar4,uVar6);
  uVar3 = PackedFloatingSUB(0x3f800000,(ulonglong)param_4);
  uVar1 = (undefined4)uVar3;
  uVar5 = PackedFloatingAccumulate(uVar4,uVar4);
  uVar10 = PackedFloatingCompareGE(0,uVar5);
  uVar11 = uVar10 & 0x8000000080000000;
  uVar5 = uVar5 ^ uVar11;
  uVar6 = PackedFloatingCompareGE(0x3f7fff583f7fff58,uVar5);
  uVar4 = PackedFloatingMUL(uVar5,uVar5);
  uVar4 = PackedFloatingSUBR(uVar4,0x3f8000003f800000);
  if ((int)uVar6 != 0) {
    uVar8 = PackedFloatingReciprocalSQRAprox((ulonglong)param_4,uVar4);
    uVar6 = PackedFloatingMUL(uVar8,uVar8);
    uVar4 = PackedFloatingReciprocalSQRIter1(uVar4,uVar6);
    uVar7 = PackedFloatingReciprocalIter2(uVar4,uVar8);
    uVar4 = FloatingReciprocalAprox(uVar6,uVar7);
    uVar6 = PackedFloatingReciprocalIter1(uVar7,uVar4);
    PackedFloatingReciprocalIter2(uVar6,uVar4);
    uVar5 = FUN_10034e00();
    PackedFloatingMUL(uVar5,(ulonglong)param_4);
    uVar2 = FUN_10035600();
    PackedFloatingMUL(uVar5 & 0xffffffff,uVar3 & 0xffffffff);
    uVar4 = FUN_10035600();
    uVar11 = uVar10 & 0x80000000;
    uVar4 = PackedFloatingMUL(uVar4,uVar7 & 0xffffffff);
    uVar1 = (undefined4)uVar4;
    uVar4 = PackedFloatingMUL((ulonglong)uVar2,uVar7 & 0xffffffff);
    param_4 = (uint)uVar4;
  }
  uVar2 = param_4 ^ (uint)uVar11;
  uVar6 = CONCAT44(uVar2,uVar2);
  uVar4 = PackedFloatingMUL(CONCAT44(uVar1,uVar1),*param_2);
  uVar8 = PackedFloatingMUL(uVar6,*param_3);
  uVar9 = PackedFloatingMUL(CONCAT44(uVar1,uVar1),param_2[1]);
  uVar6 = PackedFloatingMUL(uVar6,param_3[1]);
  uVar4 = PackedFloatingADD(uVar4,uVar8);
  uVar6 = PackedFloatingADD(uVar9,uVar6);
  *param_1 = uVar4;
  param_1[1] = uVar6;
  FastExitMediaState();
  return;
}



/* FUN_10028712 @ 10028712 */

undefined8 *
FUN_10028712(undefined8 *param_1,undefined8 *param_2,undefined8 *param_3,undefined8 *param_4,
            uint param_5,uint param_6)

{
  ulonglong uVar1;
  undefined8 uVar2;
  undefined8 in_MM2;
  undefined8 uVar3;
  undefined8 local_28 [2];
  undefined8 local_18 [2];
  
  FastExitMediaState();
  uVar1 = PackedFloatingADD((ulonglong)param_5,(ulonglong)param_6);
  FUN_100285db(local_28,param_2,param_3,(uint)uVar1);
  FUN_100285db(local_18,param_2,param_4,(uint)uVar1);
  uVar3 = FloatingReciprocalAprox(in_MM2,uVar1 & 0xffffffff);
  uVar2 = PackedFloatingReciprocalIter1(uVar1 & 0xffffffff,uVar3);
  uVar2 = PackedFloatingReciprocalIter2(uVar2,uVar3);
  uVar2 = PackedFloatingMUL(uVar2,(ulonglong)param_6);
  FUN_100285db(param_1,local_28,local_18,(uint)uVar2);
  FastExitMediaState();
  return param_1;
}



/* FUN_1002879f @ 1002879f */

void FUN_1002879f(undefined8 *param_1,undefined8 *param_2,undefined8 *param_3,undefined8 *param_4,
                 undefined8 *param_5,uint param_6)

{
  ulonglong uVar1;
  undefined8 uVar2;
  undefined8 local_20 [2];
  undefined8 local_10 [2];
  
  FUN_100285db(local_20,param_2,param_5,param_6);
  FUN_100285db(local_10,param_3,param_4,param_6);
  uVar1 = (ulonglong)param_6;
  uVar2 = PackedFloatingMUL(uVar1,uVar1);
  uVar2 = PackedFloatingSUB(uVar1,uVar2);
  uVar2 = PackedFloatingMUL(uVar2,0x4000000040000000);
  FUN_100285db(param_1,local_20,local_10,(uint)uVar2);
  FastExitMediaState();
  return;
}



/* FUN_10028895 @ 10028895 */

void FUN_10028895(undefined8 *param_1,undefined8 *param_2)

{
  ulonglong uVar1;
  ulonglong uVar2;
  undefined8 uVar3;
  ulonglong uVar4;
  undefined4 uVar6;
  undefined8 uVar5;
  undefined8 in_MM4;
  undefined8 uVar7;
  
  FastExitMediaState();
  uVar3 = *param_2;
  uVar4 = param_2[1];
  uVar6 = (undefined4)(uVar4 >> 0x20);
  uVar5 = PackedFloatingCompareGE(CONCAT44(uVar6,uVar6),0x3f8000003f800000);
  if ((int)uVar5 == 0) {
    uVar1 = FUN_10034f00();
    uVar2 = FUN_10035600();
    uVar5 = PackedFloatingCompareGE(uVar2 & 0x7fffffff7fffffff,0x3400000034000000);
    uVar3 = *param_2;
    uVar4 = param_2[1];
    if ((int)uVar5 != 0) {
      uVar7 = FloatingReciprocalAprox(in_MM4,uVar2);
      uVar5 = PackedFloatingReciprocalIter1(uVar2,uVar7);
      uVar5 = PackedFloatingReciprocalIter2(uVar5,uVar7);
      uVar5 = PackedFloatingMUL(CONCAT44((int)uVar1,(int)uVar1),uVar5);
      uVar3 = PackedFloatingMUL(uVar3,uVar5);
      uVar4 = PackedFloatingMUL(uVar4,uVar5);
    }
  }
  *param_1 = uVar3;
  param_1[1] = uVar4 & 0xffffffff;
  FastExitMediaState();
  return;
}



/* FUN_100289e1 @ 100289e1 */

void FUN_100289e1(undefined8 *param_1,undefined8 *param_2,ulonglong *param_3,ulonglong *param_4,
                 ulonglong *param_5,ulonglong *param_6,ulonglong *param_7)

{
  undefined4 unaff_ESI;
  undefined8 uVar1;
  ulonglong uVar2;
  ulonglong uVar3;
  undefined8 uVar4;
  undefined4 uVar5;
  undefined8 uVar6;
  ulonglong uVar7;
  ulonglong uVar8;
  undefined8 uVar9;
  ulonglong uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  ulonglong uVar13;
  undefined8 uVar14;
  ulonglong local_a8;
  ulonglong local_a0;
  ulonglong local_88;
  ulonglong local_80;
  ulonglong local_78;
  ulonglong local_70;
  undefined4 local_20;
  
  local_a8 = *param_4;
  local_a0 = param_4[1];
  uVar8 = *param_5;
  uVar13 = param_5[1];
  uVar1 = PackedFloatingADD(local_a8,uVar8);
  uVar4 = PackedFloatingADD(local_a0,uVar13);
  uVar6 = PackedFloatingSUB(local_a8,uVar8);
  uVar1 = PackedFloatingMUL(uVar1,uVar1);
  uVar9 = PackedFloatingSUB(local_a0,uVar13);
  uVar4 = PackedFloatingMUL(uVar4,uVar4);
  uVar6 = PackedFloatingMUL(uVar6,uVar6);
  uVar9 = PackedFloatingMUL(uVar9,uVar9);
  uVar1 = PackedFloatingADD(uVar1,uVar4);
  uVar6 = PackedFloatingADD(uVar6,uVar9);
  local_88 = *param_6;
  local_80 = param_6[1];
  uVar11 = PackedFloatingADD(uVar8,local_88);
  uVar12 = PackedFloatingADD(uVar13,local_80);
  uVar4 = PackedFloatingSUB(uVar8,local_88);
  uVar9 = PackedFloatingSUB(uVar13,local_80);
  uVar11 = PackedFloatingMUL(uVar11,uVar11);
  uVar12 = PackedFloatingMUL(uVar12,uVar12);
  uVar4 = PackedFloatingMUL(uVar4,uVar4);
  uVar9 = PackedFloatingMUL(uVar9,uVar9);
  uVar11 = PackedFloatingADD(uVar11,uVar12);
  uVar4 = PackedFloatingADD(uVar4,uVar9);
  uVar1 = PackedFloatingAccumulate(uVar1,uVar11);
  uVar4 = PackedFloatingAccumulate(uVar6,uVar4);
  uVar1 = PackedFloatingCompareGT(uVar4,uVar1);
  uVar7 = packsswb(uVar1,uVar1);
  if ((uVar7 & 1) != 0) {
    local_a8 = *param_4 ^ 0x8000000080000000;
    local_a0 = param_4[1] ^ 0x8000000080000000;
  }
  if ((uVar7 & 0x10000) != 0) {
    local_88 = *param_6 ^ 0x8000000080000000;
    local_80 = param_6[1] ^ 0x8000000080000000;
  }
  local_78 = *param_7;
  uVar7 = param_7[1];
  uVar6 = PackedFloatingADD(local_88,local_78);
  uVar9 = PackedFloatingADD(local_80,uVar7);
  uVar1 = PackedFloatingSUB(local_88,local_78);
  uVar4 = PackedFloatingSUB(local_80,uVar7);
  uVar6 = PackedFloatingMUL(uVar6,uVar6);
  uVar9 = PackedFloatingMUL(uVar9,uVar9);
  uVar1 = PackedFloatingMUL(uVar1,uVar1);
  uVar4 = PackedFloatingMUL(uVar4,uVar4);
  uVar6 = PackedFloatingADD(uVar6,uVar9);
  uVar1 = PackedFloatingADD(uVar1,uVar4);
  uVar4 = PackedFloatingAccumulate(uVar6,uVar6);
  uVar1 = PackedFloatingAccumulate(uVar1,uVar1);
  uVar10 = PackedFloatingCompareGT(uVar1,uVar4);
  local_70 = uVar7;
  if ((uVar10 & 1) != 0) {
    local_78 = *param_7 ^ 0x8000000080000000;
    local_70 = param_7[1] ^ 0x8000000080000000;
  }
  uVar1 = PackedFloatingMUL(uVar8,uVar8);
  uVar4 = PackedFloatingMUL(uVar13,uVar13);
  uVar1 = PackedFloatingADD(uVar1,uVar4);
  uVar1 = PackedFloatingAccumulate(uVar1,uVar1);
  uVar4 = FloatingReciprocalAprox(uVar7,uVar1);
  uVar7 = PackedFloatingCompareGT(uVar1,0x80000000800000);
  uVar1 = PackedFloatingReciprocalIter1(uVar1,uVar4);
  uVar1 = PackedFloatingReciprocalIter2(uVar1,uVar4);
  uVar4 = PackedFloatingMUL((uVar8 ^ 0x8000000080000000) & uVar7,uVar1);
  uVar11 = PackedFloatingMUL((uVar13 ^ 0x80000000) & uVar7,uVar1);
  uVar10 = CONCAT44((int)local_a8,(int)(local_a8 >> 0x20));
  uVar2 = CONCAT44((int)local_a0,(int)(local_a0 >> 0x20));
  uVar7 = PackedFloatingMUL(local_a8,uVar11);
  uVar1 = PackedFloatingMUL(local_a0,uVar4);
  uVar9 = PackedFloatingMUL(uVar2 ^ 0x80000000,uVar4);
  uVar6 = PackedFloatingMUL(uVar10,uVar11);
  uVar1 = PackedFloatingADD(uVar7 ^ 0x80000000,uVar1);
  uVar6 = PackedFloatingSUB(uVar6,uVar9);
  uVar14 = PackedFloatingMUL(uVar2,uVar11);
  uVar6 = PackedFloatingAccumulate(uVar6,uVar1);
  uVar12 = PackedFloatingMUL(uVar10 ^ 0x80000000,uVar4);
  uVar1 = PackedFloatingMUL(local_a8,uVar4);
  uVar9 = PackedFloatingMUL(local_a0 ^ 0x80000000,uVar11);
  uVar12 = PackedFloatingADD(uVar12,uVar14);
  uVar1 = PackedFloatingSUB(uVar9,uVar1);
  uVar10 = PackedFloatingAccumulate(uVar12,uVar1);
  uVar2 = CONCAT44((int)local_88,(int)(local_88 >> 0x20));
  uVar3 = CONCAT44((int)local_80,(int)(local_80 >> 0x20));
  uVar7 = PackedFloatingMUL(local_88,uVar11);
  uVar1 = PackedFloatingMUL(local_80,uVar4);
  uVar12 = PackedFloatingMUL(uVar3 ^ 0x80000000,uVar4);
  uVar9 = PackedFloatingMUL(uVar2,uVar11);
  uVar1 = PackedFloatingADD(uVar7 ^ 0x80000000,uVar1);
  uVar9 = PackedFloatingSUB(uVar9,uVar12);
  uVar14 = PackedFloatingMUL(uVar3,uVar11);
  uVar9 = PackedFloatingAccumulate(uVar9,uVar1);
  uVar12 = PackedFloatingMUL(uVar2 ^ 0x80000000,uVar4);
  uVar1 = PackedFloatingMUL(local_88,uVar4);
  uVar4 = PackedFloatingMUL(local_80 ^ 0x80000000,uVar11);
  uVar11 = PackedFloatingADD(uVar12,uVar14);
  uVar1 = PackedFloatingSUB(uVar4,uVar1);
  uVar7 = PackedFloatingAccumulate(uVar11,uVar1);
  uVar5 = (undefined4)(uVar10 >> 0x20);
  uVar4 = PackedFloatingCompareGE(CONCAT44(uVar5,uVar5),0x3f8000003f800000);
  uVar1 = uVar9;
  if ((int)uVar4 == 0) {
    uVar2 = FUN_10034f00();
    uVar3 = FUN_10035600();
    uVar4 = PackedFloatingCompareGE(uVar3 & 0x7fffffff7fffffff,0x3400000034000000);
    if ((int)uVar4 != 0) {
      uVar1 = FloatingReciprocalAprox(uVar1,uVar3);
      uVar4 = PackedFloatingReciprocalIter1(uVar3,uVar1);
      uVar4 = PackedFloatingReciprocalIter2(uVar4,uVar1);
      uVar4 = PackedFloatingMUL(CONCAT44((int)uVar2,(int)uVar2),uVar4);
      uVar6 = PackedFloatingMUL(uVar6,uVar4);
      uVar10 = PackedFloatingMUL(uVar10,uVar4);
    }
  }
  uVar5 = (undefined4)(uVar7 >> 0x20);
  uVar4 = PackedFloatingCompareGE(CONCAT44(uVar5,uVar5),0x3f8000003f800000);
  if ((int)uVar4 == 0) {
    uVar2 = FUN_10034f00();
    uVar3 = FUN_10035600();
    uVar4 = PackedFloatingCompareGE(uVar3 & 0x7fffffff7fffffff,0x3400000034000000);
    if ((int)uVar4 != 0) {
      uVar4 = FloatingReciprocalAprox(uVar1,uVar3);
      uVar1 = PackedFloatingReciprocalIter1(uVar3,uVar4);
      uVar1 = PackedFloatingReciprocalIter2(uVar1,uVar4);
      uVar1 = PackedFloatingMUL(CONCAT44((int)uVar2,(int)uVar2),uVar1);
      uVar9 = PackedFloatingMUL(uVar9,uVar1);
      uVar7 = PackedFloatingMUL(uVar7,uVar1);
    }
  }
  uVar1 = PackedFloatingADD(uVar6,uVar9);
  uVar4 = PackedFloatingADD(uVar10 & 0xffffffff,uVar7 & 0xffffffff);
  uVar1 = PackedFloatingMUL(uVar1,0xbe800000be800000);
  uVar2 = PackedFloatingMUL(uVar4,0xbe800000be800000);
  uVar4 = PackedFloatingMUL(uVar1,uVar1);
  uVar6 = PackedFloatingMUL(uVar2 & 0xffffffff,uVar2 & 0xffffffff);
  uVar4 = PackedFloatingADD(uVar4,uVar6);
  uVar4 = PackedFloatingAccumulate(uVar4,uVar4);
  uVar6 = PackedFloatingReciprocalSQRAprox(uVar6,uVar4);
  uVar9 = PackedFloatingMUL(uVar6,uVar6);
  uVar9 = PackedFloatingReciprocalSQRIter1(uVar9,uVar4);
  uVar6 = PackedFloatingReciprocalIter2(uVar9,uVar6);
  PackedFloatingMUL(uVar4,uVar6);
  uVar7 = FUN_100354e0();
  uVar10 = PackedFloatingCompareGE(uVar7 & 0x7fffffffffffffff,0x3400000034000000);
  uVar5 = (undefined4)(uVar7 >> 0x20);
  uVar4 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),CONCAT44(unaff_ESI,(int)uVar6));
  local_20 = (undefined4)uVar2;
  if ((uVar10 & 0x100000000) != 0) {
    uVar4 = CONCAT44((int)uVar4,(int)uVar4);
    uVar6 = PackedFloatingMUL(uVar2 & 0xffffffff,uVar4);
    local_20 = (undefined4)uVar6;
    uVar1 = PackedFloatingMUL(uVar1,uVar4);
  }
  uVar10 = CONCAT44((int)uVar7,local_20);
  uVar2 = CONCAT44((int)uVar1,(int)((ulonglong)uVar1 >> 0x20));
  uVar3 = CONCAT44(local_20,(int)uVar7);
  uVar7 = PackedFloatingMUL(uVar1,uVar13);
  uVar4 = PackedFloatingMUL(uVar10,uVar8);
  uVar9 = PackedFloatingMUL(uVar3 ^ 0x80000000,uVar8);
  uVar6 = PackedFloatingMUL(uVar2,uVar13);
  uVar4 = PackedFloatingADD(uVar7 ^ 0x80000000,uVar4);
  uVar6 = PackedFloatingSUB(uVar6,uVar9);
  uVar11 = PackedFloatingMUL(uVar3,uVar13);
  uVar6 = PackedFloatingAccumulate(uVar6,uVar4);
  uVar9 = PackedFloatingMUL(uVar2 ^ 0x80000000,uVar8);
  uVar1 = PackedFloatingMUL(uVar1,uVar8);
  *param_1 = uVar6;
  uVar4 = PackedFloatingMUL(uVar10 ^ 0x80000000,uVar13);
  uVar9 = PackedFloatingADD(uVar9,uVar11);
  uVar1 = PackedFloatingSUB(uVar4,uVar1);
  uVar1 = PackedFloatingAccumulate(uVar9,uVar1);
  param_1[1] = uVar1;
  uVar1 = PackedFloatingMUL(local_88,local_88);
  uVar4 = PackedFloatingMUL(local_80,local_80);
  uVar1 = PackedFloatingADD(uVar1,uVar4);
  uVar1 = PackedFloatingAccumulate(uVar1,uVar1);
  uVar4 = FloatingReciprocalAprox(uVar6,uVar1);
  uVar7 = PackedFloatingCompareGT(uVar1,0x80000000800000);
  uVar1 = PackedFloatingReciprocalIter1(uVar1,uVar4);
  uVar1 = PackedFloatingReciprocalIter2(uVar1,uVar4);
  uVar4 = PackedFloatingMUL((local_88 ^ 0x8000000080000000) & uVar7,uVar1);
  uVar11 = PackedFloatingMUL((local_80 ^ 0x80000000) & uVar7,uVar1);
  uVar10 = CONCAT44((int)uVar8,(int)(uVar8 >> 0x20));
  uVar2 = CONCAT44((int)uVar13,(int)(uVar13 >> 0x20));
  uVar7 = PackedFloatingMUL(uVar8,uVar11);
  uVar1 = PackedFloatingMUL(uVar13,uVar4);
  uVar9 = PackedFloatingMUL(uVar2 ^ 0x80000000,uVar4);
  uVar6 = PackedFloatingMUL(uVar10,uVar11);
  uVar1 = PackedFloatingADD(uVar7 ^ 0x80000000,uVar1);
  uVar6 = PackedFloatingSUB(uVar6,uVar9);
  uVar14 = PackedFloatingMUL(uVar2,uVar11);
  uVar6 = PackedFloatingAccumulate(uVar6,uVar1);
  uVar12 = PackedFloatingMUL(uVar10 ^ 0x80000000,uVar4);
  uVar1 = PackedFloatingMUL(uVar8,uVar4);
  uVar9 = PackedFloatingMUL(uVar13 ^ 0x80000000,uVar11);
  uVar12 = PackedFloatingADD(uVar12,uVar14);
  uVar1 = PackedFloatingSUB(uVar9,uVar1);
  uVar13 = PackedFloatingAccumulate(uVar12,uVar1);
  uVar7 = CONCAT44((int)local_78,(int)(local_78 >> 0x20));
  uVar10 = CONCAT44((int)local_70,(int)(local_70 >> 0x20));
  uVar8 = PackedFloatingMUL(local_78,uVar11);
  uVar1 = PackedFloatingMUL(local_70,uVar4);
  uVar12 = PackedFloatingMUL(uVar10 ^ 0x80000000,uVar4);
  uVar9 = PackedFloatingMUL(uVar7,uVar11);
  uVar1 = PackedFloatingADD(uVar8 ^ 0x80000000,uVar1);
  uVar9 = PackedFloatingSUB(uVar9,uVar12);
  uVar14 = PackedFloatingMUL(uVar10,uVar11);
  uVar9 = PackedFloatingAccumulate(uVar9,uVar1);
  uVar12 = PackedFloatingMUL(uVar7 ^ 0x80000000,uVar4);
  uVar1 = PackedFloatingMUL(local_78,uVar4);
  uVar4 = PackedFloatingMUL(local_70 ^ 0x80000000,uVar11);
  uVar11 = PackedFloatingADD(uVar12,uVar14);
  uVar1 = PackedFloatingSUB(uVar4,uVar1);
  uVar8 = PackedFloatingAccumulate(uVar11,uVar1);
  uVar5 = (undefined4)(uVar13 >> 0x20);
  uVar4 = PackedFloatingCompareGE(CONCAT44(uVar5,uVar5),0x3f8000003f800000);
  uVar1 = uVar9;
  if ((int)uVar4 == 0) {
    uVar7 = FUN_10034f00();
    uVar10 = FUN_10035600();
    uVar4 = PackedFloatingCompareGE(uVar10 & 0x7fffffff7fffffff,0x3400000034000000);
    if ((int)uVar4 != 0) {
      uVar1 = FloatingReciprocalAprox(uVar1,uVar10);
      uVar4 = PackedFloatingReciprocalIter1(uVar10,uVar1);
      uVar4 = PackedFloatingReciprocalIter2(uVar4,uVar1);
      uVar4 = PackedFloatingMUL(CONCAT44((int)uVar7,(int)uVar7),uVar4);
      uVar6 = PackedFloatingMUL(uVar6,uVar4);
      uVar13 = PackedFloatingMUL(uVar13,uVar4);
    }
  }
  uVar5 = (undefined4)(uVar8 >> 0x20);
  uVar4 = PackedFloatingCompareGE(CONCAT44(uVar5,uVar5),0x3f8000003f800000);
  if ((int)uVar4 == 0) {
    uVar7 = FUN_10034f00();
    uVar10 = FUN_10035600();
    uVar4 = PackedFloatingCompareGE(uVar10 & 0x7fffffff7fffffff,0x3400000034000000);
    if ((int)uVar4 != 0) {
      uVar4 = FloatingReciprocalAprox(uVar1,uVar10);
      uVar1 = PackedFloatingReciprocalIter1(uVar10,uVar4);
      uVar1 = PackedFloatingReciprocalIter2(uVar1,uVar4);
      uVar1 = PackedFloatingMUL(CONCAT44((int)uVar7,(int)uVar7),uVar1);
      uVar9 = PackedFloatingMUL(uVar9,uVar1);
      uVar8 = PackedFloatingMUL(uVar8,uVar1);
    }
  }
  uVar1 = PackedFloatingADD(uVar6,uVar9);
  uVar4 = PackedFloatingADD(uVar13 & 0xffffffff,uVar8 & 0xffffffff);
  uVar1 = PackedFloatingMUL(uVar1,0xbe800000be800000);
  uVar7 = PackedFloatingMUL(uVar4,0xbe800000be800000);
  uVar4 = PackedFloatingMUL(uVar1,uVar1);
  uVar6 = PackedFloatingMUL(uVar7 & 0xffffffff,uVar7 & 0xffffffff);
  uVar4 = PackedFloatingADD(uVar4,uVar6);
  uVar4 = PackedFloatingAccumulate(uVar4,uVar4);
  uVar6 = PackedFloatingReciprocalSQRAprox(uVar6,uVar4);
  uVar9 = PackedFloatingMUL(uVar6,uVar6);
  uVar9 = PackedFloatingReciprocalSQRIter1(uVar9,uVar4);
  uVar6 = PackedFloatingReciprocalIter2(uVar9,uVar6);
  PackedFloatingMUL(uVar4,uVar6);
  uVar8 = FUN_100354e0();
  uVar13 = PackedFloatingCompareGE(uVar8 & 0x7fffffffffffffff,0x3400000034000000);
  uVar5 = (undefined4)(uVar8 >> 0x20);
  uVar4 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),CONCAT44(unaff_ESI,(int)uVar6));
  local_20 = (undefined4)uVar7;
  if ((uVar13 & 0x100000000) != 0) {
    uVar4 = CONCAT44((int)uVar4,(int)uVar4);
    uVar6 = PackedFloatingMUL(uVar7 & 0xffffffff,uVar4);
    local_20 = (undefined4)uVar6;
    uVar1 = PackedFloatingMUL(uVar1,uVar4);
  }
  uVar13 = CONCAT44((int)uVar8,local_20);
  uVar7 = CONCAT44((int)uVar1,(int)((ulonglong)uVar1 >> 0x20));
  uVar10 = CONCAT44(local_20,(int)uVar8);
  uVar8 = PackedFloatingMUL(uVar1,local_80);
  uVar4 = PackedFloatingMUL(uVar13,local_88);
  uVar9 = PackedFloatingMUL(uVar10 ^ 0x80000000,local_88);
  uVar6 = PackedFloatingMUL(uVar7,local_80);
  uVar4 = PackedFloatingADD(uVar8 ^ 0x80000000,uVar4);
  uVar6 = PackedFloatingSUB(uVar6,uVar9);
  uVar9 = PackedFloatingMUL(uVar10,local_80);
  uVar4 = PackedFloatingAccumulate(uVar6,uVar4);
  uVar6 = PackedFloatingMUL(uVar7 ^ 0x80000000,local_88);
  uVar1 = PackedFloatingMUL(uVar1,local_88);
  *param_2 = uVar4;
  uVar4 = PackedFloatingMUL(uVar13 ^ 0x80000000,local_80);
  uVar6 = PackedFloatingADD(uVar6,uVar9);
  uVar1 = PackedFloatingSUB(uVar4,uVar1);
  uVar1 = PackedFloatingAccumulate(uVar6,uVar1);
  param_2[1] = uVar1;
  *param_3 = local_88;
  param_3[1] = local_80;
  FastExitMediaState();
  return;
}



/* FUN_10029b22 @ 10029b22 */

void __cdecl FUN_10029b22(undefined8 *param_1)

{
  *param_1 = 0x3f800000;
  param_1[1] = 0;
  param_1[3] = 0;
  param_1[4] = 0;
  param_1[5] = 0x3f800000;
  param_1[6] = 0;
  param_1[2] = 0x3f80000000000000;
  param_1[7] = 0x3f80000000000000;
  FastExitMediaState();
  return;
}



/* FUN_10029ce2 @ 10029ce2 */

void FUN_10029ce2(ulonglong *param_1,undefined8 *param_2,undefined8 *param_3,ulonglong *param_4,
                 undefined8 *param_5,undefined8 *param_6,undefined8 *param_7)

{
  undefined4 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined4 uVar7;
  ulonglong uVar5;
  ulonglong uVar6;
  undefined8 uVar8;
  ulonglong uVar9;
  ulonglong uVar10;
  ulonglong uVar11;
  ulonglong uVar12;
  ulonglong uVar13;
  undefined4 uVar16;
  ulonglong uVar14;
  undefined8 uVar15;
  ulonglong uVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined8 uVar20;
  undefined8 uVar21;
  uint uVar24;
  undefined8 uVar22;
  undefined8 uVar23;
  undefined4 uVar25;
  undefined8 uVar26;
  undefined4 uVar29;
  ulonglong uVar27;
  ulonglong uVar28;
  
  if (param_4 == (ulonglong *)0x0) {
    *param_1 = 0x3f800000;
    param_1[1] = 0;
    param_1[2] = 0x3f80000000000000;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = 0x3f800000;
    param_1[6] = 0;
    param_1[7] = 0x3f80000000000000;
  }
  else if (param_3 == (undefined8 *)0x0) {
    uVar12 = *param_4;
    uVar11 = param_4[1];
    *param_1 = uVar12 & 0xffffffff;
    param_1[1] = 0;
    param_1[2] = uVar12 & 0xffffffff00000000;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = (ulonglong)(uint)uVar11;
    param_1[6] = 0;
    param_1[7] = 0x3f80000000000000;
  }
  else {
    uVar13 = (ulonglong)(uint)param_4[1];
    uVar27 = *param_4 & 0xffffffff;
    uVar17 = *param_4 & 0xffffffff00000000;
    uVar21 = *param_3;
    uVar4 = param_3[1];
    uVar2 = PackedFloatingADD(uVar21,uVar21);
    uVar3 = PackedFloatingADD(uVar4,uVar4);
    uVar7 = (undefined4)((ulonglong)uVar21 >> 0x20);
    uVar16 = (undefined4)((ulonglong)uVar4 >> 0x20);
    uVar26 = CONCAT44(uVar16,uVar16);
    uVar8 = PackedFloatingMUL(uVar21,uVar2);
    uVar21 = CONCAT44((int)uVar2,(int)uVar3);
    uVar18 = PackedFloatingMUL(uVar2,uVar26);
    uVar3 = PackedFloatingMUL(CONCAT44((int)uVar4,(int)uVar4),uVar21);
    uVar4 = PackedFloatingMUL(uVar21,CONCAT44(uVar7,uVar7));
    uVar21 = PackedFloatingMUL(uVar21,uVar26);
    uVar2 = CONCAT44((int)((ulonglong)uVar3 >> 0x20),(int)((ulonglong)uVar4 >> 0x20));
    uVar26 = PackedFloatingADD(CONCAT44((int)uVar3,(int)uVar3),uVar8);
    uVar3 = PackedFloatingAccumulate(uVar8,uVar8);
    uVar21 = CONCAT44((int)((ulonglong)uVar18 >> 0x20),(int)uVar21);
    uVar9 = PackedFloatingSUBR(uVar3,0x3f8000003f800000);
    uVar8 = PackedFloatingSUBR(uVar26,0x3f8000003f800000);
    uVar10 = uVar9 & 0xffffffff;
    uVar3 = PackedFloatingADD(uVar2,uVar21);
    uVar14 = PackedFloatingSUB(uVar2,uVar21);
    uVar5 = PackedFloatingADD(uVar4,uVar18);
    uVar11 = PackedFloatingSUB(uVar4,uVar18);
    uVar28 = uVar5 & 0xffffffff;
    uVar16 = (undefined4)uVar14;
    uVar25 = (undefined4)uVar8;
    uVar4 = CONCAT44(uVar25,uVar16);
    uVar7 = (undefined4)uVar3;
    uVar12 = uVar14 >> 0x20;
    uVar24 = (uint)((ulonglong)uVar3 >> 0x20);
    uVar29 = (undefined4)((ulonglong)uVar8 >> 0x20);
    uVar21 = CONCAT44(uVar7,uVar29);
    uVar2 = CONCAT44((int)uVar11,uVar24);
    uVar1 = (undefined4)(uVar14 >> 0x20);
    if (param_2 == (undefined8 *)0x0) {
      *param_1 = CONCAT44(uVar16,uVar29);
      param_1[2] = CONCAT44(uVar25,uVar7);
      param_1[5] = uVar9 & 0xffffffff;
      param_1[7] = 0x3f80000000000000;
      param_1[4] = CONCAT44((int)uVar5,uVar1);
      param_1[6] = 0;
      param_1[3] = uVar11 & 0xffffffff;
      param_1[1] = (ulonglong)uVar24;
      uVar7 = (undefined4)(*param_1 >> 0x20);
      uVar16 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar27,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,0);
      uVar20 = PackedFloatingMUL(uVar17,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(0,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar13);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar5 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      *param_1 = uVar5;
      param_1[1] = uVar11;
      uVar7 = (undefined4)(param_1[2] >> 0x20);
      uVar16 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar27,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,0);
      uVar20 = PackedFloatingMUL(uVar17,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(0,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar13);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar5 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[2] = uVar5;
      param_1[3] = uVar11;
      uVar7 = (undefined4)(param_1[4] >> 0x20);
      uVar16 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar27,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,0);
      uVar20 = PackedFloatingMUL(uVar17,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(0,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar13);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar5 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[4] = uVar5;
      param_1[5] = uVar11;
      uVar7 = (undefined4)(param_1[6] >> 0x20);
      uVar16 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar27,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,0);
      uVar20 = PackedFloatingMUL(uVar17,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(0,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar13);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar27 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[6] = uVar27;
      param_1[7] = uVar11;
      uVar7 = (undefined4)(*param_1 >> 0x20);
      uVar16 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar4,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar28);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar2,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar10);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar27 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      *param_1 = uVar27;
      param_1[1] = uVar11;
      uVar7 = (undefined4)(param_1[2] >> 0x20);
      uVar16 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar4,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar28);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar2,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar10);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar27 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[2] = uVar27;
      param_1[3] = uVar11;
      uVar7 = (undefined4)(param_1[4] >> 0x20);
      uVar16 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar4,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar28);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar2,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar10);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar27 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[4] = uVar27;
      param_1[5] = uVar11;
      uVar7 = (undefined4)(param_1[6] >> 0x20);
      uVar16 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar3 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar26 = PackedFloatingMUL(uVar21,uVar3);
      uVar21 = CONCAT44(uVar7,uVar7);
      uVar3 = PackedFloatingMUL(uVar3,uVar12);
      uVar18 = PackedFloatingMUL(uVar4,uVar21);
      uVar4 = CONCAT44(uVar16,uVar16);
      uVar21 = PackedFloatingMUL(uVar21,uVar28);
      uVar26 = PackedFloatingADD(uVar18,uVar26);
      uVar18 = PackedFloatingMUL(uVar2,uVar8);
      uVar2 = PackedFloatingADD(uVar21,uVar3);
      uVar21 = PackedFloatingMUL(uVar8,uVar10);
      uVar3 = PackedFloatingADD(uVar18,uVar26);
      uVar8 = PackedFloatingMUL(0,uVar4);
      uVar21 = PackedFloatingADD(uVar2,uVar21);
      uVar4 = PackedFloatingMUL(uVar4,0x3f80000000000000);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      uVar12 = PackedFloatingADD(uVar4,uVar21);
      param_1[6] = uVar11;
      param_1[7] = uVar12;
    }
    else {
      uVar26 = CONCAT44(uVar16,uVar29);
      uVar20 = CONCAT44(uVar25,uVar7);
      uVar9 = uVar9 & 0xffffffff;
      uVar22 = CONCAT44((int)uVar5,uVar1);
      uVar11 = uVar11 & 0xffffffff;
      uVar14 = (ulonglong)uVar24;
      uVar3 = *param_2;
      uVar24 = *(uint *)(param_2 + 1);
      *param_1 = 0x3f800000;
      param_1[1] = 0;
      param_1[2] = 0x3f80000000000000;
      param_1[3] = 0;
      param_1[4] = 0;
      param_1[5] = 0x3f800000;
      uVar6 = PackedFloatingSUB(0x3f80000000000000,(ulonglong)uVar24);
      uVar5 = PackedFloatingSUB(0,uVar3);
      param_1[7] = uVar6;
      param_1[6] = uVar5;
      uVar7 = (undefined4)(*param_1 >> 0x20);
      uVar16 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar23 = CONCAT44(uVar1,uVar1);
      uVar15 = PackedFloatingMUL(uVar26,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar18 = PackedFloatingMUL(uVar8,uVar14);
      uVar19 = PackedFloatingMUL(uVar20,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar15 = PackedFloatingADD(uVar19,uVar15);
      uVar19 = PackedFloatingMUL(uVar22,uVar23);
      uVar18 = PackedFloatingADD(uVar3,uVar18);
      uVar3 = PackedFloatingMUL(uVar23,uVar9);
      uVar23 = PackedFloatingADD(uVar19,uVar15);
      uVar15 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar18,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar6 = PackedFloatingADD(uVar15,uVar23);
      uVar5 = PackedFloatingADD(uVar8,uVar3);
      *param_1 = uVar6;
      param_1[1] = uVar5;
      uVar7 = (undefined4)(param_1[2] >> 0x20);
      uVar16 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar23 = CONCAT44(uVar1,uVar1);
      uVar15 = PackedFloatingMUL(uVar26,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar18 = PackedFloatingMUL(uVar8,uVar14);
      uVar19 = PackedFloatingMUL(uVar20,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar15 = PackedFloatingADD(uVar19,uVar15);
      uVar19 = PackedFloatingMUL(uVar22,uVar23);
      uVar18 = PackedFloatingADD(uVar3,uVar18);
      uVar3 = PackedFloatingMUL(uVar23,uVar9);
      uVar23 = PackedFloatingADD(uVar19,uVar15);
      uVar15 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar18,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar6 = PackedFloatingADD(uVar15,uVar23);
      uVar5 = PackedFloatingADD(uVar8,uVar3);
      param_1[2] = uVar6;
      param_1[3] = uVar5;
      uVar7 = (undefined4)(param_1[4] >> 0x20);
      uVar16 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar23 = CONCAT44(uVar1,uVar1);
      uVar15 = PackedFloatingMUL(uVar26,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar18 = PackedFloatingMUL(uVar8,uVar14);
      uVar19 = PackedFloatingMUL(uVar20,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar15 = PackedFloatingADD(uVar19,uVar15);
      uVar19 = PackedFloatingMUL(uVar22,uVar23);
      uVar18 = PackedFloatingADD(uVar3,uVar18);
      uVar3 = PackedFloatingMUL(uVar23,uVar9);
      uVar23 = PackedFloatingADD(uVar19,uVar15);
      uVar15 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar18,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar6 = PackedFloatingADD(uVar15,uVar23);
      uVar5 = PackedFloatingADD(uVar8,uVar3);
      param_1[4] = uVar6;
      param_1[5] = uVar5;
      uVar7 = (undefined4)(param_1[6] >> 0x20);
      uVar16 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar26,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar14);
      uVar20 = PackedFloatingMUL(uVar20,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar22,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar9);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar5 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[6] = uVar5;
      param_1[7] = uVar11;
      uVar7 = (undefined4)(*param_1 >> 0x20);
      uVar16 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar27,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,0);
      uVar20 = PackedFloatingMUL(uVar17,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(0,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar13);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar5 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      *param_1 = uVar5;
      param_1[1] = uVar11;
      uVar7 = (undefined4)(param_1[2] >> 0x20);
      uVar16 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar27,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,0);
      uVar20 = PackedFloatingMUL(uVar17,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(0,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar13);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar5 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[2] = uVar5;
      param_1[3] = uVar11;
      uVar7 = (undefined4)(param_1[4] >> 0x20);
      uVar16 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar27,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,0);
      uVar20 = PackedFloatingMUL(uVar17,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(0,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar13);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar5 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[4] = uVar5;
      param_1[5] = uVar11;
      uVar7 = (undefined4)(param_1[6] >> 0x20);
      uVar16 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar27,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,0);
      uVar20 = PackedFloatingMUL(uVar17,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(0,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar13);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar27 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[6] = uVar27;
      param_1[7] = uVar11;
      uVar7 = (undefined4)(*param_1 >> 0x20);
      uVar16 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar4,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar28);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar2,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar10);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar27 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      *param_1 = uVar27;
      param_1[1] = uVar11;
      uVar7 = (undefined4)(param_1[2] >> 0x20);
      uVar16 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar4,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar28);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar2,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar10);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar27 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[2] = uVar27;
      param_1[3] = uVar11;
      uVar7 = (undefined4)(param_1[4] >> 0x20);
      uVar16 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar4,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar28);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar2,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar10);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar27 = PackedFloatingADD(uVar23,uVar18);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      param_1[4] = uVar27;
      param_1[5] = uVar11;
      uVar7 = (undefined4)(param_1[6] >> 0x20);
      uVar16 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar3 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar26 = PackedFloatingMUL(uVar21,uVar3);
      uVar21 = CONCAT44(uVar7,uVar7);
      uVar3 = PackedFloatingMUL(uVar3,uVar12);
      uVar18 = PackedFloatingMUL(uVar4,uVar21);
      uVar4 = CONCAT44(uVar16,uVar16);
      uVar21 = PackedFloatingMUL(uVar21,uVar28);
      uVar26 = PackedFloatingADD(uVar18,uVar26);
      uVar18 = PackedFloatingMUL(uVar2,uVar8);
      uVar2 = PackedFloatingADD(uVar21,uVar3);
      uVar21 = PackedFloatingMUL(uVar8,uVar10);
      uVar3 = PackedFloatingADD(uVar18,uVar26);
      uVar8 = PackedFloatingMUL(0,uVar4);
      uVar21 = PackedFloatingADD(uVar2,uVar21);
      uVar4 = PackedFloatingMUL(uVar4,0x3f80000000000000);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      uVar12 = PackedFloatingADD(uVar4,uVar21);
      param_1[6] = uVar11;
      param_1[7] = uVar12;
      uVar12 = PackedFloatingADD(*param_2,param_1[6]);
      uVar21 = PackedFloatingADD((ulonglong)*(uint *)(param_2 + 1),(ulonglong)(uint)param_1[7]);
      param_1[6] = uVar12;
      *(int *)(param_1 + 7) = (int)uVar21;
    }
  }
  if (param_6 != (undefined8 *)0x0) {
    uVar21 = *param_6;
    uVar4 = param_6[1];
    uVar2 = PackedFloatingADD(uVar21,uVar21);
    uVar3 = PackedFloatingADD(uVar4,uVar4);
    uVar7 = (undefined4)((ulonglong)uVar21 >> 0x20);
    uVar16 = (undefined4)((ulonglong)uVar4 >> 0x20);
    uVar26 = CONCAT44(uVar16,uVar16);
    uVar8 = PackedFloatingMUL(uVar21,uVar2);
    uVar21 = CONCAT44((int)uVar2,(int)uVar3);
    uVar18 = PackedFloatingMUL(uVar2,uVar26);
    uVar3 = PackedFloatingMUL(CONCAT44((int)uVar4,(int)uVar4),uVar21);
    uVar4 = PackedFloatingMUL(uVar21,CONCAT44(uVar7,uVar7));
    uVar21 = PackedFloatingMUL(uVar21,uVar26);
    uVar2 = CONCAT44((int)((ulonglong)uVar3 >> 0x20),(int)((ulonglong)uVar4 >> 0x20));
    uVar26 = PackedFloatingADD(CONCAT44((int)uVar3,(int)uVar3),uVar8);
    uVar3 = PackedFloatingAccumulate(uVar8,uVar8);
    uVar21 = CONCAT44((int)((ulonglong)uVar18 >> 0x20),(int)uVar21);
    uVar27 = PackedFloatingSUBR(uVar3,0x3f8000003f800000);
    uVar8 = PackedFloatingSUBR(uVar26,0x3f8000003f800000);
    uVar27 = uVar27 & 0xffffffff;
    uVar3 = PackedFloatingADD(uVar2,uVar21);
    uVar12 = PackedFloatingSUB(uVar2,uVar21);
    uVar11 = PackedFloatingADD(uVar4,uVar18);
    uVar4 = PackedFloatingSUB(uVar4,uVar18);
    uVar11 = uVar11 & 0xffffffff;
    uVar2 = CONCAT44((int)uVar8,(int)uVar12);
    uVar12 = uVar12 >> 0x20;
    uVar21 = CONCAT44((int)uVar3,(int)((ulonglong)uVar8 >> 0x20));
    uVar4 = CONCAT44((int)uVar4,(int)((ulonglong)uVar3 >> 0x20));
    if (param_5 == (undefined8 *)0x0) {
      uVar7 = (undefined4)(*param_1 >> 0x20);
      uVar16 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar2,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar4,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar27);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar23,uVar18);
      uVar5 = PackedFloatingADD(uVar8,uVar3);
      *param_1 = uVar28;
      param_1[1] = uVar5;
      uVar7 = (undefined4)(param_1[2] >> 0x20);
      uVar16 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar2,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar4,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar27);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar23,uVar18);
      uVar5 = PackedFloatingADD(uVar8,uVar3);
      param_1[2] = uVar28;
      param_1[3] = uVar5;
      uVar7 = (undefined4)(param_1[4] >> 0x20);
      uVar16 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar2,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar4,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar27);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar23,uVar18);
      uVar5 = PackedFloatingADD(uVar8,uVar3);
      param_1[4] = uVar28;
      param_1[5] = uVar5;
      uVar7 = (undefined4)(param_1[6] >> 0x20);
      uVar16 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar3 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar26 = PackedFloatingMUL(uVar21,uVar3);
      uVar21 = CONCAT44(uVar7,uVar7);
      uVar3 = PackedFloatingMUL(uVar3,uVar12);
      uVar18 = PackedFloatingMUL(uVar2,uVar21);
      uVar2 = CONCAT44(uVar16,uVar16);
      uVar21 = PackedFloatingMUL(uVar21,uVar11);
      uVar26 = PackedFloatingADD(uVar18,uVar26);
      uVar18 = PackedFloatingMUL(uVar4,uVar8);
      uVar4 = PackedFloatingADD(uVar21,uVar3);
      uVar21 = PackedFloatingMUL(uVar8,uVar27);
      uVar3 = PackedFloatingADD(uVar18,uVar26);
      uVar8 = PackedFloatingMUL(0,uVar2);
      uVar21 = PackedFloatingADD(uVar4,uVar21);
      uVar4 = PackedFloatingMUL(uVar2,0x3f80000000000000);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      uVar12 = PackedFloatingADD(uVar4,uVar21);
      param_1[6] = uVar11;
      param_1[7] = uVar12;
    }
    else {
      uVar5 = PackedFloatingSUB(param_1[6],*param_5);
      uVar3 = PackedFloatingSUB((ulonglong)(uint)param_1[7],(ulonglong)*(uint *)(param_5 + 1));
      param_1[6] = uVar5;
      *(int *)(param_1 + 7) = (int)uVar3;
      uVar7 = (undefined4)(*param_1 >> 0x20);
      uVar16 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar2,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar4,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar27);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar23,uVar18);
      uVar5 = PackedFloatingADD(uVar8,uVar3);
      *param_1 = uVar28;
      param_1[1] = uVar5;
      uVar7 = (undefined4)(param_1[2] >> 0x20);
      uVar16 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar2,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar4,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar27);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar23,uVar18);
      uVar5 = PackedFloatingADD(uVar8,uVar3);
      param_1[2] = uVar28;
      param_1[3] = uVar5;
      uVar7 = (undefined4)(param_1[4] >> 0x20);
      uVar16 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar18 = CONCAT44(uVar1,uVar1);
      uVar23 = PackedFloatingMUL(uVar21,uVar8);
      uVar3 = CONCAT44(uVar7,uVar7);
      uVar26 = PackedFloatingMUL(uVar8,uVar12);
      uVar20 = PackedFloatingMUL(uVar2,uVar3);
      uVar8 = CONCAT44(uVar16,uVar16);
      uVar3 = PackedFloatingMUL(uVar3,uVar11);
      uVar23 = PackedFloatingADD(uVar20,uVar23);
      uVar20 = PackedFloatingMUL(uVar4,uVar18);
      uVar26 = PackedFloatingADD(uVar3,uVar26);
      uVar3 = PackedFloatingMUL(uVar18,uVar27);
      uVar18 = PackedFloatingADD(uVar20,uVar23);
      uVar23 = PackedFloatingMUL(0,uVar8);
      uVar3 = PackedFloatingADD(uVar26,uVar3);
      uVar8 = PackedFloatingMUL(uVar8,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar23,uVar18);
      uVar5 = PackedFloatingADD(uVar8,uVar3);
      param_1[4] = uVar28;
      param_1[5] = uVar5;
      uVar7 = (undefined4)(param_1[6] >> 0x20);
      uVar16 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar3 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar26 = PackedFloatingMUL(uVar21,uVar3);
      uVar21 = CONCAT44(uVar7,uVar7);
      uVar3 = PackedFloatingMUL(uVar3,uVar12);
      uVar18 = PackedFloatingMUL(uVar2,uVar21);
      uVar2 = CONCAT44(uVar16,uVar16);
      uVar21 = PackedFloatingMUL(uVar21,uVar11);
      uVar26 = PackedFloatingADD(uVar18,uVar26);
      uVar18 = PackedFloatingMUL(uVar4,uVar8);
      uVar4 = PackedFloatingADD(uVar21,uVar3);
      uVar21 = PackedFloatingMUL(uVar8,uVar27);
      uVar3 = PackedFloatingADD(uVar18,uVar26);
      uVar8 = PackedFloatingMUL(0,uVar2);
      uVar21 = PackedFloatingADD(uVar4,uVar21);
      uVar4 = PackedFloatingMUL(uVar2,0x3f80000000000000);
      uVar11 = PackedFloatingADD(uVar8,uVar3);
      uVar12 = PackedFloatingADD(uVar4,uVar21);
      param_1[6] = uVar11;
      param_1[7] = uVar12;
      uVar12 = PackedFloatingADD(param_1[6],*param_5);
      uVar21 = PackedFloatingADD((ulonglong)(uint)param_1[7],(ulonglong)*(uint *)(param_5 + 1));
      param_1[6] = uVar12;
      *(int *)(param_1 + 7) = (int)uVar21;
    }
  }
  if (param_7 != (undefined8 *)0x0) {
    uVar12 = PackedFloatingADD(param_1[6],*param_7);
    uVar21 = PackedFloatingADD((ulonglong)(uint)param_1[7],(ulonglong)*(uint *)(param_7 + 1));
    param_1[6] = uVar12;
    *(int *)(param_1 + 7) = (int)uVar21;
  }
  FastExitMediaState();
  return;
}



/* FUN_1002ae7a @ 1002ae7a */

void FUN_1002ae7a(undefined8 *param_1,undefined8 param_2,undefined8 param_3)

{
  undefined4 uVar1;
  ulonglong uVar2;
  ulonglong uVar3;
  ulonglong uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined4 uVar9;
  undefined8 uVar8;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined4 uVar12;
  undefined8 uVar13;
  
  PackedFloatingMUL(0x3f0000003f000000,param_3);
  PackedFloatingMUL(0x3f0000003f000000,param_2);
  uVar2 = FUN_100354e0();
  uVar3 = FUN_100354e0();
  uVar4 = FUN_100354e0();
  uVar1 = (undefined4)uVar4;
  uVar9 = (undefined4)(uVar4 >> 0x20);
  uVar7 = CONCAT44((int)uVar3,(int)uVar3);
  uVar12 = (undefined4)(uVar3 >> 0x20);
  uVar10 = CONCAT44(uVar12,uVar12);
  uVar5 = PackedFloatingMUL(CONCAT44(uVar1,uVar1) ^ 0x8000000000000000,uVar10);
  uVar6 = PackedFloatingMUL(CONCAT44(uVar1,uVar1),uVar7);
  uVar8 = PackedFloatingMUL(CONCAT44(uVar9,uVar9),uVar7);
  uVar10 = PackedFloatingMUL(CONCAT44(uVar9,uVar9) ^ 0x80000000,uVar10);
  uVar13 = CONCAT44((int)uVar2,(int)(uVar2 >> 0x20));
  uVar5 = PackedFloatingMUL(uVar5,uVar2);
  uVar7 = PackedFloatingMUL(uVar6,uVar13);
  uVar6 = PackedFloatingMUL(uVar8,uVar13);
  uVar8 = PackedFloatingMUL(uVar10,uVar2);
  uVar5 = PackedFloatingADD(uVar5,uVar6);
  uVar8 = PackedFloatingADD(uVar7,uVar8);
  uVar7 = PackedFloatingADD(uVar5,uVar5);
  uVar6 = PackedFloatingADD(uVar8,uVar8);
  uVar1 = (undefined4)((ulonglong)uVar5 >> 0x20);
  uVar9 = (undefined4)((ulonglong)uVar8 >> 0x20);
  uVar13 = CONCAT44(uVar9,uVar9);
  uVar10 = PackedFloatingMUL(uVar5,uVar7);
  uVar5 = CONCAT44((int)uVar7,(int)uVar6);
  uVar11 = PackedFloatingMUL(uVar7,uVar13);
  uVar8 = PackedFloatingMUL(CONCAT44((int)uVar8,(int)uVar8),uVar5);
  uVar7 = PackedFloatingMUL(uVar5,CONCAT44(uVar1,uVar1));
  uVar5 = PackedFloatingMUL(uVar5,uVar13);
  uVar6 = CONCAT44((int)((ulonglong)uVar8 >> 0x20),(int)((ulonglong)uVar7 >> 0x20));
  param_1[6] = 0;
  uVar13 = PackedFloatingADD(CONCAT44((int)uVar8,(int)uVar8),uVar10);
  uVar8 = PackedFloatingAccumulate(uVar10,uVar10);
  uVar5 = CONCAT44((int)((ulonglong)uVar11 >> 0x20),(int)uVar5);
  uVar2 = PackedFloatingSUBR(uVar8,0x3f8000003f800000);
  uVar10 = PackedFloatingSUBR(uVar13,0x3f8000003f800000);
  uVar8 = PackedFloatingADD(uVar6,uVar5);
  param_1[5] = uVar2 & 0xffffffff;
  uVar3 = PackedFloatingSUB(uVar6,uVar5);
  uVar2 = PackedFloatingADD(uVar7,uVar11);
  uVar5 = PackedFloatingSUB(uVar7,uVar11);
  param_1[3] = uVar2 & 0xffffffff;
  param_1[1] = uVar3 >> 0x20;
  param_1[2] = CONCAT44((int)uVar10,(int)uVar3);
  *param_1 = CONCAT44((int)uVar8,(int)((ulonglong)uVar10 >> 0x20));
  param_1[4] = CONCAT44((int)uVar5,(int)((ulonglong)uVar8 >> 0x20));
  param_1[7] = 0x3f80000000000000;
  FastExitMediaState();
  return;
}



/* FUN_1002b553 @ 1002b553 */

void FUN_1002b553(undefined8 *param_1,ulonglong *param_2)

{
  ulonglong uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  ulonglong uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined4 uVar9;
  ulonglong local_20;
  uint local_18;
  
  local_20 = *param_2;
  local_18 = (uint)param_2[1];
  FUN_1002d2c2(&local_20,&local_20);
  uVar1 = FUN_100354e0();
  uVar2 = PackedFloatingSUBR(uVar1,0x3f8000003f800000);
  uVar9 = (undefined4)(uVar1 >> 0x20);
  uVar4 = (ulonglong)local_18;
  uVar5 = PackedFloatingMUL(CONCAT44(local_18,local_18),local_20);
  uVar2 = CONCAT44((int)uVar2,(int)uVar2);
  uVar3 = PackedFloatingMUL(CONCAT44(local_18,(int)(local_20 >> 0x20)),local_20);
  uVar8 = CONCAT44((int)uVar1,(int)uVar1);
  uVar3 = PackedFloatingMUL(uVar3,uVar2);
  uVar5 = PackedFloatingMUL(uVar5,uVar2);
  uVar6 = PackedFloatingMUL(local_20,local_20);
  uVar7 = PackedFloatingMUL(uVar4,uVar4);
  uVar6 = PackedFloatingMUL(uVar6,uVar2);
  uVar2 = PackedFloatingMUL(uVar7,uVar2);
  uVar6 = PackedFloatingADD(uVar6,uVar8);
  uVar1 = PackedFloatingADD(uVar2,uVar8);
  uVar2 = CONCAT44(uVar9,uVar9);
  uVar8 = PackedFloatingMUL(local_20,uVar2);
  uVar2 = PackedFloatingMUL(uVar4,uVar2);
  param_1[6] = 0;
  uVar7 = CONCAT44((int)uVar8,(int)uVar2);
  uVar9 = (undefined4)((ulonglong)uVar8 >> 0x20);
  uVar8 = CONCAT44(uVar9,uVar9);
  param_1[5] = uVar1 & 0xffffffff;
  uVar2 = PackedFloatingSUB(uVar3,uVar7);
  uVar1 = PackedFloatingADD(uVar3,uVar7);
  uVar4 = PackedFloatingSUB(uVar5,uVar8);
  *param_1 = CONCAT44((int)uVar1,(int)uVar6);
  param_1[1] = uVar4 & 0xffffffff;
  uVar8 = PackedFloatingADD(CONCAT44((int)uVar5,(int)uVar5),uVar8);
  param_1[3] = uVar1 >> 0x20;
  param_1[7] = 0x3f80000000000000;
  param_1[4] = CONCAT44((int)((ulonglong)uVar2 >> 0x20),(int)((ulonglong)uVar8 >> 0x20));
  param_1[2] = CONCAT44((int)((ulonglong)uVar6 >> 0x20),(int)uVar2);
  FastExitMediaState();
  return;
}



/* FUN_1002b66c @ 1002b66c */

void FUN_1002b66c(ulonglong *param_1,undefined8 *param_2,undefined8 *param_3,ulonglong *param_4,
                 undefined8 *param_5,undefined8 *param_6,undefined8 *param_7)

{
  undefined4 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined8 uVar7;
  undefined8 in_MM2;
  undefined8 uVar8;
  ulonglong uVar9;
  ulonglong uVar10;
  uint uVar11;
  ulonglong in_MM3;
  undefined8 uVar12;
  undefined8 uVar13;
  ulonglong uVar14;
  ulonglong uVar15;
  ulonglong uVar16;
  ulonglong uVar17;
  undefined8 uVar18;
  ulonglong uVar19;
  undefined8 uVar20;
  ulonglong uVar21;
  ulonglong uVar22;
  undefined8 uVar23;
  undefined8 uVar24;
  undefined4 uVar26;
  undefined8 uVar25;
  undefined4 uVar27;
  ulonglong uVar28;
  ulonglong uVar29;
  
  if (param_4 == (ulonglong *)0x0) {
    uVar16 = PackedSwapDWords(in_MM2,0x3f800000);
    *param_1 = 0x3f800000;
    param_1[1] = 0;
    param_1[2] = uVar16;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = 0x3f800000;
    param_1[6] = 0;
    param_1[7] = uVar16;
  }
  else if (param_3 == (undefined8 *)0x0) {
    in_MM3 = *param_4;
    uVar16 = param_4[1];
    *param_1 = in_MM3 & 0xffffffff;
    param_1[1] = 0;
    param_1[2] = in_MM3 & 0xffffffff00000000;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = (ulonglong)(uint)uVar16;
    param_1[6] = 0;
    param_1[7] = 0x3f80000000000000;
  }
  else {
    uVar16 = *param_4;
    uVar17 = (ulonglong)(uint)param_4[1];
    uVar28 = uVar16 & 0xffffffff;
    uVar21 = uVar16 & 0xffffffff00000000;
    uVar4 = *param_3;
    uVar18 = param_3[1];
    uVar12 = PackedSwapDWords(uVar16,uVar4);
    uVar2 = PackedFloatingADD(uVar4,uVar4);
    uVar7 = PackedFloatingADD(uVar18,uVar18);
    uVar3 = PackedFloatingMUL(uVar2,uVar4);
    uVar8 = PackedFloatingMUL(uVar4,uVar7);
    uVar13 = PackedFloatingMUL(uVar12,uVar7);
    uVar12 = PackedFloatingMUL(uVar7,uVar18);
    uVar2 = PackedFloatingMUL(CONCAT44((int)((ulonglong)uVar18 >> 0x20),
                                       (int)((ulonglong)uVar4 >> 0x20)),
                              CONCAT44((int)uVar7,(int)uVar2));
    uVar4 = PackedFloatingSUBR(uVar3,0x3f8000003f800000);
    uVar14 = PackedFloatingPosNegAccumulate(uVar13,uVar13);
    uVar18 = PackedFloatingAccumulate(uVar3,uVar3);
    uVar3 = PackedFloatingPosNegAccumulate(uVar2,uVar2);
    uVar9 = PackedFloatingPosNegAccumulate(uVar8,uVar8);
    uVar4 = PackedFloatingSUB(uVar4,CONCAT44((int)uVar12,(int)uVar12));
    uVar22 = PackedSwapDWords(uVar12,uVar9);
    uVar19 = PackedFloatingSUBR(uVar18,0x3f8000003f800000);
    uVar2 = CONCAT44((int)uVar14,(int)uVar22);
    uVar10 = uVar9 & 0xffffffff;
    uVar16 = uVar19 >> 0x20;
    uVar5 = (undefined4)((ulonglong)uVar4 >> 0x20);
    uVar26 = (undefined4)((ulonglong)uVar3 >> 0x20);
    uVar18 = CONCAT44(uVar26,uVar5);
    uVar29 = uVar14 >> 0x20;
    uVar6 = (undefined4)uVar4;
    uVar1 = (undefined4)uVar3;
    uVar4 = CONCAT44(uVar6,uVar1);
    uVar27 = (undefined4)(uVar14 >> 0x20);
    uVar11 = (uint)(uVar19 >> 0x20);
    if (param_2 == (undefined8 *)0x0) {
      *param_1 = CONCAT44(uVar1,uVar5);
      param_1[2] = CONCAT44(uVar6,uVar26);
      param_1[5] = (ulonglong)uVar11;
      param_1[7] = 0x3f80000000000000;
      param_1[4] = CONCAT44(uVar27,(int)uVar9);
      param_1[6] = 0;
      param_1[3] = uVar14 & 0xffffffff;
      param_1[1] = uVar22 & 0xffffffff;
      uVar5 = (undefined4)(*param_1 >> 0x20);
      uVar6 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar28,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,0);
      uVar24 = PackedFloatingMUL(uVar21,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(0,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar17);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      *param_1 = uVar9;
      param_1[1] = uVar14;
      uVar5 = (undefined4)(param_1[2] >> 0x20);
      uVar6 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar28,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,0);
      uVar24 = PackedFloatingMUL(uVar21,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(0,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar17);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[2] = uVar9;
      param_1[3] = uVar14;
      uVar5 = (undefined4)(param_1[4] >> 0x20);
      uVar6 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar28,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,0);
      uVar24 = PackedFloatingMUL(uVar21,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(0,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar17);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[4] = uVar9;
      param_1[5] = uVar14;
      uVar5 = (undefined4)(param_1[6] >> 0x20);
      uVar6 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar28,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,0);
      uVar24 = PackedFloatingMUL(uVar21,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(0,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar17);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[6] = uVar28;
      param_1[7] = uVar14;
      uVar5 = (undefined4)(*param_1 >> 0x20);
      uVar6 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar10);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      *param_1 = uVar28;
      param_1[1] = uVar14;
      uVar5 = (undefined4)(param_1[2] >> 0x20);
      uVar6 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar10);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[2] = uVar28;
      param_1[3] = uVar14;
      uVar5 = (undefined4)(param_1[4] >> 0x20);
      uVar6 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar10);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[4] = uVar28;
      param_1[5] = uVar14;
      uVar5 = (undefined4)(param_1[6] >> 0x20);
      uVar6 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar3 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar12 = PackedFloatingMUL(uVar18,uVar3);
      uVar18 = CONCAT44(uVar5,uVar5);
      uVar3 = PackedFloatingMUL(uVar3,uVar10);
      uVar8 = PackedFloatingMUL(uVar4,uVar18);
      uVar4 = CONCAT44(uVar6,uVar6);
      uVar18 = PackedFloatingMUL(uVar18,uVar29);
      uVar12 = PackedFloatingADD(uVar8,uVar12);
      uVar8 = PackedFloatingMUL(uVar2,uVar7);
      uVar2 = PackedFloatingADD(uVar18,uVar3);
      uVar18 = PackedFloatingMUL(uVar7,uVar16);
      uVar3 = PackedFloatingADD(uVar8,uVar12);
      uVar7 = PackedFloatingMUL(0,uVar4);
      uVar18 = PackedFloatingADD(uVar2,uVar18);
      uVar4 = PackedFloatingMUL(uVar4,0x3f80000000000000);
      uVar16 = PackedFloatingADD(uVar7,uVar3);
      in_MM3 = PackedFloatingADD(uVar4,uVar18);
      param_1[6] = uVar16;
      param_1[7] = in_MM3;
    }
    else {
      uVar12 = CONCAT44(uVar1,uVar5);
      uVar24 = CONCAT44(uVar6,uVar26);
      uVar15 = (ulonglong)uVar11;
      uVar25 = CONCAT44(uVar27,(int)uVar9);
      uVar14 = uVar14 & 0xffffffff;
      uVar22 = uVar22 & 0xffffffff;
      uVar3 = *param_2;
      uVar11 = *(uint *)(param_2 + 1);
      uVar9 = PackedSwapDWords(uVar22,0x3f800000);
      *param_1 = 0x3f800000;
      param_1[1] = 0;
      param_1[2] = uVar9;
      param_1[3] = 0;
      param_1[4] = 0;
      param_1[5] = 0x3f800000;
      uVar19 = PackedFloatingSUB(uVar9,(ulonglong)uVar11);
      uVar9 = PackedFloatingSUB(0,uVar3);
      param_1[7] = uVar19;
      param_1[6] = uVar9;
      uVar5 = (undefined4)(*param_1 >> 0x20);
      uVar6 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar13 = CONCAT44(uVar1,uVar1);
      uVar20 = PackedFloatingMUL(uVar12,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar8 = PackedFloatingMUL(uVar7,uVar22);
      uVar23 = PackedFloatingMUL(uVar24,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar14);
      uVar20 = PackedFloatingADD(uVar23,uVar20);
      uVar23 = PackedFloatingMUL(uVar25,uVar13);
      uVar8 = PackedFloatingADD(uVar3,uVar8);
      uVar3 = PackedFloatingMUL(uVar13,uVar15);
      uVar13 = PackedFloatingADD(uVar23,uVar20);
      uVar20 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar8,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar19 = PackedFloatingADD(uVar20,uVar13);
      uVar9 = PackedFloatingADD(uVar7,uVar3);
      *param_1 = uVar19;
      param_1[1] = uVar9;
      uVar5 = (undefined4)(param_1[2] >> 0x20);
      uVar6 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar13 = CONCAT44(uVar1,uVar1);
      uVar20 = PackedFloatingMUL(uVar12,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar8 = PackedFloatingMUL(uVar7,uVar22);
      uVar23 = PackedFloatingMUL(uVar24,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar14);
      uVar20 = PackedFloatingADD(uVar23,uVar20);
      uVar23 = PackedFloatingMUL(uVar25,uVar13);
      uVar8 = PackedFloatingADD(uVar3,uVar8);
      uVar3 = PackedFloatingMUL(uVar13,uVar15);
      uVar13 = PackedFloatingADD(uVar23,uVar20);
      uVar20 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar8,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar19 = PackedFloatingADD(uVar20,uVar13);
      uVar9 = PackedFloatingADD(uVar7,uVar3);
      param_1[2] = uVar19;
      param_1[3] = uVar9;
      uVar5 = (undefined4)(param_1[4] >> 0x20);
      uVar6 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar13 = CONCAT44(uVar1,uVar1);
      uVar20 = PackedFloatingMUL(uVar12,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar8 = PackedFloatingMUL(uVar7,uVar22);
      uVar23 = PackedFloatingMUL(uVar24,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar14);
      uVar20 = PackedFloatingADD(uVar23,uVar20);
      uVar23 = PackedFloatingMUL(uVar25,uVar13);
      uVar8 = PackedFloatingADD(uVar3,uVar8);
      uVar3 = PackedFloatingMUL(uVar13,uVar15);
      uVar13 = PackedFloatingADD(uVar23,uVar20);
      uVar20 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar8,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar19 = PackedFloatingADD(uVar20,uVar13);
      uVar9 = PackedFloatingADD(uVar7,uVar3);
      param_1[4] = uVar19;
      param_1[5] = uVar9;
      uVar5 = (undefined4)(param_1[6] >> 0x20);
      uVar6 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar12,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar22);
      uVar24 = PackedFloatingMUL(uVar24,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar14);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar25,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar15);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[6] = uVar9;
      param_1[7] = uVar14;
      uVar5 = (undefined4)(*param_1 >> 0x20);
      uVar6 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar28,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,0);
      uVar24 = PackedFloatingMUL(uVar21,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(0,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar17);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      *param_1 = uVar9;
      param_1[1] = uVar14;
      uVar5 = (undefined4)(param_1[2] >> 0x20);
      uVar6 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar28,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,0);
      uVar24 = PackedFloatingMUL(uVar21,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(0,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar17);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[2] = uVar9;
      param_1[3] = uVar14;
      uVar5 = (undefined4)(param_1[4] >> 0x20);
      uVar6 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar28,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,0);
      uVar24 = PackedFloatingMUL(uVar21,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(0,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar17);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[4] = uVar9;
      param_1[5] = uVar14;
      uVar5 = (undefined4)(param_1[6] >> 0x20);
      uVar6 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar28,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,0);
      uVar24 = PackedFloatingMUL(uVar21,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,0);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(0,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar17);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[6] = uVar28;
      param_1[7] = uVar14;
      uVar5 = (undefined4)(*param_1 >> 0x20);
      uVar6 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar10);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      *param_1 = uVar28;
      param_1[1] = uVar14;
      uVar5 = (undefined4)(param_1[2] >> 0x20);
      uVar6 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar10);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[2] = uVar28;
      param_1[3] = uVar14;
      uVar5 = (undefined4)(param_1[4] >> 0x20);
      uVar6 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar10);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar28 = PackedFloatingADD(uVar13,uVar8);
      uVar14 = PackedFloatingADD(uVar7,uVar3);
      param_1[4] = uVar28;
      param_1[5] = uVar14;
      uVar5 = (undefined4)(param_1[6] >> 0x20);
      uVar6 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar3 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar12 = PackedFloatingMUL(uVar18,uVar3);
      uVar18 = CONCAT44(uVar5,uVar5);
      uVar3 = PackedFloatingMUL(uVar3,uVar10);
      uVar8 = PackedFloatingMUL(uVar4,uVar18);
      uVar4 = CONCAT44(uVar6,uVar6);
      uVar18 = PackedFloatingMUL(uVar18,uVar29);
      uVar12 = PackedFloatingADD(uVar8,uVar12);
      uVar8 = PackedFloatingMUL(uVar2,uVar7);
      uVar2 = PackedFloatingADD(uVar18,uVar3);
      uVar18 = PackedFloatingMUL(uVar7,uVar16);
      uVar3 = PackedFloatingADD(uVar8,uVar12);
      uVar7 = PackedFloatingMUL(0,uVar4);
      uVar18 = PackedFloatingADD(uVar2,uVar18);
      uVar4 = PackedFloatingMUL(uVar4,0x3f80000000000000);
      uVar29 = PackedFloatingADD(uVar7,uVar3);
      uVar16 = PackedFloatingADD(uVar4,uVar18);
      param_1[6] = uVar29;
      param_1[7] = uVar16;
      in_MM3 = (ulonglong)(uint)param_1[7];
      uVar16 = PackedFloatingADD(*param_2,param_1[6]);
      uVar4 = PackedFloatingADD((ulonglong)*(uint *)(param_2 + 1),in_MM3);
      param_1[6] = uVar16;
      *(int *)(param_1 + 7) = (int)uVar4;
    }
  }
  if (param_6 != (undefined8 *)0x0) {
    uVar4 = *param_6;
    uVar18 = param_6[1];
    uVar12 = PackedSwapDWords(in_MM3,uVar4);
    uVar2 = PackedFloatingADD(uVar4,uVar4);
    uVar7 = PackedFloatingADD(uVar18,uVar18);
    uVar3 = PackedFloatingMUL(uVar2,uVar4);
    uVar8 = PackedFloatingMUL(uVar4,uVar7);
    uVar13 = PackedFloatingMUL(uVar12,uVar7);
    uVar12 = PackedFloatingMUL(uVar7,uVar18);
    uVar2 = PackedFloatingMUL(CONCAT44((int)((ulonglong)uVar18 >> 0x20),
                                       (int)((ulonglong)uVar4 >> 0x20)),
                              CONCAT44((int)uVar7,(int)uVar2));
    uVar4 = PackedFloatingSUBR(uVar3,0x3f8000003f800000);
    uVar29 = PackedFloatingPosNegAccumulate(uVar13,uVar13);
    uVar18 = PackedFloatingAccumulate(uVar3,uVar3);
    uVar3 = PackedFloatingPosNegAccumulate(uVar2,uVar2);
    uVar14 = PackedFloatingPosNegAccumulate(uVar8,uVar8);
    uVar4 = PackedFloatingSUB(uVar4,CONCAT44((int)uVar12,(int)uVar12));
    uVar2 = PackedSwapDWords(uVar12,uVar14);
    uVar16 = PackedFloatingSUBR(uVar18,0x3f8000003f800000);
    uVar2 = CONCAT44((int)uVar29,(int)uVar2);
    uVar14 = uVar14 & 0xffffffff;
    uVar16 = uVar16 >> 0x20;
    uVar18 = CONCAT44((int)((ulonglong)uVar3 >> 0x20),(int)((ulonglong)uVar4 >> 0x20));
    uVar29 = uVar29 >> 0x20;
    uVar4 = CONCAT44((int)uVar4,(int)uVar3);
    if (param_5 == (undefined8 *)0x0) {
      uVar5 = (undefined4)(*param_1 >> 0x20);
      uVar6 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar14);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar28 = PackedFloatingADD(uVar7,uVar3);
      *param_1 = uVar9;
      param_1[1] = uVar28;
      uVar5 = (undefined4)(param_1[2] >> 0x20);
      uVar6 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar14);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar28 = PackedFloatingADD(uVar7,uVar3);
      param_1[2] = uVar9;
      param_1[3] = uVar28;
      uVar5 = (undefined4)(param_1[4] >> 0x20);
      uVar6 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar14);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar28 = PackedFloatingADD(uVar7,uVar3);
      param_1[4] = uVar9;
      param_1[5] = uVar28;
      uVar5 = (undefined4)(param_1[6] >> 0x20);
      uVar6 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar3 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar12 = PackedFloatingMUL(uVar18,uVar3);
      uVar18 = CONCAT44(uVar5,uVar5);
      uVar3 = PackedFloatingMUL(uVar3,uVar14);
      uVar8 = PackedFloatingMUL(uVar4,uVar18);
      uVar4 = CONCAT44(uVar6,uVar6);
      uVar18 = PackedFloatingMUL(uVar18,uVar29);
      uVar12 = PackedFloatingADD(uVar8,uVar12);
      uVar8 = PackedFloatingMUL(uVar2,uVar7);
      uVar2 = PackedFloatingADD(uVar18,uVar3);
      uVar18 = PackedFloatingMUL(uVar7,uVar16);
      uVar3 = PackedFloatingADD(uVar8,uVar12);
      uVar7 = PackedFloatingMUL(0,uVar4);
      uVar18 = PackedFloatingADD(uVar2,uVar18);
      uVar4 = PackedFloatingMUL(uVar4,0x3f80000000000000);
      uVar29 = PackedFloatingADD(uVar7,uVar3);
      uVar16 = PackedFloatingADD(uVar4,uVar18);
      param_1[6] = uVar29;
      param_1[7] = uVar16;
    }
    else {
      uVar28 = PackedFloatingSUB(param_1[6],*param_5);
      uVar3 = PackedFloatingSUB((ulonglong)(uint)param_1[7],(ulonglong)*(uint *)(param_5 + 1));
      param_1[6] = uVar28;
      *(int *)(param_1 + 7) = (int)uVar3;
      uVar5 = (undefined4)(*param_1 >> 0x20);
      uVar6 = (undefined4)(param_1[1] >> 0x20);
      uVar1 = (undefined4)*param_1;
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[1];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar14);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar28 = PackedFloatingADD(uVar7,uVar3);
      *param_1 = uVar9;
      param_1[1] = uVar28;
      uVar5 = (undefined4)(param_1[2] >> 0x20);
      uVar6 = (undefined4)(param_1[3] >> 0x20);
      uVar1 = (undefined4)param_1[2];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[3];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar14);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar28 = PackedFloatingADD(uVar7,uVar3);
      param_1[2] = uVar9;
      param_1[3] = uVar28;
      uVar5 = (undefined4)(param_1[4] >> 0x20);
      uVar6 = (undefined4)(param_1[5] >> 0x20);
      uVar1 = (undefined4)param_1[4];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[5];
      uVar8 = CONCAT44(uVar1,uVar1);
      uVar13 = PackedFloatingMUL(uVar18,uVar7);
      uVar3 = CONCAT44(uVar5,uVar5);
      uVar12 = PackedFloatingMUL(uVar7,uVar14);
      uVar24 = PackedFloatingMUL(uVar4,uVar3);
      uVar7 = CONCAT44(uVar6,uVar6);
      uVar3 = PackedFloatingMUL(uVar3,uVar29);
      uVar13 = PackedFloatingADD(uVar24,uVar13);
      uVar24 = PackedFloatingMUL(uVar2,uVar8);
      uVar12 = PackedFloatingADD(uVar3,uVar12);
      uVar3 = PackedFloatingMUL(uVar8,uVar16);
      uVar8 = PackedFloatingADD(uVar24,uVar13);
      uVar13 = PackedFloatingMUL(0,uVar7);
      uVar3 = PackedFloatingADD(uVar12,uVar3);
      uVar7 = PackedFloatingMUL(uVar7,0x3f80000000000000);
      uVar9 = PackedFloatingADD(uVar13,uVar8);
      uVar28 = PackedFloatingADD(uVar7,uVar3);
      param_1[4] = uVar9;
      param_1[5] = uVar28;
      uVar5 = (undefined4)(param_1[6] >> 0x20);
      uVar6 = (undefined4)(param_1[7] >> 0x20);
      uVar1 = (undefined4)param_1[6];
      uVar3 = CONCAT44(uVar1,uVar1);
      uVar1 = (undefined4)param_1[7];
      uVar7 = CONCAT44(uVar1,uVar1);
      uVar12 = PackedFloatingMUL(uVar18,uVar3);
      uVar18 = CONCAT44(uVar5,uVar5);
      uVar3 = PackedFloatingMUL(uVar3,uVar14);
      uVar8 = PackedFloatingMUL(uVar4,uVar18);
      uVar4 = CONCAT44(uVar6,uVar6);
      uVar18 = PackedFloatingMUL(uVar18,uVar29);
      uVar12 = PackedFloatingADD(uVar8,uVar12);
      uVar8 = PackedFloatingMUL(uVar2,uVar7);
      uVar2 = PackedFloatingADD(uVar18,uVar3);
      uVar18 = PackedFloatingMUL(uVar7,uVar16);
      uVar3 = PackedFloatingADD(uVar8,uVar12);
      uVar7 = PackedFloatingMUL(0,uVar4);
      uVar18 = PackedFloatingADD(uVar2,uVar18);
      uVar4 = PackedFloatingMUL(uVar4,0x3f80000000000000);
      uVar29 = PackedFloatingADD(uVar7,uVar3);
      uVar16 = PackedFloatingADD(uVar4,uVar18);
      param_1[6] = uVar29;
      param_1[7] = uVar16;
      uVar16 = PackedFloatingADD(param_1[6],*param_5);
      uVar4 = PackedFloatingADD((ulonglong)(uint)param_1[7],(ulonglong)*(uint *)(param_5 + 1));
      param_1[6] = uVar16;
      *(int *)(param_1 + 7) = (int)uVar4;
    }
  }
  if (param_7 != (undefined8 *)0x0) {
    uVar16 = PackedFloatingADD(param_1[6],*param_7);
    uVar4 = PackedFloatingADD((ulonglong)(uint)param_1[7],(ulonglong)*(uint *)(param_7 + 1));
    param_1[6] = uVar16;
    *(int *)(param_1 + 7) = (int)uVar4;
  }
  FastExitMediaState();
  return;
}



/* FUN_1002c7c0 @ 1002c7c0 */

void FUN_1002c7c0(undefined8 *param_1,undefined4 *param_2,undefined8 *param_3)

{
  undefined8 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined8 in_MM4;
  undefined8 uVar8;
  undefined4 uVar10;
  undefined8 uVar9;
  undefined8 in_MM5;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 in_MM6;
  undefined8 uVar14;
  undefined8 uVar15;
  undefined8 uVar16;
  undefined8 in_MM7;
  undefined8 uVar17;
  undefined4 uStack_2c;
  
  uVar2 = param_3[2];
  uVar3 = param_3[4];
  uVar11 = PackedSwapDWords(in_MM5,uVar2);
  uVar8 = PackedSwapDWords(in_MM4,uVar3);
  uVar1 = *param_3;
  uVar14 = PackedSwapDWords(in_MM6,param_3[6]);
  uVar17 = PackedSwapDWords(in_MM7,uVar3);
  uVar11 = PackedFloatingMUL(uVar11,uVar1);
  uVar8 = PackedFloatingMUL(uVar8,uVar1);
  uVar14 = PackedFloatingMUL(uVar14,uVar1);
  uVar1 = PackedSwapDWords(uVar1,param_3[6]);
  uVar17 = PackedFloatingMUL(uVar17,uVar2);
  uVar12 = PackedFloatingNegAccumulate(uVar11,uVar8);
  uVar2 = PackedFloatingMUL(uVar2,uVar1);
  uVar3 = PackedFloatingMUL(uVar3,uVar1);
  uVar17 = PackedFloatingNegAccumulate(uVar14,uVar17);
  uVar1 = PackedFloatingNegAccumulate(uVar2,uVar3);
  uVar2 = param_3[7];
  uVar3 = param_3[5];
  uVar4 = (undefined4)((ulonglong)uVar17 >> 0x20);
  uVar10 = (undefined4)((ulonglong)uVar1 >> 0x20);
  uVar8 = PackedFloatingMUL(CONCAT44(uVar4,uVar4),uVar2);
  uVar6 = (undefined4)uVar1;
  uVar1 = PackedFloatingMUL(CONCAT44(uVar10,uVar10),param_3[3]);
  uVar11 = PackedFloatingMUL(CONCAT44(uVar6,uVar6),uVar3);
  uVar1 = PackedFloatingADD(uVar8,uVar1);
  uVar14 = PackedFloatingSUB(uVar1,uVar11);
  uVar7 = (undefined4)uVar17;
  uVar5 = (undefined4)((ulonglong)uVar12 >> 0x20);
  uVar8 = PackedFloatingMUL(CONCAT44(uVar10,uVar10),param_3[1]);
  uVar1 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),uVar2);
  uVar9 = PackedFloatingMUL(CONCAT44(uVar7,uVar7),uVar3);
  uVar1 = PackedFloatingSUB(uVar1,uVar9);
  uVar17 = PackedFloatingADD(uVar1,uVar8);
  uVar8 = CONCAT44((int)uVar12,(int)uVar12);
  uVar1 = PackedFloatingMUL(CONCAT44(uVar6,uVar6),param_3[1]);
  uVar2 = PackedFloatingMUL(uVar2,uVar8);
  uVar11 = PackedFloatingMUL(CONCAT44(uVar7,uVar7),param_3[3]);
  uVar2 = PackedFloatingADD(uVar2,uVar1);
  uVar11 = PackedFloatingSUB(uVar2,uVar11);
  uVar1 = PackedFloatingMUL(uVar8,uVar3);
  uVar13 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),param_3[3]);
  uVar2 = param_3[1];
  uVar15 = PackedFloatingMUL(CONCAT44(uVar4,uVar4),param_3[1]);
  uVar1 = PackedFloatingSUB(uVar1,uVar13);
  uVar12 = PackedFloatingADD(uVar1,uVar15);
  uVar1 = param_3[3];
  uVar8 = param_3[5];
  uVar13 = PackedSwapDWords(uVar13,uVar1);
  uVar9 = PackedSwapDWords(uVar9,uVar8);
  uVar13 = PackedFloatingMUL(uVar13,uVar2);
  uVar15 = PackedSwapDWords(uVar15,param_3[7]);
  uVar9 = PackedFloatingMUL(uVar9,uVar2);
  uVar3 = PackedSwapDWords(uVar3,uVar8);
  uVar16 = PackedFloatingMUL(uVar15,uVar2);
  uVar2 = PackedSwapDWords(uVar2,param_3[7]);
  uVar15 = PackedFloatingNegAccumulate(uVar13,uVar9);
  uVar9 = PackedFloatingMUL(uVar3,uVar1);
  uVar3 = PackedFloatingMUL(uVar1,uVar2);
  uVar2 = PackedFloatingMUL(uVar8,uVar2);
  uVar13 = PackedFloatingNegAccumulate(uVar16,uVar9);
  uVar1 = PackedFloatingNegAccumulate(uVar3,uVar2);
  uVar2 = param_3[6];
  uVar3 = param_3[4];
  uVar10 = (undefined4)((ulonglong)uVar1 >> 0x20);
  uVar6 = (undefined4)uVar1;
  uVar4 = (undefined4)((ulonglong)uVar13 >> 0x20);
  uVar9 = PackedFloatingMUL(CONCAT44(uVar10,uVar10),param_3[2]);
  uVar1 = PackedFloatingMUL(CONCAT44(uVar4,uVar4),uVar2);
  uVar8 = PackedFloatingMUL(CONCAT44(uVar6,uVar6),uVar3);
  uVar1 = PackedFloatingADD(uVar1,uVar9);
  uVar9 = PackedFloatingSUB(uVar1,uVar8);
  uVar7 = (undefined4)uVar13;
  uVar5 = (undefined4)((ulonglong)uVar15 >> 0x20);
  uVar8 = PackedFloatingMUL(CONCAT44(uVar10,uVar10),*param_3);
  uVar1 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),uVar2);
  uVar13 = PackedFloatingMUL(CONCAT44(uVar7,uVar7),uVar3);
  uVar1 = PackedFloatingSUB(uVar1,uVar13);
  uVar13 = PackedFloatingADD(uVar1,uVar8);
  uVar15 = CONCAT44((int)uVar15,(int)uVar15);
  uVar8 = PackedFloatingMUL(CONCAT44(uVar6,uVar6),*param_3);
  uVar1 = PackedFloatingMUL(uVar2,uVar15);
  uVar16 = PackedFloatingMUL(CONCAT44(uVar7,uVar7),param_3[2]);
  uVar1 = PackedFloatingADD(uVar1,uVar8);
  uVar1 = PackedFloatingSUB(uVar1,uVar16);
  uVar8 = PackedFloatingMUL(uVar15,uVar3);
  uVar15 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),param_3[2]);
  uVar16 = PackedFloatingMUL(CONCAT44(uVar4,uVar4),*param_3);
  uVar8 = PackedFloatingSUB(uVar8,uVar15);
  uVar15 = PackedFloatingADD(uVar8,uVar16);
  uStack_2c = (undefined4)((ulonglong)uVar13 >> 0x20);
  uVar8 = CONCAT44(uStack_2c,(int)((ulonglong)uVar9 >> 0x20));
  uVar2 = PackedFloatingMUL(CONCAT44((int)((ulonglong)uVar15 >> 0x20),
                                     (int)((ulonglong)uVar1 >> 0x20)),
                            CONCAT44((int)uVar2,(int)uVar3));
  uVar3 = PackedFloatingMUL(CONCAT44(*(undefined4 *)(param_3 + 2),(int)*param_3),uVar8);
  uVar2 = PackedFloatingNegAccumulate(uVar2,uVar3);
  uVar2 = PackedFloatingAccumulate(uVar2,uVar2);
  uVar4 = (undefined4)uVar2;
  if (param_2 != (undefined4 *)0x0) {
    *param_2 = uVar4;
  }
  uVar3 = FloatingReciprocalAprox(uVar8,uVar2);
  uVar8 = PackedFloatingCompareEQ(0,uVar2);
  uVar2 = PackedFloatingReciprocalIter1(CONCAT44(uVar4,uVar4),uVar3);
  uVar2 = PackedFloatingReciprocalIter2(uVar2,uVar3);
  uVar2 = PackedFloatingMUL(uVar2,0xbf8000003f800000);
  uVar3 = PackedSwapDWords(uVar3,uVar2);
  if ((int)uVar8 == 0) {
    uVar8 = PackedFloatingMUL(uVar9,uVar3);
    uVar9 = PackedFloatingMUL(uVar13,uVar2);
    uVar14 = PackedFloatingMUL(uVar14,uVar3);
    uVar17 = PackedFloatingMUL(uVar17,uVar2);
    *param_1 = CONCAT44((int)((ulonglong)uVar9 >> 0x20),(int)((ulonglong)uVar8 >> 0x20));
    param_1[2] = CONCAT44((int)uVar9,(int)uVar8);
    param_1[4] = CONCAT44((int)((ulonglong)uVar17 >> 0x20),(int)((ulonglong)uVar14 >> 0x20));
    param_1[6] = CONCAT44((int)uVar17,(int)uVar14);
    uVar1 = PackedFloatingMUL(uVar1,uVar3);
    uVar8 = PackedFloatingMUL(uVar15,uVar2);
    uVar3 = PackedFloatingMUL(uVar11,uVar3);
    uVar2 = PackedFloatingMUL(uVar12,uVar2);
    param_1[1] = CONCAT44((int)((ulonglong)uVar8 >> 0x20),(int)((ulonglong)uVar1 >> 0x20));
    param_1[3] = CONCAT44((int)uVar8,(int)uVar1);
    param_1[5] = CONCAT44((int)((ulonglong)uVar2 >> 0x20),(int)((ulonglong)uVar3 >> 0x20));
    param_1[7] = CONCAT44((int)uVar2,(int)uVar3);
  }
  FastExitMediaState();
  return;
}



/* FUN_1002ce9a @ 1002ce9a */

undefined8 * FUN_1002ce9a(undefined8 *param_1,undefined4 *param_2,undefined8 *param_3)

{
  undefined8 *puVar1;
  undefined4 uVar2;
  undefined4 uVar4;
  undefined8 uVar3;
  undefined4 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined4 uVar8;
  undefined4 uVar11;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined4 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  undefined8 uVar15;
  undefined4 uVar16;
  undefined8 uVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined4 uVar21;
  undefined8 uVar20;
  undefined4 uStack_34;
  
  uVar11 = (undefined4)((ulonglong)*param_3 >> 0x20);
  uVar2 = (undefined4)param_3[4];
  uVar16 = (undefined4)param_3[2];
  uVar12 = (undefined4)*param_3;
  uVar21 = (undefined4)((ulonglong)param_3[2] >> 0x20);
  uVar4 = (undefined4)((ulonglong)param_3[4] >> 0x20);
  uVar9 = PackedFloatingMUL(CONCAT44(uVar11,uVar11),CONCAT44(uVar2,uVar16));
  uVar13 = PackedFloatingMUL(CONCAT44(uVar12,uVar12),CONCAT44(uVar4,uVar21));
  uVar14 = PackedFloatingSUB(uVar13,uVar9);
  uVar5 = (undefined4)((ulonglong)param_3[6] >> 0x20);
  uVar8 = (undefined4)param_3[6];
  uVar17 = PackedFloatingMUL(CONCAT44(uVar4,uVar5),CONCAT44(uVar16,uVar12));
  uVar20 = PackedFloatingMUL(CONCAT44(uVar21,uVar11),CONCAT44(uVar2,uVar8));
  uVar9 = PackedFloatingMUL(CONCAT44(uVar2,uVar16),CONCAT44(uVar5,uVar5));
  uVar13 = PackedFloatingMUL(CONCAT44(uVar4,uVar21),CONCAT44(uVar8,uVar8));
  uVar18 = PackedFloatingSUB(uVar17,uVar20);
  uVar17 = PackedFloatingSUBR(uVar13,uVar9);
  uVar9 = param_3[7];
  uVar13 = param_3[5];
  uVar2 = (undefined4)((ulonglong)uVar18 >> 0x20);
  uVar11 = (undefined4)((ulonglong)uVar17 >> 0x20);
  uVar20 = PackedFloatingMUL(CONCAT44(uVar2,uVar2),uVar9);
  uVar5 = (undefined4)uVar17;
  uVar17 = PackedFloatingMUL(CONCAT44(uVar11,uVar11),param_3[3]);
  uVar6 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),uVar13);
  uVar17 = PackedFloatingADD(uVar20,uVar17);
  uVar3 = PackedFloatingSUB(uVar17,uVar6);
  uVar8 = (undefined4)uVar18;
  uVar4 = (undefined4)((ulonglong)uVar14 >> 0x20);
  uVar20 = PackedFloatingMUL(CONCAT44(uVar11,uVar11),param_3[1]);
  uVar17 = PackedFloatingMUL(CONCAT44(uVar4,uVar4),uVar9);
  uVar6 = PackedFloatingMUL(CONCAT44(uVar8,uVar8),uVar13);
  uVar17 = PackedFloatingSUB(uVar17,uVar6);
  uVar18 = PackedFloatingADD(uVar17,uVar20);
  uVar20 = CONCAT44((int)uVar14,(int)uVar14);
  uVar17 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),param_3[1]);
  uVar9 = PackedFloatingMUL(uVar9,uVar20);
  uVar6 = PackedFloatingMUL(CONCAT44(uVar8,uVar8),param_3[3]);
  uVar9 = PackedFloatingADD(uVar9,uVar17);
  uVar17 = PackedFloatingSUB(uVar9,uVar6);
  uVar9 = PackedFloatingMUL(uVar20,uVar13);
  uVar13 = PackedFloatingMUL(CONCAT44(uVar4,uVar4),param_3[3]);
  uVar20 = PackedFloatingMUL(CONCAT44(uVar2,uVar2),param_3[1]);
  uVar9 = PackedFloatingSUB(uVar9,uVar13);
  uVar14 = PackedFloatingADD(uVar9,uVar20);
  uVar11 = (undefined4)((ulonglong)param_3[1] >> 0x20);
  uVar2 = (undefined4)param_3[5];
  uVar16 = (undefined4)param_3[3];
  uVar12 = (undefined4)param_3[1];
  uVar21 = (undefined4)((ulonglong)param_3[3] >> 0x20);
  uVar4 = (undefined4)((ulonglong)param_3[5] >> 0x20);
  uVar9 = PackedFloatingMUL(CONCAT44(uVar11,uVar11),CONCAT44(uVar2,uVar16));
  uVar13 = PackedFloatingMUL(CONCAT44(uVar12,uVar12),CONCAT44(uVar4,uVar21));
  uVar15 = PackedFloatingSUB(uVar13,uVar9);
  uVar5 = (undefined4)((ulonglong)param_3[7] >> 0x20);
  uVar8 = (undefined4)param_3[7];
  uVar20 = PackedFloatingMUL(CONCAT44(uVar4,uVar5),CONCAT44(uVar16,uVar12));
  uVar6 = PackedFloatingMUL(CONCAT44(uVar21,uVar11),CONCAT44(uVar2,uVar8));
  uVar9 = PackedFloatingMUL(CONCAT44(uVar2,uVar16),CONCAT44(uVar5,uVar5));
  uVar13 = PackedFloatingMUL(CONCAT44(uVar4,uVar21),CONCAT44(uVar8,uVar8));
  uVar19 = PackedFloatingSUB(uVar20,uVar6);
  uVar20 = PackedFloatingSUBR(uVar13,uVar9);
  uVar9 = param_3[6];
  uVar13 = param_3[4];
  uVar11 = (undefined4)((ulonglong)uVar20 >> 0x20);
  uVar5 = (undefined4)uVar20;
  uVar2 = (undefined4)((ulonglong)uVar19 >> 0x20);
  uVar10 = PackedFloatingMUL(CONCAT44(uVar11,uVar11),param_3[2]);
  uVar20 = PackedFloatingMUL(CONCAT44(uVar2,uVar2),uVar9);
  uVar6 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),uVar13);
  uVar20 = PackedFloatingADD(uVar20,uVar10);
  uVar10 = PackedFloatingSUB(uVar20,uVar6);
  uVar8 = (undefined4)uVar19;
  uVar4 = (undefined4)((ulonglong)uVar15 >> 0x20);
  uVar6 = PackedFloatingMUL(CONCAT44(uVar11,uVar11),*param_3);
  uVar20 = PackedFloatingMUL(CONCAT44(uVar4,uVar4),uVar9);
  uVar19 = PackedFloatingMUL(CONCAT44(uVar8,uVar8),uVar13);
  uVar20 = PackedFloatingSUB(uVar20,uVar19);
  uVar19 = PackedFloatingADD(uVar20,uVar6);
  uVar15 = CONCAT44((int)uVar15,(int)uVar15);
  uVar6 = PackedFloatingMUL(CONCAT44(uVar5,uVar5),*param_3);
  uVar20 = PackedFloatingMUL(uVar9,uVar15);
  uVar7 = PackedFloatingMUL(CONCAT44(uVar8,uVar8),param_3[2]);
  uVar20 = PackedFloatingADD(uVar20,uVar6);
  uVar20 = PackedFloatingSUB(uVar20,uVar7);
  uVar6 = PackedFloatingMUL(uVar15,uVar13);
  uVar15 = PackedFloatingMUL(CONCAT44(uVar4,uVar4),param_3[2]);
  uVar7 = PackedFloatingMUL(CONCAT44(uVar2,uVar2),*param_3);
  uVar6 = PackedFloatingSUB(uVar6,uVar15);
  uVar6 = PackedFloatingADD(uVar6,uVar7);
  uVar9 = PackedFloatingMUL(CONCAT44((int)uVar9,(int)uVar13),0xbf8000003f800000);
  uStack_34 = (undefined4)((ulonglong)uVar19 >> 0x20);
  uVar13 = CONCAT44(uStack_34,(int)((ulonglong)uVar10 >> 0x20));
  uVar15 = PackedFloatingMUL(CONCAT44(*(undefined4 *)(param_3 + 2),(int)*param_3),0xbf8000003f800000
                            );
  uVar9 = PackedFloatingMUL(CONCAT44((int)((ulonglong)uVar6 >> 0x20),
                                     (int)((ulonglong)uVar20 >> 0x20)),uVar9);
  uVar15 = PackedFloatingMUL(uVar15,uVar13);
  uVar9 = PackedFloatingADD(uVar9,uVar15);
  uVar9 = PackedFloatingAccumulate(uVar9,uVar9);
  uVar2 = (undefined4)uVar9;
  if (param_2 != (undefined4 *)0x0) {
    *param_2 = uVar2;
  }
  uVar13 = FloatingReciprocalAprox(uVar13,uVar9);
  uVar15 = PackedFloatingCompareEQ(0,uVar9);
  uVar9 = PackedFloatingReciprocalIter1(CONCAT44(uVar2,uVar2),uVar13);
  uVar9 = PackedFloatingReciprocalIter2(uVar9,uVar13);
  uVar13 = PackedFloatingMUL(uVar9,0xbf8000003f800000);
  uVar9 = CONCAT44((int)uVar13,(int)((ulonglong)uVar13 >> 0x20));
  puVar1 = (undefined8 *)uVar15;
  if ((undefined8 *)uVar15 == (undefined8 *)0x0) {
    uVar10 = PackedFloatingMUL(uVar10,uVar9);
    uVar19 = PackedFloatingMUL(uVar19,uVar13);
    uVar3 = PackedFloatingMUL(uVar3,uVar9);
    uVar18 = PackedFloatingMUL(uVar18,uVar13);
    *param_1 = CONCAT44((int)((ulonglong)uVar19 >> 0x20),(int)((ulonglong)uVar10 >> 0x20));
    param_1[2] = CONCAT44((int)uVar19,(int)uVar10);
    param_1[4] = CONCAT44((int)((ulonglong)uVar18 >> 0x20),(int)((ulonglong)uVar3 >> 0x20));
    param_1[6] = CONCAT44((int)uVar18,(int)uVar3);
    uVar20 = PackedFloatingMUL(uVar20,uVar9);
    uVar6 = PackedFloatingMUL(uVar6,uVar13);
    uVar9 = PackedFloatingMUL(uVar17,uVar9);
    uVar13 = PackedFloatingMUL(uVar14,uVar13);
    param_1[1] = CONCAT44((int)((ulonglong)uVar6 >> 0x20),(int)((ulonglong)uVar20 >> 0x20));
    param_1[3] = CONCAT44((int)uVar6,(int)uVar20);
    param_1[5] = CONCAT44((int)((ulonglong)uVar13 >> 0x20),(int)((ulonglong)uVar9 >> 0x20));
    param_1[7] = CONCAT44((int)uVar13,(int)uVar9);
    puVar1 = param_1;
  }
  return puVar1;
}



/* FUN_1002d2c2 @ 1002d2c2 */

void FUN_1002d2c2(undefined8 *param_1,ulonglong *param_2)

{
  ulonglong uVar1;
  undefined8 uVar2;
  ulonglong uVar3;
  undefined8 uVar4;
  undefined8 in_MM4;
  undefined8 uVar5;
  ulonglong uVar6;
  
  FastExitMediaState();
  uVar1 = *param_2;
  uVar3 = (ulonglong)(uint)param_2[1];
  uVar2 = PackedFloatingMUL(uVar1,uVar1);
  uVar4 = PackedFloatingMUL(uVar3,uVar3);
  uVar2 = PackedFloatingADD(uVar2,uVar4);
  uVar2 = PackedFloatingAccumulate(uVar2,uVar2);
  uVar5 = PackedFloatingReciprocalSQRAprox(in_MM4,uVar2);
  uVar6 = PackedFloatingCompareGT(uVar2,0x80000000800000);
  uVar4 = PackedFloatingMUL(uVar5,uVar5);
  uVar2 = PackedFloatingReciprocalSQRIter1(uVar2,uVar4);
  uVar2 = PackedFloatingReciprocalIter2(uVar2,uVar5);
  uVar4 = PackedFloatingMUL(uVar1 & uVar6,uVar2);
  uVar2 = PackedFloatingMUL(uVar3 & uVar6,uVar2);
  *param_1 = uVar4;
  *(int *)(param_1 + 1) = (int)uVar2;
  FastExitMediaState();
  return;
}



/* FUN_1002d550 @ 1002d550 */

undefined8 * FUN_1002d550(undefined8 *param_1,undefined8 *param_2,undefined8 *param_3)

{
  undefined4 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  
  FastExitMediaState();
  uVar1 = (undefined4)*param_2;
  uVar4 = CONCAT44(uVar1,uVar1);
  uVar1 = (undefined4)((ulonglong)*param_2 >> 0x20);
  uVar7 = CONCAT44(uVar1,uVar1);
  uVar8 = CONCAT44(*(undefined4 *)(param_2 + 1),*(undefined4 *)(param_2 + 1));
  uVar2 = PackedFloatingMUL(uVar4,*param_3);
  uVar3 = PackedFloatingMUL(uVar7,param_3[2]);
  uVar5 = PackedFloatingMUL(uVar8,param_3[4]);
  uVar2 = PackedFloatingADD(uVar2,param_3[6]);
  uVar6 = PackedFloatingMUL(uVar4,param_3[1]);
  uVar4 = PackedFloatingADD(uVar3,uVar5);
  uVar3 = PackedFloatingMUL(uVar7,param_3[3]);
  uVar8 = PackedFloatingMUL(uVar8,param_3[5]);
  uVar7 = PackedFloatingADD(uVar6,param_3[7]);
  uVar4 = PackedFloatingADD(uVar2,uVar4);
  uVar3 = PackedFloatingADD(uVar3,uVar8);
  uVar2 = PackedFloatingADD(uVar7,uVar3);
  uVar1 = (undefined4)((ulonglong)uVar2 >> 0x20);
  uVar8 = CONCAT44(uVar1,uVar1);
  uVar7 = FloatingReciprocalAprox(uVar3,uVar8);
  uVar3 = PackedFloatingReciprocalIter1(uVar8,uVar7);
  uVar7 = PackedFloatingReciprocalIter2(uVar3,uVar7);
  uVar4 = PackedFloatingMUL(uVar4,uVar7);
  uVar2 = PackedFloatingMUL(uVar2,uVar7);
  *param_1 = uVar4;
  *(int *)(param_1 + 1) = (int)uVar2;
  FastExitMediaState();
  return param_1;
}



/* FUN_1002d5db @ 1002d5db */

undefined8 * FUN_1002d5db(undefined8 *param_1,undefined8 *param_2,undefined8 *param_3)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  
  uVar1 = (undefined4)((ulonglong)*param_2 >> 0x20);
  uVar2 = (undefined4)((ulonglong)param_2[1] >> 0x20);
  uVar3 = (undefined4)*param_2;
  uVar6 = CONCAT44(uVar3,uVar3);
  uVar3 = (undefined4)param_2[1];
  uVar9 = CONCAT44(uVar3,uVar3);
  uVar7 = PackedFloatingMUL(*param_3,uVar6);
  uVar5 = CONCAT44(uVar1,uVar1);
  uVar4 = PackedFloatingMUL(uVar6,param_3[1]);
  uVar8 = PackedFloatingMUL(param_3[2],uVar5);
  uVar6 = CONCAT44(uVar2,uVar2);
  uVar5 = PackedFloatingMUL(uVar5,param_3[3]);
  uVar7 = PackedFloatingADD(uVar8,uVar7);
  uVar8 = PackedFloatingMUL(param_3[4],uVar9);
  uVar4 = PackedFloatingADD(uVar5,uVar4);
  uVar5 = PackedFloatingMUL(uVar9,param_3[5]);
  uVar9 = PackedFloatingADD(uVar8,uVar7);
  uVar7 = PackedFloatingMUL(param_3[6],uVar6);
  uVar4 = PackedFloatingADD(uVar4,uVar5);
  uVar6 = PackedFloatingMUL(uVar6,param_3[7]);
  uVar7 = PackedFloatingADD(uVar7,uVar9);
  uVar5 = param_2[2];
  uVar9 = PackedFloatingADD(uVar6,uVar4);
  uVar6 = param_2[3];
  *param_1 = uVar7;
  uVar4 = *param_3;
  param_1[1] = uVar9;
  uVar1 = (undefined4)((ulonglong)uVar5 >> 0x20);
  uVar2 = (undefined4)((ulonglong)uVar6 >> 0x20);
  uVar3 = (undefined4)uVar5;
  uVar9 = CONCAT44(uVar3,uVar3);
  uVar3 = (undefined4)uVar6;
  uVar7 = CONCAT44(uVar3,uVar3);
  uVar8 = PackedFloatingMUL(uVar4,uVar9);
  uVar5 = CONCAT44(uVar1,uVar1);
  uVar4 = PackedFloatingMUL(uVar9,param_3[1]);
  uVar9 = PackedFloatingMUL(param_3[2],uVar5);
  uVar6 = CONCAT44(uVar2,uVar2);
  uVar5 = PackedFloatingMUL(uVar5,param_3[3]);
  uVar9 = PackedFloatingADD(uVar9,uVar8);
  uVar8 = PackedFloatingMUL(param_3[4],uVar7);
  uVar4 = PackedFloatingADD(uVar5,uVar4);
  uVar5 = PackedFloatingMUL(uVar7,param_3[5]);
  uVar9 = PackedFloatingADD(uVar8,uVar9);
  uVar7 = PackedFloatingMUL(param_3[6],uVar6);
  uVar4 = PackedFloatingADD(uVar4,uVar5);
  uVar6 = PackedFloatingMUL(uVar6,param_3[7]);
  uVar7 = PackedFloatingADD(uVar7,uVar9);
  uVar5 = param_2[4];
  uVar9 = PackedFloatingADD(uVar6,uVar4);
  uVar6 = param_2[5];
  param_1[2] = uVar7;
  uVar4 = *param_3;
  param_1[3] = uVar9;
  uVar1 = (undefined4)((ulonglong)uVar5 >> 0x20);
  uVar2 = (undefined4)((ulonglong)uVar6 >> 0x20);
  uVar3 = (undefined4)uVar5;
  uVar9 = CONCAT44(uVar3,uVar3);
  uVar3 = (undefined4)uVar6;
  uVar7 = CONCAT44(uVar3,uVar3);
  uVar8 = PackedFloatingMUL(uVar4,uVar9);
  uVar5 = CONCAT44(uVar1,uVar1);
  uVar4 = PackedFloatingMUL(uVar9,param_3[1]);
  uVar9 = PackedFloatingMUL(param_3[2],uVar5);
  uVar6 = CONCAT44(uVar2,uVar2);
  uVar5 = PackedFloatingMUL(uVar5,param_3[3]);
  uVar9 = PackedFloatingADD(uVar9,uVar8);
  uVar8 = PackedFloatingMUL(param_3[4],uVar7);
  uVar4 = PackedFloatingADD(uVar5,uVar4);
  uVar5 = PackedFloatingMUL(uVar7,param_3[5]);
  uVar9 = PackedFloatingADD(uVar8,uVar9);
  uVar7 = PackedFloatingMUL(param_3[6],uVar6);
  uVar4 = PackedFloatingADD(uVar4,uVar5);
  uVar6 = PackedFloatingMUL(uVar6,param_3[7]);
  uVar7 = PackedFloatingADD(uVar7,uVar9);
  uVar5 = param_2[6];
  uVar9 = PackedFloatingADD(uVar6,uVar4);
  uVar6 = param_2[7];
  param_1[4] = uVar7;
  uVar4 = *param_3;
  param_1[5] = uVar9;
  uVar1 = (undefined4)((ulonglong)uVar5 >> 0x20);
  uVar2 = (undefined4)((ulonglong)uVar6 >> 0x20);
  uVar3 = (undefined4)uVar5;
  uVar9 = CONCAT44(uVar3,uVar3);
  uVar3 = (undefined4)uVar6;
  uVar7 = CONCAT44(uVar3,uVar3);
  uVar8 = PackedFloatingMUL(uVar4,uVar9);
  uVar5 = CONCAT44(uVar1,uVar1);
  uVar4 = PackedFloatingMUL(uVar9,param_3[1]);
  uVar9 = PackedFloatingMUL(param_3[2],uVar5);
  uVar6 = CONCAT44(uVar2,uVar2);
  uVar5 = PackedFloatingMUL(uVar5,param_3[3]);
  uVar9 = PackedFloatingADD(uVar9,uVar8);
  uVar8 = PackedFloatingMUL(param_3[4],uVar7);
  uVar4 = PackedFloatingADD(uVar5,uVar4);
  uVar5 = PackedFloatingMUL(uVar7,param_3[5]);
  uVar9 = PackedFloatingADD(uVar8,uVar9);
  uVar7 = PackedFloatingMUL(param_3[6],uVar6);
  uVar5 = PackedFloatingADD(uVar4,uVar5);
  uVar6 = PackedFloatingMUL(uVar6,param_3[7]);
  uVar4 = PackedFloatingADD(uVar7,uVar9);
  uVar5 = PackedFloatingADD(uVar6,uVar5);
  param_1[6] = uVar4;
  param_1[7] = uVar5;
  FastExitMediaState();
  return param_1;
}



/* FUN_1002d7a7 @ 1002d7a7 */

ulonglong *
FUN_1002d7a7(ulonglong *param_1,undefined8 *param_2,undefined8 *param_3,undefined8 *param_4,
            undefined8 *param_5,undefined8 *param_6)

{
  undefined8 *puVar1;
  undefined8 uVar2;
  ulonglong uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined4 uVar8;
  undefined8 uVar7;
  undefined4 local_44;
  undefined4 uStack_40;
  undefined4 uStack_3c;
  undefined4 uStack_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  undefined4 uStack_8;
  
  puVar1 = (undefined8 *)&local_44;
  switch(((param_6 != (undefined8 *)0x0) << 1 | param_5 != (undefined8 *)0x0) << 1 |
         param_4 != (undefined8 *)0x0) {
  case '\0':
    uStack_c = 0;
    uStack_10 = 0;
    uStack_14 = 0;
    uStack_18 = 0;
    uStack_20 = 0;
    uStack_24 = 0;
    uStack_28 = 0;
    uStack_2c = 0;
    uStack_34 = 0;
    uStack_38 = 0;
    uStack_3c = 0;
    uStack_40 = 0;
    uStack_8 = 0x3f800000;
    uStack_1c = 0x3f800000;
    uStack_30 = 0x3f800000;
    local_44 = 0x3f800000;
    break;
  case '\x01':
    puVar1 = param_4;
    break;
  case '\x02':
    puVar1 = param_5;
    break;
  case '\x03':
    FastExitMediaState();
    FUN_1002d5db((undefined8 *)&local_44,param_5,param_4);
    FastExitMediaState();
    break;
  case '\x04':
    puVar1 = param_6;
    break;
  case '\x05':
    FastExitMediaState();
    FUN_1002d5db((undefined8 *)&local_44,param_6,param_4);
    FastExitMediaState();
    break;
  case '\x06':
    FastExitMediaState();
    FUN_1002d5db((undefined8 *)&local_44,param_6,param_5);
    FastExitMediaState();
    break;
  case '\a':
    FastExitMediaState();
    FUN_1002d5db((undefined8 *)&local_44,param_6,param_5);
    FUN_1002d5db((undefined8 *)&local_44,(undefined8 *)&local_44,param_4);
    FastExitMediaState();
  }
  FUN_1002d550(param_1,param_2,puVar1);
  if (param_3 != (undefined8 *)0x0) {
    FastExitMediaState();
    uVar4 = param_3[2];
    uVar5 = PackedIntToFloatingDwordConv(*param_3,*param_3);
    uVar6 = PackedIntToFloatingDwordConv(param_3[1],param_3[1]);
    uVar2 = PackedFloatingADD(*param_1 ^ 0x8000000000000000,0x3f8000003f800000);
    uVar6 = PackedFloatingMUL(uVar6,0x3f0000003f000000);
    uVar8 = (undefined4)((ulonglong)uVar4 >> 0x20);
    uVar7 = PackedFloatingSUB(CONCAT44(uVar8,uVar8),uVar4);
    uVar2 = PackedFloatingMUL(uVar2,uVar6);
    uVar6 = PackedFloatingMUL((ulonglong)(uint)param_1[1],uVar7);
    uVar4 = PackedFloatingADD(uVar6,uVar4);
    uVar3 = PackedFloatingADD(uVar2,uVar5);
    *param_1 = uVar3;
    *(int *)(param_1 + 1) = (int)uVar4;
    FastExitMediaState();
  }
  return param_1;
}



/* FUN_1002db55 @ 1002db55 */

ulonglong *
FUN_1002db55(ulonglong *param_1,ulonglong *param_2,undefined8 *param_3,undefined8 *param_4,
            undefined8 *param_5,undefined8 *param_6)

{
  ulonglong uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined4 uVar6;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 in_MM5;
  undefined8 uVar7;
  undefined8 in_MM6;
  undefined8 local_44 [8];
  
  switch(((param_6 != (undefined8 *)0x0) << 1 | param_5 != (undefined8 *)0x0) << 1 |
         param_4 != (undefined8 *)0x0) {
  case '\0':
    FUN_10029b22(local_44);
    goto switchD_1002db8b_default;
  case '\x01':
    param_6 = param_4;
    goto LAB_1002dbcf;
  case '\x02':
    param_6 = param_5;
    goto LAB_1002dbcf;
  case '\x03':
    param_6 = param_5;
    break;
  case '\x04':
    goto LAB_1002dbcf;
  case '\x05':
    break;
  case '\x06':
    param_4 = param_5;
    break;
  case '\a':
    FUN_1002d5db(local_44,param_6,param_5);
    param_6 = local_44;
    break;
  default:
    goto switchD_1002db8b_default;
  }
  FUN_1002d5db(local_44,param_6,param_4);
  param_6 = local_44;
LAB_1002dbcf:
  FUN_1002c7c0(local_44,(undefined4 *)0x0,param_6);
switchD_1002db8b_default:
  if (param_3 != (undefined8 *)0x0) {
    FastExitMediaState();
    uVar2 = PackedIntToFloatingDwordConv(*param_3,*param_3);
    uVar5 = param_3[2];
    uVar3 = PackedIntToFloatingDwordConv(param_3[1],param_3[1]);
    uVar6 = (undefined4)((ulonglong)uVar3 >> 0x20);
    uVar4 = CONCAT44(uVar6,uVar6);
    uVar7 = FloatingReciprocalAprox(in_MM5,uVar3);
    uVar4 = FloatingReciprocalAprox(uVar4,uVar4);
    uVar2 = PackedFloatingSUB(*param_2,uVar2);
    uVar4 = CONCAT44((int)uVar4,(int)uVar7);
    uVar3 = PackedFloatingReciprocalIter1(uVar3,uVar4);
    uVar3 = PackedFloatingReciprocalIter2(uVar3,uVar4);
    uVar3 = PackedFloatingMUL(uVar3,0x4000000040000000);
    uVar2 = PackedFloatingMUL(uVar2,uVar3);
    uVar6 = (undefined4)((ulonglong)uVar5 >> 0x20);
    uVar1 = PackedFloatingSUB(uVar2,0x3f8000003f800000);
    uVar2 = PackedFloatingSUB(CONCAT44(uVar6,uVar6),uVar5);
    uVar3 = FloatingReciprocalAprox(in_MM6,uVar2);
    uVar2 = PackedFloatingReciprocalIter1(uVar2,uVar3);
    uVar2 = PackedFloatingReciprocalIter2(uVar2,uVar3);
    uVar5 = PackedFloatingSUB((ulonglong)(uint)param_2[1],uVar5);
    uVar5 = PackedFloatingMUL(uVar5,uVar2);
    *param_1 = uVar1 ^ 0x8000000000000000;
    *(int *)(param_1 + 1) = (int)uVar5;
    FastExitMediaState();
    param_2 = param_1;
  }
  FUN_1002d550(param_1,param_2,local_44);
  return param_1;
}



/* FUN_1002e578 @ 1002e578 */

void FUN_1002e578(undefined8 *param_1,ulonglong *param_2)

{
  ulonglong uVar1;
  undefined8 uVar2;
  ulonglong uVar3;
  undefined8 uVar4;
  undefined8 in_MM4;
  undefined8 uVar5;
  
  uVar1 = *param_2;
  uVar3 = param_2[1] & 0xffffffff;
  uVar2 = PackedFloatingMUL(uVar1,uVar1);
  uVar4 = PackedFloatingMUL(uVar3,uVar3);
  uVar2 = PackedFloatingADD(uVar2,uVar4);
  uVar2 = PackedFloatingAccumulate(uVar2,uVar2);
  uVar5 = PackedFloatingReciprocalSQRAprox(in_MM4,uVar2);
  uVar3 = PackedFloatingCompareGT(uVar2,0x80000000800000);
  uVar4 = PackedFloatingMUL(uVar5,uVar5);
  uVar2 = PackedFloatingReciprocalSQRIter1(uVar2,uVar4);
  uVar2 = PackedFloatingReciprocalIter2(uVar2,uVar5);
  uVar4 = PackedFloatingMUL(uVar1 & uVar3,uVar2);
  uVar2 = PackedFloatingMUL(param_2[1] & uVar3,uVar2);
  *param_1 = uVar4;
  param_1[1] = uVar2;
  FastExitMediaState();
  return;
}



/* FUN_1002e65a @ 1002e65a */

/* [binja] int32_t sub_1002e65a(uint32_t arg1) */

int __cdecl FUN_1002e65a(uint arg1)

{
  void *pvVar1;
  size_t in_stack_00000008;
  
  pvVar1 = malloc(in_stack_00000008);
  return (int)pvVar1;
}



/* zcfree @ 1002e665 */

/* zlib (internal): default free wrapper */

void __cdecl zcfree(voidpf opaque,voidpf ptr)

{
  free(ptr);
  return;
}



/* FUN_1002e670 @ 1002e670 */

/* [binja] int32_t sub_1002e670(int32_t arg1) __pure */

int __cdecl FUN_1002e670(int arg1)

{
  int in_stack_0000000c;
  
  return in_stack_0000000c;
}



/* FUN_1002e675 @ 1002e675 */

void __cdecl FUN_1002e675(int *param_1)

{
  *(undefined4 *)(*param_1 + 0x14) = 0x30;
  (**(code **)*param_1)(param_1);
  return;
}



/* FUN_1002e689 @ 1002e689 */

undefined4 FUN_1002e689(void)

{
  return 0;
}



/* FUN_1002e68c @ 1002e68c */

void FUN_1002e68c(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  int iVar6;
  int unaff_ESI;
  int local_8;
  
  iVar1 = *(int *)(unaff_ESI + 0x180);
  iVar2 = *(int *)(unaff_ESI + 0x114);
  iVar3 = (*(code *)**(undefined4 **)(unaff_ESI + 4))();
  local_8 = 0;
  *(int *)(iVar1 + 0x38) = iVar3;
  *(int *)(iVar1 + 0x3c) = iVar3 + *(int *)(unaff_ESI + 0x20) * 4;
  if (0 < *(int *)(unaff_ESI + 0x20)) {
    piVar5 = (int *)(*(int *)(unaff_ESI + 0xc4) + 0xc);
    do {
      iVar4 = (piVar5[6] * *piVar5) / *(int *)(unaff_ESI + 0x114);
      iVar3 = (*(code *)**(undefined4 **)(unaff_ESI + 4))();
      piVar5 = piVar5 + 0x15;
      iVar3 = iVar3 + iVar4 * 4;
      iVar6 = local_8 * 4;
      *(int *)(iVar6 + *(int *)(iVar1 + 0x38)) = iVar3;
      local_8 = local_8 + 1;
      *(int *)(iVar6 + *(int *)(iVar1 + 0x3c)) = iVar3 + (iVar2 + 4) * iVar4 * 4;
    } while (local_8 < *(int *)(unaff_ESI + 0x20));
  }
  return;
}



/* FUN_1002e734 @ 1002e734 */

void FUN_1002e734(void)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  undefined4 *puVar7;
  int *piVar8;
  undefined4 *puVar9;
  int unaff_EDI;
  int local_24;
  int *local_18;
  int local_14;
  int local_10;
  undefined4 *local_c;
  
  iVar1 = *(int *)(unaff_EDI + 0x114);
  local_10 = 0;
  iVar2 = *(int *)(unaff_EDI + 0x180);
  if (0 < *(int *)(unaff_EDI + 0x20)) {
    piVar8 = (int *)(*(int *)(unaff_EDI + 0xc4) + 0xc);
    local_18 = (int *)(iVar2 + 8);
    do {
      iVar6 = (piVar8[6] * *piVar8) / *(int *)(unaff_EDI + 0x114);
      puVar3 = *(undefined4 **)(local_10 * 4 + *(int *)(iVar2 + 0x38));
      puVar9 = *(undefined4 **)(local_10 * 4 + *(int *)(iVar2 + 0x3c));
      iVar4 = *local_18;
      local_14 = (iVar1 + 2) * iVar6;
      if (0 < local_14) {
        puVar7 = puVar9;
        do {
          uVar5 = *(undefined4 *)((iVar4 - (int)puVar9) + (int)puVar7);
          *puVar7 = uVar5;
          *(undefined4 *)(((int)puVar3 - (int)puVar9) + (int)puVar7) = uVar5;
          puVar7 = puVar7 + 1;
          local_14 = local_14 + -1;
        } while (local_14 != 0);
      }
      if (0 < iVar6 * 2) {
        puVar7 = (undefined4 *)(iVar4 + (iVar1 + -2) * iVar6 * 4);
        local_24 = iVar6 * 2;
        local_c = puVar9 + iVar6 * iVar1;
        do {
          *(undefined4 *)(((int)puVar9 - iVar4) + (int)puVar7) =
               *(undefined4 *)((int)local_c + (iVar4 - (int)puVar9));
          uVar5 = *puVar7;
          puVar7 = puVar7 + 1;
          local_24 = local_24 + -1;
          *local_c = uVar5;
          local_c = local_c + 1;
        } while (local_24 != 0);
      }
      if (0 < iVar6) {
        puVar9 = puVar3 + -iVar6;
        do {
          *puVar9 = *puVar3;
          puVar9 = puVar9 + 1;
          iVar6 = iVar6 + -1;
        } while (iVar6 != 0);
      }
      local_10 = local_10 + 1;
      local_18 = local_18 + 1;
      piVar8 = piVar8 + 0x15;
    } while (local_10 < *(int *)(unaff_EDI + 0x20));
  }
  return;
}



/* FUN_1002e865 @ 1002e865 */

void FUN_1002e865(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  int *piVar6;
  undefined4 *puVar7;
  int iVar8;
  int unaff_EDI;
  int local_10;
  int local_c;
  undefined4 *local_8;
  
  iVar1 = *(int *)(unaff_EDI + 0x180);
  local_c = 0;
  iVar2 = *(int *)(unaff_EDI + 0x114);
  if (0 < *(int *)(unaff_EDI + 0x20)) {
    piVar6 = (int *)(*(int *)(unaff_EDI + 0xc4) + 0xc);
    do {
      local_10 = (piVar6[6] * *piVar6) / *(int *)(unaff_EDI + 0x114);
      local_8 = *(undefined4 **)(local_c * 4 + *(int *)(iVar1 + 0x3c));
      if (0 < local_10) {
        puVar7 = local_8 + (iVar2 + 2) * local_10;
        puVar5 = local_8 + -local_10;
        puVar4 = local_8 + (iVar2 + 1) * local_10;
        iVar8 = *(int *)(local_c * 4 + *(int *)(iVar1 + 0x38)) - (int)local_8;
        do {
          *(undefined4 *)(iVar8 + (int)puVar5) = *(undefined4 *)(iVar8 + (int)puVar4);
          *puVar5 = *puVar4;
          *(undefined4 *)(iVar8 + (int)puVar7) = *(undefined4 *)(iVar8 + (int)local_8);
          uVar3 = *local_8;
          local_8 = local_8 + 1;
          *puVar7 = uVar3;
          puVar4 = puVar4 + 1;
          puVar5 = puVar5 + 1;
          puVar7 = puVar7 + 1;
          local_10 = local_10 + -1;
        } while (local_10 != 0);
      }
      local_c = local_c + 1;
      piVar6 = piVar6 + 0x15;
    } while (local_c < *(int *)(unaff_EDI + 0x20));
  }
  return;
}



/* FUN_1002e939 @ 1002e939 */

void FUN_1002e939(void)

{
  undefined4 *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 *puVar4;
  int unaff_ESI;
  int *piVar5;
  int local_10;
  uint local_c;
  int local_8;
  
  local_8 = 0;
  iVar2 = *(int *)(unaff_ESI + 0x180);
  if (0 < *(int *)(unaff_ESI + 0x20)) {
    piVar5 = (int *)(*(int *)(unaff_ESI + 0xc4) + 0xc);
    do {
      uVar3 = piVar5[6] * *piVar5;
      local_10 = (int)uVar3 / *(int *)(unaff_ESI + 0x114);
      local_c = (uint)piVar5[8] % uVar3;
      if ((uint)piVar5[8] % uVar3 == 0) {
        local_c = uVar3;
      }
      if (local_8 == 0) {
        *(int *)(iVar2 + 0x48) = (int)(local_c - 1) / local_10 + 1;
      }
      local_10 = local_10 * 2;
      if (0 < local_10) {
        puVar1 = (undefined4 *)
                 (*(int *)(*(int *)(iVar2 + 0x38 + *(int *)(iVar2 + 0x40) * 4) + local_8 * 4) +
                 local_c * 4);
        puVar4 = puVar1;
        do {
          *puVar4 = puVar1[-1];
          puVar4 = puVar4 + 1;
          local_10 = local_10 + -1;
        } while (local_10 != 0);
      }
      local_8 = local_8 + 1;
      piVar5 = piVar5 + 0x15;
    } while (local_8 < *(int *)(unaff_ESI + 0x20));
  }
  return;
}



/* FUN_1002e9cf @ 1002e9cf */

void __cdecl FUN_1002e9cf(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  
  iVar2 = *(int *)(param_1 + 0x180);
  if (*(char *)(iVar2 + 0x30) == '\0') {
    iVar4 = (**(code **)(*(int *)(param_1 + 0x184) + 0xc))(param_1,iVar2 + 8);
    if (iVar4 == 0) {
      return;
    }
    *(undefined1 *)(iVar2 + 0x30) = 1;
  }
  uVar3 = *(uint *)(param_1 + 0x114);
  puVar1 = (uint *)(iVar2 + 0x34);
  (**(code **)(*(int *)(param_1 + 0x188) + 4))
            (param_1,iVar2 + 8,puVar1,uVar3,param_2,param_3,param_4);
  if (uVar3 <= *puVar1) {
    *(undefined1 *)(iVar2 + 0x30) = 0;
    *puVar1 = 0;
  }
  return;
}



/* FUN_1002ea37 @ 1002ea37 */

void __cdecl FUN_1002ea37(int param_1,undefined4 param_2,uint *param_3,uint param_4)

{
  uint *puVar1;
  int iVar2;
  int iVar3;
  
  iVar2 = *(int *)(param_1 + 0x180);
  if (*(char *)(iVar2 + 0x30) == '\0') {
    iVar3 = (**(code **)(*(int *)(param_1 + 0x184) + 0xc))
                      (param_1,*(undefined4 *)(iVar2 + 0x38 + *(int *)(iVar2 + 0x40) * 4));
    if (iVar3 == 0) {
      return;
    }
    *(int *)(iVar2 + 0x4c) = *(int *)(iVar2 + 0x4c) + 1;
    *(undefined1 *)(iVar2 + 0x30) = 1;
  }
  iVar3 = *(int *)(iVar2 + 0x44);
  if (iVar3 != 0) {
    if (iVar3 == 1) goto LAB_1002eae4;
    if (iVar3 != 2) {
      return;
    }
    (**(code **)(*(int *)(param_1 + 0x188) + 4))
              (param_1,*(undefined4 *)(iVar2 + 0x38 + *(int *)(iVar2 + 0x40) * 4),
               (uint *)(iVar2 + 0x34),*(undefined4 *)(iVar2 + 0x48),param_2,param_3,param_4);
    if (*(uint *)(iVar2 + 0x34) < *(uint *)(iVar2 + 0x48)) {
      return;
    }
    *(undefined4 *)(iVar2 + 0x44) = 0;
    if (param_4 <= *param_3) {
      return;
    }
  }
  *(undefined4 *)(iVar2 + 0x34) = 0;
  *(int *)(iVar2 + 0x48) = *(int *)(param_1 + 0x114) + -1;
  if (*(int *)(iVar2 + 0x4c) == *(int *)(param_1 + 0x118)) {
    FUN_1002e939();
  }
  *(undefined4 *)(iVar2 + 0x44) = 1;
LAB_1002eae4:
  puVar1 = (uint *)(iVar2 + 0x34);
  (**(code **)(*(int *)(param_1 + 0x188) + 4))
            (param_1,*(undefined4 *)(iVar2 + 0x38 + *(int *)(iVar2 + 0x40) * 4),puVar1,
             *(undefined4 *)(iVar2 + 0x48),param_2,param_3,param_4);
  if (*(uint *)(iVar2 + 0x48) <= *puVar1) {
    if (*(int *)(iVar2 + 0x4c) == 1) {
      FUN_1002e865();
    }
    *(uint *)(iVar2 + 0x40) = *(uint *)(iVar2 + 0x40) ^ 1;
    *(undefined1 *)(iVar2 + 0x30) = 0;
    *puVar1 = *(int *)(param_1 + 0x114) + 1;
    *(int *)(iVar2 + 0x48) = *(int *)(param_1 + 0x114) + 2;
    *(undefined4 *)(iVar2 + 0x44) = 2;
  }
  return;
}



/* FUN_1002ebca @ 1002ebca */

void __cdecl FUN_1002ebca(int *param_1,char param_2)

{
  int *piVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  int iVar4;
  int *piVar5;
  
  piVar1 = param_1;
  puVar2 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x50);
  param_1[0x60] = (int)puVar2;
  *puVar2 = &LAB_1002eb62;
  if (param_2 != '\0') {
    *(undefined4 *)(*param_1 + 0x14) = 4;
    (**(code **)*param_1)(param_1);
  }
  if (*(char *)(param_1[0x67] + 8) == '\0') {
    iVar4 = param_1[0x45];
  }
  else {
    if (param_1[0x45] < 2) {
      *(undefined4 *)(*param_1 + 0x14) = 0x2e;
      (**(code **)*param_1)(param_1);
    }
    FUN_1002e68c();
    iVar4 = param_1[0x45] + 2;
  }
  param_1 = (int *)0x0;
  if (0 < piVar1[8]) {
    piVar5 = (int *)(piVar1[0x31] + 0x24);
    puVar2 = puVar2 + 2;
    do {
      uVar3 = (**(code **)(piVar1[1] + 8))
                        (piVar1,1,piVar5[-2] * *piVar5,
                         ((piVar5[-6] * *piVar5) / piVar1[0x45]) * iVar4);
      param_1 = (int *)((int)param_1 + 1);
      *puVar2 = uVar3;
      puVar2 = puVar2 + 1;
      piVar5 = piVar5 + 0x15;
    } while ((int)param_1 < piVar1[8]);
  }
  return;
}



/* FUN_1002ec9d @ 1002ec9d */

/* [binja] void* __fastcall sub_1002ec9d(void* arg1) */

void * __fastcall FUN_1002ec9d(void *arg1)

{
  void *pvVar1;
  undefined4 uVar2;
  
  pvVar1 = *(void **)((int)arg1 + 0x184);
  if (*(int *)((int)arg1 + 0x120) < 2) {
    if (*(uint *)((int)arg1 + 0x80) < *(int *)((int)arg1 + 0x118) - 1U) {
      uVar2 = *(undefined4 *)(*(int *)((int)arg1 + 0x124) + 0xc);
    }
    else {
      uVar2 = *(undefined4 *)(*(int *)((int)arg1 + 0x124) + 0x48);
    }
    *(undefined4 *)((int)pvVar1 + 0x1c) = uVar2;
  }
  else {
    *(undefined4 *)((int)pvVar1 + 0x1c) = 1;
  }
  *(undefined4 *)((int)pvVar1 + 0x14) = 0;
  *(undefined4 *)((int)pvVar1 + 0x18) = 0;
  return pvVar1;
}



/* FUN_1002ecec @ 1002ecec */

undefined4 __cdecl FUN_1002ecec(int param_1,int param_2)

{
  uint *puVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  code *pcVar6;
  int iVar7;
  char cVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  undefined4 uVar13;
  int local_30;
  int *local_28;
  int local_20;
  int local_1c;
  undefined4 *local_18;
  int local_14;
  int local_10;
  int local_c;
  
  iVar2 = *(int *)(param_1 + 0x118);
  iVar3 = *(int *)(param_1 + 0x184);
  uVar12 = *(int *)(param_1 + 0x134) - 1;
  iVar10 = *(int *)(iVar3 + 0x18);
  do {
    if (*(int *)(iVar3 + 0x1c) <= iVar10) {
      *(int *)(param_1 + 0x88) = *(int *)(param_1 + 0x88) + 1;
      puVar1 = (uint *)(param_1 + 0x80);
      *puVar1 = *puVar1 + 1;
      if (*puVar1 < *(uint *)(param_1 + 0x118)) {
        FUN_1002ec9d((void *)param_1);
        uVar13 = 3;
      }
      else {
        (**(code **)(*(int *)(param_1 + 0x18c) + 0xc))(param_1);
        uVar13 = 4;
      }
      return uVar13;
    }
    for (uVar4 = *(uint *)(iVar3 + 0x14); uVar4 <= uVar12; uVar4 = uVar4 + 1) {
      memzero(*(void **)(iVar3 + 0x20),*(int *)(param_1 + 0x13c) << 7);
      cVar8 = (**(code **)(*(int *)(param_1 + 0x194) + 4))(param_1,iVar3 + 0x20);
      if (cVar8 == '\0') {
        *(int *)(iVar3 + 0x18) = iVar10;
        *(uint *)(iVar3 + 0x14) = uVar4;
        return 0;
      }
      iVar9 = 0;
      local_1c = 0;
      local_10 = 0;
      if (0 < *(int *)(param_1 + 0x120)) {
        local_28 = (int *)(param_1 + 0x124);
        do {
          iVar5 = *local_28;
          if (*(char *)(iVar5 + 0x30) == '\0') {
            iVar9 = iVar9 + *(int *)(iVar5 + 0x3c);
            local_1c = iVar9;
          }
          else {
            pcVar6 = *(code **)(*(int *)(param_1 + 0x198) + 4 + *(int *)(iVar5 + 4) * 4);
            if (uVar4 < uVar12) {
              iVar11 = *(int *)(iVar5 + 0x34);
            }
            else {
              iVar11 = *(int *)(iVar5 + 0x44);
            }
            iVar7 = *(int *)(iVar5 + 0x40);
            local_c = 0;
            local_20 = *(int *)(param_2 + local_10 * 4) + *(int *)(iVar5 + 0x24) * iVar10 * 4;
            if (0 < *(int *)(iVar5 + 0x38)) {
              do {
                if (((*(uint *)(param_1 + 0x80) < iVar2 - 1U) ||
                    (local_c + iVar10 < *(int *)(iVar5 + 0x48))) && (0 < iVar11)) {
                  local_18 = (undefined4 *)(iVar3 + 0x20 + iVar9 * 4);
                  local_30 = iVar11;
                  local_14 = iVar7 * uVar4;
                  do {
                    (*pcVar6)(param_1,iVar5,*local_18,local_20,local_14);
                    local_14 = local_14 + *(int *)(iVar5 + 0x24);
                    local_18 = local_18 + 1;
                    local_30 = local_30 + -1;
                    iVar9 = local_1c;
                  } while (local_30 != 0);
                }
                iVar9 = iVar9 + *(int *)(iVar5 + 0x34);
                local_c = local_c + 1;
                local_20 = local_20 + *(int *)(iVar5 + 0x24) * 4;
                local_1c = iVar9;
              } while (local_c < *(int *)(iVar5 + 0x38));
            }
          }
          local_10 = local_10 + 1;
          local_28 = local_28 + 1;
        } while (local_10 < *(int *)(param_1 + 0x120));
      }
    }
    *(undefined4 *)(iVar3 + 0x14) = 0;
    iVar10 = iVar10 + 1;
  } while( true );
}



/* FUN_1002eec9 @ 1002eec9 */

undefined4 __cdecl FUN_1002eec9(int param_1)

{
  uint *puVar1;
  int iVar2;
  int arg1;
  char cVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  undefined4 uVar8;
  int aiStack_38 [4];
  int *local_28;
  int local_24;
  uint local_20;
  int *local_1c;
  int local_18;
  int *local_14;
  int local_10;
  int local_c;
  int *local_8;
  
  arg1 = param_1;
  param_1 = 0;
  iVar2 = *(int *)(arg1 + 0x184);
  if (0 < *(int *)(arg1 + 0x120)) {
    local_8 = (int *)(arg1 + 0x124);
    do {
      iVar4 = *(int *)(*local_8 + 0xc);
      iVar4 = (**(code **)(*(int *)(arg1 + 4) + 0x20))
                        (arg1,*(undefined4 *)(iVar2 + 0x48 + *(int *)(*local_8 + 4) * 4),
                         *(int *)(arg1 + 0x80) * iVar4,iVar4,1);
      local_8 = local_8 + 1;
      aiStack_38[param_1] = iVar4;
      param_1 = param_1 + 1;
    } while (param_1 < *(int *)(arg1 + 0x120));
  }
  local_8 = *(int **)(iVar2 + 0x18);
  do {
    if (*(int *)(iVar2 + 0x1c) <= (int)local_8) {
      puVar1 = (uint *)(arg1 + 0x80);
      *puVar1 = *puVar1 + 1;
      if (*puVar1 < *(uint *)(arg1 + 0x118)) {
        FUN_1002ec9d((void *)arg1);
        uVar8 = 3;
      }
      else {
        (**(code **)(*(int *)(arg1 + 0x18c) + 0xc))(arg1);
        uVar8 = 4;
      }
      return uVar8;
    }
    uVar7 = *(uint *)(iVar2 + 0x14);
    local_20 = uVar7;
    if (uVar7 < *(uint *)(arg1 + 0x134)) {
      do {
        local_c = 0;
        param_1 = 0;
        if (0 < *(int *)(arg1 + 0x120)) {
          local_1c = (int *)(arg1 + 0x124);
          do {
            iVar4 = *local_1c;
            iVar6 = *(int *)(iVar4 + 0x34);
            local_18 = 0;
            if (0 < *(int *)(iVar4 + 0x38)) {
              local_24 = iVar6 * uVar7 * 0x80;
              local_14 = (int *)(aiStack_38[param_1] + (int)local_8 * 4);
              do {
                iVar5 = *local_14 + local_24;
                local_10 = 0;
                if (0 < iVar6) {
                  local_28 = (int *)(iVar2 + 0x20 + local_c * 4);
                  do {
                    local_c = local_c + 1;
                    *local_28 = iVar5;
                    local_28 = local_28 + 1;
                    iVar5 = iVar5 + 0x80;
                    local_10 = local_10 + 1;
                    iVar6 = *(int *)(iVar4 + 0x34);
                  } while (local_10 < iVar6);
                }
                local_18 = local_18 + 1;
                local_14 = local_14 + 1;
              } while (local_18 < *(int *)(iVar4 + 0x38));
            }
            param_1 = param_1 + 1;
            local_1c = local_1c + 1;
          } while (param_1 < *(int *)(arg1 + 0x120));
        }
        local_20 = uVar7;
        cVar3 = (**(code **)(*(int *)(arg1 + 0x194) + 4))(arg1,iVar2 + 0x20);
        if (cVar3 == '\0') {
          *(int **)(iVar2 + 0x18) = local_8;
          *(uint *)(iVar2 + 0x14) = uVar7;
          return 0;
        }
        uVar7 = uVar7 + 1;
        local_20 = uVar7;
      } while (uVar7 < *(uint *)(arg1 + 0x134));
    }
    *(undefined4 *)(iVar2 + 0x14) = 0;
    local_8 = (int *)((int)local_8 + 1);
  } while( true );
}



/* FUN_1002f068 @ 1002f068 */

int __cdecl FUN_1002f068(uint param_1,int param_2)

{
  uint *puVar1;
  int iVar2;
  code *pcVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  int local_1c;
  undefined4 *local_18;
  int local_14;
  uint local_10;
  int local_c;
  int local_8;
  
  uVar4 = param_1;
  iVar2 = *(int *)(param_1 + 0x118);
  iVar6 = *(int *)(param_1 + 0x184);
  while ((*(int *)(param_1 + 0x7c) < *(int *)(param_1 + 0x84) ||
         ((*(int *)(param_1 + 0x7c) == *(int *)(param_1 + 0x84) &&
          (*(uint *)(param_1 + 0x80) <= *(uint *)(param_1 + 0x88)))))) {
    iVar5 = (*(code *)**(undefined4 **)(param_1 + 0x18c))(param_1);
    if (iVar5 == 0) {
      return 0;
    }
  }
  local_8 = 0;
  iVar5 = *(int *)(param_1 + 0xc4);
  if (0 < *(int *)(param_1 + 0x20)) {
    local_18 = (undefined4 *)(iVar6 + 0x48);
    do {
      if (*(char *)(iVar5 + 0x30) != '\0') {
        iVar6 = (**(code **)(*(int *)(uVar4 + 4) + 0x20))
                          (uVar4,*local_18,*(int *)(uVar4 + 0x88) * *(int *)(iVar5 + 0xc),
                           *(int *)(iVar5 + 0xc),0);
        if (*(uint *)(uVar4 + 0x88) < iVar2 - 1U) {
          param_1 = *(uint *)(iVar5 + 0xc);
        }
        else {
          param_1 = *(uint *)(iVar5 + 0x20) % *(uint *)(iVar5 + 0xc);
          if (param_1 == 0) {
            param_1 = *(uint *)(iVar5 + 0xc);
          }
        }
        pcVar3 = *(code **)(*(int *)(uVar4 + 0x198) + 4 + local_8 * 4);
        local_14 = *(int *)(local_8 * 4 + param_2);
        local_1c = 0;
        if (0 < (int)param_1) {
          uVar7 = *(uint *)(iVar5 + 0x1c);
          do {
            local_c = *(int *)(iVar6 + local_1c * 4);
            iVar8 = 0;
            local_10 = 0;
            if (uVar7 != 0) {
              do {
                (*pcVar3)(uVar4,iVar5,local_c,local_14,iVar8);
                local_c = local_c + 0x80;
                iVar8 = iVar8 + *(int *)(iVar5 + 0x24);
                uVar7 = *(uint *)(iVar5 + 0x1c);
                local_10 = local_10 + 1;
              } while (local_10 < uVar7);
            }
            local_14 = local_14 + *(int *)(iVar5 + 0x24) * 4;
            local_1c = local_1c + 1;
          } while (local_1c < (int)param_1);
        }
      }
      local_8 = local_8 + 1;
      local_18 = local_18 + 1;
      iVar5 = iVar5 + 0x54;
    } while (local_8 < *(int *)(uVar4 + 0x20));
  }
  puVar1 = (uint *)(uVar4 + 0x88);
  *puVar1 = *puVar1 + 1;
  return 4 - (uint)(*puVar1 < *(uint *)(uVar4 + 0x118));
}



/* FUN_1002f1ce @ 1002f1ce */

uint FUN_1002f1ce(void)

{
  int *in_EAX;
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  int iVar5;
  int unaff_ESI;
  int local_14;
  int local_10;
  int local_c;
  undefined1 local_5;
  undefined4 *puVar4;
  
  iVar2 = *(int *)(unaff_ESI + 0x184);
  local_5 = 0;
  if ((*(char *)(unaff_ESI + 200) == '\0') || (*(int *)(unaff_ESI + 0x8c) == 0)) {
LAB_1002f2ab:
    uVar3 = (uint)in_EAX & 0xffffff00;
  }
  else {
    if (*(int *)(iVar2 + 0x70) == 0) {
      uVar1 = (*(code *)**(undefined4 **)(unaff_ESI + 4))();
      *(undefined4 *)(iVar2 + 0x70) = uVar1;
    }
    local_c = *(int *)(iVar2 + 0x70);
    puVar4 = *(undefined4 **)(unaff_ESI + 0xc4);
    local_14 = 0;
    if (0 < *(int *)(unaff_ESI + 0x20)) {
      puVar4 = puVar4 + 0x13;
      local_10 = 0;
      do {
        in_EAX = (int *)*puVar4;
        if (((((in_EAX == (int *)0x0) || ((short)*in_EAX == 0)) ||
             (*(short *)((int)in_EAX + 2) == 0)) ||
            (((short)in_EAX[4] == 0 || ((short)in_EAX[8] == 0)))) ||
           ((*(short *)((int)in_EAX + 0x12) == 0 ||
            (((short)in_EAX[1] == 0 ||
             (in_EAX = (int *)(*(int *)(unaff_ESI + 0x8c) + local_10), *in_EAX < 0))))))
        goto LAB_1002f2ab;
        iVar5 = local_c - (int)in_EAX;
        iVar2 = 5;
        do {
          in_EAX = in_EAX + 1;
          *(int *)(iVar5 + (int)in_EAX) = *in_EAX;
          if (*in_EAX != 0) {
            local_5 = 1;
          }
          iVar2 = iVar2 + -1;
        } while (iVar2 != 0);
        local_c = local_c + 0x18;
        local_14 = local_14 + 1;
        local_10 = local_10 + 0x100;
        puVar4 = puVar4 + 0x15;
      } while (local_14 < *(int *)(unaff_ESI + 0x20));
    }
    uVar3 = CONCAT31((int3)((uint)puVar4 >> 8),local_5);
  }
  return uVar3;
}



/* FUN_1002f7ce @ 1002f7ce */

void __cdecl FUN_1002f7ce(int param_1)

{
  int iVar1;
  uint uVar2;
  
  iVar1 = *(int *)(param_1 + 0x184);
  if (*(int *)(iVar1 + 0x10) != 0) {
    if (*(char *)(param_1 + 0x49) != '\0') {
      uVar2 = FUN_1002f1ce();
      if ((char)uVar2 != '\0') {
        *(undefined1 **)(iVar1 + 0xc) = &LAB_1002f2b1;
        goto LAB_1002f7ff;
      }
    }
    *(code **)(iVar1 + 0xc) = FUN_1002f068;
  }
LAB_1002f7ff:
  *(undefined4 *)(param_1 + 0x88) = 0;
  return;
}



/* FUN_1002f809 @ 1002f809 */

void __cdecl FUN_1002f809(int param_1,char param_2)

{
  int *piVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  int iVar7;
  int *piVar8;
  int iVar9;
  
  iVar9 = param_1;
  puVar3 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x74);
  *(undefined4 **)(param_1 + 0x184) = puVar3;
  *puVar3 = &LAB_1002ecdc;
  puVar3[2] = FUN_1002f7ce;
  puVar3[0x1c] = 0;
  if (param_2 == '\0') {
    iVar4 = (**(code **)(*(int *)(param_1 + 4) + 4))(param_1,1,0x500);
    piVar8 = puVar3 + 8;
    iVar9 = 10;
    do {
      *piVar8 = iVar4;
      piVar8 = piVar8 + 1;
      iVar4 = iVar4 + 0x80;
      iVar9 = iVar9 + -1;
    } while (iVar9 != 0);
    puVar3[1] = &LAB_1002eec6;
    puVar3[3] = FUN_1002ecec;
    puVar3[4] = 0;
  }
  else {
    piVar8 = (int *)(param_1 + 0x20);
    piVar1 = (int *)(param_1 + 0xc4);
    param_1 = 0;
    if (0 < *piVar8) {
      piVar8 = (int *)(*piVar1 + 0xc);
      _param_2 = puVar3 + 0x12;
      do {
        iVar4 = *piVar8;
        iVar7 = iVar4;
        if (*(char *)(iVar9 + 200) != '\0') {
          iVar7 = iVar4 * 3;
        }
        iVar2 = *(int *)(iVar9 + 4);
        iVar4 = FUN_10022b93(piVar8[5],iVar4);
        iVar5 = FUN_10022b93(piVar8[4],piVar8[-1]);
        uVar6 = (**(code **)(iVar2 + 0x14))(iVar9,1,1,iVar5,iVar4,iVar7);
        param_1 = param_1 + 1;
        *_param_2 = uVar6;
        piVar8 = piVar8 + 0x15;
        _param_2 = _param_2 + 1;
      } while (param_1 < *(int *)(iVar9 + 0x20));
    }
    puVar3[1] = FUN_1002eec9;
    puVar3[3] = FUN_1002f068;
    puVar3[4] = puVar3 + 0x12;
  }
  return;
}



/* FUN_1002f901 @ 1002f901 */

void __cdecl FUN_1002f901(int param_1,int param_2,int *param_3)

{
  char cVar1;
  int iVar2;
  int iVar3;
  char *pcVar4;
  int *piVar5;
  undefined4 *puVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  undefined1 *puVar10;
  int iVar11;
  undefined1 *puVar12;
  int aiStack_520 [257];
  char local_11c [260];
  byte *local_18;
  int local_14;
  int local_10;
  uint local_c;
  int local_8;
  
  if (*param_3 == 0) {
    iVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x5d4);
    *param_3 = iVar2;
  }
  iVar2 = *param_3;
  iVar3 = 0;
  *(int *)(iVar2 + 0xd0) = param_2;
  local_8 = 0;
  param_3 = (int *)0x1;
  do {
    uVar7 = (uint)*(byte *)((int)param_3 + param_2);
    local_c = uVar7;
    if (uVar7 != 0) {
      pcVar4 = local_11c + iVar3;
      for (uVar8 = (uint)(*(byte *)((int)param_3 + param_2) >> 2); uVar8 != 0; uVar8 = uVar8 - 1) {
        *(uint *)pcVar4 =
             CONCAT22(CONCAT11((char)param_3,(char)param_3),CONCAT11((char)param_3,(char)param_3));
        pcVar4 = pcVar4 + 4;
      }
      for (uVar8 = uVar7 & 3; uVar8 != 0; uVar8 = uVar8 - 1) {
        *pcVar4 = (char)param_3;
        pcVar4 = pcVar4 + 1;
      }
      iVar3 = local_8 + uVar7;
      local_8 = iVar3;
    }
    param_3 = (int *)((int)param_3 + 1);
  } while ((int)param_3 < 0x11);
  local_11c[iVar3] = '\0';
  iVar11 = (int)local_11c[0];
  iVar3 = 0;
  iVar9 = 0;
  if (local_11c[0] != '\0') {
    pcVar4 = local_11c;
    do {
      cVar1 = *pcVar4;
      while (cVar1 == iVar11) {
        cVar1 = local_11c[iVar3 + 1];
        aiStack_520[iVar3] = iVar9;
        iVar3 = iVar3 + 1;
        iVar9 = iVar9 + 1;
      }
      iVar9 = iVar9 << 1;
      pcVar4 = local_11c + iVar3;
      iVar11 = iVar11 + 1;
    } while (*pcVar4 != '\0');
  }
  iVar3 = 0;
  iVar9 = 1;
  piVar5 = (int *)(iVar2 + 0x48);
  do {
    if (*(char *)(iVar9 + param_2) == '\0') {
      *piVar5 = -1;
    }
    else {
      iVar11 = aiStack_520[iVar3];
      piVar5[0x12] = iVar3;
      piVar5[-0x11] = iVar11;
      iVar3 = iVar3 + (uint)*(byte *)(iVar9 + param_2);
      *piVar5 = aiStack_520[iVar3 + -1];
    }
    iVar9 = iVar9 + 1;
    piVar5 = piVar5 + 1;
  } while (iVar9 < 0x11);
  local_8 = 0;
  *(undefined4 *)(iVar2 + 0x88) = 0xfffff;
  puVar6 = (undefined4 *)(iVar2 + 0xd4);
  for (iVar3 = 0x100; iVar3 != 0; iVar3 = iVar3 + -1) {
    *puVar6 = 0;
    puVar6 = puVar6 + 1;
  }
  param_3 = (int *)0x1;
  local_10 = 7;
  do {
    local_18 = (byte *)((int)param_3 + param_2);
    local_14 = 1;
    if (*local_18 != 0) {
      iVar3 = 1 << ((byte)local_10 & 0x1f);
      puVar10 = (undefined1 *)(local_8 + 0x11 + param_2);
      do {
        iVar9 = aiStack_520[local_8] << ((byte)local_10 & 0x1f);
        if (0 < iVar3) {
          puVar12 = (undefined1 *)(iVar9 + 0x4d4 + iVar2);
          puVar6 = (undefined4 *)(iVar2 + 0xd4 + iVar9 * 4);
          local_c = iVar3;
          do {
            *puVar6 = param_3;
            puVar6 = puVar6 + 1;
            *puVar12 = *puVar10;
            puVar12 = puVar12 + 1;
            local_c = local_c + -1;
          } while (local_c != 0);
        }
        local_14 = local_14 + 1;
        local_8 = local_8 + 1;
        puVar10 = puVar10 + 1;
      } while (local_14 <= (int)(uint)*local_18);
    }
    param_3 = (int *)((int)param_3 + 1);
    local_10 = local_10 + -1;
  } while (-1 < local_10);
  return;
}



/* FUN_1002faab @ 1002faab */

undefined4 __cdecl FUN_1002faab(undefined4 *param_1,uint param_2,int param_3,int param_4)

{
  uint uVar1;
  int iVar2;
  byte *pbVar3;
  
  iVar2 = param_1[1];
  pbVar3 = (byte *)*param_1;
  for (; param_3 < 0x19; param_3 = param_3 + 8) {
    if (param_1[2] == 0) {
      if (iVar2 == 0) {
        uVar1 = (**(code **)(*(int *)(param_1[7] + 0x14) + 0xc))(param_1[7]);
        if ((char)uVar1 == '\0') {
LAB_1002fb91:
          return uVar1 & 0xffffff00;
        }
        pbVar3 = (byte *)**(undefined4 **)(param_1[7] + 0x14);
        iVar2 = (*(undefined4 **)(param_1[7] + 0x14))[1];
      }
      uVar1 = (uint)*pbVar3;
      iVar2 = iVar2 + -1;
      pbVar3 = pbVar3 + 1;
      if (uVar1 == 0xff) {
        do {
          if (iVar2 == 0) {
            uVar1 = (**(code **)(*(int *)(param_1[7] + 0x14) + 0xc))(param_1[7]);
            if ((char)uVar1 == '\0') goto LAB_1002fb91;
            pbVar3 = (byte *)**(undefined4 **)(param_1[7] + 0x14);
            iVar2 = (*(undefined4 **)(param_1[7] + 0x14))[1];
          }
          uVar1 = (uint)*pbVar3;
          iVar2 = iVar2 + -1;
          pbVar3 = pbVar3 + 1;
        } while (uVar1 == 0xff);
        if (uVar1 != 0) {
          param_1[2] = uVar1;
          goto LAB_1002fb2f;
        }
        uVar1 = 0xff;
      }
    }
    else {
LAB_1002fb2f:
      if (param_4 <= param_3) break;
      if (*(char *)param_1[8] == '\0') {
        *(undefined4 *)(*(int *)param_1[7] + 0x14) = 0x71;
        (**(code **)(*(int *)param_1[7] + 4))((int *)param_1[7],0xffffffff);
        *(undefined1 *)param_1[8] = 1;
      }
      uVar1 = 0;
    }
    param_2 = param_2 << 8 | uVar1;
  }
  param_1[3] = param_2;
  param_1[6] = param_3;
  *param_1 = pbVar3;
  param_1[1] = iVar2;
  return CONCAT31((int3)((uint)param_3 >> 8),1);
}



/* FUN_1002fb95 @ 1002fb95 */

uint __cdecl FUN_1002fb95(undefined4 *param_1,uint param_2,int param_3,int param_4,int *param_5)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  int *local_8;
  
  local_8 = param_5;
  if (param_3 < (int)param_5) {
    uVar1 = FUN_1002faab(param_1,param_2,param_3,(int)param_5);
    if ((char)uVar1 == '\0') {
      return 0xffffffff;
    }
    param_2 = param_1[3];
    param_3 = param_1[6];
  }
  iVar2 = param_3 - (int)param_5;
  uVar3 = (int)param_2 >> ((byte)iVar2 & 0x1f) & (1 << ((byte)param_5 & 0x1f)) - 1U;
  param_5 = (int *)(param_4 + 0x44 + (int)param_5 * 4);
  if (*param_5 < (int)uVar3) {
    do {
      if (iVar2 < 1) {
        uVar1 = FUN_1002faab(param_1,param_2,iVar2,1);
        if ((char)uVar1 == '\0') {
          return 0xffffffff;
        }
        param_2 = param_1[3];
        iVar2 = param_1[6];
      }
      param_5 = param_5 + 1;
      iVar2 = iVar2 + -1;
      uVar3 = uVar3 << 1 | (int)param_2 >> ((byte)iVar2 & 0x1f) & 1U;
      local_8 = (int *)((int)local_8 + 1);
    } while (*param_5 < (int)uVar3);
  }
  param_1[6] = iVar2;
  param_1[3] = param_2;
  if ((int)local_8 < 0x11) {
    uVar3 = (uint)*(byte *)((*(int *)(param_4 + 0x8c + (int)local_8 * 4) -
                            *(int *)(param_4 + (int)local_8 * 4)) + *(int *)(param_4 + 0xd0) + 0x11
                           + uVar3);
  }
  else {
    *(undefined4 *)(*(int *)param_1[7] + 0x14) = 0x72;
    (**(code **)(*(int *)param_1[7] + 4))((int *)param_1[7],0xffffffff);
    uVar3 = 0;
  }
  return uVar3;
}



/* FUN_1002fc7f @ 1002fc7f */

undefined4 __cdecl FUN_1002fc7f(int param_1)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  int iVar5;
  
  iVar2 = *(int *)(param_1 + 0x194);
  piVar1 = (int *)(*(int *)(param_1 + 400) + 0x58);
  *piVar1 = *piVar1 + *(int *)(iVar2 + 0x14) / 8;
  *(undefined4 *)(iVar2 + 0x14) = 0;
  uVar3 = (**(code **)(*(int *)(param_1 + 400) + 8))(param_1);
  if ((char)uVar3 != '\0') {
    iVar5 = 0;
    if (0 < *(int *)(param_1 + 0x120)) {
      puVar4 = (undefined4 *)(iVar2 + 0x20);
      do {
        *puVar4 = 0;
        iVar5 = iVar5 + 1;
        puVar4 = puVar4 + 1;
      } while (iVar5 < *(int *)(param_1 + 0x120));
    }
    uVar3 = *(undefined4 *)(param_1 + 0xfc);
    *(undefined4 *)(iVar2 + 0x30) = uVar3;
    *(undefined1 *)(iVar2 + 0x18) = 0;
    uVar3 = CONCAT31((int3)((uint)uVar3 >> 8),1);
  }
  return uVar3;
}



/* FUN_1002fcdd @ 1002fcdd */

undefined4 __cdecl FUN_1002fcdd(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  int *piVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  uint local_4c;
  int local_40;
  int local_3c;
  int local_38;
  int local_30 [4];
  uint local_20;
  undefined2 *local_1c;
  int local_18;
  uint *local_14;
  int local_10;
  int local_c;
  uint local_8;
  
  iVar1 = *(int *)(param_1 + 0x194);
  if (((*(int *)(param_1 + 0xfc) == 0) || (*(int *)(iVar1 + 0x30) != 0)) ||
     (uVar3 = FUN_1002fc7f(param_1), (char)uVar3 != '\0')) {
    local_58 = **(undefined4 **)(param_1 + 0x14);
    local_54 = (*(undefined4 **)(param_1 + 0x14))[1];
    local_10 = 0;
    local_38 = iVar1 + 0x18;
    local_30[0] = *(int *)(iVar1 + 0x20);
    local_30[1] = *(undefined4 *)(iVar1 + 0x24);
    local_50 = *(undefined4 *)(param_1 + 0x178);
    local_30[2] = *(undefined4 *)(iVar1 + 0x28);
    uVar7 = *(uint *)(iVar1 + 0x10);
    iVar5 = *(int *)(iVar1 + 0x14);
    local_3c = param_1;
    local_30[3] = *(undefined4 *)(iVar1 + 0x2c);
    if (0 < *(int *)(param_1 + 0x13c)) {
      local_14 = (uint *)(param_1 + 0x140);
      do {
        local_1c = *(undefined2 **)(param_2 + local_10 * 4);
        iVar8 = *(int *)(param_1 + 0x124 + *local_14 * 4);
        local_8 = *(int *)(iVar1 + 0x34 + *(int *)(iVar8 + 0x14) * 4);
        local_20 = *local_14;
        local_18 = iVar8;
        local_c = *(int *)(iVar1 + 0x44 + *(int *)(iVar8 + 0x18) * 4);
        if (iVar5 < 8) {
          uVar4 = FUN_1002faab(&local_58,uVar7,iVar5,0);
          if ((char)uVar4 == '\0') goto LAB_100300a6;
          iVar5 = local_40;
          uVar7 = local_4c;
          if (7 < local_40) goto LAB_1002fdb9;
          piVar6 = (int *)0x1;
LAB_1002fde6:
          uVar4 = FUN_1002fb95(&local_58,uVar7,iVar5,local_8,piVar6);
          iVar5 = local_40;
          uVar7 = local_4c;
          uVar9 = uVar4;
          if ((int)uVar4 < 0) goto LAB_100300a6;
        }
        else {
LAB_1002fdb9:
          uVar4 = (int)uVar7 >> ((char)iVar5 - 8U & 0x1f) & 0xff;
          iVar2 = *(int *)(local_8 + 0xd4 + uVar4 * 4);
          if (iVar2 == 0) {
            piVar6 = (int *)0x9;
            goto LAB_1002fde6;
          }
          iVar5 = iVar5 - iVar2;
          uVar9 = (uint)*(byte *)(uVar4 + 0x4d4 + local_8);
        }
        uVar4 = 0;
        if (uVar9 != 0) {
          if ((iVar5 < (int)uVar9) &&
             (uVar4 = FUN_1002faab(&local_58,uVar7,iVar5,uVar9), iVar5 = local_40, uVar7 = local_4c,
             (char)uVar4 == '\0')) {
LAB_100300a6:
            return uVar4 & 0xffffff00;
          }
          iVar5 = iVar5 - uVar9;
          local_8 = (1 << ((byte)uVar9 & 0x1f)) - 1;
          uVar4 = local_8 & (int)uVar7 >> ((byte)iVar5 & 0x1f);
          iVar8 = local_18;
          if ((int)uVar4 < *(int *)(&DAT_1004f3a8 + uVar9 * 4)) {
            uVar4 = *(int *)(&DAT_1004f3e8 + uVar9 * 4) + uVar4;
          }
        }
        if (*(char *)(iVar8 + 0x30) == '\0') {
LAB_1002ff95:
          local_8 = 1;
          do {
            if (iVar5 < 8) {
              uVar4 = FUN_1002faab(&local_58,uVar7,iVar5,0);
              if ((char)uVar4 == '\0') goto LAB_100300a6;
              iVar5 = local_40;
              uVar7 = local_4c;
              if (7 < local_40) goto LAB_1002ffcc;
              piVar6 = (int *)0x1;
LAB_1002fff6:
              uVar4 = FUN_1002fb95(&local_58,uVar7,iVar5,local_c,piVar6);
              iVar5 = local_40;
              uVar7 = local_4c;
              if ((int)uVar4 < 0) goto LAB_100300a6;
            }
            else {
LAB_1002ffcc:
              uVar4 = (int)uVar7 >> ((char)iVar5 - 8U & 0x1f) & 0xff;
              iVar8 = *(int *)(local_c + 0xd4 + uVar4 * 4);
              if (iVar8 == 0) {
                piVar6 = (int *)0x9;
                goto LAB_1002fff6;
              }
              uVar4 = (uint)*(byte *)(uVar4 + 0x4d4 + local_c);
              iVar5 = iVar5 - iVar8;
            }
            uVar9 = uVar4 & 0xf;
            if (uVar9 == 0) {
              if ((int)uVar4 >> 4 != 0xf) break;
              local_8 = local_8 + 0xf;
            }
            else {
              local_8 = local_8 + ((int)uVar4 >> 4);
              if ((iVar5 < (int)uVar9) &&
                 (uVar4 = FUN_1002faab(&local_58,uVar7,iVar5,uVar9), iVar5 = local_40,
                 uVar7 = local_4c, (char)uVar4 == '\0')) goto LAB_100300a6;
              iVar5 = iVar5 - uVar9;
            }
            local_8 = local_8 + 1;
          } while ((int)local_8 < 0x40);
        }
        else {
          piVar6 = local_30 + local_20;
          *piVar6 = *piVar6 + uVar4;
          *local_1c = (short)*piVar6;
          if (*(int *)(iVar8 + 0x24) < 2) goto LAB_1002ff95;
          local_8 = 1;
          do {
            if (iVar5 < 8) {
              uVar4 = FUN_1002faab(&local_58,uVar7,iVar5,0);
              if ((char)uVar4 == '\0') goto LAB_100300a6;
              iVar5 = local_40;
              uVar7 = local_4c;
              if (7 < local_40) goto LAB_1002febd;
              piVar6 = (int *)0x1;
LAB_1002fee7:
              uVar4 = FUN_1002fb95(&local_58,uVar7,iVar5,local_c,piVar6);
              iVar5 = local_40;
              uVar7 = local_4c;
              if ((int)uVar4 < 0) goto LAB_100300a6;
            }
            else {
LAB_1002febd:
              uVar4 = (int)uVar7 >> ((char)iVar5 - 8U & 0x1f) & 0xff;
              iVar8 = *(int *)(local_c + 0xd4 + uVar4 * 4);
              if (iVar8 == 0) {
                piVar6 = (int *)0x9;
                goto LAB_1002fee7;
              }
              uVar4 = (uint)*(byte *)(uVar4 + 0x4d4 + local_c);
              iVar5 = iVar5 - iVar8;
            }
            uVar9 = uVar4 & 0xf;
            local_20 = uVar9;
            if (uVar9 == 0) {
              if ((int)uVar4 >> 4 != 0xf) break;
              local_8 = local_8 + 0xf;
            }
            else {
              local_8 = local_8 + ((int)uVar4 >> 4);
              if ((iVar5 < (int)uVar9) &&
                 (uVar4 = FUN_1002faab(&local_58,uVar7,iVar5,uVar9), iVar5 = local_40,
                 uVar7 = local_4c, (char)uVar4 == '\0')) goto LAB_100300a6;
              iVar5 = iVar5 - uVar9;
              uVar4 = (1 << (sbyte)uVar9) - 1U & (int)uVar7 >> ((byte)iVar5 & 0x1f);
              if ((int)uVar4 < *(int *)(&DAT_1004f3a8 + local_20 * 4)) {
                uVar4 = *(int *)(&DAT_1004f3e8 + local_20 * 4) + uVar4;
              }
              local_1c[(&DAT_1004e8c0)[local_8]] = (short)uVar4;
            }
            local_8 = local_8 + 1;
          } while ((int)local_8 < 0x40);
        }
        local_10 = local_10 + 1;
        local_14 = local_14 + 1;
      } while (local_10 < *(int *)(param_1 + 0x13c));
    }
    **(undefined4 **)(param_1 + 0x14) = local_58;
    *(undefined4 *)(*(int *)(param_1 + 0x14) + 4) = local_54;
    *(undefined4 *)(param_1 + 0x178) = local_50;
    *(int *)(iVar1 + 0x30) = *(int *)(iVar1 + 0x30) + -1;
    *(int *)(iVar1 + 0x20) = local_30[0];
    *(int *)(iVar1 + 0x24) = local_30[1];
    *(int *)(iVar1 + 0x28) = local_30[2];
    *(int *)(iVar1 + 0x14) = iVar5;
    *(uint *)(iVar1 + 0x10) = uVar7;
    *(int *)(iVar1 + 0x2c) = local_30[3];
    uVar3 = CONCAT31((int3)((uint)iVar5 >> 8),1);
  }
  return uVar3;
}



/* FUN_100300aa @ 100300aa */

void __cdecl FUN_100300aa(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int local_c;
  undefined4 *local_8;
  
  piVar4 = param_1;
  iVar1 = param_1[0x65];
  if ((((param_1[0x5a] != 0) || (param_1[0x5b] != 0x3f)) || (param_1[0x5c] != 0)) ||
     (param_1[0x5d] != 0)) {
    *(undefined4 *)(*param_1 + 0x14) = 0x76;
    (**(code **)(*param_1 + 4))(param_1,0xffffffff);
  }
  local_c = 0;
  if (0 < param_1[0x48]) {
    local_8 = (undefined4 *)(iVar1 + 0x20);
    param_1 = param_1 + 0x49;
    do {
      iVar2 = *(int *)(*param_1 + 0x14);
      iVar3 = *(int *)(*param_1 + 0x18);
      if (((iVar2 < 0) || (3 < iVar2)) || (piVar4[iVar2 + 0x28] == 0)) {
        *(undefined4 *)(*piVar4 + 0x14) = 0x31;
        *(int *)(*piVar4 + 0x18) = iVar2;
        (**(code **)*piVar4)(piVar4);
      }
      if (((iVar3 < 0) || (3 < iVar3)) || (piVar4[iVar3 + 0x2c] == 0)) {
        *(undefined4 *)(*piVar4 + 0x14) = 0x31;
        *(int *)(*piVar4 + 0x18) = iVar3;
        (**(code **)*piVar4)(piVar4);
      }
      FUN_1002f901((int)piVar4,piVar4[iVar2 + 0x28],(int *)(iVar1 + 0x34 + iVar2 * 4));
      FUN_1002f901((int)piVar4,piVar4[iVar3 + 0x2c],(int *)(iVar1 + 0x44 + iVar3 * 4));
      *local_8 = 0;
      param_1 = param_1 + 1;
      local_8 = local_8 + 1;
      local_c = local_c + 1;
    } while (local_c < piVar4[0x48]);
  }
  *(undefined1 *)(iVar1 + 0x18) = 0;
  *(undefined4 *)(iVar1 + 0x14) = 0;
  *(undefined4 *)(iVar1 + 8) = 0;
  *(undefined4 *)(iVar1 + 0xc) = 0;
  *(undefined4 *)(iVar1 + 0x10) = 0;
  *(int *)(iVar1 + 0x30) = piVar4[0x3f];
  return;
}



/* FUN_100301d9 @ 100301d9 */

void __cdecl FUN_100301d9(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x58);
  *(undefined4 **)(param_1 + 0x194) = puVar1;
  iVar2 = 4;
  *puVar1 = FUN_100300aa;
  puVar1[1] = FUN_1002fcdd;
  puVar1 = puVar1 + 0xd;
  do {
    puVar1[4] = 0;
    *puVar1 = 0;
    puVar1 = puVar1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  return;
}



/* FUN_10030213 @ 10030213 */

undefined4 FUN_10030213(void)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  int iVar5;
  int unaff_EDI;
  
  iVar2 = *(int *)(unaff_EDI + 0x194);
  piVar1 = (int *)(*(int *)(unaff_EDI + 400) + 0x58);
  *piVar1 = *piVar1 + *(int *)(iVar2 + 0x14) / 8;
  *(undefined4 *)(iVar2 + 0x14) = 0;
  uVar3 = (**(code **)(*(int *)(unaff_EDI + 400) + 8))();
  if ((char)uVar3 != '\0') {
    iVar5 = 0;
    if (0 < *(int *)(unaff_EDI + 0x120)) {
      puVar4 = (undefined4 *)(iVar2 + 0x24);
      do {
        *puVar4 = 0;
        iVar5 = iVar5 + 1;
        puVar4 = puVar4 + 1;
      } while (iVar5 < *(int *)(unaff_EDI + 0x120));
    }
    *(undefined4 *)(iVar2 + 0x20) = 0;
    uVar3 = *(undefined4 *)(unaff_EDI + 0xfc);
    *(undefined4 *)(iVar2 + 0x34) = uVar3;
    *(undefined1 *)(iVar2 + 0x18) = 0;
    uVar3 = CONCAT31((int3)((uint)uVar3 >> 8),1);
  }
  return uVar3;
}



/* FUN_1003026e @ 1003026e */

undefined4 __cdecl FUN_1003026e(uint param_1,int param_2)

{
  uint uVar1;
  undefined4 uVar2;
  uint uVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int *piVar10;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  uint local_50;
  int local_44;
  uint local_40;
  int local_3c;
  int local_34 [5];
  undefined2 *local_20;
  undefined4 local_1c;
  int local_18;
  int *local_14;
  int local_10;
  int local_c;
  uint local_8;
  
  uVar1 = param_1;
  local_c = *(int *)(param_1 + 0x194);
  local_1c = *(undefined4 *)(param_1 + 0x174);
  if (((*(int *)(param_1 + 0xfc) == 0) || (*(int *)(*(int *)(param_1 + 0x194) + 0x34) != 0)) ||
     (uVar2 = FUN_10030213(), (char)uVar2 != '\0')) {
    iVar5 = local_c;
    local_10 = 0;
    iVar7 = *(int *)(param_1 + 0x13c);
    local_40 = param_1;
    local_5c = **(undefined4 **)(param_1 + 0x14);
    local_58 = (*(undefined4 **)(param_1 + 0x14))[1];
    local_54 = *(undefined4 *)(param_1 + 0x178);
    uVar3 = *(uint *)(local_c + 0x10);
    iVar8 = *(int *)(local_c + 0x14);
    local_3c = local_c + 0x18;
    piVar4 = (int *)(local_c + 0x20);
    piVar10 = local_34;
    for (iVar6 = 5; iVar6 != 0; iVar6 = iVar6 + -1) {
      *piVar10 = *piVar4;
      piVar4 = piVar4 + 1;
      piVar10 = piVar10 + 1;
    }
    if (0 < iVar7) {
      local_14 = (int *)(param_1 + 0x140);
      param_1 = uVar3;
      do {
        local_20 = *(undefined2 **)(param_2 + local_10 * 4);
        local_18 = *local_14;
        iVar7 = *(int *)(iVar5 + 0x38 + *(int *)(*(int *)(uVar1 + 0x124 + *local_14 * 4) + 0x14) * 4
                        );
        if (iVar8 < 8) {
          uVar3 = FUN_1002faab(&local_5c,param_1,iVar8,0);
          if ((char)uVar3 == '\0') goto LAB_10030467;
          param_1 = local_50;
          iVar5 = local_c;
          iVar8 = local_44;
          if (7 < local_44) goto LAB_10030352;
          piVar4 = (int *)0x1;
LAB_1003037a:
          uVar3 = FUN_1002fb95(&local_5c,param_1,iVar8,iVar7,piVar4);
          if ((int)uVar3 < 0) goto LAB_10030467;
          param_1 = local_50;
          iVar5 = local_c;
          iVar8 = local_44;
          uVar9 = uVar3;
        }
        else {
LAB_10030352:
          uVar3 = (int)param_1 >> ((char)iVar8 - 8U & 0x1f) & 0xff;
          iVar6 = *(int *)(iVar7 + 0xd4 + uVar3 * 4);
          if (iVar6 == 0) {
            piVar4 = (int *)0x9;
            goto LAB_1003037a;
          }
          uVar9 = (uint)*(byte *)(uVar3 + 0x4d4 + iVar7);
          iVar8 = iVar8 - iVar6;
        }
        uVar3 = 0;
        if (uVar9 != 0) {
          if (iVar8 < (int)uVar9) {
            uVar3 = FUN_1002faab(&local_5c,param_1,iVar8,uVar9);
            if ((char)uVar3 == '\0') {
LAB_10030467:
              return uVar3 & 0xffffff00;
            }
            param_1 = local_50;
            iVar5 = local_c;
            iVar8 = local_44;
          }
          iVar8 = iVar8 - uVar9;
          local_8 = (1 << ((byte)uVar9 & 0x1f)) - 1;
          uVar3 = local_8 & (int)param_1 >> ((byte)iVar8 & 0x1f);
          if ((int)uVar3 < *(int *)(&DAT_1004f490 + uVar9 * 4)) {
            uVar3 = *(int *)(&DAT_1004f4d0 + uVar9 * 4) + uVar3;
          }
        }
        local_14 = local_14 + 1;
        piVar4 = local_34 + local_18 + 1;
        *piVar4 = *piVar4 + uVar3;
        local_10 = local_10 + 1;
        *local_20 = (short)(*piVar4 << ((byte)local_1c & 0x1f));
        uVar3 = param_1;
      } while (local_10 < *(int *)(uVar1 + 0x13c));
    }
    param_1 = uVar3;
    **(undefined4 **)(uVar1 + 0x14) = local_5c;
    *(undefined4 *)(*(int *)(uVar1 + 0x14) + 4) = local_58;
    *(undefined4 *)(uVar1 + 0x178) = local_54;
    *(int *)(iVar5 + 0x34) = *(int *)(iVar5 + 0x34) + -1;
    *(uint *)(iVar5 + 0x10) = param_1;
    *(int *)(iVar5 + 0x14) = iVar8;
    piVar4 = local_34;
    piVar10 = (int *)(iVar5 + 0x20);
    for (iVar7 = 5; iVar7 != 0; iVar7 = iVar7 + -1) {
      *piVar10 = *piVar4;
      piVar4 = piVar4 + 1;
      piVar10 = piVar10 + 1;
    }
    uVar2 = CONCAT31((int3)((uint)iVar5 >> 8),1);
  }
  return uVar2;
}



/* FUN_1003046b @ 1003046b */

undefined4 __cdecl FUN_1003046b(uint param_1,int *param_2)

{
  int iVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  int *piVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  uint local_40;
  int local_34;
  uint local_30;
  int local_2c;
  int local_24;
  undefined4 local_20;
  int local_1c;
  int local_18;
  int local_14;
  uint local_10;
  int local_c;
  int local_8;
  
  uVar2 = param_1;
  local_1c = *(int *)(param_1 + 0x16c);
  iVar1 = *(int *)(param_1 + 0x194);
  local_20 = *(undefined4 *)(param_1 + 0x174);
  if (((*(int *)(param_1 + 0xfc) == 0) || (*(int *)(iVar1 + 0x34) != 0)) ||
     (uVar3 = FUN_10030213(), (char)uVar3 != '\0')) {
    if (*(int *)(iVar1 + 0x20) == 0) {
      local_30 = param_1;
      local_4c = **(undefined4 **)(param_1 + 0x14);
      local_48 = (*(undefined4 **)(param_1 + 0x14))[1];
      local_44 = *(undefined4 *)(param_1 + 0x178);
      uVar7 = *(uint *)(iVar1 + 0x10);
      iVar4 = *(int *)(iVar1 + 0x14);
      local_2c = iVar1 + 0x18;
      local_24 = *param_2;
      local_18 = *(int *)(iVar1 + 0x48);
      local_c = 0;
      local_10 = uVar7;
      for (local_8 = *(int *)(param_1 + 0x168); local_8 <= local_1c; local_8 = local_8 + 1) {
        if (iVar4 < 8) {
          param_1 = FUN_1002faab(&local_4c,uVar7,iVar4,0);
          if ((char)param_1 == '\0') goto LAB_1003061a;
          local_10 = local_40;
          iVar4 = local_34;
          uVar7 = local_40;
          if (7 < local_34) goto LAB_10030530;
          piVar5 = (int *)0x1;
LAB_10030560:
          param_1 = FUN_1002fb95(&local_4c,uVar7,iVar4,local_18,piVar5);
          if ((int)param_1 < 0) goto LAB_1003061a;
          local_10 = local_40;
          iVar4 = local_34;
          uVar7 = local_40;
        }
        else {
LAB_10030530:
          uVar6 = (int)uVar7 >> ((char)iVar4 - 8U & 0x1f) & 0xff;
          iVar8 = *(int *)(local_18 + 0xd4 + uVar6 * 4);
          if (iVar8 == 0) {
            piVar5 = (int *)0x9;
            goto LAB_10030560;
          }
          iVar4 = iVar4 - iVar8;
          param_1 = (uint)*(byte *)(uVar6 + 0x4d4 + local_18);
        }
        local_14 = (int)param_1 >> 4;
        uVar6 = param_1 & 0xf;
        if (uVar6 == 0) {
          if (local_14 != 0xf) {
            iVar8 = 1 << ((byte)local_14 & 0x1f);
            local_c = iVar8;
            if (local_14 != 0) {
              if ((iVar4 < local_14) &&
                 (param_1 = FUN_1002faab(&local_4c,uVar7,iVar4,local_14), iVar4 = local_34,
                 uVar7 = local_40, (char)param_1 == '\0')) goto LAB_1003061a;
              iVar4 = iVar4 - local_14;
              local_c = local_c + ((int)uVar7 >> ((byte)iVar4 & 0x1f) & iVar8 - 1U);
            }
            local_c = local_c + -1;
            break;
          }
          local_8 = local_8 + 0xf;
        }
        else {
          local_8 = local_8 + local_14;
          if (iVar4 < (int)uVar6) {
            param_1 = FUN_1002faab(&local_4c,uVar7,iVar4,uVar6);
            if ((char)param_1 == '\0') {
LAB_1003061a:
              return param_1 & 0xffffff00;
            }
            local_10 = local_40;
            iVar4 = local_34;
            uVar7 = local_40;
          }
          iVar4 = iVar4 - uVar6;
          uVar7 = (1 << (sbyte)uVar6) - 1U & (int)uVar7 >> ((byte)iVar4 & 0x1f);
          if ((int)uVar7 < *(int *)(&DAT_1004f490 + uVar6 * 4)) {
            uVar7 = *(int *)(&DAT_1004f4d0 + uVar6 * 4) + uVar7;
          }
          *(short *)(local_24 + (&DAT_1004e8c0)[local_8] * 2) =
               (short)(uVar7 << ((byte)local_20 & 0x1f));
          uVar7 = local_10;
        }
      }
      **(undefined4 **)(uVar2 + 0x14) = local_4c;
      *(undefined4 *)(*(int *)(uVar2 + 0x14) + 4) = local_48;
      *(undefined4 *)(uVar2 + 0x178) = local_44;
      *(int *)(iVar1 + 0x14) = iVar4;
      *(uint *)(iVar1 + 0x10) = uVar7;
    }
    else {
      local_c = *(int *)(iVar1 + 0x20) + -1;
    }
    *(int *)(iVar1 + 0x34) = *(int *)(iVar1 + 0x34) + -1;
    *(int *)(iVar1 + 0x20) = local_c;
    uVar3 = CONCAT31((int3)((uint)local_c >> 8),1);
  }
  return uVar3;
}



/* FUN_10030694 @ 10030694 */

uint __cdecl FUN_10030694(int param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  ushort *puVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  uint local_24;
  int local_18;
  int local_14;
  int local_10;
  int local_8;
  
  iVar4 = param_1;
  iVar2 = *(int *)(param_1 + 0x194);
  local_8 = 1 << ((byte)*(undefined4 *)(param_1 + 0x174) & 0x1f);
  if (((*(int *)(param_1 + 0xfc) == 0) || (*(int *)(iVar2 + 0x34) != 0)) ||
     (uVar5 = FUN_10030213(), (char)uVar5 != '\0')) {
    piVar1 = (int *)(param_1 + 0x13c);
    local_14 = param_1;
    local_30 = **(undefined4 **)(param_1 + 0x14);
    local_2c = (*(undefined4 **)(param_1 + 0x14))[1];
    local_28 = *(undefined4 *)(param_1 + 0x178);
    uVar6 = *(uint *)(iVar2 + 0x10);
    iVar7 = *(int *)(iVar2 + 0x14);
    local_10 = iVar2 + 0x18;
    param_1 = 0;
    if (0 < *piVar1) {
      do {
        puVar3 = *(ushort **)(param_2 + param_1 * 4);
        if ((iVar7 < 1) &&
           (uVar5 = FUN_1002faab(&local_30,uVar6,iVar7,1), uVar6 = local_24, iVar7 = local_18,
           (char)uVar5 == '\0')) goto LAB_10030772;
        iVar7 = iVar7 + -1;
        if (((int)uVar6 >> ((byte)iVar7 & 0x1f) & 1U) != 0) {
          *puVar3 = *puVar3 | (ushort)local_8;
        }
        param_1 = param_1 + 1;
      } while (param_1 < *(int *)(iVar4 + 0x13c));
    }
    **(undefined4 **)(iVar4 + 0x14) = local_30;
    *(undefined4 *)(*(int *)(iVar4 + 0x14) + 4) = local_2c;
    *(undefined4 *)(iVar4 + 0x178) = local_28;
    *(int *)(iVar2 + 0x34) = *(int *)(iVar2 + 0x34) + -1;
    *(uint *)(iVar2 + 0x10) = uVar6;
    *(int *)(iVar2 + 0x14) = iVar7;
    uVar5 = CONCAT31((int3)(uVar6 >> 8),1);
  }
  else {
LAB_10030772:
    uVar5 = uVar5 & 0xffffff00;
  }
  return uVar5;
}



/* FUN_10030776 @ 10030776 */

undefined4 __cdecl FUN_10030776(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  uint uVar6;
  int iVar7;
  int aiStack_158 [64];
  undefined4 local_58;
  undefined4 local_54;
  int local_50;
  int *local_4c;
  int local_40;
  int *local_3c;
  int local_38;
  uint local_30;
  uint local_2c;
  short *local_28;
  int local_24;
  int local_20;
  uint local_1c;
  int local_18;
  int local_14;
  int local_10;
  uint local_c;
  int local_8;
  
  piVar3 = param_1;
  local_14 = param_1[0x5b];
  iVar1 = param_1[0x65];
  local_2c = 1 << ((byte)param_1[0x5d] & 0x1f);
  local_30 = -1 << ((byte)param_1[0x5d] & 0x1f);
  if (((param_1[0x3f] == 0) || (*(int *)(iVar1 + 0x34) != 0)) ||
     (uVar4 = FUN_10030213(), (char)uVar4 != '\0')) {
    local_1c = 0;
    local_3c = param_1;
    local_58 = *(undefined4 *)param_1[5];
    local_54 = ((undefined4 *)param_1[5])[1];
    local_50 = param_1[0x5e];
    local_38 = iVar1 + 0x18;
    iVar7 = *(int *)(iVar1 + 0x14);
    local_18 = *param_2;
    local_10 = *(int *)(iVar1 + 0x20);
    local_20 = *(int *)(iVar1 + 0x48);
    local_8 = param_1[0x5a];
    param_1 = *(int **)(iVar1 + 0x10);
    if (local_10 == 0) {
      for (; local_8 <= local_14; local_8 = local_8 + 1) {
        if (iVar7 < 8) {
          uVar4 = FUN_1002faab(&local_58,(uint)param_1,iVar7,0);
          if ((char)uVar4 == '\0') goto LAB_10030adc;
          param_1 = local_4c;
          iVar7 = local_40;
          if (7 < local_40) goto LAB_1003084f;
          piVar5 = (int *)0x1;
LAB_1003087c:
          local_c = FUN_1002fb95(&local_58,(uint)param_1,iVar7,local_20,piVar5);
          if ((int)local_c < 0) goto LAB_10030adc;
          param_1 = local_4c;
          iVar7 = local_40;
        }
        else {
LAB_1003084f:
          uVar6 = (int)param_1 >> ((char)iVar7 - 8U & 0x1f) & 0xff;
          iVar2 = *(int *)(local_20 + 0xd4 + uVar6 * 4);
          if (iVar2 == 0) {
            piVar5 = (int *)0x9;
            goto LAB_1003087c;
          }
          local_c = (uint)*(byte *)(uVar6 + 0x4d4 + local_20);
          iVar7 = iVar7 - iVar2;
        }
        local_24 = (int)local_c >> 4;
        local_c = local_c & 0xf;
        if (local_c == 0) {
          uVar6 = 0;
          if (local_24 != 0xf) {
            local_20 = 1 << ((byte)local_24 & 0x1f);
            local_10 = local_20;
            if (local_24 == 0) goto LAB_10030a14;
            if (iVar7 < local_24) {
              uVar4 = FUN_1002faab(&local_58,(uint)param_1,iVar7,local_24);
              if ((char)uVar4 == '\0') goto LAB_10030adc;
              param_1 = local_4c;
              iVar7 = local_40;
            }
            iVar7 = iVar7 - local_24;
            local_10 = local_10 + ((int)param_1 >> ((byte)iVar7 & 0x1f) & local_20 - 1U);
            goto LAB_10030a14;
          }
        }
        else {
          if (local_c != 1) {
            *(undefined4 *)(*piVar3 + 0x14) = 0x72;
            (**(code **)(*piVar3 + 4))(piVar3,0xffffffff);
          }
          if (iVar7 < 1) {
            uVar4 = FUN_1002faab(&local_58,(uint)param_1,iVar7,1);
            if ((char)uVar4 == '\0') goto LAB_10030adc;
            param_1 = local_4c;
            iVar7 = local_40;
          }
          iVar7 = iVar7 + -1;
          uVar6 = local_2c;
          if (((int)param_1 >> ((byte)iVar7 & 0x1f) & 1U) == 0) {
            uVar6 = local_30;
          }
        }
        do {
          local_c = uVar6;
          local_28 = (short *)(local_18 + (&DAT_1004e8c0)[local_8] * 2);
          if (*local_28 == 0) {
            local_24 = local_24 + -1;
            if (local_24 < 0) break;
          }
          else {
            if (iVar7 < 1) {
              uVar4 = FUN_1002faab(&local_58,(uint)param_1,iVar7,1);
              if ((char)uVar4 == '\0') goto LAB_10030adc;
              param_1 = local_4c;
              iVar7 = local_40;
            }
            iVar7 = iVar7 + -1;
            if ((((int)param_1 >> ((byte)iVar7 & 0x1f) & 1U) != 0) &&
               ((local_2c & (int)*local_28) == 0)) {
              uVar6 = local_2c;
              if (*local_28 < 0) {
                uVar6 = local_30;
              }
              *local_28 = *local_28 + (short)uVar6;
            }
          }
          local_8 = local_8 + 1;
          uVar6 = local_c;
        } while (local_8 <= local_14);
        if (local_c != 0) {
          iVar2 = (&DAT_1004e8c0)[local_8];
          *(short *)(local_18 + iVar2 * 2) = (short)local_c;
          piVar5 = aiStack_158 + local_1c;
          local_1c = local_1c + 1;
          *piVar5 = iVar2;
        }
      }
    }
    else {
LAB_10030a14:
      if (local_10 != 0) {
        for (; local_8 <= local_14; local_8 = local_8 + 1) {
          local_28 = (short *)(local_18 + (&DAT_1004e8c0)[local_8] * 2);
          if (*local_28 != 0) {
            if (iVar7 < 1) {
              uVar4 = FUN_1002faab(&local_58,(uint)param_1,iVar7,1);
              if ((char)uVar4 == '\0') {
LAB_10030adc:
                for (; 0 < (int)local_1c; local_1c = local_1c - 1) {
                  *(undefined2 *)(local_18 + aiStack_158[local_1c - 1] * 2) = 0;
                }
                return local_1c & 0xffffff00;
              }
              param_1 = local_4c;
              iVar7 = local_40;
            }
            iVar7 = iVar7 + -1;
            if ((((int)param_1 >> ((byte)iVar7 & 0x1f) & 1U) != 0) &&
               ((local_2c & (int)*local_28) == 0)) {
              uVar6 = local_2c;
              if (*local_28 < 0) {
                uVar6 = local_30;
              }
              *local_28 = *local_28 + (short)uVar6;
            }
          }
        }
        local_10 = local_10 + -1;
      }
    }
    *(undefined4 *)piVar3[5] = local_58;
    *(undefined4 *)(piVar3[5] + 4) = local_54;
    piVar3[0x5e] = local_50;
    *(int *)(iVar1 + 0x34) = *(int *)(iVar1 + 0x34) + -1;
    *(int **)(iVar1 + 0x10) = param_1;
    *(int *)(iVar1 + 0x20) = local_10;
    *(int *)(iVar1 + 0x14) = iVar7;
    uVar4 = CONCAT31((int3)((uint)local_10 >> 8),1);
  }
  return uVar4;
}



/* FUN_10030ae4 @ 10030ae4 */

void __cdecl FUN_10030ae4(int *param_1)

{
  int iVar1;
  int iVar2;
  bool bVar3;
  int iVar4;
  int *piVar5;
  int iVar6;
  bool bVar7;
  bool bVar8;
  undefined4 *local_14;
  int *local_10;
  int local_8;
  
  iVar1 = param_1[0x65];
  bVar7 = param_1[0x5a] != 0;
  bVar3 = false;
  if (bVar7) {
    if ((param_1[0x5b] < param_1[0x5a]) || (0x3f < param_1[0x5b])) {
      bVar3 = true;
    }
    bVar8 = param_1[0x48] == 1;
  }
  else {
    bVar8 = param_1[0x5b] == 0;
  }
  if (!bVar8) {
    bVar3 = true;
  }
  if ((param_1[0x5c] != 0) && (param_1[0x5d] != param_1[0x5c] + -1)) {
    bVar3 = true;
  }
  if (0xd < param_1[0x5d]) {
    bVar3 = true;
  }
  if (bVar3) {
    *(undefined4 *)(*param_1 + 0x14) = 0xe;
    *(int *)(*param_1 + 0x18) = param_1[0x5a];
    *(int *)(*param_1 + 0x1c) = param_1[0x5b];
    *(int *)(*param_1 + 0x20) = param_1[0x5c];
    *(int *)(*param_1 + 0x24) = param_1[0x5d];
    (**(code **)*param_1)(param_1);
  }
  local_8 = 0;
  if (0 < param_1[0x48]) {
    local_10 = param_1 + 0x49;
    do {
      iVar2 = *(int *)(*local_10 + 4);
      piVar5 = (int *)(iVar2 * 0x100 + param_1[0x23]);
      if ((bVar7) && (*piVar5 < 0)) {
        *(undefined4 *)(*param_1 + 0x14) = 0x6f;
        *(int *)(*param_1 + 0x18) = iVar2;
        *(undefined4 *)(*param_1 + 0x1c) = 0;
        (**(code **)(*param_1 + 4))(param_1,0xffffffff);
      }
      for (iVar6 = param_1[0x5a]; iVar6 <= param_1[0x5b]; iVar6 = iVar6 + 1) {
        iVar4 = piVar5[iVar6];
        if (iVar4 < 0) {
          iVar4 = 0;
        }
        if (param_1[0x5c] != iVar4) {
          *(undefined4 *)(*param_1 + 0x14) = 0x6f;
          *(int *)(*param_1 + 0x18) = iVar2;
          *(int *)(*param_1 + 0x1c) = iVar6;
          (**(code **)(*param_1 + 4))(param_1,0xffffffff);
        }
        piVar5[iVar6] = param_1[0x5d];
      }
      local_8 = local_8 + 1;
      local_10 = local_10 + 1;
    } while (local_8 < param_1[0x48]);
  }
  if (param_1[0x5c] == 0) {
    if (bVar7) {
      *(code **)(iVar1 + 4) = FUN_1003046b;
    }
    else {
      *(code **)(iVar1 + 4) = FUN_1003026e;
    }
  }
  else if (bVar7) {
    *(code **)(iVar1 + 4) = FUN_10030776;
  }
  else {
    *(code **)(iVar1 + 4) = FUN_10030694;
  }
  local_8 = 0;
  if (0 < param_1[0x48]) {
    local_10 = param_1 + 0x49;
    local_14 = (undefined4 *)(iVar1 + 0x24);
    do {
      if (bVar7) {
        iVar2 = *(int *)(*local_10 + 0x18);
        if (((iVar2 < 0) || (3 < iVar2)) || (param_1[iVar2 + 0x2c] == 0)) {
          *(undefined4 *)(*param_1 + 0x14) = 0x31;
          *(int *)(*param_1 + 0x18) = iVar2;
          (**(code **)*param_1)(param_1);
        }
        piVar5 = (int *)(iVar1 + 0x38 + iVar2 * 4);
        FUN_1002f901((int)param_1,param_1[iVar2 + 0x2c],piVar5);
        *(int *)(iVar1 + 0x48) = *piVar5;
      }
      else if (param_1[0x5c] == 0) {
        iVar2 = *(int *)(*local_10 + 0x14);
        if (((iVar2 < 0) || (3 < iVar2)) || (param_1[iVar2 + 0x28] == 0)) {
          *(undefined4 *)(*param_1 + 0x14) = 0x31;
          *(int *)(*param_1 + 0x18) = iVar2;
          (**(code **)*param_1)(param_1);
        }
        FUN_1002f901((int)param_1,param_1[iVar2 + 0x28],(int *)(iVar1 + 0x38 + iVar2 * 4));
      }
      local_8 = local_8 + 1;
      local_10 = local_10 + 1;
      *local_14 = 0;
      local_14 = local_14 + 1;
    } while (local_8 < param_1[0x48]);
  }
  *(undefined1 *)(iVar1 + 0x18) = 0;
  *(undefined4 *)(iVar1 + 0x14) = 0;
  *(undefined4 *)(iVar1 + 0x10) = 0;
  *(undefined4 *)(iVar1 + 0x20) = 0;
  *(int *)(iVar1 + 0x34) = param_1[0x3f];
  return;
}



/* FUN_10030d87 @ 10030d87 */

void __cdecl FUN_10030d87(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x50);
  *(undefined4 **)(param_1 + 0x194) = puVar1;
  *puVar1 = FUN_10030ae4;
  puVar1[0xe] = 0;
  puVar1[0xf] = 0;
  puVar1[0x10] = 0;
  puVar1[0x11] = 0;
  puVar1 = (undefined4 *)
           (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,*(int *)(param_1 + 0x20) << 8);
  iVar3 = 0;
  *(undefined4 **)(param_1 + 0x8c) = puVar1;
  if (0 < *(int *)(param_1 + 0x20)) {
    do {
      iVar3 = iVar3 + 1;
      puVar4 = puVar1;
      for (iVar2 = 0x40; iVar2 != 0; iVar2 = iVar2 + -1) {
        *puVar4 = 0xffffffff;
        puVar4 = puVar4 + 1;
      }
      puVar1 = puVar1 + 0x40;
    } while (iVar3 < *(int *)(param_1 + 0x20));
  }
  return;
}



/* FUN_10030de8 @ 10030de8 */

void __cdecl FUN_10030de8(undefined *param_1)

{
  int *piVar1;
  double dVar2;
  undefined *puVar3;
  int iVar4;
  short *psVar5;
  undefined2 *puVar6;
  double *pdVar7;
  int iVar8;
  int iVar9;
  int *piVar10;
  int *piVar11;
  int local_10;
  double *local_c;
  int local_8;
  
  puVar3 = param_1;
  piVar10 = (int *)(param_1 + 0x20);
  piVar11 = (int *)(param_1 + 0x198);
  piVar1 = (int *)(param_1 + 0xc4);
  local_8 = 0;
  param_1 = (undefined *)0x0;
  local_10 = 0;
  if (0 < *piVar10) {
    piVar10 = (int *)(*piVar11 + 0x2c);
    piVar11 = (int *)(*piVar1 + 0x24);
    do {
      iVar8 = *piVar11;
      if (iVar8 == 1) {
        param_1 = FUN_10035ecb;
LAB_10030ea3:
        local_8 = 0;
      }
      else {
        if (iVar8 == 2) {
          param_1 = FUN_10035d0d;
          goto LAB_10030ea3;
        }
        if (iVar8 == 4) {
          param_1 = FUN_100359f8;
          goto LAB_10030ea3;
        }
        if (iVar8 == 8) {
          iVar8 = *(int *)(puVar3 + 0x44);
          if (iVar8 == 0) {
            param_1 = FUN_10035f08;
            goto LAB_10030ea3;
          }
          if (iVar8 == 1) {
            param_1 = FUN_10035f54;
            local_8 = 1;
          }
          else {
            if (iVar8 != 2) {
              *(undefined4 *)(*(int *)puVar3 + 0x14) = 0x2f;
              goto LAB_10030e5d;
            }
            param_1 = FUN_10035fa0;
            local_8 = 2;
          }
        }
        else {
          *(undefined4 *)(*(int *)puVar3 + 0x14) = 6;
          *(int *)(*(int *)puVar3 + 0x18) = *piVar11;
LAB_10030e5d:
          (*(code *)**(undefined4 **)puVar3)(puVar3);
        }
      }
      piVar10[-10] = (int)param_1;
      if ((((char)piVar11[3] != '\0') && (*piVar10 != local_8)) && (iVar8 = piVar11[10], iVar8 != 0)
         ) {
        *piVar10 = local_8;
        if (local_8 == 0) {
          puVar6 = (undefined2 *)piVar11[0xb];
          iVar8 = iVar8 - (int)puVar6;
          iVar9 = 0x40;
          do {
            *puVar6 = *(undefined2 *)(iVar8 + (int)puVar6);
            puVar6 = puVar6 + 1;
            iVar9 = iVar9 + -1;
          } while (iVar9 != 0);
        }
        else if (local_8 == 1) {
          iVar9 = piVar11[0xb];
          psVar5 = &DAT_1004f510;
          do {
            *(short *)(iVar9 + -0x1004f510 + (int)psVar5) =
                 (short)((int)*(short *)(iVar8 + -0x1004f510 + (int)psVar5) * (int)*psVar5 + 0x800
                        >> 0xc);
            psVar5 = psVar5 + 1;
          } while ((int)psVar5 < 0x1004f590);
        }
        else if (local_8 == 2) {
          iVar9 = piVar11[0xb];
          iVar4 = 0;
          local_c = (double *)&DAT_1004f590;
          do {
            pdVar7 = (double *)&DAT_1004f590;
            do {
              dVar2 = *pdVar7;
              pdVar7 = pdVar7 + 1;
              *(float *)(iVar9 + iVar4 * 4) =
                   (float)*(ushort *)(iVar8 + iVar4 * 2) * (float)dVar2 * (float)*local_c;
              iVar4 = iVar4 + 1;
            } while ((int)pdVar7 < 0x1004f5d0);
            local_c = local_c + 1;
          } while ((int)local_c < 0x1004f5d0);
        }
        else {
          *(undefined4 *)(*(int *)puVar3 + 0x14) = 0x2f;
          (*(code *)**(undefined4 **)puVar3)(puVar3);
        }
      }
      local_10 = local_10 + 1;
      piVar10 = piVar10 + 1;
      piVar11 = piVar11 + 0x15;
    } while (local_10 < *(int *)(puVar3 + 0x20));
  }
  return;
}



/* FUN_10030f9f @ 10030f9f */

void __cdecl FUN_10030f9f(undefined4 *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  int local_8;
  
  puVar1 = param_1;
  puVar2 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x54);
  local_8 = 0;
  param_1[0x66] = puVar2;
  *puVar2 = FUN_10030de8;
  if (0 < (int)param_1[8]) {
    puVar2 = puVar2 + 0xb;
    param_1 = (undefined4 *)(param_1[0x31] + 0x50);
    do {
      puVar3 = (undefined4 *)(**(code **)puVar1[1])(puVar1,1,0x100);
      *param_1 = puVar3;
      for (iVar4 = 0x40; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar3 = 0;
        puVar3 = puVar3 + 1;
      }
      *puVar2 = 0xffffffff;
      local_8 = local_8 + 1;
      puVar2 = puVar2 + 1;
      param_1 = param_1 + 0x15;
    } while (local_8 < (int)puVar1[8]);
  }
  return;
}



/* FUN_10031013 @ 10031013 */

void __cdecl
FUN_10031013(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,int param_5,
            int *param_6,int param_7)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  
  piVar3 = param_6;
  iVar2 = param_1;
  iVar1 = *(int *)(param_1 + 0x188);
  uVar4 = param_7 - *param_6;
  if (*(uint *)(iVar1 + 0x10) < (uint)(param_7 - *param_6)) {
    uVar4 = *(uint *)(iVar1 + 0x10);
  }
  param_1 = 0;
  (**(code **)(*(int *)(iVar2 + 0x19c) + 4))
            (iVar2,param_2,param_3,param_4,*(undefined4 *)(iVar1 + 0xc),&param_1,uVar4);
  (**(code **)(*(int *)(iVar2 + 0x1a4) + 4))
            (iVar2,*(undefined4 *)(iVar1 + 0xc),param_5 + *piVar3 * 4,param_1);
  *piVar3 = *piVar3 + param_1;
  return;
}



/* FUN_10031078 @ 10031078 */

/* [binja] int32_t sub_10031078(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4, int32_t*
   arg5) */

int __cdecl FUN_10031078(int arg1,int arg2,int arg3,int arg4,int *arg5)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  int *in_stack_00000018;
  
  iVar2 = *(int *)(arg1 + 0x188);
  puVar1 = (uint *)(iVar2 + 0x18);
  if (*puVar1 == 0) {
    uVar4 = (**(code **)(*(int *)(arg1 + 4) + 0x1c))
                      (arg1,*(undefined4 *)(iVar2 + 8),*(undefined4 *)(iVar2 + 0x14),
                       *(undefined4 *)(iVar2 + 0x10),1);
    *(undefined4 *)(iVar2 + 0xc) = uVar4;
  }
  uVar3 = *puVar1;
  (**(code **)(*(int *)(arg1 + 0x19c) + 4))
            (arg1,arg2,arg3,arg4,*(undefined4 *)(iVar2 + 0xc),puVar1,*(undefined4 *)(iVar2 + 0x10));
  if (uVar3 < *puVar1) {
    iVar5 = *puVar1 - uVar3;
    (**(code **)(*(int *)(arg1 + 0x1a4) + 4))(arg1,*(int *)(iVar2 + 0xc) + uVar3 * 4,0,iVar5);
    *in_stack_00000018 = *in_stack_00000018 + iVar5;
  }
  uVar3 = *(uint *)(iVar2 + 0x10);
  if (uVar3 <= *puVar1) {
    *(int *)(iVar2 + 0x14) = *(int *)(iVar2 + 0x14) + uVar3;
    *puVar1 = 0;
  }
  return uVar3;
}



/* FUN_10031108 @ 10031108 */

/* [binja] int32_t sub_10031108(void* arg1, int32_t arg2, int32_t* arg3, int32_t arg4) */

int __cdecl FUN_10031108(void *arg1,int arg2,int *arg3,int arg4)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  int in_stack_00000014;
  int *in_stack_00000018;
  int in_stack_0000001c;
  
  iVar1 = *(int *)((int)arg1 + 0x188);
  if (*(int *)(iVar1 + 0x18) == 0) {
    uVar2 = (**(code **)(*(int *)((int)arg1 + 4) + 0x1c))
                      (arg1,*(undefined4 *)(iVar1 + 8),*(undefined4 *)(iVar1 + 0x14),
                       *(undefined4 *)(iVar1 + 0x10),0);
    *(undefined4 *)(iVar1 + 0xc) = uVar2;
  }
  uVar4 = *(int *)(iVar1 + 0x10) - *(int *)(iVar1 + 0x18);
  uVar3 = in_stack_0000001c - *in_stack_00000018;
  if (uVar3 < uVar4) {
    uVar4 = uVar3;
  }
  uVar3 = *(int *)((int)arg1 + 0x60) - *(int *)(iVar1 + 0x14);
  if (uVar3 < uVar4) {
    uVar4 = uVar3;
  }
  (**(code **)(*(int *)((int)arg1 + 0x1a4) + 4))
            (arg1,*(int *)(iVar1 + 0xc) + *(int *)(iVar1 + 0x18) * 4,
             in_stack_00000014 + *in_stack_00000018 * 4,uVar4);
  *in_stack_00000018 = *in_stack_00000018 + uVar4;
  *(int *)(iVar1 + 0x18) = *(int *)(iVar1 + 0x18) + uVar4;
  uVar4 = *(uint *)(iVar1 + 0x10);
  if (uVar4 <= *(uint *)(iVar1 + 0x18)) {
    *(int *)(iVar1 + 0x14) = *(int *)(iVar1 + 0x14) + uVar4;
    *(undefined4 *)(iVar1 + 0x18) = 0;
  }
  return uVar4;
}



/* FUN_1003123a @ 1003123a */

void __cdecl FUN_1003123a(int param_1,char param_2)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  
  puVar2 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x1c);
  *(undefined4 **)(param_1 + 0x188) = puVar2;
  *puVar2 = &LAB_10031194;
  puVar2[2] = 0;
  puVar2[3] = 0;
  if (*(char *)(param_1 + 0x4a) != '\0') {
    iVar5 = *(int *)(param_1 + 0x110);
    puVar2[4] = iVar5;
    if (param_2 == '\0') {
      uVar4 = (**(code **)(*(int *)(param_1 + 4) + 8))
                        (param_1,1,*(int *)(param_1 + 100) * *(int *)(param_1 + 0x5c),iVar5);
      puVar2[3] = uVar4;
    }
    else {
      iVar1 = *(int *)(param_1 + 4);
      iVar3 = FUN_10022b93(*(int *)(param_1 + 0x60),iVar5);
      uVar4 = (**(code **)(iVar1 + 0x10))
                        (param_1,1,0,*(int *)(param_1 + 100) * *(int *)(param_1 + 0x5c),iVar3,iVar5)
      ;
      puVar2[2] = uVar4;
    }
  }
  return;
}



/* FUN_100312d7 @ 100312d7 */

/* [binja] int32_t* sub_100312d7(void* arg1, int32_t arg2, int32_t* arg3, int32_t arg4, int32_t*
   arg5, int32_t arg6) */

int * __cdecl FUN_100312d7(void *arg1,int arg2,int *arg3,int arg4,int *arg5,int arg6)

{
  uint uVar1;
  int iVar2;
  void *pvVar3;
  int iVar4;
  uint uVar5;
  int in_stack_0000001c;
  int local_8;
  
  pvVar3 = arg1;
  iVar2 = *(int *)((int)arg1 + 0x19c);
  if (*(int *)((int)arg1 + 0x110) <= *(int *)(iVar2 + 0x5c)) {
    arg1 = (void *)0x0;
    local_8 = *(int *)((int)pvVar3 + 0xc4);
    if (0 < *(int *)((int)pvVar3 + 0x20)) {
      iVar4 = iVar2 + 0xc;
      do {
        (**(code **)(iVar4 + 0x28))
                  (pvVar3,local_8,
                   *(int *)(arg2 + (int)arg1 * 4) + *(int *)(iVar4 + 0x58) * *arg3 * 4,iVar4);
        local_8 = local_8 + 0x54;
        arg1 = (void *)((int)arg1 + 1);
        iVar4 = iVar4 + 4;
      } while ((int)arg1 < *(int *)((int)pvVar3 + 0x20));
    }
    *(undefined4 *)(iVar2 + 0x5c) = 0;
  }
  uVar5 = *(int *)((int)pvVar3 + 0x110) - *(int *)(iVar2 + 0x5c);
  if (*(uint *)(iVar2 + 0x60) < uVar5) {
    uVar5 = *(uint *)(iVar2 + 0x60);
  }
  uVar1 = in_stack_0000001c - *(int *)arg6;
  if (uVar1 < uVar5) {
    uVar5 = uVar1;
  }
  (**(code **)(*(int *)((int)pvVar3 + 0x1a0) + 4))
            (pvVar3,iVar2 + 0xc,*(undefined4 *)(iVar2 + 0x5c),arg5 + *(int *)arg6,uVar5);
  *(uint *)arg6 = *(int *)arg6 + uVar5;
  *(int *)(iVar2 + 0x60) = *(int *)(iVar2 + 0x60) - uVar5;
  *(int *)(iVar2 + 0x5c) = *(int *)(iVar2 + 0x5c) + uVar5;
  if (*(int *)((int)pvVar3 + 0x110) <= *(int *)(iVar2 + 0x5c)) {
    *arg3 = *arg3 + 1;
    arg6 = (int)arg3;
  }
  return (int *)arg6;
}



/* FUN_100313b0 @ 100313b0 */

void __cdecl FUN_100313b0(int param_1,undefined4 *param_2,undefined4 *param_3,int *param_4)

{
  byte bVar1;
  undefined1 uVar2;
  int iVar3;
  undefined4 *puVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  undefined4 *puVar8;
  uint uVar9;
  undefined1 *puVar10;
  undefined4 *puVar11;
  int local_c;
  
  iVar3 = *param_4;
  iVar5 = *(int *)(param_1 + 0x19c) + param_2[1];
  bVar1 = *(byte *)(iVar5 + 0x8c);
  uVar7 = (uint)bVar1;
  uVar6 = (uint)*(byte *)(iVar5 + 0x96);
  local_c = 0;
  if (0 < *(int *)(param_1 + 0x110)) {
    param_2 = param_3;
    do {
      puVar10 = (undefined1 *)*param_2;
      puVar4 = *(undefined4 **)(iVar3 + local_c * 4);
      puVar8 = (undefined4 *)(*(int *)(param_1 + 0x5c) + (int)puVar4);
      while (puVar4 < puVar8) {
        uVar2 = *puVar10;
        puVar10 = puVar10 + 1;
        if (uVar7 != 0) {
          puVar11 = puVar4;
          for (uVar9 = (uint)(bVar1 >> 2); uVar9 != 0; uVar9 = uVar9 - 1) {
            *puVar11 = CONCAT22(CONCAT11(uVar2,uVar2),CONCAT11(uVar2,uVar2));
            puVar11 = puVar11 + 1;
          }
          for (uVar9 = uVar7 & 3; uVar9 != 0; uVar9 = uVar9 - 1) {
            *(undefined1 *)puVar11 = uVar2;
            puVar11 = (undefined4 *)((int)puVar11 + 1);
          }
          puVar4 = (undefined4 *)((int)puVar4 + uVar7);
        }
      }
      if (1 < uVar6) {
        FUN_10022bab(iVar3,local_c,iVar3,local_c + 1,uVar6 - 1,*(uint *)(param_1 + 0x5c));
      }
      local_c = local_c + uVar6;
      param_2 = param_2 + 1;
    } while (local_c < *(int *)(param_1 + 0x110));
  }
  return;
}



/* FUN_1003148d @ 1003148d */

/* [binja] int32_t* sub_1003148d(int32_t* arg1, int32_t arg2, int32_t* arg3) */

int * __cdecl FUN_1003148d(int *arg1,int arg2,int *arg3)

{
  undefined1 uVar1;
  undefined1 *puVar2;
  int *piVar3;
  undefined1 *puVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined1 *puVar7;
  int *in_stack_00000010;
  
  piVar3 = in_stack_00000010;
  in_stack_00000010 = (int *)0x0;
  puVar6 = (undefined4 *)*piVar3;
  if (0 < arg1[0x44]) {
    iVar5 = (int)arg3 - (int)puVar6;
    do {
      puVar2 = (undefined1 *)*puVar6;
      puVar7 = *(undefined1 **)(iVar5 + (int)puVar6);
      puVar4 = puVar2 + arg1[0x17];
      for (; puVar2 < puVar4; puVar2 = puVar2 + 2) {
        uVar1 = *puVar7;
        puVar7 = puVar7 + 1;
        *puVar2 = uVar1;
        puVar2[1] = uVar1;
      }
      piVar3 = (int *)((int)in_stack_00000010 + 1);
      puVar6 = puVar6 + 1;
      in_stack_00000010 = piVar3;
    } while ((int)piVar3 < arg1[0x44]);
  }
  return piVar3;
}



/* FUN_100314e4 @ 100314e4 */

/* [binja] int32_t* sub_100314e4(void* arg1, int32_t* arg2, int32_t* arg3) */

int * __cdecl FUN_100314e4(void *arg1,int *arg2,int *arg3)

{
  undefined1 uVar1;
  int iVar2;
  undefined1 *puVar3;
  int *piVar4;
  undefined1 *puVar5;
  undefined1 *puVar6;
  int iVar7;
  int *in_stack_00000010;
  
  iVar2 = *in_stack_00000010;
  iVar7 = 0;
  piVar4 = in_stack_00000010;
  if (0 < *(int *)((int)arg1 + 0x110)) {
    in_stack_00000010 = arg3;
    do {
      puVar6 = (undefined1 *)*in_stack_00000010;
      puVar5 = *(undefined1 **)(iVar2 + iVar7 * 4);
      puVar3 = puVar5 + *(int *)((int)arg1 + 0x5c);
      for (; puVar5 < puVar3; puVar5 = puVar5 + 2) {
        uVar1 = *puVar6;
        puVar6 = puVar6 + 1;
        *puVar5 = uVar1;
        puVar5[1] = uVar1;
      }
      piVar4 = (int *)FUN_10022bab(iVar2,iVar7,iVar2,iVar7 + 1,1,*(uint *)((int)arg1 + 0x5c));
      in_stack_00000010 = in_stack_00000010 + 1;
      iVar7 = iVar7 + 2;
    } while (iVar7 < *(int *)((int)arg1 + 0x110));
  }
  return piVar4;
}



/* FUN_1003154e @ 1003154e */

void __cdecl FUN_1003154e(int param_1,int param_2,int param_3,undefined4 *param_4)

{
  byte *pbVar1;
  byte bVar2;
  byte *pbVar3;
  byte *pbVar4;
  int iVar5;
  int iVar6;
  undefined4 *puVar7;
  
  puVar7 = param_4;
  param_4 = (undefined4 *)0x0;
  puVar7 = (undefined4 *)*puVar7;
  if (0 < *(int *)(param_1 + 0x110)) {
    iVar6 = param_3 - (int)puVar7;
    do {
      pbVar4 = *(byte **)(iVar6 + (int)puVar7);
      bVar2 = *pbVar4;
      pbVar3 = (byte *)*puVar7;
      *pbVar3 = bVar2;
      pbVar4 = pbVar4 + 1;
      pbVar3[1] = (byte)((int)((uint)bVar2 * 3 + 2 + (uint)*pbVar4) >> 2);
      for (iVar5 = *(int *)(param_2 + 0x28) + -2; pbVar3 = pbVar3 + 2, iVar5 != 0;
          iVar5 = iVar5 + -1) {
        bVar2 = *pbVar4;
        pbVar1 = pbVar4 + -1;
        pbVar4 = pbVar4 + 1;
        *pbVar3 = (byte)((int)(*pbVar1 + 1 + (uint)bVar2 * 3) >> 2);
        pbVar3[1] = (byte)((int)(*pbVar4 + 2 + (uint)bVar2 * 3) >> 2);
      }
      bVar2 = *pbVar4;
      param_4 = (undefined4 *)((int)param_4 + 1);
      *pbVar3 = (byte)((int)(pbVar4[-1] + 1 + (uint)bVar2 * 3) >> 2);
      pbVar3[1] = bVar2;
      puVar7 = puVar7 + 1;
    } while ((int)param_4 < *(int *)(param_1 + 0x110));
  }
  return;
}



/* FUN_100315f2 @ 100315f2 */

void __cdecl FUN_100315f2(int param_1,int param_2,undefined4 *param_3,int *param_4)

{
  int iVar1;
  undefined1 *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  byte *pbVar6;
  int iVar7;
  byte *pbVar8;
  int local_8;
  
  iVar1 = *param_4;
  local_8 = 0;
  if (0 < *(int *)(param_1 + 0x110)) {
    do {
      param_4 = (int *)0x0;
      do {
        pbVar6 = (byte *)*param_3;
        if (param_4 == (int *)0x0) {
          pbVar8 = (byte *)param_3[-1];
        }
        else {
          pbVar8 = (byte *)param_3[1];
        }
        puVar2 = *(undefined1 **)(iVar1 + local_8 * 4);
        local_8 = local_8 + 1;
        iVar5 = (uint)*pbVar6 * 3 + (uint)*pbVar8;
        iVar3 = (uint)pbVar6[1] * 3 + (uint)pbVar8[1];
        *puVar2 = (char)(iVar5 * 4 + 8 >> 4);
        pbVar8 = pbVar8 + 2;
        pbVar6 = pbVar6 + 2;
        puVar2[1] = (char)(iVar5 * 3 + 7 + iVar3 >> 4);
        for (iVar7 = *(int *)(param_2 + 0x28) + -2; puVar2 = puVar2 + 2, iVar7 != 0;
            iVar7 = iVar7 + -1) {
          iVar4 = (uint)*pbVar6 * 3 + (uint)*pbVar8;
          *puVar2 = (char)(iVar3 * 3 + 8 + iVar5 >> 4);
          pbVar8 = pbVar8 + 1;
          pbVar6 = pbVar6 + 1;
          puVar2[1] = (char)(iVar3 * 3 + 7 + iVar4 >> 4);
          iVar5 = iVar3;
          iVar3 = iVar4;
        }
        param_4 = (int *)((int)param_4 + 1);
        *puVar2 = (char)(iVar3 * 3 + 8 + iVar5 >> 4);
        puVar2[1] = (char)(iVar3 * 4 + 7 >> 4);
      } while ((int)param_4 < 2);
      param_3 = param_3 + 1;
    } while (local_8 < *(int *)(param_1 + 0x110));
  }
  return;
}



/* FUN_100316f9 @ 100316f9 */

void __cdecl FUN_100316f9(int *param_1)

{
  int iVar1;
  bool bVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  int *piVar8;
  int iVar9;
  undefined1 local_10;
  int local_c;
  
  puVar3 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0xa0);
  param_1[0x67] = (int)puVar3;
  *(undefined1 *)(puVar3 + 2) = 0;
  *puVar3 = &LAB_100312bd;
  puVar3[1] = FUN_100312d7;
  if ((char)param_1[0x42] != '\0') {
    *(undefined4 *)(*param_1 + 0x14) = 0x17;
    (**(code **)*param_1)(param_1);
  }
  if (((char)param_1[0x12] == '\0') || (param_1[0x45] < 2)) {
    bVar2 = false;
  }
  else {
    bVar2 = true;
  }
  local_c = 0;
  if (0 < param_1[8]) {
    puVar7 = puVar3 + 0xd;
    piVar8 = (int *)(param_1[0x31] + 0x24);
    do {
      iVar4 = (piVar8[-7] * *piVar8) / param_1[0x45];
      iVar5 = (piVar8[-6] * *piVar8) / param_1[0x45];
      iVar9 = param_1[0x44];
      iVar1 = param_1[0x43];
      puVar7[0xc] = iVar5;
      if ((char)piVar8[3] == '\0') {
        *puVar7 = &LAB_100313a8;
      }
      else if ((iVar4 == iVar1) && (iVar5 == iVar9)) {
        *puVar7 = &LAB_1003139d;
      }
      else {
        if (iVar4 * 2 == iVar1) {
          if (iVar5 == iVar9) {
            if ((bVar2) && (2 < (uint)piVar8[1])) {
              *puVar7 = FUN_1003154e;
            }
            else {
              *puVar7 = FUN_1003148d;
            }
          }
          else {
            if ((iVar4 * 2 != iVar1) || (iVar5 * 2 != iVar9)) goto LAB_1003182e;
            if ((bVar2) && (2 < (uint)piVar8[1])) {
              *puVar7 = FUN_100315f2;
              *(undefined1 *)(puVar3 + 2) = 1;
            }
            else {
              *puVar7 = FUN_100314e4;
            }
          }
        }
        else {
LAB_1003182e:
          if ((iVar1 % iVar4 == 0) && (iVar9 % iVar5 == 0)) {
            local_10 = (undefined1)(iVar1 / iVar4);
            *puVar7 = FUN_100313b0;
            *(undefined1 *)(local_c + 0x8c + (int)puVar3) = local_10;
            *(char *)(local_c + 0x96 + (int)puVar3) = (char)(iVar9 / iVar5);
          }
          else {
            *(undefined4 *)(*param_1 + 0x14) = 0x25;
            (**(code **)*param_1)(param_1);
          }
        }
        iVar9 = param_1[0x44];
        iVar1 = param_1[1];
        iVar4 = FUN_10022b93(param_1[0x17],param_1[0x43]);
        uVar6 = (**(code **)(iVar1 + 8))(param_1,1,iVar4,iVar9);
        puVar7[-10] = uVar6;
      }
      local_c = local_c + 1;
      puVar7 = puVar7 + 1;
      piVar8 = piVar8 + 0x15;
    } while (local_c < param_1[8]);
  }
  return;
}



/* FUN_100318ba @ 100318ba */

void FUN_100318ba(void)

{
  int iVar1;
  int in_EAX;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 local_c;
  undefined4 local_8;
  
  iVar1 = *(int *)(in_EAX + 0x1a0);
  uVar2 = (*(code *)**(undefined4 **)(in_EAX + 4))();
  *(undefined4 *)(iVar1 + 8) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(in_EAX + 4))();
  *(undefined4 *)(iVar1 + 0xc) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(in_EAX + 4))();
  *(undefined4 *)(iVar1 + 0x10) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(in_EAX + 4))();
  *(undefined4 *)(iVar1 + 0x14) = uVar2;
  iVar3 = 0;
  iVar5 = 0x5b6900;
  local_c = -0xe25100;
  local_8 = -0xb2f480;
  iVar4 = 0x2c8d00;
  do {
    *(int *)(iVar3 + *(int *)(iVar1 + 8)) = local_8 >> 0x10;
    *(int *)(iVar3 + *(int *)(iVar1 + 0xc)) = local_c >> 0x10;
    *(int *)(iVar3 + *(int *)(iVar1 + 0x10)) = iVar5;
    *(int *)(iVar3 + *(int *)(iVar1 + 0x14)) = iVar4;
    iVar4 = iVar4 + -0x581a;
    iVar5 = iVar5 + -0xb6d2;
    iVar3 = iVar3 + 4;
    local_c = local_c + 0x1c5a2;
    local_8 = local_8 + 0x166e9;
  } while (-0x2b34e7 < iVar4);
  return;
}



/* FUN_1003196a @ 1003196a */

void __cdecl FUN_1003196a(int param_1,int param_2,int param_3,int *param_4,int param_5)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined1 *puVar4;
  undefined1 *puVar5;
  int iVar6;
  int iVar7;
  int local_8;
  
  iVar2 = *(int *)(param_1 + 0x20);
  iVar3 = *(int *)(param_1 + 0x5c);
  if (-1 < param_5 + -1) {
    iVar7 = param_3 << 2;
    local_8 = param_5;
    do {
      iVar6 = 0;
      if (0 < iVar2) {
        do {
          puVar5 = *(undefined1 **)(iVar7 + *(int *)(param_2 + iVar6 * 4));
          puVar4 = (undefined1 *)(*param_4 + iVar6);
          for (iVar1 = iVar3; iVar1 != 0; iVar1 = iVar1 + -1) {
            *puVar4 = *puVar5;
            puVar4 = puVar4 + iVar2;
            puVar5 = puVar5 + 1;
          }
          iVar6 = iVar6 + 1;
        } while (iVar6 < iVar2);
      }
      iVar7 = iVar7 + 4;
      param_4 = param_4 + 1;
      local_8 = local_8 + -1;
    } while (local_8 != 0);
  }
  return;
}



/* FUN_100319d5 @ 100319d5 */

void __cdecl FUN_100319d5(int param_1,int *param_2,int param_3,int param_4,int param_5)

{
  FUN_10022bab(*param_2,param_3,param_4,0,param_5,*(uint *)(param_1 + 0x5c));
  return;
}



/* FUN_100319f8 @ 100319f8 */

void __cdecl FUN_100319f8(int param_1,int *param_2,int param_3,undefined4 *param_4,int param_5)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  byte bVar4;
  byte bVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  undefined1 *puVar12;
  byte *pbVar13;
  int iVar14;
  int iVar15;
  uint uVar16;
  int iVar17;
  int iVar18;
  int local_c;
  int local_8;
  
  iVar6 = *(int *)(param_1 + 0x1a0);
  iVar7 = *(int *)(param_1 + 0x5c);
  iVar8 = *(int *)(param_1 + 0x11c);
  iVar9 = *(int *)(iVar6 + 8);
  iVar10 = *(int *)(iVar6 + 0xc);
  iVar11 = *(int *)(iVar6 + 0x10);
  iVar6 = *(int *)(iVar6 + 0x14);
  if (-1 < param_5 + -1) {
    iVar14 = param_3 << 2;
    local_c = param_5;
    do {
      piVar1 = (int *)(iVar14 + *param_2);
      pbVar13 = *(byte **)(iVar14 + param_2[1]);
      piVar2 = (int *)(iVar14 + param_2[2]);
      piVar3 = (int *)(iVar14 + param_2[3]);
      iVar14 = iVar14 + 4;
      if (iVar7 != 0) {
        iVar17 = *piVar1 - (int)pbVar13;
        iVar18 = *piVar2 - (int)pbVar13;
        iVar15 = *piVar3 - (int)pbVar13;
        puVar12 = (undefined1 *)*param_4;
        local_8 = iVar7;
        do {
          uVar16 = (uint)pbVar13[iVar17];
          bVar4 = *pbVar13;
          bVar5 = pbVar13[iVar18];
          *puVar12 = *(undefined1 *)(((iVar8 - *(int *)((uint)bVar5 * 4 + iVar9)) - uVar16) + 0xff);
          puVar12[1] = *(undefined1 *)
                        (((iVar8 - (*(int *)((uint)bVar4 * 4 + iVar6) +
                                    *(int *)((uint)bVar5 * 4 + iVar11) >> 0x10)) - uVar16) + 0xff);
          puVar12[2] = *(undefined1 *)
                        (((iVar8 - *(int *)((uint)bVar4 * 4 + iVar10)) - uVar16) + 0xff);
          puVar12[3] = pbVar13[iVar15];
          pbVar13 = pbVar13 + 1;
          local_8 = local_8 + -1;
          puVar12 = puVar12 + 4;
        } while (local_8 != 0);
      }
      local_c = local_c + -1;
      param_4 = param_4 + 1;
    } while (local_c != 0);
  }
  return;
}



/* FUN_10031b2a @ 10031b2a */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __cdecl
FUN_10031b2a(uint param_1,undefined4 *param_2,undefined4 *param_3,undefined4 *param_4,uint *param_5)

{
  undefined4 uVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  short sVar5;
  ushort uVar6;
  undefined7 uVar7;
  uint uVar8;
  byte bVar9;
  undefined2 uVar10;
  undefined8 uVar11;
  undefined4 uVar12;
  undefined8 uVar13;
  undefined2 uVar15;
  undefined8 uVar14;
  uint uVar16;
  undefined2 uVar21;
  undefined8 uVar17;
  undefined2 uVar20;
  undefined2 uVar22;
  undefined8 uVar18;
  ulonglong uVar19;
  undefined8 uVar23;
  undefined2 uVar25;
  undefined2 uVar26;
  undefined8 uVar24;
  undefined8 uVar27;
  
  uVar8 = param_1 >> 2;
  do {
    uVar12 = *param_2;
    uVar1 = *param_3;
    uVar6 = (ushort)(((uint7)(byte)((uint)uVar12 >> 0x18) << 0x30) >> 0x28);
    uVar7 = CONCAT25(uVar6,CONCAT14((char)((uint)uVar12 >> 0x10),uVar12));
    uVar19 = (ulonglong)
             CONCAT41((int)(CONCAT34((int3)((uint7)uVar7 >> 0x20),uVar12) >> 0x18),
                      (char)((uint)uVar12 >> 8)) & 0xffffffff00ff;
    bVar9 = (byte)uVar12;
    uVar12 = *param_4;
    uVar13 = psubsw((ulonglong)
                    CONCAT52((int5)(CONCAT43((int)(CONCAT34((int3)(CONCAT25((short)(((uint7)(byte)((
                                                  uint)uVar1 >> 0x18) << 0x30) >> 0x28),
                                                  CONCAT14((char)((uint)uVar1 >> 0x10),uVar1)) >>
                                                  0x20),uVar1) >> 0x18),
                                             CONCAT12((char)((uint)uVar1 >> 8),(short)uVar1)) >>
                                   0x10),(short)uVar1) & 0xffffffff00ff00ff,_DAT_10055840);
    uVar17 = psubsw((ulonglong)
                    CONCAT52(CONCAT41((int)(CONCAT34((int3)(CONCAT25((short)(((uint7)(byte)((uint)
                                                  uVar12 >> 0x18) << 0x30) >> 0x28),
                                                  CONCAT14((char)((uint)uVar12 >> 0x10),uVar12)) >>
                                                  0x20),uVar12) >> 0x18),(char)((uint)uVar12 >> 8)),
                             (ushort)(byte)uVar12) & 0xffffffff00ffffff,_DAT_10055840);
    uVar20 = (undefined2)((ulonglong)uVar17 >> 0x10);
    uVar15 = (undefined2)((ulonglong)uVar13 >> 0x10);
    uVar14 = pmaddwd(CONCAT44(CONCAT22(uVar20,uVar15),CONCAT22((short)uVar17,(short)uVar13)),
                     _DAT_10055848);
    uVar11 = psllw(CONCAT62((int6)uVar19,(ushort)bVar9),8);
    uVar25 = (undefined2)((ulonglong)uVar13 >> 0x20);
    uVar21 = (undefined2)((ulonglong)uVar17 >> 0x20);
    uVar26 = (undefined2)((ulonglong)uVar13 >> 0x30);
    uVar22 = (undefined2)((ulonglong)uVar17 >> 0x30);
    uVar24 = pmaddwd(CONCAT26(uVar22,CONCAT24(uVar26,CONCAT22(uVar21,uVar25))),_DAT_10055848);
    uVar10 = (undefined2)uVar19;
    uVar17 = pmaddwd(CONCAT44(CONCAT22(uVar10,uVar20),(uint)CONCAT12(bVar9,(short)uVar17)),
                     _DAT_10055850);
    uVar23 = pmaddwd(CONCAT44(CONCAT22(uVar10,uVar15),(uint)CONCAT12(bVar9,(short)uVar13)),
                     _DAT_10055858);
    uVar10 = (undefined2)((uint7)uVar7 >> 0x20);
    uVar6 = uVar6 >> 8;
    uVar27 = pmaddwd(CONCAT26(uVar6,CONCAT24(uVar26,CONCAT22(uVar10,uVar25))),_DAT_10055858);
    uVar13 = pmaddwd(CONCAT26(uVar6,CONCAT24(uVar22,CONCAT22(uVar10,uVar21))),_DAT_10055850);
    uVar18 = packssdw(CONCAT44((int)((int)uVar14 + (uint)(ushort)uVar11) >> 8,(int)uVar17 >> 8),
                      CONCAT44(DAT_1005dba0,(int)uVar23 >> 8));
    uVar17 = packssdw(CONCAT44((int)((int)((ulonglong)uVar14 >> 0x20) +
                                    (uint)(ushort)((ulonglong)uVar11 >> 0x10)) >> 8,
                               (int)((longlong)uVar17 >> 0x28)),
                      CONCAT44(DAT_1005dba4,(int)((longlong)uVar23 >> 0x28)));
    sVar2 = (short)uVar18;
    sVar3 = (short)((ulonglong)uVar18 >> 0x10);
    sVar4 = (short)((ulonglong)uVar18 >> 0x20);
    sVar5 = (short)((ulonglong)uVar18 >> 0x30);
    uVar16 = CONCAT13((0 < sVar5) * (sVar5 < 0x100) * (char)((ulonglong)uVar18 >> 0x30) -
                      (0xff < sVar5),
                      CONCAT12((0 < sVar4) * (sVar4 < 0x100) * (char)((ulonglong)uVar18 >> 0x20) -
                               (0xff < sVar4),
                               CONCAT11((0 < sVar3) * (sVar3 < 0x100) *
                                        (char)((ulonglong)uVar18 >> 0x10) - (0xff < sVar3),
                                        (0 < sVar2) * (sVar2 < 0x100) * (char)uVar18 -
                                        (0xff < sVar2))));
    sVar2 = (short)uVar17;
    sVar3 = (short)((ulonglong)uVar17 >> 0x10);
    sVar4 = (short)((ulonglong)uVar17 >> 0x20);
    uVar14 = packssdw(CONCAT44((int)((int)uVar24 + (uint)(ushort)((ulonglong)uVar11 >> 0x20)) >> 8,
                               (int)uVar13 >> 8),CONCAT44(DAT_1005dba0,(int)uVar27 >> 8));
    uVar19 = CONCAT16((0 < sVar4) * (sVar4 < 0x100) * (char)((ulonglong)uVar17 >> 0x20) -
                      (0xff < sVar4),
                      CONCAT15((0 < sVar3) * (sVar3 < 0x100) * (char)((ulonglong)uVar17 >> 0x10) -
                               (0xff < sVar3),
                               CONCAT14((0 < sVar2) * (sVar2 < 0x100) * (char)uVar17 -
                                        (0xff < sVar2),uVar16))) & _DAT_10055860;
    uVar11 = packssdw(CONCAT44((int)((int)((ulonglong)uVar24 >> 0x20) +
                                    (uint)(ushort)((ulonglong)uVar11 >> 0x30)) >> 8,
                               (int)((longlong)uVar13 >> 0x28)),
                      CONCAT44(DAT_1005dba4,(int)((longlong)uVar27 >> 0x28)));
    sVar2 = (short)uVar14;
    sVar3 = (short)((ulonglong)uVar14 >> 0x10);
    uVar10 = CONCAT11((0 < sVar3) * (sVar3 < 0x100) * (char)((ulonglong)uVar14 >> 0x10) -
                      (0xff < sVar3),(0 < sVar2) * (sVar2 < 0x100) * (char)uVar14 - (0xff < sVar2));
    sVar2 = (short)((ulonglong)uVar14 >> 0x20);
    sVar3 = (short)((ulonglong)uVar14 >> 0x30);
    uVar12 = CONCAT13((0 < sVar3) * (sVar3 < 0x100) * (char)((ulonglong)uVar14 >> 0x30) -
                      (0xff < sVar3),
                      CONCAT12((0 < sVar2) * (sVar2 < 0x100) * (char)((ulonglong)uVar14 >> 0x20) -
                               (0xff < sVar2),uVar10));
    sVar2 = (short)uVar11;
    sVar3 = (short)((ulonglong)uVar11 >> 0x10);
    sVar4 = (short)((ulonglong)uVar11 >> 0x20);
    param_2 = param_2 + 1;
    *param_5 = uVar16 | (uint)(uVar19 >> 8);
    param_4 = param_4 + 1;
    param_5[1] = CONCAT22(uVar10,(short)(uVar19 >> 0x28));
    param_3 = param_3 + 1;
    param_5[2] = (uint)(CONCAT16((0 < sVar4) * (sVar4 < 0x100) * (char)((ulonglong)uVar11 >> 0x20) -
                                 (0xff < sVar4),
                                 CONCAT15((0 < sVar3) * (sVar3 < 0x100) *
                                          (char)((ulonglong)uVar11 >> 0x10) - (0xff < sVar3),
                                          CONCAT14((0 < sVar2) * (sVar2 < 0x100) * (char)uVar11 -
                                                   (0xff < sVar2),uVar12))) >> 0x18) |
                 (uint)(((ulonglong)(ushort)((uint)uVar12 >> 0x10) << 0x30) >> 0x30);
    uVar8 = uVar8 - 1;
    param_5 = param_5 + 3;
  } while (uVar8 != 0);
  return;
}



/* FUN_10031c66 @ 10031c66 */

void __cdecl FUN_10031c66(int param_1,int *param_2,int param_3,undefined4 *param_4,int param_5)

{
  int *piVar1;
  int *piVar2;
  byte bVar3;
  byte bVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  undefined4 *puVar11;
  undefined4 *puVar12;
  undefined4 *puVar13;
  uint *puVar14;
  int iVar15;
  byte *pbVar16;
  undefined1 *puVar17;
  uint uVar18;
  int iVar19;
  int iVar20;
  uint uVar21;
  uint local_1c;
  int local_18;
  
  iVar5 = *(int *)(param_1 + 0x1a0);
  iVar6 = *(int *)(param_1 + 0x11c);
  uVar7 = *(uint *)(param_1 + 0x5c);
  iVar8 = *(int *)(iVar5 + 8);
  iVar9 = *(int *)(iVar5 + 0xc);
  iVar10 = *(int *)(iVar5 + 0x10);
  iVar5 = *(int *)(iVar5 + 0x14);
  uVar21 = uVar7 & 0xfffffff8;
  if (DAT_100554e8 == '\0') {
    if (-1 < param_5 + -1) {
      iVar15 = param_3 << 2;
      local_18 = param_5;
      do {
        piVar1 = (int *)(iVar15 + *param_2);
        pbVar16 = *(byte **)(iVar15 + param_2[1]);
        piVar2 = (int *)(iVar15 + param_2[2]);
        iVar15 = iVar15 + 4;
        if (uVar7 != 0) {
          iVar19 = *piVar1 - (int)pbVar16;
          iVar20 = *piVar2 - (int)pbVar16;
          puVar17 = (undefined1 *)*param_4;
          local_1c = uVar7;
          do {
            bVar3 = pbVar16[iVar20];
            uVar21 = (uint)pbVar16[iVar19];
            bVar4 = *pbVar16;
            *puVar17 = *(undefined1 *)(*(int *)((uint)bVar3 * 4 + iVar8) + uVar21 + iVar6);
            puVar17[1] = *(undefined1 *)
                          ((*(int *)((uint)bVar4 * 4 + iVar5) + *(int *)((uint)bVar3 * 4 + iVar10)
                           >> 0x10) + uVar21 + iVar6);
            pbVar16 = pbVar16 + 1;
            local_1c = local_1c - 1;
            puVar17[2] = *(undefined1 *)(*(int *)((uint)bVar4 * 4 + iVar9) + uVar21 + iVar6);
            puVar17 = puVar17 + 3;
          } while (local_1c != 0);
        }
        local_18 = local_18 + -1;
        param_4 = param_4 + 1;
      } while (local_18 != 0);
    }
  }
  else if (-1 < param_5 + -1) {
    iVar15 = param_3 << 2;
    local_1c = param_5;
    do {
      puVar11 = *(undefined4 **)(iVar15 + *param_2);
      puVar12 = *(undefined4 **)(iVar15 + param_2[1]);
      puVar13 = *(undefined4 **)(iVar15 + param_2[2]);
      iVar15 = iVar15 + 4;
      puVar14 = (uint *)*param_4;
      FUN_10031b2a(uVar21,puVar11,puVar12,puVar13,puVar14);
      if (uVar21 < uVar7) {
        pbVar16 = (byte *)((int)puVar12 + uVar21);
        local_18 = uVar7 - uVar21;
        puVar17 = (undefined1 *)((int)puVar14 + uVar21 * 3);
        do {
          bVar3 = pbVar16[(int)puVar13 - (int)puVar12];
          uVar18 = (uint)pbVar16[(int)puVar11 - (int)puVar12];
          bVar4 = *pbVar16;
          *puVar17 = *(undefined1 *)(*(int *)((uint)bVar3 * 4 + iVar8) + uVar18 + iVar6);
          puVar17[1] = *(undefined1 *)
                        ((*(int *)((uint)bVar4 * 4 + iVar5) + *(int *)((uint)bVar3 * 4 + iVar10) >>
                         0x10) + uVar18 + iVar6);
          pbVar16 = pbVar16 + 1;
          local_18 = local_18 + -1;
          puVar17[2] = *(undefined1 *)(*(int *)((uint)bVar4 * 4 + iVar9) + uVar18 + iVar6);
          puVar17 = puVar17 + 3;
        } while (local_18 != 0);
      }
      local_1c = local_1c + -1;
      param_4 = param_4 + 1;
    } while (local_1c != 0);
  }
  return;
}



/* FUN_10031e84 @ 10031e84 */

void __cdecl FUN_10031e84(int *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  bool bVar4;
  
  puVar1 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x18);
  param_1[0x68] = (int)puVar1;
  *puVar1 = &DAT_10010dec;
  iVar2 = param_1[9];
  if (iVar2 == 1) {
    bVar4 = param_1[8] == 1;
LAB_10031ed3:
    if (!bVar4) {
LAB_10031ed5:
      *(undefined4 *)(*param_1 + 0x14) = 8;
      (**(code **)*param_1)(param_1);
    }
  }
  else {
    if (1 < iVar2) {
      if (iVar2 < 4) {
        bVar4 = param_1[8] == 3;
      }
      else {
        if (5 < iVar2) goto LAB_10031ec9;
        bVar4 = param_1[8] == 4;
      }
      goto LAB_10031ed3;
    }
LAB_10031ec9:
    if (param_1[8] < 1) goto LAB_10031ed5;
  }
  iVar2 = param_1[10];
  if (iVar2 == 1) {
    iVar2 = 1;
    param_1[0x19] = 1;
    if ((param_1[9] == 1) || (param_1[9] == 3)) {
      puVar1[1] = FUN_100319d5;
      if (1 < param_1[8]) {
        iVar3 = 0x54;
        do {
          *(undefined1 *)(param_1[0x31] + 0x30 + iVar3) = 0;
          iVar2 = iVar2 + 1;
          iVar3 = iVar3 + 0x54;
        } while (iVar2 < param_1[8]);
      }
      goto LAB_10031f8c;
    }
  }
  else if (iVar2 == 2) {
    param_1[0x19] = 3;
    if (param_1[9] == 3) {
      puVar1[1] = FUN_10031c66;
      goto LAB_10031f3f;
    }
    bVar4 = param_1[9] == 2;
LAB_10031f4b:
    if (bVar4) goto LAB_10031f4d;
  }
  else {
    if (iVar2 == 4) {
      param_1[0x19] = 4;
      if (param_1[9] != 5) {
        bVar4 = param_1[9] == 4;
        goto LAB_10031f4b;
      }
      puVar1[1] = FUN_100319f8;
LAB_10031f3f:
      FUN_100318ba();
      goto LAB_10031f8c;
    }
    if (iVar2 == param_1[9]) {
      param_1[0x19] = param_1[8];
LAB_10031f4d:
      puVar1[1] = FUN_1003196a;
      goto LAB_10031f8c;
    }
  }
  *(undefined4 *)(*param_1 + 0x14) = 0x19;
  (**(code **)*param_1)(param_1);
LAB_10031f8c:
  if (*(char *)((int)param_1 + 0x4a) == '\0') {
    param_1[0x1a] = param_1[0x19];
  }
  else {
    param_1[0x1a] = 1;
  }
  return;
}



/* FUN_10031fa5 @ 10031fa5 */

void FUN_10031fa5(void)

{
  int iVar1;
  int in_EAX;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 local_c;
  undefined4 local_8;
  
  iVar1 = *(int *)(in_EAX + 0x19c);
  uVar2 = (*(code *)**(undefined4 **)(in_EAX + 4))();
  *(undefined4 *)(iVar1 + 0x10) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(in_EAX + 4))();
  *(undefined4 *)(iVar1 + 0x14) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(in_EAX + 4))();
  *(undefined4 *)(iVar1 + 0x18) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(in_EAX + 4))();
  *(undefined4 *)(iVar1 + 0x1c) = uVar2;
  iVar3 = 0;
  iVar5 = 0x5b6900;
  local_c = -0xe25100;
  local_8 = -0xb2f480;
  iVar4 = 0x2c8d00;
  do {
    *(int *)(iVar3 + *(int *)(iVar1 + 0x10)) = local_8 >> 0x10;
    *(int *)(iVar3 + *(int *)(iVar1 + 0x14)) = local_c >> 0x10;
    *(int *)(iVar3 + *(int *)(iVar1 + 0x18)) = iVar5;
    *(int *)(iVar3 + *(int *)(iVar1 + 0x1c)) = iVar4;
    iVar4 = iVar4 + -0x581a;
    iVar5 = iVar5 + -0xb6d2;
    iVar3 = iVar3 + 4;
    local_c = local_c + 0x1c5a2;
    local_8 = local_8 + 0x166e9;
  } while (-0x2b34e7 < iVar4);
  return;
}



/* FUN_1003206a @ 1003206a */

void __cdecl
FUN_1003206a(int param_1,undefined4 param_2,int *param_3,undefined4 param_4,int param_5,int *param_6
            ,int param_7)

{
  undefined4 *puVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  undefined4 local_c;
  undefined4 local_8;
  
  iVar3 = *(int *)(param_1 + 0x19c);
  if (*(char *)(iVar3 + 0x24) == '\0') {
    uVar4 = 2;
    if (*(uint *)(iVar3 + 0x2c) < 2) {
      uVar4 = *(uint *)(iVar3 + 0x2c);
    }
    uVar2 = param_7 - *param_6;
    if (uVar2 < uVar4) {
      uVar4 = uVar2;
    }
    puVar1 = (undefined4 *)(param_5 + *param_6 * 4);
    local_c = *puVar1;
    if (uVar4 < 2) {
      local_8 = *(undefined4 *)(iVar3 + 0x20);
      *(undefined1 *)(iVar3 + 0x24) = 1;
    }
    else {
      local_8 = puVar1[1];
    }
    (**(code **)(iVar3 + 0xc))(param_1,param_2,*param_3,&local_c);
  }
  else {
    uVar4 = 1;
    FUN_10022bab(iVar3 + 0x20,0,param_5 + *param_6 * 4,0,1,*(uint *)(iVar3 + 0x28));
    *(undefined1 *)(iVar3 + 0x24) = 0;
  }
  *param_6 = *param_6 + uVar4;
  *(int *)(iVar3 + 0x2c) = *(int *)(iVar3 + 0x2c) - uVar4;
  if (*(char *)(iVar3 + 0x24) == '\0') {
    *param_3 = *param_3 + 1;
  }
  return;
}



/* FUN_10032110 @ 10032110 */

/* [binja] int32_t sub_10032110(void* arg1, int32_t arg2, int32_t* arg3, int32_t arg4, int32_t*
   arg5) */

int __cdecl FUN_10032110(void *arg1,int arg2,int *arg3,int arg4,int *arg5)

{
  int iVar1;
  int *in_stack_00000018;
  
  iVar1 = (**(code **)(*(int *)((int)arg1 + 0x19c) + 0xc))
                    (arg1,arg2,*arg3,arg5 + *in_stack_00000018);
  *in_stack_00000018 = *in_stack_00000018 + 1;
  *arg3 = *arg3 + 1;
  return iVar1;
}



/* FUN_10032141 @ 10032141 */

void __cdecl FUN_10032141(int param_1,int *param_2,int param_3,undefined4 *param_4)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  undefined1 *puVar11;
  byte *pbVar12;
  uint uVar13;
  uint uVar14;
  byte *pbVar15;
  int iVar16;
  byte *pbVar17;
  
  iVar3 = *(int *)(param_1 + 0x19c);
  iVar4 = *(int *)(iVar3 + 0x10);
  iVar5 = *(int *)(param_1 + 0x11c);
  iVar6 = *(int *)(iVar3 + 0x14);
  iVar7 = *(int *)(iVar3 + 0x18);
  iVar3 = *(int *)(iVar3 + 0x1c);
  iVar10 = param_3 * 4;
  pbVar17 = *(byte **)(iVar10 + *param_2);
  pbVar12 = *(byte **)(iVar10 + param_2[1]);
  pbVar15 = *(byte **)(iVar10 + param_2[2]);
  puVar11 = (undefined1 *)*param_4;
  for (uVar14 = *(uint *)(param_1 + 0x5c) >> 1; uVar14 != 0; uVar14 = uVar14 - 1) {
    bVar1 = *pbVar12;
    pbVar12 = pbVar12 + 1;
    bVar2 = *pbVar15;
    pbVar15 = pbVar15 + 1;
    iVar10 = *(int *)((uint)bVar2 * 4 + iVar4);
    iVar16 = *(int *)((uint)bVar1 * 4 + iVar3);
    iVar8 = *(int *)((uint)bVar2 * 4 + iVar7);
    iVar9 = *(int *)((uint)bVar1 * 4 + iVar6);
    uVar13 = (uint)*pbVar17;
    *puVar11 = *(undefined1 *)(iVar10 + uVar13 + iVar5);
    iVar16 = iVar16 + iVar8 >> 0x10;
    puVar11[1] = *(undefined1 *)(uVar13 + iVar16 + iVar5);
    puVar11[2] = *(undefined1 *)(uVar13 + iVar9 + iVar5);
    uVar13 = (uint)pbVar17[1];
    puVar11[3] = *(undefined1 *)(iVar10 + uVar13 + iVar5);
    puVar11[4] = *(undefined1 *)(iVar16 + uVar13 + iVar5);
    puVar11[5] = *(undefined1 *)(uVar13 + iVar9 + iVar5);
    pbVar17 = pbVar17 + 2;
    puVar11 = puVar11 + 6;
  }
  if ((*(byte *)(param_1 + 0x5c) & 1) != 0) {
    uVar14 = (uint)*pbVar17;
    iVar3 = *(int *)((uint)*pbVar12 * 4 + iVar3);
    iVar7 = *(int *)((uint)*pbVar15 * 4 + iVar7);
    iVar6 = *(int *)((uint)*pbVar12 * 4 + iVar6);
    *puVar11 = *(undefined1 *)(*(int *)((uint)*pbVar15 * 4 + iVar4) + uVar14 + iVar5);
    puVar11[1] = *(undefined1 *)(uVar14 + (iVar3 + iVar7 >> 0x10) + iVar5);
    puVar11[2] = *(undefined1 *)(uVar14 + iVar6 + iVar5);
  }
  return;
}



/* FUN_10032297 @ 10032297 */

void __cdecl FUN_10032297(int param_1,int *param_2,int param_3,undefined4 *param_4)

{
  undefined4 *puVar1;
  byte bVar2;
  byte bVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  byte *pbVar8;
  byte *pbVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  undefined1 *puVar13;
  byte *pbVar14;
  uint uVar15;
  uint uVar16;
  undefined1 *puVar17;
  byte *pbVar18;
  int iVar19;
  int iVar20;
  
  iVar20 = *(int *)(param_1 + 0x19c);
  iVar4 = *(int *)(iVar20 + 0x10);
  iVar5 = *(int *)(param_1 + 0x11c);
  iVar6 = *(int *)(iVar20 + 0x14);
  iVar7 = *(int *)(iVar20 + 0x18);
  iVar20 = *(int *)(iVar20 + 0x1c);
  puVar1 = (undefined4 *)(*param_2 + param_3 * 8);
  pbVar8 = (byte *)*puVar1;
  pbVar9 = (byte *)puVar1[1];
  pbVar14 = *(byte **)(param_3 * 4 + param_2[1]);
  pbVar18 = *(byte **)(param_3 * 4 + param_2[2]);
  puVar13 = (undefined1 *)*param_4;
  puVar17 = (undefined1 *)param_4[1];
  for (uVar16 = *(uint *)(param_1 + 0x5c) >> 1; uVar16 != 0; uVar16 = uVar16 - 1) {
    bVar2 = *pbVar14;
    pbVar14 = pbVar14 + 1;
    bVar3 = *pbVar18;
    pbVar18 = pbVar18 + 1;
    iVar10 = *(int *)((uint)bVar3 * 4 + iVar4);
    iVar19 = *(int *)((uint)bVar2 * 4 + iVar20);
    iVar11 = *(int *)((uint)bVar3 * 4 + iVar7);
    iVar12 = *(int *)((uint)bVar2 * 4 + iVar6);
    uVar15 = (uint)*pbVar8;
    *puVar13 = *(undefined1 *)(iVar10 + uVar15 + iVar5);
    iVar19 = iVar19 + iVar11 >> 0x10;
    puVar13[1] = *(undefined1 *)(uVar15 + iVar19 + iVar5);
    puVar13[2] = *(undefined1 *)(uVar15 + iVar12 + iVar5);
    uVar15 = (uint)pbVar8[1];
    puVar13[3] = *(undefined1 *)(iVar10 + uVar15 + iVar5);
    puVar13[4] = *(undefined1 *)(uVar15 + iVar19 + iVar5);
    puVar13[5] = *(undefined1 *)(uVar15 + iVar12 + iVar5);
    uVar15 = (uint)*pbVar9;
    pbVar8 = pbVar8 + 2;
    *puVar17 = *(undefined1 *)(iVar10 + uVar15 + iVar5);
    puVar17[1] = *(undefined1 *)(uVar15 + iVar19 + iVar5);
    puVar17[2] = *(undefined1 *)(uVar15 + iVar12 + iVar5);
    puVar13 = puVar13 + 6;
    uVar15 = (uint)pbVar9[1];
    pbVar9 = pbVar9 + 2;
    puVar17[3] = *(undefined1 *)(iVar10 + uVar15 + iVar5);
    puVar17[4] = *(undefined1 *)(iVar19 + uVar15 + iVar5);
    puVar17[5] = *(undefined1 *)(uVar15 + iVar12 + iVar5);
    puVar17 = puVar17 + 6;
  }
  if ((*(byte *)(param_1 + 0x5c) & 1) != 0) {
    iVar4 = *(int *)((uint)*pbVar18 * 4 + iVar4);
    iVar20 = *(int *)((uint)*pbVar14 * 4 + iVar20);
    iVar7 = *(int *)((uint)*pbVar18 * 4 + iVar7);
    iVar6 = *(int *)((uint)*pbVar14 * 4 + iVar6);
    uVar16 = (uint)*pbVar8;
    *puVar13 = *(undefined1 *)(iVar4 + uVar16 + iVar5);
    iVar20 = iVar20 + iVar7 >> 0x10;
    puVar13[1] = *(undefined1 *)(uVar16 + iVar20 + iVar5);
    puVar13[2] = *(undefined1 *)(uVar16 + iVar6 + iVar5);
    uVar16 = (uint)*pbVar9;
    *puVar17 = *(undefined1 *)(iVar4 + uVar16 + iVar5);
    puVar17[1] = *(undefined1 *)(uVar16 + iVar20 + iVar5);
    puVar17[2] = *(undefined1 *)(uVar16 + iVar6 + iVar5);
  }
  return;
}



/* FUN_1003247d @ 1003247d */

void __cdecl FUN_1003247d(int param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x30);
  *(undefined4 **)(param_1 + 0x19c) = puVar1;
  *(undefined1 *)(puVar1 + 2) = 0;
  *puVar1 = &LAB_10032055;
  puVar1[10] = *(int *)(param_1 + 100) * *(int *)(param_1 + 0x5c);
  if (*(int *)(param_1 + 0x110) == 2) {
    puVar1[1] = FUN_1003206a;
    puVar1[3] = FUN_10032297;
    uVar2 = (**(code **)(*(int *)(param_1 + 4) + 4))(param_1,1,puVar1[10]);
    puVar1[8] = uVar2;
  }
  else {
    puVar1[8] = 0;
    puVar1[1] = FUN_10032110;
    puVar1[3] = FUN_10032141;
  }
  FUN_10031fa5();
  return;
}



/* FUN_100324f2 @ 100324f2 */

/* [binja] int16_t* sub_100324f2(int16_t* arg1, int16_t* arg2, int32_t arg3) */

short * __cdecl FUN_100324f2(short *arg1,short *arg2,int arg3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  byte *pbVar4;
  int iVar5;
  int in_stack_00000010;
  
  iVar2 = *(int *)(arg1 + 0x2e);
  iVar3 = *(int *)(*(int *)(arg1 + 0xd2) + 0x18);
  iVar5 = 0;
  if (0 < in_stack_00000010) {
    do {
      pbVar4 = *(byte **)(arg2 + iVar5 * 2);
      arg1 = arg2;
      for (iVar1 = iVar2; iVar1 != 0; iVar1 = iVar1 + -1) {
        arg1 = (short *)(*(int *)(iVar3 + (uint)(*pbVar4 >> 3) * 4) +
                        ((uint)(pbVar4[1] >> 2) * 0x20 + (uint)(pbVar4[2] >> 3)) * 2);
        *arg1 = *arg1 + 1;
        if (*arg1 == 0) {
          *arg1 = -1;
        }
        pbVar4 = pbVar4 + 3;
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < in_stack_00000010);
  }
  return arg1;
}



/* FUN_1003255e @ 1003255e */

void FUN_1003255e(void)

{
  short sVar1;
  int iVar2;
  int in_EAX;
  short *psVar3;
  short *psVar4;
  int iVar5;
  int iVar6;
  int *unaff_ESI;
  int iVar7;
  int local_2c;
  int local_24;
  short *local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  
  local_24 = unaff_ESI[3];
  iVar2 = *(int *)(*(int *)(in_EAX + 0x1a4) + 0x18);
  local_1c = *unaff_ESI;
  local_10 = unaff_ESI[4];
  local_14 = unaff_ESI[1];
  local_2c = unaff_ESI[2];
  local_18 = unaff_ESI[5];
  iVar5 = local_1c;
  if (local_1c < local_14) {
    do {
      if (local_2c <= local_24) {
        psVar4 = (short *)(*(int *)(iVar2 + iVar5 * 4) + (local_2c * 0x20 + local_10) * 2);
        iVar6 = local_10;
        local_c = local_2c;
        psVar3 = psVar4;
        do {
          for (; iVar6 <= local_18; iVar6 = iVar6 + 1) {
            sVar1 = *psVar4;
            psVar4 = psVar4 + 1;
            if (sVar1 != 0) {
              *unaff_ESI = iVar5;
              local_1c = iVar5;
              goto LAB_100325fc;
            }
          }
          local_c = local_c + 1;
          psVar4 = psVar3 + 0x20;
          iVar6 = local_10;
          psVar3 = psVar4;
        } while (local_c <= local_24);
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 <= local_14);
LAB_100325fc:
    iVar5 = local_14;
    if (local_1c < local_14) {
      do {
        if (local_2c <= local_24) {
          psVar4 = (short *)(*(int *)(iVar2 + iVar5 * 4) + (local_2c * 0x20 + local_10) * 2);
          iVar6 = local_10;
          local_c = local_2c;
          psVar3 = psVar4;
          do {
            for (; iVar6 <= local_18; iVar6 = iVar6 + 1) {
              sVar1 = *psVar4;
              psVar4 = psVar4 + 1;
              if (sVar1 != 0) {
                unaff_ESI[1] = iVar5;
                local_14 = iVar5;
                goto LAB_10032664;
              }
            }
            local_c = local_c + 1;
            psVar4 = psVar3 + 0x20;
            iVar6 = local_10;
            psVar3 = psVar4;
          } while (local_c <= local_24);
        }
        iVar5 = iVar5 + -1;
      } while (local_1c <= iVar5);
    }
  }
LAB_10032664:
  if (local_2c < local_24) {
    iVar6 = (local_2c * 0x20 + local_10) * 2;
    iVar5 = local_1c;
    local_c = local_2c;
    do {
      for (; iVar5 <= local_14; iVar5 = iVar5 + 1) {
        psVar4 = (short *)(*(int *)(iVar2 + iVar5 * 4) + iVar6);
        for (iVar7 = local_10; iVar7 <= local_18; iVar7 = iVar7 + 1) {
          sVar1 = *psVar4;
          psVar4 = psVar4 + 1;
          if (sVar1 != 0) {
            local_2c = local_c;
            unaff_ESI[2] = local_c;
            goto LAB_100326d1;
          }
        }
      }
      local_c = local_c + 1;
      iVar6 = iVar6 + 0x40;
      iVar5 = local_1c;
    } while (local_c <= local_24);
LAB_100326d1:
    if (local_2c < local_24) {
      iVar6 = (local_24 * 0x20 + local_10) * 2;
      iVar5 = local_1c;
      local_c = local_24;
      do {
        for (; iVar5 <= local_14; iVar5 = iVar5 + 1) {
          psVar4 = (short *)(*(int *)(iVar2 + iVar5 * 4) + iVar6);
          for (iVar7 = local_10; iVar7 <= local_18; iVar7 = iVar7 + 1) {
            sVar1 = *psVar4;
            psVar4 = psVar4 + 1;
            if (sVar1 != 0) {
              local_24 = local_c;
              unaff_ESI[3] = local_c;
              goto LAB_1003273d;
            }
          }
        }
        local_c = local_c + -1;
        iVar6 = iVar6 + -0x40;
        iVar5 = local_1c;
      } while (local_2c <= local_c);
    }
  }
LAB_1003273d:
  local_8 = local_10;
  if (local_10 < local_18) {
    do {
      local_20 = (short *)local_1c;
      if (local_1c <= local_14) {
        do {
          psVar4 = (short *)(*(int *)(iVar2 + (int)local_20 * 4) + (local_2c * 0x20 + local_8) * 2);
          for (iVar5 = local_2c; iVar5 <= local_24; iVar5 = iVar5 + 1) {
            if (*psVar4 != 0) {
              local_10 = local_8;
              unaff_ESI[4] = local_8;
              goto LAB_100327a1;
            }
            psVar4 = psVar4 + 0x20;
          }
          local_20 = (short *)((int)local_20 + 1);
        } while ((int)local_20 <= local_14);
      }
      local_8 = local_8 + 1;
    } while (local_8 <= local_18);
LAB_100327a1:
    local_8 = local_18;
    if (local_10 < local_18) {
      do {
        local_20 = (short *)local_1c;
        if (local_1c <= local_14) {
          do {
            psVar4 = (short *)(*(int *)(iVar2 + (int)local_20 * 4) + (local_2c * 0x20 + local_8) * 2
                              );
            for (iVar5 = local_2c; iVar5 <= local_24; iVar5 = iVar5 + 1) {
              if (*psVar4 != 0) {
                local_18 = local_8;
                unaff_ESI[5] = local_8;
                goto LAB_10032801;
              }
              psVar4 = psVar4 + 0x20;
            }
            local_20 = (short *)((int)local_20 + 1);
          } while ((int)local_20 <= local_14);
        }
        local_8 = local_8 + -1;
      } while (local_10 <= local_8);
    }
  }
LAB_10032801:
  iVar7 = (local_18 - local_10) * 8;
  iVar5 = (local_24 - local_2c) * 0xc;
  iVar6 = (local_14 - local_1c) * 0x10;
  local_c = 0;
  unaff_ESI[6] = iVar7 * iVar7 + iVar5 * iVar5 + iVar6 * iVar6;
  for (iVar5 = local_1c; iVar5 <= local_14; iVar5 = iVar5 + 1) {
    if (local_2c <= local_24) {
      psVar4 = (short *)(*(int *)(iVar2 + iVar5 * 4) + (local_2c * 0x20 + local_10) * 2);
      iVar6 = (local_24 - local_2c) + 1;
      do {
        if (local_10 <= local_18) {
          local_1c = (local_18 - local_10) + 1;
          local_20 = psVar4;
          do {
            if (*local_20 != 0) {
              local_c = local_c + 1;
            }
            local_20 = local_20 + 1;
            local_1c = local_1c + -1;
          } while (local_1c != 0);
        }
        psVar4 = psVar4 + 0x20;
        iVar6 = iVar6 + -1;
      } while (iVar6 != 0);
    }
  }
  unaff_ESI[7] = local_c;
  return;
}



/* FUN_10032896 @ 10032896 */

void __cdecl FUN_10032896(undefined4 param_1,int param_2,int param_3,int param_4)

{
  int *piVar1;
  int iVar2;
  char cVar3;
  int iVar4;
  int *piVar5;
  int *piVar6;
  int local_c;
  int local_8;
  
  if (param_3 < param_4) {
    local_8 = param_3 * 2;
    piVar6 = (int *)(param_3 * 0x20 + 0xc + param_2);
    do {
      piVar5 = (int *)0x0;
      iVar4 = 0;
      local_c = param_3;
      if (param_4 < local_8) {
        if (0 < local_8) {
          piVar1 = (int *)(param_2 + 0x18);
          do {
            if (iVar4 < *piVar1) {
              piVar5 = piVar1 + -6;
              iVar4 = *piVar1;
            }
            piVar1 = piVar1 + 8;
            local_c = local_c + -1;
          } while (local_c != 0);
        }
      }
      else if (0 < local_8) {
        piVar1 = (int *)(param_2 + 0x1c);
        do {
          if ((iVar4 < *piVar1) && (0 < piVar1[-1])) {
            piVar5 = piVar1 + -7;
            iVar4 = *piVar1;
          }
          piVar1 = piVar1 + 8;
          local_c = local_c + -1;
        } while (local_c != 0);
      }
      if (piVar5 == (int *)0x0) {
        return;
      }
      piVar6[-2] = piVar5[1];
      *piVar6 = piVar5[3];
      piVar6[2] = piVar5[5];
      piVar6[-3] = *piVar5;
      piVar6[-1] = piVar5[2];
      piVar6[1] = piVar5[4];
      iVar2 = (piVar5[1] - *piVar5) * 0x10;
      iVar4 = (piVar5[3] - piVar5[2]) * 0xc;
      cVar3 = iVar2 <= iVar4;
      if (!(bool)cVar3) {
        iVar4 = iVar2;
      }
      if (iVar4 < (piVar5[5] - piVar5[4]) * 8) {
        cVar3 = '\x02';
      }
      if (cVar3 == '\0') {
        iVar4 = (piVar5[1] + *piVar5) / 2;
        piVar5[1] = iVar4;
        piVar6[-3] = iVar4 + 1;
      }
      else if (cVar3 == '\x01') {
        iVar4 = (piVar5[3] + piVar5[2]) / 2;
        piVar5[3] = iVar4;
        piVar6[-1] = iVar4 + 1;
      }
      else if (cVar3 == '\x02') {
        iVar4 = (piVar5[5] + piVar5[4]) / 2;
        piVar5[5] = iVar4;
        piVar6[1] = iVar4 + 1;
      }
      FUN_1003255e();
      FUN_1003255e();
      local_8 = local_8 + 2;
      param_3 = param_3 + 1;
      piVar6 = piVar6 + 8;
    } while (param_3 < param_4);
  }
  return;
}



/* FUN_100329e9 @ 100329e9 */

void __cdecl FUN_100329e9(int param_1)

{
  int iVar1;
  int *in_EAX;
  int iVar2;
  int iVar3;
  int unaff_ESI;
  int iVar4;
  uint uVar5;
  int local_38;
  int local_28;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  ushort *local_10;
  int local_c;
  ushort *local_8;
  
  local_1c = 0;
  local_20 = 0;
  local_24 = 0;
  local_28 = 0;
  iVar3 = in_EAX[2];
  iVar1 = in_EAX[4];
  iVar2 = *in_EAX;
  if (iVar2 <= in_EAX[1]) {
    local_18 = iVar2 * 8 + 4;
    do {
      if (iVar3 <= in_EAX[3]) {
        local_14 = iVar3 * 4 + 2;
        local_10 = (ushort *)
                   (*(int *)(*(int *)(*(int *)(unaff_ESI + 0x1a4) + 0x18) + iVar2 * 4) +
                   (iVar3 * 0x20 + iVar1) * 2);
        iVar4 = (in_EAX[3] - iVar3) + 1;
        do {
          local_8 = local_10;
          if (iVar1 <= in_EAX[5]) {
            local_c = iVar1 * 8 + 4;
            local_38 = (in_EAX[5] - iVar1) + 1;
            do {
              uVar5 = (uint)*local_8;
              local_8 = local_8 + 1;
              if (uVar5 != 0) {
                local_1c = local_1c + uVar5;
                local_24 = local_24 + local_14 * uVar5;
                local_20 = local_20 + local_18 * uVar5;
                local_28 = local_28 + local_c * uVar5;
              }
              local_c = local_c + 8;
              local_38 = local_38 + -1;
            } while (local_38 != 0);
          }
          local_10 = local_10 + 0x20;
          local_14 = local_14 + 4;
          iVar4 = iVar4 + -1;
        } while (iVar4 != 0);
      }
      local_18 = local_18 + 8;
      iVar2 = iVar2 + 1;
    } while (iVar2 <= in_EAX[1]);
  }
  iVar3 = local_1c >> 1;
  *(char *)(param_1 + **(int **)(unaff_ESI + 0x74)) = (char)((local_20 + iVar3) / local_1c);
  *(char *)(param_1 + *(int *)(*(int *)(unaff_ESI + 0x74) + 4)) =
       (char)((local_24 + iVar3) / local_1c);
  *(char *)(param_1 + *(int *)(*(int *)(unaff_ESI + 0x74) + 8)) =
       (char)((local_28 + iVar3) / local_1c);
  return;
}



/* FUN_10032b21 @ 10032b21 */

void __cdecl FUN_10032b21(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int *unaff_EDI;
  
  puVar1 = (undefined4 *)(**(code **)unaff_EDI[1])();
  puVar1[1] = 0x1f;
  puVar1[5] = 0x1f;
  *puVar1 = 0;
  puVar1[2] = 0;
  puVar1[3] = 0x3f;
  puVar1[4] = 0;
  FUN_1003255e();
  iVar2 = FUN_10032896(unaff_EDI,(int)puVar1,1,param_1);
  param_1 = 0;
  if (0 < iVar2) {
    do {
      FUN_100329e9(param_1);
      param_1 = param_1 + 1;
    } while (param_1 < iVar2);
  }
  unaff_EDI[0x1c] = iVar2;
  *(undefined4 *)(*unaff_EDI + 0x14) = 0x5f;
  *(int *)(*unaff_EDI + 0x18) = iVar2;
  (**(code **)(*unaff_EDI + 4))();
  return;
}



/* FUN_10032bae @ 10032bae */

void __cdecl FUN_10032bae(int param_1,int param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  int in_EAX;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int unaff_EDI;
  int aiStack_42c [256];
  int local_2c;
  int local_28;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  
  local_8 = 0;
  local_1c = param_1 * 2 + 0x18 >> 1;
  local_24 = unaff_EDI * 2 + 0x1c >> 1;
  local_10 = *(int *)(in_EAX + 0x70);
  local_28 = param_2 * 2 + 0x18 >> 1;
  local_c = 0x7fffffff;
  if (0 < *(int *)(in_EAX + 0x70)) {
    piVar1 = *(int **)(in_EAX + 0x74);
    local_2c = *piVar1;
    local_14 = piVar1[1];
    local_18 = piVar1[2];
    do {
      iVar6 = local_c;
      uVar3 = (uint)*(byte *)(local_2c + local_8);
      iVar4 = param_1 + 0x18;
      if ((int)uVar3 < param_1) {
        iVar7 = (uVar3 - param_1) * 2;
        iVar7 = iVar7 * iVar7;
LAB_10032c66:
        iVar5 = iVar4;
      }
      else {
        iVar5 = param_1;
        if (iVar4 < (int)uVar3) {
          iVar7 = (uVar3 - iVar4) * 2;
          iVar7 = iVar7 * iVar7;
        }
        else {
          iVar7 = 0;
          if ((int)uVar3 <= local_1c) goto LAB_10032c66;
        }
      }
      iVar4 = (uVar3 - iVar5) * 2;
      uVar3 = (uint)*(byte *)(local_14 + local_8);
      if ((int)uVar3 < unaff_EDI) {
        iVar5 = (uVar3 - unaff_EDI) * 3;
        iVar7 = iVar7 + iVar5 * iVar5;
        iVar5 = uVar3 - (unaff_EDI + 0x1c);
      }
      else {
        if (unaff_EDI + 0x1c < (int)uVar3) {
          iVar5 = (uVar3 - (unaff_EDI + 0x1c)) * 3;
          iVar7 = iVar7 + iVar5 * iVar5;
        }
        else if ((int)uVar3 <= local_24) {
          iVar5 = uVar3 - (unaff_EDI + 0x1c);
          goto LAB_10032c87;
        }
        iVar5 = uVar3 - unaff_EDI;
      }
LAB_10032c87:
      uVar3 = (uint)*(byte *)(local_18 + local_8);
      if ((int)uVar3 < param_2) {
        iVar7 = iVar7 + (uVar3 - param_2) * (uVar3 - param_2);
LAB_10032d2a:
        iVar2 = param_2 + 0x18;
      }
      else {
        local_20 = param_2 + 0x18;
        iVar2 = param_2;
        if (local_20 < (int)uVar3) {
          iVar7 = iVar7 + (uVar3 - local_20) * (uVar3 - local_20);
        }
        else if ((int)uVar3 <= local_28) goto LAB_10032d2a;
      }
      iVar4 = iVar4 * iVar4 + iVar5 * 3 * iVar5 * 3 + (uVar3 - iVar2) * (uVar3 - iVar2);
      aiStack_42c[local_8] = iVar7;
      if (iVar4 < iVar6) {
        local_c = iVar4;
      }
      local_8 = local_8 + 1;
    } while (local_8 < local_10);
  }
  iVar6 = 0;
  iVar4 = 0;
  if (0 < local_10) {
    do {
      if (aiStack_42c[iVar6] <= local_c) {
        *(char *)(iVar4 + param_3) = (char)iVar6;
        iVar4 = iVar4 + 1;
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < local_10);
  }
  return;
}



/* FUN_10032d2e @ 10032d2e */

void __cdecl
FUN_10032d2e(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,byte *param_7)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  int *piVar7;
  int local_22c [128];
  int local_2c;
  int local_28;
  int local_24;
  byte *local_20;
  int local_1c;
  int local_18;
  int *local_14;
  int local_10;
  int local_c;
  int local_8;
  
  local_c = 0;
  piVar7 = local_22c;
  for (iVar3 = 0x80; iVar3 != 0; iVar3 = iVar3 + -1) {
    *piVar7 = 0x7fffffff;
    piVar7 = piVar7 + 1;
  }
  if (0 < param_5) {
    do {
      bVar1 = *(byte *)(local_c + param_6);
      uVar6 = (uint)bVar1;
      piVar7 = *(int **)(param_1 + 0x74);
      iVar2 = param_3 - (uint)*(byte *)(piVar7[1] + uVar6);
      iVar3 = iVar2 * 3;
      iVar5 = param_4 - (uint)*(byte *)(piVar7[2] + uVar6);
      iVar4 = (param_2 - (uint)*(byte *)(uVar6 + *piVar7)) * 2;
      iVar3 = iVar5 * iVar5 + iVar3 * iVar3 + iVar4 * iVar4;
      local_14 = local_22c;
      local_8 = (iVar4 + 8) * 0x20;
      local_20 = param_7;
      local_28 = 4;
      do {
        local_2c = 8;
        local_1c = iVar3;
        local_10 = (iVar2 * 9 + 0x12) * 8;
        do {
          local_24 = 4;
          iVar4 = local_1c;
          local_18 = (iVar5 + 4) * 0x10;
          do {
            if (iVar4 < *local_14) {
              *local_14 = iVar4;
              *local_20 = bVar1;
            }
            iVar4 = iVar4 + local_18;
            local_18 = local_18 + 0x80;
            local_14 = local_14 + 1;
            local_20 = local_20 + 1;
            local_24 = local_24 + -1;
          } while (local_24 != 0);
          local_1c = local_1c + local_10;
          local_10 = local_10 + 0x120;
          local_2c = local_2c + -1;
        } while (local_2c != 0);
        iVar3 = iVar3 + local_8;
        local_8 = local_8 + 0x200;
        local_28 = local_28 + -1;
      } while (local_28 != 0);
      local_c = local_c + 1;
    } while (local_c < param_5);
  }
  return;
}



/* FUN_10032e48 @ 10032e48 */

void __cdecl FUN_10032e48(int param_1,int param_2,int param_3)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  short *psVar3;
  int *piVar4;
  byte *pbVar5;
  int iVar6;
  undefined1 local_18c [256];
  byte local_8c [128];
  int local_c;
  int local_8;
  
  iVar1 = param_3 >> 2;
  local_8 = *(int *)(*(int *)(param_1 + 0x1a4) + 0x18);
  local_c = iVar1 * 0x20 + 4;
  iVar6 = (param_2 >> 2) * 0x20 + 4;
  iVar2 = FUN_10032bae(iVar6,local_c,(int)local_18c);
  FUN_10032d2e(param_1,iVar6,(in_EAX >> 3) * 0x20 + 2,local_c,iVar2,(int)local_18c,local_8c);
  pbVar5 = local_8c;
  piVar4 = (int *)(local_8 + (param_2 >> 2) * 0x10);
  param_2 = 4;
  do {
    param_3 = 8;
    iVar2 = ((in_EAX >> 3) * 0x100 + iVar1 * 4) * 2;
    do {
      psVar3 = (short *)(*piVar4 + iVar2);
      iVar6 = 4;
      do {
        *psVar3 = *pbVar5 + 1;
        psVar3 = psVar3 + 1;
        pbVar5 = pbVar5 + 1;
        iVar6 = iVar6 + -1;
      } while (iVar6 != 0);
      iVar2 = iVar2 + 0x40;
      param_3 = param_3 + -1;
    } while (param_3 != 0);
    piVar4 = piVar4 + 1;
    param_2 = param_2 + -1;
  } while (param_2 != 0);
  return;
}



/* FUN_10032f18 @ 10032f18 */

void __cdecl FUN_10032f18(int param_1,int param_2,int *param_3,int param_4)

{
  short *psVar1;
  int iVar2;
  byte bVar3;
  int iVar4;
  int iVar5;
  char *pcVar6;
  byte *pbVar7;
  byte *pbVar8;
  int local_10;
  int *local_8;
  
  iVar4 = *(int *)(*(int *)(param_1 + 0x1a4) + 0x18);
  iVar5 = *(int *)(param_1 + 0x5c);
  if (0 < param_4) {
    local_8 = param_3;
    local_10 = param_4;
    do {
      pbVar8 = *(byte **)((param_2 - (int)param_3) + (int)local_8);
      pcVar6 = (char *)*local_8;
      for (iVar2 = iVar5; iVar2 != 0; iVar2 = iVar2 + -1) {
        bVar3 = *pbVar8;
        pbVar7 = pbVar8 + 2;
        psVar1 = (short *)(*(int *)(iVar4 + (uint)(bVar3 >> 3) * 4) +
                          ((uint)(pbVar8[1] >> 2) * 0x20 + (uint)(*pbVar7 >> 3)) * 2);
        pbVar8 = pbVar8 + 3;
        if (*psVar1 == 0) {
          FUN_10032e48(param_1,(uint)(bVar3 >> 3),(uint)(*pbVar7 >> 3));
        }
        *pcVar6 = (char)*psVar1 + -1;
        pcVar6 = pcVar6 + 1;
      }
      local_8 = local_8 + 1;
      local_10 = local_10 + -1;
    } while (local_10 != 0);
  }
  return;
}



/* FUN_10032fc1 @ 10032fc1 */

void __cdecl FUN_10032fc1(int param_1,int param_2,int *param_3,int param_4)

{
  ushort *puVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int *piVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  byte *pbVar12;
  uint uVar13;
  int iVar14;
  int iVar15;
  uint uVar16;
  int iVar17;
  short *psVar18;
  int iVar19;
  uint uVar20;
  int iVar21;
  int local_48;
  int local_3c;
  int local_38;
  int local_34;
  int local_30;
  int *local_28;
  int local_24;
  int local_20;
  int local_1c;
  undefined1 *local_14;
  int local_8;
  
  iVar3 = *(int *)(param_1 + 0x1a4);
  iVar4 = *(int *)(iVar3 + 0x18);
  iVar5 = *(int *)(param_1 + 0x11c);
  iVar6 = *(int *)(iVar3 + 0x28);
  iVar7 = *(int *)(param_1 + 0x5c);
  piVar8 = *(int **)(param_1 + 0x74);
  iVar9 = *piVar8;
  iVar10 = piVar8[1];
  iVar11 = piVar8[2];
  if (0 < param_4) {
    local_28 = param_3;
    local_48 = param_4;
    do {
      pbVar12 = *(byte **)((param_2 - (int)param_3) + (int)local_28);
      local_14 = (undefined1 *)*local_28;
      if (*(char *)(iVar3 + 0x24) == '\0') {
        psVar18 = *(short **)(iVar3 + 0x20);
        local_3c = 1;
        local_8 = 3;
        *(undefined1 *)(iVar3 + 0x24) = 1;
      }
      else {
        local_3c = -1;
        *(undefined1 *)(iVar3 + 0x24) = 0;
        pbVar12 = pbVar12 + iVar7 * 3 + -3;
        local_14 = local_14 + iVar7 + -1;
        psVar18 = (short *)(*(int *)(iVar3 + 0x20) + (iVar7 * 3 + 3) * 2);
        local_8 = -3;
      }
      iVar15 = 0;
      local_24 = 0;
      local_24._0_2_ = 0;
      local_20 = 0;
      local_20._0_2_ = 0;
      local_1c = 0;
      local_1c._0_2_ = 0;
      iVar19 = 0;
      param_4 = 0;
      local_38 = 0;
      local_34 = 0;
      local_30 = 0;
      for (iVar2 = iVar7; iVar2 != 0; iVar2 = iVar2 + -1) {
        uVar20 = (uint)*(byte *)(*(int *)(iVar6 + (psVar18[local_8] + 8 + iVar19 >> 4) * 4) +
                                 (uint)*pbVar12 + iVar5);
        uVar16 = (uint)*(byte *)(*(int *)(iVar6 + (psVar18[local_8 + 1] + 8 + iVar15 >> 4) * 4) +
                                 (uint)pbVar12[1] + iVar5);
        uVar13 = (uint)*(byte *)(*(int *)(iVar6 + (psVar18[local_8 + 2] + 8 + param_4 >> 4) * 4) +
                                 (uint)pbVar12[2] + iVar5);
        iVar19 = (int)uVar13 >> 3;
        iVar15 = (int)uVar20 >> 3;
        puVar1 = (ushort *)(*(int *)(iVar4 + iVar15 * 4) + (((int)uVar16 >> 2) * 0x20 + iVar19) * 2)
        ;
        if (*puVar1 == 0) {
          FUN_10032e48(param_1,iVar15,iVar19);
        }
        iVar19 = *puVar1 - 1;
        *local_14 = (char)iVar19;
        iVar21 = uVar20 - *(byte *)(iVar19 + iVar9);
        iVar17 = uVar16 - *(byte *)(iVar19 + iVar10);
        iVar14 = uVar13 - *(byte *)(iVar19 + iVar11);
        *psVar18 = (short)local_1c + (short)iVar21 * 3;
        local_1c = local_30 + iVar21 * 5;
        iVar19 = iVar21 * 7;
        psVar18[1] = (short)local_20 + (short)iVar17 * 3;
        local_20 = local_34 + iVar17 * 5;
        iVar15 = iVar17 * 7;
        psVar18[2] = (short)local_24 + (short)iVar14 * 3;
        local_24 = local_38 + iVar14 * 5;
        param_4 = iVar14 * 7;
        pbVar12 = pbVar12 + local_8;
        local_14 = local_14 + local_3c;
        psVar18 = psVar18 + local_8;
        local_38 = iVar14;
        local_34 = iVar17;
        local_30 = iVar21;
      }
      local_28 = local_28 + 1;
      local_48 = local_48 + -1;
      *psVar18 = (short)local_1c;
      psVar18[1] = (short)local_20;
      psVar18[2] = (short)local_24;
    } while (local_48 != 0);
  }
  return;
}



/* FUN_1003322f @ 1003322f */

void FUN_1003322f(void)

{
  int in_EAX;
  int iVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  int *piVar5;
  
  iVar4 = *(int *)(in_EAX + 0x1a4);
  iVar1 = (*(code *)**(undefined4 **)(in_EAX + 4))();
  piVar2 = (int *)(iVar1 + 0x3fc);
  *(int **)(iVar4 + 0x28) = piVar2;
  iVar4 = 0;
  uVar3 = 0;
  iVar1 = 0;
  piVar5 = piVar2;
  do {
    piVar2[uVar3] = iVar4;
    *piVar5 = iVar1;
    uVar3 = uVar3 + 1;
    piVar5 = piVar5 + -1;
    iVar4 = iVar4 + 1;
    iVar1 = iVar1 + -1;
  } while ((int)uVar3 < 0x10);
  if ((int)uVar3 < 0x30) {
    piVar5 = piVar2 + -uVar3;
    do {
      piVar2[uVar3] = iVar4;
      *piVar5 = -iVar4;
      uVar3 = uVar3 + 1;
      piVar5 = piVar5 + -1;
      iVar4 = iVar4 + (~uVar3 & 1);
    } while ((int)uVar3 < 0x30);
  }
  if ((int)uVar3 < 0x100) {
    piVar5 = piVar2 + -uVar3;
    do {
      piVar2[uVar3] = iVar4;
      *piVar5 = -iVar4;
      uVar3 = uVar3 + 1;
      piVar5 = piVar5 + -1;
    } while ((int)uVar3 < 0x100);
  }
  return;
}



/* FUN_100332e1 @ 100332e1 */

void __cdecl FUN_100332e1(int *param_1,char param_2)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  uint size;
  int iVar4;
  
  iVar1 = param_1[0x69];
  iVar2 = *(int *)(iVar1 + 0x18);
  if (param_1[0x13] != 0) {
    param_1[0x13] = 2;
  }
  if (param_2 == '\0') {
    if (param_1[0x13] == 2) {
      *(code **)(iVar1 + 4) = FUN_10032fc1;
    }
    else {
      *(code **)(iVar1 + 4) = FUN_10032f18;
    }
    *(undefined **)(iVar1 + 8) = &DAT_10010dec;
    iVar4 = param_1[0x1c];
    if (iVar4 < 1) {
      *(undefined4 *)(*param_1 + 0x14) = 0x37;
      *(undefined4 *)(*param_1 + 0x18) = 1;
      (**(code **)*param_1)(param_1);
    }
    if (0x100 < iVar4) {
      *(undefined4 *)(*param_1 + 0x14) = 0x38;
      *(undefined4 *)(*param_1 + 0x18) = 0x100;
      (**(code **)*param_1)(param_1);
    }
    if (param_1[0x13] == 2) {
      size = (param_1[0x17] + 2) * 6;
      if (*(int *)(iVar1 + 0x20) == 0) {
        uVar3 = (**(code **)(param_1[1] + 4))(param_1,1,size);
        *(undefined4 *)(iVar1 + 0x20) = uVar3;
      }
      memzero(*(void **)(iVar1 + 0x20),size);
      if (*(int *)(iVar1 + 0x28) == 0) {
        FUN_1003322f();
      }
      *(undefined1 *)(iVar1 + 0x24) = 0;
    }
  }
  else {
    *(code **)(iVar1 + 4) = FUN_100324f2;
    *(undefined1 **)(iVar1 + 8) = &LAB_100332bf;
    *(undefined1 *)(iVar1 + 0x1c) = 1;
  }
  if (*(char *)(iVar1 + 0x1c) != '\0') {
    iVar4 = 0;
    do {
      memzero(*(void **)(iVar2 + iVar4 * 4),0x1000);
      iVar4 = iVar4 + 1;
    } while (iVar4 < 0x20);
    *(undefined1 *)(iVar1 + 0x1c) = 0;
  }
  return;
}



/* FUN_100333f2 @ 100333f2 */

void __cdecl FUN_100333f2(int *param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int iVar3;
  
  puVar1 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x2c);
  param_1[0x69] = (int)puVar1;
  iVar3 = 0;
  *puVar1 = FUN_100332e1;
  puVar1[3] = &LAB_100333e3;
  puVar1[8] = 0;
  puVar1[10] = 0;
  if (param_1[0x19] != 3) {
    *(undefined4 *)(*param_1 + 0x14) = 0x2e;
    (**(code **)*param_1)(param_1);
  }
  uVar2 = (**(code **)param_1[1])(param_1,1,0x80);
  puVar1[6] = uVar2;
  do {
    uVar2 = (**(code **)(param_1[1] + 4))(param_1,1,0x1000);
    *(undefined4 *)(puVar1[6] + iVar3) = uVar2;
    iVar3 = iVar3 + 4;
  } while (iVar3 < 0x80);
  *(undefined1 *)(puVar1 + 7) = 1;
  if (*(char *)((int)param_1 + 0x5a) == '\0') {
    puVar1[4] = 0;
  }
  else {
    iVar3 = param_1[0x15];
    if (iVar3 < 8) {
      *(undefined4 *)(*param_1 + 0x14) = 0x37;
      *(undefined4 *)(*param_1 + 0x18) = 8;
      (**(code **)*param_1)(param_1);
    }
    if (0x100 < iVar3) {
      *(undefined4 *)(*param_1 + 0x14) = 0x38;
      *(undefined4 *)(*param_1 + 0x18) = 0x100;
      (**(code **)*param_1)(param_1);
    }
    uVar2 = (**(code **)(param_1[1] + 8))(param_1,1,iVar3,3);
    puVar1[4] = uVar2;
    puVar1[5] = iVar3;
  }
  if (param_1[0x13] != 0) {
    param_1[0x13] = 2;
  }
  if (param_1[0x13] == 2) {
    uVar2 = (**(code **)(param_1[1] + 4))(param_1,1,(param_1[0x17] + 2) * 6);
    puVar1[8] = uVar2;
    FUN_1003322f();
    return;
  }
  return;
}



/* FUN_10033505 @ 10033505 */

int __cdecl FUN_10033505(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  bool bVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int *piVar8;
  int local_10;
  int local_c;
  
  iVar1 = param_1[0x15];
  iVar2 = param_1[0x19];
  iVar7 = 1;
  do {
    iVar5 = iVar7;
    iVar7 = iVar5 + 1;
    iVar4 = iVar7;
    if (1 < iVar2) {
      iVar6 = iVar2 + -1;
      do {
        iVar4 = iVar4 * iVar7;
        iVar6 = iVar6 + -1;
      } while (iVar6 != 0);
    }
  } while (iVar4 <= iVar1);
  if (iVar5 < 2) {
    *(undefined4 *)(*param_1 + 0x14) = 0x37;
    *(int *)(*param_1 + 0x18) = iVar4;
    (**(code **)*param_1)(param_1);
  }
  local_10 = 1;
  iVar7 = iVar2;
  piVar8 = param_2;
  if (0 < iVar2) {
    for (; iVar4 = iVar2, iVar7 != 0; iVar7 = iVar7 + -1) {
      *piVar8 = iVar5;
      piVar8 = piVar8 + 1;
    }
    do {
      local_10 = local_10 * iVar5;
      iVar4 = iVar4 + -1;
    } while (iVar4 != 0);
  }
  do {
    bVar3 = false;
    local_c = 0;
    if (iVar2 < 1) {
      return local_10;
    }
    do {
      iVar7 = local_c;
      if (param_1[10] == 2) {
        iVar7 = *(int *)(&DAT_1004f6d0 + local_c * 4);
      }
      iVar5 = param_2[iVar7];
      iVar4 = iVar5 + 1;
      iVar5 = (local_10 / iVar5) * iVar4;
      if (iVar5 - iVar1 != 0 && iVar1 <= iVar5) break;
      local_c = local_c + 1;
      param_2[iVar7] = iVar4;
      bVar3 = true;
      local_10 = iVar5;
    } while (local_c < iVar2);
    if (!bVar3) {
      return local_10;
    }
  } while( true );
}



/* FUN_100335d0 @ 100335d0 */

void FUN_100335d0(void)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int *unaff_ESI;
  int iVar8;
  undefined1 local_34;
  int local_28;
  int local_24;
  int *local_20;
  int *local_1c;
  int local_18;
  int local_14;
  int local_8;
  
  iVar2 = unaff_ESI[0x69];
  local_1c = (int *)(iVar2 + 0x20);
  iVar3 = FUN_10033505(unaff_ESI,local_1c);
  iVar5 = *unaff_ESI;
  if (unaff_ESI[0x19] == 3) {
    *(int *)(iVar5 + 0x18) = iVar3;
    *(int *)(iVar5 + 0x1c) = *local_1c;
    *(undefined4 *)(iVar5 + 0x20) = *(undefined4 *)(iVar2 + 0x24);
    *(undefined4 *)(iVar5 + 0x24) = *(undefined4 *)(iVar2 + 0x28);
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x5d;
  }
  else {
    *(undefined4 *)(iVar5 + 0x14) = 0x5e;
    *(int *)(*unaff_ESI + 0x18) = iVar3;
  }
  (**(code **)(*unaff_ESI + 4))();
  piVar4 = (int *)(**(code **)(unaff_ESI[1] + 8))();
  local_24 = 0;
  local_20 = piVar4;
  local_18 = iVar3;
  if (0 < unaff_ESI[0x19]) {
    do {
      local_28 = *local_1c;
      iVar5 = local_18 / local_28;
      iVar8 = 0;
      if (0 < local_28) {
        iVar1 = local_28 + -1;
        local_14 = 0;
        do {
          for (iVar7 = local_14; iVar7 < iVar3; iVar7 = iVar7 + local_18) {
            local_8 = 0;
            if (0 < iVar5) {
              do {
                iVar6 = *local_20 + local_8;
                local_34 = (undefined1)((iVar1 / 2 + iVar8) / iVar1);
                local_8 = local_8 + 1;
                *(undefined1 *)(iVar6 + iVar7) = local_34;
              } while (local_8 < iVar5);
            }
          }
          local_14 = local_14 + iVar5;
          iVar8 = iVar8 + 0xff;
          local_28 = local_28 + -1;
        } while (local_28 != 0);
      }
      local_24 = local_24 + 1;
      local_1c = local_1c + 1;
      local_20 = local_20 + 1;
      local_18 = iVar5;
    } while (local_24 < unaff_ESI[0x19]);
  }
  *(int *)(iVar2 + 0x14) = iVar3;
  *(int **)(iVar2 + 0x10) = piVar4;
  return;
}



/* FUN_100336fd @ 100336fd */

void __cdecl FUN_100336fd(int param_1)

{
  int *piVar1;
  int iVar2;
  undefined1 *puVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined1 *puVar8;
  int iVar9;
  int local_1c;
  char local_18;
  int *local_14;
  int local_10;
  int local_c;
  int local_8;
  
  iVar2 = *(int *)(param_1 + 0x1a4);
  if (*(int *)(param_1 + 0x4c) == 1) {
    local_10 = 0x1fe;
    *(undefined1 *)(iVar2 + 0x1c) = 1;
  }
  else {
    local_10 = 0;
    *(undefined1 *)(iVar2 + 0x1c) = 0;
  }
  uVar4 = (**(code **)(*(int *)(param_1 + 4) + 8))
                    (param_1,1,local_10 + 0x100,*(undefined4 *)(param_1 + 100));
  *(undefined4 *)(iVar2 + 0x18) = uVar4;
  iVar5 = *(int *)(iVar2 + 0x14);
  local_1c = 0;
  if (0 < *(int *)(param_1 + 100)) {
    local_14 = (int *)(iVar2 + 0x20);
    do {
      iVar9 = *local_14;
      iVar5 = iVar5 / iVar9;
      if (local_10 != 0) {
        piVar1 = (int *)(*(int *)(iVar2 + 0x18) + local_1c * 4);
        *piVar1 = *piVar1 + 0xff;
      }
      puVar3 = *(undefined1 **)(*(int *)(iVar2 + 0x18) + local_1c * 4);
      iVar6 = (iVar9 + 0xfe) / (iVar9 * 2 + -2);
      local_c = 0;
      local_8 = 0;
      do {
        if (iVar6 < local_8) {
          iVar7 = local_c * 0x1fe;
          do {
            iVar6 = (iVar7 + 0x2fc + iVar9) / (iVar9 * 2 + -2);
            local_c = local_c + 1;
            iVar7 = iVar7 + 0x1fe;
          } while (iVar6 < local_8);
        }
        local_18 = (char)iVar5;
        iVar7 = local_8 + 1;
        puVar3[local_8] = (char)local_c * local_18;
        local_8 = iVar7;
      } while (iVar7 < 0x100);
      if (local_10 != 0) {
        iVar9 = 1;
        puVar8 = puVar3;
        do {
          puVar8 = puVar8 + -1;
          *puVar8 = *puVar3;
          (puVar3 + 0xff)[iVar9] = puVar3[0xff];
          iVar9 = iVar9 + 1;
        } while (iVar9 < 0x100);
      }
      local_14 = local_14 + 1;
      local_1c = local_1c + 1;
    } while (local_1c < *(int *)(param_1 + 100));
  }
  return;
}



/* FUN_10033828 @ 10033828 */

void FUN_10033828(void)

{
  byte *pbVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  int unaff_EDI;
  undefined1 *local_c;
  int local_8;
  
  iVar2 = *(int *)(unaff_EDI + 0x1a4);
  local_8 = 0;
  if (0 < *(int *)(unaff_EDI + 100)) {
    piVar6 = (int *)(iVar2 + 0x34);
    do {
      iVar3 = piVar6[-5];
      iVar4 = 0;
      if (0 < local_8) {
        piVar5 = (int *)(iVar2 + 0x20);
        do {
          if (iVar3 == *piVar5) {
            piVar5 = *(int **)(iVar2 + 0x34 + iVar4 * 4);
            if (piVar5 != (int *)0x0) goto LAB_100338d2;
            break;
          }
          iVar4 = iVar4 + 1;
          piVar5 = piVar5 + 1;
        } while (iVar4 < local_8);
      }
      piVar5 = (int *)(*(code *)**(undefined4 **)(unaff_EDI + 4))();
      local_c = &DAT_1004f5d0;
      piVar7 = piVar5;
      do {
        iVar4 = 0;
        do {
          pbVar1 = local_c + iVar4;
          iVar4 = iVar4 + 1;
          *piVar7 = (int)((uint)*pbVar1 * -0x1fe + 0xfe01) / (iVar3 * 0x200 + -0x200);
          piVar7 = piVar7 + 1;
        } while (iVar4 < 0x10);
        local_c = local_c + 0x10;
      } while ((int)local_c < 0x1004f6d0);
LAB_100338d2:
      local_8 = local_8 + 1;
      *piVar6 = (int)piVar5;
      piVar6 = piVar6 + 1;
    } while (local_8 < *(int *)(unaff_EDI + 100));
  }
  return;
}



/* FUN_100338ed @ 100338ed */

void __cdecl FUN_100338ed(int param_1,int param_2,undefined4 *param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined1 *puVar5;
  byte *pbVar6;
  int iVar7;
  int iVar8;
  int local_c;
  
  iVar2 = *(int *)(*(int *)(param_1 + 0x1a4) + 0x18);
  iVar3 = *(int *)(param_1 + 0x5c);
  iVar4 = *(int *)(param_1 + 100);
  if (0 < param_4) {
    iVar8 = param_2 - (int)param_3;
    local_c = param_4;
    do {
      pbVar6 = *(byte **)(iVar8 + (int)param_3);
      puVar5 = (undefined1 *)*param_3;
      for (iVar1 = iVar3; iVar1 != 0; iVar1 = iVar1 + -1) {
        param_1 = 0;
        param_1._0_1_ = 0;
        iVar7 = 0;
        if (0 < iVar4) {
          do {
            param_1 = param_1 + (uint)*(byte *)(*(int *)(iVar2 + iVar7 * 4) + (uint)*pbVar6);
            pbVar6 = pbVar6 + 1;
            iVar7 = iVar7 + 1;
          } while (iVar7 < iVar4);
        }
        *puVar5 = (undefined1)param_1;
        puVar5 = puVar5 + 1;
      }
      param_3 = param_3 + 1;
      local_c = local_c + -1;
    } while (local_c != 0);
  }
  return;
}



/* FUN_10033975 @ 10033975 */

void __cdecl FUN_10033975(int param_1,int param_2,int *param_3,int param_4)

{
  int iVar1;
  byte bVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  byte *pbVar9;
  byte *pbVar10;
  byte *pbVar11;
  char *pcVar12;
  
  piVar3 = *(int **)(*(int *)(param_1 + 0x1a4) + 0x18);
  iVar4 = *piVar3;
  iVar5 = piVar3[1];
  iVar6 = piVar3[2];
  iVar7 = *(int *)(param_1 + 0x5c);
  if (0 < param_4) {
    iVar8 = param_2 - (int)param_3;
    do {
      pbVar11 = *(byte **)(iVar8 + (int)param_3);
      pcVar12 = (char *)*param_3;
      for (iVar1 = iVar7; iVar1 != 0; iVar1 = iVar1 + -1) {
        bVar2 = *pbVar11;
        pbVar9 = pbVar11 + 1;
        pbVar10 = pbVar11 + 2;
        pbVar11 = pbVar11 + 3;
        *pcVar12 = *(char *)((uint)bVar2 + iVar4) + *(char *)((uint)*pbVar9 + iVar5) +
                   *(char *)((uint)*pbVar10 + iVar6);
        pcVar12 = pcVar12 + 1;
      }
      param_3 = param_3 + 1;
      param_4 = param_4 + -1;
    } while (param_4 != 0);
  }
  return;
}



/* FUN_10033a02 @ 10033a02 */

void __cdecl FUN_10033a02(int param_1,int param_2,undefined4 *param_3,uint param_4)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  uint size;
  int iVar5;
  int iVar6;
  int iVar7;
  byte *pbVar8;
  int iVar9;
  char *pcVar10;
  uint local_1c;
  int *local_8;
  
  iVar3 = *(int *)(param_1 + 100);
  iVar4 = *(int *)(param_1 + 0x1a4);
  size = *(uint *)(param_1 + 0x5c);
  if (0 < (int)param_4) {
    iVar9 = param_2 - (int)param_3;
    local_1c = param_4;
    do {
      memzero((void *)*param_3,size);
      iVar5 = *(int *)(iVar4 + 0x30);
      param_1 = 0;
      if (0 < iVar3) {
        local_8 = (int *)(iVar4 + 0x34);
        do {
          param_4 = 0;
          pcVar10 = (char *)*param_3;
          pbVar8 = (byte *)(*(int *)(iVar9 + (int)param_3) + param_1);
          iVar6 = *(int *)(*(int *)(iVar4 + 0x18) + param_1 * 4);
          iVar7 = *local_8;
          for (uVar1 = size; uVar1 != 0; uVar1 = uVar1 - 1) {
            bVar2 = *pbVar8;
            pbVar8 = pbVar8 + iVar3;
            *pcVar10 = *pcVar10 +
                       *(char *)(*(int *)(iVar7 + iVar5 * 0x40 + param_4 * 4) + (uint)bVar2 + iVar6)
            ;
            pcVar10 = pcVar10 + 1;
            param_4 = param_4 + 1 & 0xf;
          }
          param_1 = param_1 + 1;
          local_8 = local_8 + 1;
        } while (param_1 < iVar3);
      }
      param_3 = param_3 + 1;
      local_1c = local_1c - 1;
      *(uint *)(iVar4 + 0x30) = iVar5 + 1U & 0xf;
    } while (local_1c != 0);
  }
  return;
}



/* FUN_10033aed @ 10033aed */

void __cdecl FUN_10033aed(uint param_1,int param_2,int *param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  char *pcVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  byte *pbVar13;
  int iVar14;
  int local_14;
  int *local_c;
  
  iVar2 = *(int *)(param_1 + 0x1a4);
  piVar3 = *(int **)(iVar2 + 0x18);
  iVar4 = *piVar3;
  iVar5 = piVar3[1];
  iVar6 = piVar3[2];
  iVar7 = *(int *)(param_1 + 0x5c);
  if (0 < param_4) {
    local_c = param_3;
    local_14 = param_4;
    do {
      pbVar13 = *(byte **)((param_2 - (int)param_3) + (int)local_c);
      pcVar8 = (char *)*local_c;
      iVar9 = *(int *)(iVar2 + 0x30);
      iVar10 = *(int *)(iVar2 + 0x34);
      iVar11 = *(int *)(iVar2 + 0x3c);
      param_1 = 0;
      iVar14 = iVar9 * 0x40;
      iVar12 = *(int *)(iVar2 + 0x38);
      for (iVar1 = iVar7; iVar1 != 0; iVar1 = iVar1 + -1) {
        *pcVar8 = *(char *)(*(int *)(iVar10 + iVar14 + param_1 * 4) + (uint)*pbVar13 + iVar4) +
                  *(char *)(*(int *)(iVar12 + iVar14 + param_1 * 4) + (uint)pbVar13[1] + iVar5) +
                  *(char *)(*(int *)(iVar11 + iVar14 + param_1 * 4) + (uint)pbVar13[2] + iVar6);
        pbVar13 = pbVar13 + 3;
        pcVar8 = pcVar8 + 1;
        param_1 = param_1 + 1 & 0xf;
      }
      local_c = local_c + 1;
      local_14 = local_14 + -1;
      *(uint *)(iVar2 + 0x30) = iVar9 + 1U & 0xf;
    } while (local_14 != 0);
  }
  return;
}



/* FUN_10033bec @ 10033bec */

void __cdecl FUN_10033bec(int param_1,int param_2,undefined4 *param_3,undefined4 *param_4)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  uint size;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  short *psVar11;
  char *pcVar12;
  byte *pbVar13;
  undefined4 *local_28;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int *local_c;
  
  local_28 = param_4;
  iVar3 = *(int *)(param_1 + 100);
  size = *(uint *)(param_1 + 0x5c);
  iVar4 = *(int *)(param_1 + 0x1a4);
  iVar5 = *(int *)(param_1 + 0x11c);
  if (0 < (int)param_4) {
    param_4 = param_3;
    do {
      memzero((void *)*param_4,size);
      param_1 = 0;
      if (0 < iVar3) {
        local_c = (int *)(iVar4 + 0x44);
        do {
          pbVar13 = (byte *)(*(int *)((param_2 - (int)param_3) + (int)param_4) + param_1);
          pcVar12 = (char *)*param_4;
          if (*(char *)(iVar4 + 0x54) == '\0') {
            psVar11 = (short *)*local_c;
            local_14 = 1;
            local_20 = iVar3;
          }
          else {
            local_14 = -1;
            pcVar12 = pcVar12 + (size - 1);
            pbVar13 = pbVar13 + (size - 1) * iVar3;
            psVar11 = (short *)(*local_c + 2 + size * 2);
            local_20 = -iVar3;
          }
          iVar6 = *(int *)(param_1 * 4 + *(int *)(iVar4 + 0x18));
          iVar7 = *(int *)(param_1 * 4 + *(int *)(iVar4 + 0x10));
          iVar8 = 0;
          local_18 = 0;
          local_18._0_2_ = 0;
          local_1c = 0;
          for (uVar1 = size; uVar1 != 0; uVar1 = uVar1 - 1) {
            uVar9 = (uint)*(byte *)((uint)*pbVar13 + iVar5 + (psVar11[local_14] + 8 + iVar8 >> 4));
            bVar2 = *(byte *)(uVar9 + iVar6);
            *pcVar12 = *pcVar12 + bVar2;
            pbVar13 = pbVar13 + local_20;
            pcVar12 = pcVar12 + local_14;
            iVar10 = uVar9 - *(byte *)((uint)bVar2 + iVar7);
            *psVar11 = (short)local_18 + (short)iVar10 * 3;
            local_18 = local_1c + iVar10 * 5;
            iVar8 = iVar10 * 7;
            psVar11 = psVar11 + local_14;
            local_1c = iVar10;
          }
          param_1 = param_1 + 1;
          local_c = local_c + 1;
          *psVar11 = (short)local_18;
        } while (param_1 < iVar3);
      }
      param_4 = param_4 + 1;
      local_28 = (undefined4 *)((int)local_28 + -1);
      *(bool *)(iVar4 + 0x54) = *(char *)(iVar4 + 0x54) == '\0';
    } while (local_28 != (undefined4 *)0x0);
  }
  return;
}



/* FUN_10033d70 @ 10033d70 */

void FUN_10033d70(void)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  int unaff_ESI;
  int iVar3;
  
  iVar3 = 0;
  if (0 < *(int *)(unaff_ESI + 100)) {
    puVar2 = (undefined4 *)(*(int *)(unaff_ESI + 0x1a4) + 0x44);
    do {
      uVar1 = (**(code **)(*(int *)(unaff_ESI + 4) + 4))();
      *puVar2 = uVar1;
      iVar3 = iVar3 + 1;
      puVar2 = puVar2 + 1;
    } while (iVar3 < *(int *)(unaff_ESI + 100));
  }
  return;
}



/* FUN_10033da6 @ 10033da6 */

void __cdecl FUN_10033da6(int *param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  
  iVar1 = param_1[0x69];
  param_1[0x1d] = *(int *)(iVar1 + 0x10);
  param_1[0x1c] = *(int *)(iVar1 + 0x14);
  iVar3 = param_1[0x13];
  if (iVar3 == 0) {
    if (param_1[0x19] == 3) {
      *(code **)(iVar1 + 4) = FUN_10033975;
    }
    else {
      *(code **)(iVar1 + 4) = FUN_100338ed;
    }
  }
  else if (iVar3 == 1) {
    if (param_1[0x19] == 3) {
      *(code **)(iVar1 + 4) = FUN_10033aed;
    }
    else {
      *(code **)(iVar1 + 4) = FUN_10033a02;
    }
    *(undefined4 *)(iVar1 + 0x30) = 0;
    if (*(char *)(iVar1 + 0x1c) == '\0') {
      FUN_100336fd((int)param_1);
    }
    if (*(int *)(iVar1 + 0x34) == 0) {
      FUN_10033828();
    }
  }
  else if (iVar3 == 2) {
    *(undefined1 *)(iVar1 + 0x54) = 0;
    piVar2 = (int *)(iVar1 + 0x44);
    *(code **)(iVar1 + 4) = FUN_10033bec;
    if (*piVar2 == 0) {
      FUN_10033d70();
    }
    iVar1 = param_1[0x17];
    iVar3 = 0;
    if (0 < param_1[0x19]) {
      do {
        memzero((void *)*piVar2,iVar1 * 2 + 4);
        iVar3 = iVar3 + 1;
        piVar2 = piVar2 + 1;
      } while (iVar3 < param_1[0x19]);
    }
  }
  else {
    *(undefined4 *)(*param_1 + 0x14) = 0x2f;
    (**(code **)*param_1)(param_1);
  }
  return;
}



/* FUN_10033e84 @ 10033e84 */

void __cdecl FUN_10033e84(int *param_1)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x58);
  param_1[0x69] = (int)puVar1;
  puVar1[0x11] = 0;
  puVar1[0xd] = 0;
  *puVar1 = FUN_10033da6;
  puVar1[2] = &DAT_10010dec;
  puVar1[3] = &LAB_10033e70;
  if (4 < param_1[0x19]) {
    *(undefined4 *)(*param_1 + 0x14) = 0x36;
    *(undefined4 *)(*param_1 + 0x18) = 4;
    (**(code **)*param_1)(param_1);
  }
  if (0x100 < param_1[0x15]) {
    *(undefined4 *)(*param_1 + 0x14) = 0x38;
    *(undefined4 *)(*param_1 + 0x18) = 0x100;
    (**(code **)*param_1)(param_1);
  }
  FUN_100335d0();
  FUN_100336fd((int)param_1);
  if (param_1[0x13] == 2) {
    FUN_10033d70();
  }
  return;
}



/* inflate_blocks_reset @ 10033f0b */

/* zlib (internal): reset inflate blocks state */

void __cdecl inflate_blocks_reset(void *s,z_streamp z,uLongf *c)

{
  uLong uVar1;
  
  if (c != (uLongf *)0x0) {
    *c = *(uLongf *)((int)s + 0x3c);
  }
  if ((*(int *)s == 4) || (*(int *)s == 5)) {
    (*z->zfree)(z->opaque,*(voidpf *)((int)s + 0xc));
  }
  if (*(int *)s == 6) {
    inflate_codes_free(*(void **)((int)s + 4),z);
  }
  *(undefined4 *)((int)s + 0x34) = *(undefined4 *)((int)s + 0x28);
  *(undefined4 *)((int)s + 0x30) = *(undefined4 *)((int)s + 0x28);
  *(undefined4 *)s = 0;
  *(undefined4 *)((int)s + 0x1c) = 0;
  *(undefined4 *)((int)s + 0x20) = 0;
  if (*(code **)((int)s + 0x38) != (code *)0x0) {
    uVar1 = (**(code **)((int)s + 0x38))(0,0,0);
    *(uLong *)((int)s + 0x3c) = uVar1;
    z->adler = uVar1;
  }
  return;
}



/* inflate_blocks_new @ 10033f76 */

/* zlib (internal): allocate inflate blocks state */

void * __cdecl inflate_blocks_new(z_streamp z,void *check_func,uInt w)

{
  undefined4 *s;
  voidpf pvVar1;
  
  s = (*z->zalloc)(z->opaque,1,0x40);
  if (s != (undefined4 *)0x0) {
    pvVar1 = (*z->zalloc)(z->opaque,8,0x5a0);
    s[9] = pvVar1;
    if (pvVar1 != (voidpf)0x0) {
      pvVar1 = (*z->zalloc)(z->opaque,1,w);
      s[10] = pvVar1;
      if (pvVar1 == (voidpf)0x0) {
        (*z->zfree)(z->opaque,(voidpf)s[9]);
        (*z->zfree)(z->opaque,s);
        return (void *)0x0;
      }
      *s = 0;
      s[0xb] = (int)pvVar1 + w;
      s[0xe] = check_func;
      inflate_blocks_reset(s,z,(uLongf *)0x0);
      return s;
    }
    (*z->zfree)(z->opaque,s);
  }
  return (void *)0x0;
}



/* inflate_blocks @ 10034003 */

/* zlib (internal): process inflate blocks */

int __cdecl inflate_blocks(void *s,z_streamp z,int r)

{
  int *piVar1;
  byte bVar2;
  byte *pbVar3;
  Bytef *pBVar4;
  void *s_00;
  int iVar5;
  uint uVar6;
  voidpf pvVar7;
  byte *pbVar8;
  undefined4 uVar9;
  void *pvVar10;
  byte *pbVar11;
  void *pvStack_38;
  void *pvStack_34;
  byte *pbStack_30;
  uInt uStack_2c;
  uInt uStack_28;
  void *pvStack_24;
  void *pvStack_20;
  byte *pbStack_1c;
  byte *local_18;
  byte *local_14;
  byte *local_10;
  byte *local_c;
  uint local_8;
  
  s_00 = s;
  local_c = (byte *)z->avail_in;
  local_8 = *(uint *)((int)s + 0x20);
  local_10 = *(byte **)((int)s + 0x34);
  if (local_10 < *(byte **)((int)s + 0x30)) {
    local_14 = *(byte **)((int)s + 0x30) + (-1 - (int)local_10);
  }
  else {
    local_14 = (byte *)(*(int *)((int)s + 0x2c) - (int)local_10);
  }
  uVar6 = *(uint *)s;
  s = *(void **)((int)s + 0x1c);
  pbVar11 = z->next_in;
  while (local_18 = pbVar11, uVar6 < 10) {
    switch(*(undefined4 *)(&DAT_10034776 + uVar6 * 4)) {
    case 0x100340aa:
      for (; pbVar11 = local_18, s < (void *)0x3; s = (void *)((int)s + 8)) {
        if (local_c == (byte *)0x0) goto code_r0x100346a3;
        r = 0;
        local_c = local_c + -1;
        local_8 = local_8 | (uint)*local_18 << ((byte)s & 0x1f);
        local_18 = local_18 + 1;
      }
      uVar6 = (local_8 & 7) >> 1;
      *(uint *)((int)s_00 + 0x18) = local_8 & 1;
      if (uVar6 == 0) {
        uVar6 = (int)s - 3U & 7;
        local_8 = (local_8 >> 3) >> (sbyte)uVar6;
        s = (void *)(((int)s - 3U) - uVar6);
        *(undefined4 *)s_00 = 1;
      }
      else if (uVar6 == 1) {
        func_0x10036e31(&uStack_2c,&uStack_28,&pvStack_24,&pvStack_20,z);
        pvVar10 = inflate_codes_new(uStack_2c,uStack_28,pvStack_24,pvStack_20,z);
        *(void **)((int)s_00 + 4) = pvVar10;
        if (pvVar10 == (void *)0x0) goto code_r0x10034717;
        local_8 = local_8 >> 3;
        s = (void *)((int)s + -3);
        *(undefined4 *)s_00 = 6;
      }
      else {
        if (uVar6 == 2) {
          local_8 = local_8 >> 3;
          uVar6 = 3;
          s = (void *)((int)s + -3);
          goto code_r0x10034105;
        }
        if (uVar6 == 3) {
          *(undefined4 *)s_00 = 9;
          z->msg = "invalid block type";
          *(uint *)((int)s_00 + 0x20) = local_8 >> 3;
          s = (void *)((int)s + -3);
          r = -3;
          goto code_r0x10034055;
        }
      }
      break;
    case 0x10034174:
      for (; pbVar11 = local_18, s < (void *)0x20; s = (void *)((int)s + 8)) {
        if (local_c == (byte *)0x0) goto code_r0x100346a3;
        r = 0;
        local_c = local_c + -1;
        local_8 = local_8 | (uint)*local_18 << ((byte)s & 0x1f);
        local_18 = local_18 + 1;
      }
      if (~local_8 >> 0x10 != (local_8 & 0xffff)) {
        *(undefined4 *)s_00 = 9;
        z->msg = "invalid stored block lengths";
        goto code_r0x1003465b;
      }
      *(uint *)((int)s_00 + 4) = local_8 & 0xffff;
      s = (void *)0x0;
      local_8 = 0;
      if (*(int *)((int)s_00 + 4) == 0) goto code_r0x100342b6;
      uVar6 = 2;
code_r0x10034105:
      *(uint *)s_00 = uVar6;
      break;
    case 0x100341d5:
      if (local_c == (byte *)0x0) {
code_r0x100346a3:
        *(uint *)((int)s_00 + 0x20) = local_8;
        *(void **)((int)s_00 + 0x1c) = s;
        z->avail_in = 0;
        goto code_r0x1003405e;
      }
      if (local_14 == (byte *)0x0) {
        local_14 = (byte *)0x0;
        if (local_10 == *(byte **)((int)s_00 + 0x2c)) {
          pbVar8 = *(byte **)((int)s_00 + 0x30);
          pbVar3 = *(byte **)((int)s_00 + 0x28);
          if (pbVar3 != pbVar8) {
            if (pbVar3 < pbVar8) {
              local_14 = pbVar8 + (-1 - (int)pbVar3);
            }
            else {
              local_14 = *(byte **)((int)s_00 + 0x2c) + -(int)pbVar3;
            }
            local_10 = pbVar3;
            if (local_14 != (byte *)0x0) goto code_r0x10034276;
          }
        }
        *(byte **)((int)s_00 + 0x34) = local_10;
        r = inflate_flush(s_00,z,r);
        pbStack_1c = *(byte **)((int)s_00 + 0x30);
        local_10 = *(byte **)((int)s_00 + 0x34);
        if (local_10 < pbStack_1c) {
          local_14 = pbStack_1c + (-1 - (int)local_10);
        }
        else {
          local_14 = (byte *)(*(int *)((int)s_00 + 0x2c) - (int)local_10);
        }
        pbStack_30 = *(byte **)((int)s_00 + 0x2c);
        if (local_10 == pbStack_30) {
          pbVar8 = *(byte **)((int)s_00 + 0x28);
          if (pbVar8 != pbStack_1c) {
            local_10 = pbVar8;
            if (pbVar8 < pbStack_1c) {
              local_14 = pbStack_1c + (-1 - (int)pbVar8);
            }
            else {
              local_14 = pbStack_30 + -(int)pbVar8;
            }
          }
        }
        if (local_14 == (byte *)0x0) {
          *(uint *)((int)s_00 + 0x20) = local_8;
          *(void **)((int)s_00 + 0x1c) = s;
          z->avail_in = (uInt)local_c;
          z->total_in = (uLong)(pbVar11 + (z->total_in - (int)z->next_in));
          goto code_r0x10034068;
        }
      }
code_r0x10034276:
      r = 0;
      pbVar11 = *(byte **)((int)s_00 + 4);
      if (local_c < *(byte **)((int)s_00 + 4)) {
        pbVar11 = local_c;
      }
      if (local_14 < pbVar11) {
        pbVar11 = local_14;
      }
      pbVar8 = local_18 + (int)pbVar11;
      local_c = local_c + -(int)pbVar11;
      pbVar3 = local_10 + (int)pbVar11;
      local_14 = local_14 + -(int)pbVar11;
      for (uVar6 = (uint)pbVar11 >> 2; uVar6 != 0; uVar6 = uVar6 - 1) {
        *(undefined4 *)local_10 = *(undefined4 *)local_18;
        local_18 = local_18 + 4;
        local_10 = local_10 + 4;
      }
      for (uVar6 = (uint)pbVar11 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
        *local_10 = *local_18;
        local_18 = local_18 + 1;
        local_10 = local_10 + 1;
      }
      piVar1 = (int *)((int)s_00 + 4);
      *piVar1 = *piVar1 - (int)pbVar11;
      local_18 = pbVar8;
      local_10 = pbVar3;
      if (*piVar1 == 0) {
code_r0x100342b6:
        uVar6 = -(uint)(*(int *)((int)s_00 + 0x18) != 0) & 7;
        goto code_r0x10034105;
      }
      break;
    case 0x100342c5:
      for (; s < (void *)0xe; s = (void *)((int)s + 8)) {
        if (local_c == (byte *)0x0) goto code_r0x100346a3;
        r = 0;
        local_c = local_c + -1;
        local_8 = local_8 | (uint)*pbVar11 << ((byte)s & 0x1f);
        pbVar11 = pbVar11 + 1;
      }
      *(uint *)((int)s_00 + 4) = local_8 & 0x3fff;
      if ((0x1d < (local_8 & 0x1f)) || (uVar6 = (local_8 & 0x3fff) >> 5 & 0x1f, 0x1d < uVar6)) {
        *(undefined4 *)s_00 = 9;
        z->msg = "too many length or distance symbols";
        goto code_r0x1003465b;
      }
      pvVar7 = (*z->zalloc)(z->opaque,uVar6 + 0x102 + (local_8 & 0x1f),4);
      *(voidpf *)((int)s_00 + 0xc) = pvVar7;
      if (pvVar7 != (voidpf)0x0) {
        local_8 = local_8 >> 0xe;
        s = (void *)((int)s + -0xe);
        *(undefined4 *)((int)s_00 + 8) = 0;
        *(undefined4 *)s_00 = 4;
        goto code_r0x10034394;
      }
code_r0x10034717:
      r = (int)(byte *)0xfffffffc;
      goto code_r0x1003404c;
    case 0x10034394:
code_r0x10034394:
      while (*(uint *)((int)s_00 + 8) < (*(uint *)((int)s_00 + 4) >> 10) + 4) {
        for (; s < (void *)0x3; s = (void *)((int)s + 8)) {
          if (local_c == (byte *)0x0) goto code_r0x100346a3;
          r = 0;
          local_c = local_c + -1;
          local_8 = local_8 | (uint)*pbVar11 << ((byte)s & 0x1f);
          pbVar11 = pbVar11 + 1;
        }
        *(uint *)(*(int *)((int)s_00 + 0xc) +
                 *(int *)(&UNK_1004f6e0 + *(int *)((int)s_00 + 8) * 4) * 4) = local_8 & 7;
        *(int *)((int)s_00 + 8) = *(int *)((int)s_00 + 8) + 1;
        s = (void *)((int)s + -3);
        local_8 = local_8 >> 3;
      }
      while (*(uint *)((int)s_00 + 8) < 0x13) {
        *(undefined4 *)
         (*(int *)((int)s_00 + 0xc) + *(int *)(&UNK_1004f6e0 + *(int *)((int)s_00 + 8) * 4) * 4) = 0
        ;
        *(int *)((int)s_00 + 8) = *(int *)((int)s_00 + 8) + 1;
      }
      *(uInt *)((int)s_00 + 0x10) = 7;
      local_14 = (byte *)inflate_trees_bits(*(uInt **)((int)s_00 + 0xc),(uInt *)((int)s_00 + 0x10),
                                            (void **)((int)s_00 + 0x14),*(void **)((int)s_00 + 0x24)
                                            ,z);
      if (local_14 == (byte *)0x0) {
        *(undefined4 *)((int)s_00 + 8) = 0;
        *(undefined4 *)s_00 = 5;
        goto code_r0x10034512;
      }
      (*z->zfree)(z->opaque,*(voidpf *)((int)s_00 + 0xc));
      goto code_r0x10034707;
    case 0x10034512:
code_r0x10034512:
      while (*(uint *)((int)s_00 + 8) <
             (*(uint *)((int)s_00 + 4) >> 5 & 0x1f) + 0x102 + (*(uint *)((int)s_00 + 4) & 0x1f)) {
        for (; s < *(void **)((int)s_00 + 0x10); s = (void *)((int)s + 8)) {
          if (local_c == (byte *)0x0) goto code_r0x100346a3;
          r = 0;
          local_c = local_c + -1;
          local_8 = local_8 | (uint)*pbVar11 << ((byte)s & 0x1f);
          pbVar11 = pbVar11 + 1;
        }
        iVar5 = *(int *)((int)s_00 + 0x14) +
                (*(uint *)(&DAT_10057020 + (int)*(void **)((int)s_00 + 0x10) * 4) & local_8) * 8;
        bVar2 = *(byte *)(iVar5 + 1);
        local_14 = (byte *)(uint)bVar2;
        pbStack_30 = *(byte **)(iVar5 + 4);
        if (pbStack_30 < (byte *)0x10) {
          local_8 = local_8 >> (bVar2 & 0x1f);
          s = (void *)((int)s - (int)local_14);
          *(byte **)(*(int *)((int)s_00 + 0xc) + *(int *)((int)s_00 + 8) * 4) = pbStack_30;
          *(int *)((int)s_00 + 8) = *(int *)((int)s_00 + 8) + 1;
        }
        else {
          if (pbStack_30 == (byte *)0x12) {
            pbVar8 = (byte *)0x7;
          }
          else {
            pbVar8 = pbStack_30 + -0xe;
          }
          local_18 = (byte *)((uint)(pbStack_30 == (byte *)0x12) * 8 + 3);
          for (; s < pbVar8 + (int)local_14; s = (void *)((int)s + 8)) {
            if (local_c == (byte *)0x0) goto code_r0x100346a3;
            r = 0;
            local_c = local_c + -1;
            local_8 = local_8 | (uint)*pbVar11 << ((byte)s & 0x1f);
            pbVar11 = pbVar11 + 1;
          }
          local_8 = local_8 >> (bVar2 & 0x1f);
          local_18 = local_18 + (*(uint *)(&DAT_10057020 + (int)pbVar8 * 4) & local_8);
          local_8 = local_8 >> ((byte)pbVar8 & 0x1f);
          s = (void *)((int)s - (int)(pbVar8 + (int)local_14));
          iVar5 = *(int *)((int)s_00 + 8);
          if ((byte *)((*(uint *)((int)s_00 + 4) >> 5 & 0x1f) + 0x102 +
                      (*(uint *)((int)s_00 + 4) & 0x1f)) < local_18 + iVar5) {
code_r0x100346bb:
            (*z->zfree)(z->opaque,*(voidpf *)((int)s_00 + 0xc));
            *(undefined4 *)s_00 = 9;
            z->msg = "invalid bit length repeat";
            *(uint *)((int)s_00 + 0x20) = local_8;
            *(void **)((int)s_00 + 0x1c) = s;
            z->avail_in = (uInt)local_c;
            z->total_in = (uLong)(pbVar11 + (z->total_in - (int)z->next_in));
            z->next_in = pbVar11;
            *(byte **)((int)s_00 + 0x34) = local_10;
            iVar5 = inflate_flush(s_00,z,-3);
            return iVar5;
          }
          if (pbStack_30 == (byte *)0x10) {
            if (iVar5 == 0) goto code_r0x100346bb;
            uVar9 = *(undefined4 *)(*(int *)((int)s_00 + 0xc) + -4 + iVar5 * 4);
          }
          else {
            uVar9 = 0;
          }
          do {
            *(undefined4 *)(*(int *)((int)s_00 + 0xc) + iVar5 * 4) = uVar9;
            iVar5 = iVar5 + 1;
            local_18 = local_18 + -1;
          } while (local_18 != (byte *)0x0);
          *(int *)((int)s_00 + 8) = iVar5;
          local_18 = (byte *)0x0;
        }
      }
      *(undefined4 *)((int)s_00 + 0x14) = 0;
      pbStack_1c = (byte *)0x9;
      local_18 = (byte *)0x6;
      local_14 = (byte *)inflate_trees_dynamic
                                   ((*(uint *)((int)s_00 + 4) & 0x1f) + 0x101,
                                    (*(uint *)((int)s_00 + 4) >> 5 & 0x1f) + 1,
                                    *(uInt **)((int)s_00 + 0xc),(uInt *)&pbStack_1c,
                                    (uInt *)&local_18,&pvStack_38,&pvStack_34,
                                    *(void **)((int)s_00 + 0x24),z);
      (*z->zfree)(z->opaque,*(voidpf *)((int)s_00 + 0xc));
      if (local_14 == (byte *)0x0) {
        pvVar10 = inflate_codes_new((uInt)pbStack_1c,(uInt)local_18,pvStack_38,pvStack_34,z);
        if (pvVar10 == (void *)0x0) goto code_r0x10034717;
        *(void **)((int)s_00 + 4) = pvVar10;
        *(undefined4 *)s_00 = 6;
        goto code_r0x100345b3;
      }
code_r0x10034707:
      r = (int)local_14;
      if (local_14 == (byte *)0xfffffffd) {
        *(undefined4 *)s_00 = 9;
      }
      goto code_r0x1003404c;
    case 0x100345b3:
code_r0x100345b3:
      *(uint *)((int)s_00 + 0x20) = local_8;
      *(void **)((int)s_00 + 0x1c) = s;
      z->avail_in = (uInt)local_c;
      z->total_in = (uLong)(pbVar11 + (z->total_in - (int)z->next_in));
      z->next_in = pbVar11;
      *(byte **)((int)s_00 + 0x34) = local_10;
      r = inflate_codes(s_00,z,r);
      if ((byte *)r != (byte *)0x1) goto code_r0x1003406d;
      r = 0;
      inflate_codes_free(*(void **)((int)s_00 + 4),z);
      local_c = (byte *)z->avail_in;
      local_18 = z->next_in;
      local_8 = *(uint *)((int)s_00 + 0x20);
      s = *(void **)((int)s_00 + 0x1c);
      local_10 = *(byte **)((int)s_00 + 0x34);
      if (local_10 < *(byte **)((int)s_00 + 0x30)) {
        local_14 = *(byte **)((int)s_00 + 0x30) + (-1 - (int)local_10);
      }
      else {
        local_14 = (byte *)(*(int *)((int)s_00 + 0x2c) - (int)local_10);
      }
      if (*(int *)((int)s_00 + 0x18) != 0) {
        *(undefined4 *)s_00 = 7;
        goto code_r0x10034724;
      }
      *(undefined4 *)s_00 = 0;
      break;
    case 0x1003465b:
code_r0x1003465b:
      r = (int)(byte *)0xfffffffd;
      goto code_r0x1003404c;
    case 0x10034724:
code_r0x10034724:
      pbVar11 = local_18;
      *(byte **)((int)s_00 + 0x34) = local_10;
      r = inflate_flush(s_00,z,r);
      local_10 = *(byte **)((int)s_00 + 0x34);
      if (*(byte **)((int)s_00 + 0x30) == local_10) {
        *(undefined4 *)s_00 = 8;
        goto code_r0x1003476f;
      }
      *(uint *)((int)s_00 + 0x20) = local_8;
      *(void **)((int)s_00 + 0x1c) = s;
      z->avail_in = (uInt)local_c;
      pBVar4 = z->next_in;
      z->next_in = pbVar11;
      z->total_in = (uLong)(pbVar11 + (z->total_in - (int)pBVar4));
      *(byte **)((int)s_00 + 0x34) = local_10;
      goto code_r0x1003406d;
    case 0x1003476f:
code_r0x1003476f:
      r = (int)(byte *)0x1;
      goto code_r0x1003404c;
    }
    pbVar11 = local_18;
    uVar6 = *(uint *)s_00;
  }
  r = (int)(byte *)0xfffffffe;
code_r0x1003404c:
  *(uint *)((int)s_00 + 0x20) = local_8;
code_r0x10034055:
  *(void **)((int)s_00 + 0x1c) = s;
  z->avail_in = (uInt)local_c;
code_r0x1003405e:
  z->total_in = (uLong)(pbVar11 + (z->total_in - (int)z->next_in));
code_r0x10034068:
  z->next_in = pbVar11;
  *(byte **)((int)s_00 + 0x34) = local_10;
code_r0x1003406d:
  iVar5 = inflate_flush(s_00,z,r);
  return iVar5;
}



/* inflate_blocks_free @ 1003479e */

/* zlib (internal): free inflate blocks state */

void __cdecl inflate_blocks_free(void *s,z_streamp z)

{
  inflate_blocks_reset(s,z,(uLongf *)0x0);
  (*z->zfree)(z->opaque,*(voidpf *)((int)s + 0x28));
  (*z->zfree)(z->opaque,*(voidpf *)((int)s + 0x24));
  (*z->zfree)(z->opaque,s);
  return;
}



/* adler32 @ 100347d2 */

/* zlib: adler32 checksum */

uLong __cdecl adler32(uLong adler,Bytef *buf,uInt len)

{
  uLong uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  uint uVar20;
  
  uVar4 = adler & 0xffff;
  uVar20 = adler >> 0x10;
  if (buf == (Bytef *)0x0) {
    uVar1 = 1;
  }
  else {
    while (len != 0) {
      uVar3 = 0x15b0;
      if (len < 0x15b0) {
        uVar3 = len;
      }
      len = len - uVar3;
      if (0xf < (int)uVar3) {
        uVar2 = uVar3 >> 4;
        uVar3 = uVar3 + uVar2 * -0x10;
        do {
          iVar5 = uVar4 + *buf;
          iVar6 = iVar5 + (uint)buf[1];
          iVar7 = iVar6 + (uint)buf[2];
          iVar8 = iVar7 + (uint)buf[3];
          iVar9 = iVar8 + (uint)buf[4];
          iVar10 = iVar9 + (uint)buf[5];
          iVar11 = iVar10 + (uint)buf[6];
          iVar12 = iVar11 + (uint)buf[7];
          iVar13 = iVar12 + (uint)buf[8];
          iVar14 = iVar13 + (uint)buf[9];
          iVar15 = iVar14 + (uint)buf[10];
          iVar16 = iVar15 + (uint)buf[0xb];
          iVar17 = iVar16 + (uint)buf[0xc];
          iVar18 = iVar17 + (uint)buf[0xd];
          iVar19 = iVar18 + (uint)buf[0xe];
          uVar4 = iVar19 + (uint)buf[0xf];
          uVar20 = uVar20 + iVar5 + iVar6 + iVar7 + iVar8 + iVar9 + iVar10 + iVar11 + iVar12 +
                   iVar13 + iVar14 + iVar15 + iVar16 + iVar17 + iVar18 + iVar19 + uVar4;
          buf = buf + 0x10;
          uVar2 = uVar2 - 1;
        } while (uVar2 != 0);
      }
      for (; uVar3 != 0; uVar3 = uVar3 - 1) {
        uVar4 = uVar4 + *buf;
        buf = buf + 1;
        uVar20 = uVar20 + uVar4;
      }
      uVar4 = uVar4 % 0xfff1;
      uVar20 = uVar20 % 0xfff1;
    }
    uVar1 = uVar20 << 0x10 | uVar4;
  }
  return uVar1;
}



/* zcalloc @ 100348eb */

/* zlib (internal): default alloc wrapper (calloc) */

voidpf __cdecl zcalloc(voidpf opaque,uInt items,uInt size)

{
  void *pvVar1;
  
  pvVar1 = calloc(items,size);
  return pvVar1;
}



/* FUN_10034900 @ 10034900 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __cdecl FUN_10034900(uint *param_1,uint *param_2,uint *param_3)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  uint uVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  uint uVar13;
  float fVar14;
  float fVar15;
  float fVar16;
  uint uVar17;
  float fVar18;
  float fVar19;
  float fVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  uint uVar24;
  uint uVar25;
  uint uVar26;
  uint uVar27;
  uint uVar28;
  
  fVar6 = (float)(*param_1 & _DAT_10055b60);
  fVar10 = (float)(param_1[1] & uRam10055b64);
  fVar14 = (float)(param_1[2] & uRam10055b68);
  fVar18 = (float)(param_1[3] & uRam10055b6c);
  uVar22 = param_1[1] & uRam10055b54;
  uVar23 = param_1[2] & uRam10055b58;
  uVar24 = param_1[3] & uRam10055b5c;
  fVar7 = fVar6 * _DAT_10055b40 + _DAT_10055af0;
  fVar11 = fVar10 * fRam10055b44 + fRam10055af4;
  fVar15 = fVar14 * fRam10055b48 + fRam10055af8;
  fVar19 = fVar18 * fRam10055b4c + fRam10055afc;
  fVar8 = fVar7 - _DAT_10055af0;
  fVar12 = fVar11 - fRam10055af4;
  fVar16 = fVar15 - fRam10055af8;
  fVar20 = fVar19 - fRam10055afc;
  fVar6 = (((fVar6 - _DAT_10055b30 * fVar8) - _DAT_10055b20 * fVar8) - _DAT_10055b10 * fVar8) -
          _DAT_10055b00 * fVar8;
  fVar8 = (((fVar10 - fRam10055b34 * fVar12) - fRam10055b24 * fVar12) - fRam10055b14 * fVar12) -
          fRam10055b04 * fVar12;
  fVar10 = (((fVar14 - fRam10055b38 * fVar16) - fRam10055b28 * fVar16) - fRam10055b18 * fVar16) -
           fRam10055b08 * fVar16;
  fVar12 = (((fVar18 - fRam10055b3c * fVar20) - fRam10055b2c * fVar20) - fRam10055b1c * fVar20) -
           fRam10055b0c * fVar20;
  fVar14 = fVar6 * fVar6;
  fVar16 = fVar8 * fVar8;
  fVar18 = fVar10 * fVar10;
  fVar20 = fVar12 * fVar12;
  uVar25 = (uint)fVar7 & _DAT_10055ac0;
  uVar26 = (uint)fVar11 & uRam10055ac4;
  uVar27 = (uint)fVar15 & uRam10055ac8;
  uVar28 = (uint)fVar19 & uRam10055acc;
  uVar9 = uVar25 & _DAT_10055ab0;
  uVar13 = uVar26 & uRam10055ab4;
  uVar17 = uVar27 & uRam10055ab8;
  uVar21 = uVar28 & uRam10055abc;
  uVar1 = uVar26 - uVar13 & _DAT_10055aa0;
  uVar2 = uVar27 - uVar17 & _DAT_10055aa0;
  uVar3 = uVar28 - uVar21 & _DAT_10055aa0;
  uVar4 = uVar25 + uVar9 & _DAT_10055aa0;
  uVar26 = uVar26 + uVar13 & _DAT_10055aa0;
  uVar27 = uVar27 + uVar17 & _DAT_10055aa0;
  uVar28 = uVar28 + uVar21 & _DAT_10055aa0;
  uVar5 = -(uint)((float)(uVar9 << 0x1e) != 0.0);
  uVar13 = -(uint)((float)(uVar13 << 0x1e) != 0.0);
  uVar17 = -(uint)((float)(uVar17 << 0x1e) != 0.0);
  uVar21 = -(uint)((float)(uVar21 << 0x1e) != 0.0);
  fVar6 = (((_DAT_10055ae0 * fVar14 + _DAT_10055a90) * fVar14 + _DAT_10055a70) * fVar14 +
          _DAT_10055a50) * fVar6;
  fVar8 = (((fRam10055ae4 * fVar16 + fRam10055a94) * fVar16 + fRam10055a74) * fVar16 + fRam10055a54)
          * fVar8;
  fVar10 = (((fRam10055ae8 * fVar18 + fRam10055a98) * fVar18 + fRam10055a78) * fVar18 + fRam10055a58
           ) * fVar10;
  fVar12 = (((fRam10055aec * fVar20 + fRam10055a9c) * fVar20 + fRam10055a7c) * fVar20 + fRam10055a5c
           ) * fVar12;
  fVar7 = (((_DAT_10055ad0 * fVar14 + _DAT_10055a80) * fVar14 + _DAT_10055a60) * fVar14 +
          _DAT_10055a40) * fVar14 + _DAT_10055a30;
  fVar11 = (((fRam10055ad4 * fVar16 + fRam10055a84) * fVar16 + fRam10055a64) * fVar16 + fRam10055a44
           ) * fVar16 + fRam10055a34;
  fVar14 = (((fRam10055ad8 * fVar18 + fRam10055a88) * fVar18 + fRam10055a68) * fVar18 + fRam10055a48
           ) * fVar18 + fRam10055a38;
  fVar15 = (((fRam10055adc * fVar20 + fRam10055a8c) * fVar20 + fRam10055a6c) * fVar20 + fRam10055a4c
           ) * fVar20 + fRam10055a3c;
  *param_2 = (~uVar5 & (uint)fVar6 | uVar5 & (uint)fVar7) ^
             (uVar25 - uVar9 & _DAT_10055aa0) << 0x1e ^ *param_1 & _DAT_10055b50;
  param_2[1] = (~uVar13 & (uint)fVar8 | uVar13 & (uint)fVar11) ^ uVar1 << 0x1e ^ uVar22;
  param_2[2] = (~uVar17 & (uint)fVar10 | uVar17 & (uint)fVar14) ^ uVar2 << 0x1e ^ uVar23;
  param_2[3] = (~uVar21 & (uint)fVar12 | uVar21 & (uint)fVar15) ^ uVar3 << 0x1e ^ uVar24;
  *param_3 = (uVar5 & (uint)fVar6 | ~uVar5 & (uint)fVar7) ^ uVar4 << 0x1e;
  param_3[1] = (uVar13 & (uint)fVar8 | ~uVar13 & (uint)fVar11) ^ uVar26 << 0x1e;
  param_3[2] = (uVar17 & (uint)fVar10 | ~uVar17 & (uint)fVar14) ^ uVar27 << 0x1e;
  param_3[3] = (uVar21 & (uint)fVar12 | ~uVar21 & (uint)fVar15) ^ uVar28 << 0x1e;
  return;
}



/* FUN_10034af0 @ 10034af0 */

void FUN_10034af0(void)

{
  return;
}



/* FUN_10034be0 @ 10034be0 */

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void __cdecl FUN_10034be0(uint *param_1,uint *param_2,uint *param_3)

{
  float fVar1;
  float fVar2;
  uint uVar3;
  float fVar4;
  float fVar5;
  uint uVar6;
  float fVar7;
  float fVar8;
  uint uVar9;
  float fVar10;
  float fVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  float fVar16;
  float fVar17;
  uint uVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  uint uVar24;
  float fVar25;
  float fVar26;
  uint uVar27;
  uint uVar28;
  
  fVar16 = (float)(*param_1 & _DAT_10055d80);
  fVar17 = (float)(param_1[1] & uRam10055d84);
  fVar25 = (float)(param_1[2] & uRam10055d88);
  fVar26 = (float)(param_1[3] & uRam10055d8c);
  uVar13 = param_1[1] & uRam10055d74;
  uVar14 = param_1[2] & uRam10055d78;
  uVar15 = param_1[3] & uRam10055d7c;
  fVar1 = fVar16 * _DAT_10055d60 + _DAT_10055d10;
  fVar4 = fVar17 * fRam10055d64 + fRam10055d14;
  fVar7 = fVar25 * fRam10055d68 + fRam10055d18;
  fVar10 = fVar26 * fRam10055d6c + fRam10055d1c;
  fVar2 = fVar1 - _DAT_10055d10;
  fVar5 = fVar4 - fRam10055d14;
  fVar8 = fVar7 - fRam10055d18;
  fVar11 = fVar10 - fRam10055d1c;
  fVar16 = (((fVar16 - _DAT_10055d50 * fVar2) - _DAT_10055d40 * fVar2) - _DAT_10055d30 * fVar2) -
           _DAT_10055d20 * fVar2;
  fVar2 = (((fVar17 - fRam10055d54 * fVar5) - fRam10055d44 * fVar5) - fRam10055d34 * fVar5) -
          fRam10055d24 * fVar5;
  fVar17 = (((fVar25 - fRam10055d58 * fVar8) - fRam10055d48 * fVar8) - fRam10055d38 * fVar8) -
           fRam10055d28 * fVar8;
  fVar5 = (((fVar26 - fRam10055d5c * fVar11) - fRam10055d4c * fVar11) - fRam10055d3c * fVar11) -
          fRam10055d2c * fVar11;
  fVar25 = fVar16 * fVar16;
  fVar8 = fVar2 * fVar2;
  fVar26 = fVar17 * fVar17;
  fVar11 = fVar5 * fVar5;
  uVar18 = (uint)fVar1 & _DAT_10055ce0;
  uVar19 = (uint)fVar4 & uRam10055ce4;
  uVar21 = (uint)fVar7 & uRam10055ce8;
  uVar23 = (uint)fVar10 & uRam10055cec;
  uVar3 = uVar18 & _DAT_10055cd0;
  uVar6 = uVar19 & uRam10055cd4;
  uVar9 = uVar21 & uRam10055cd8;
  uVar12 = uVar23 & uRam10055cdc;
  uVar20 = uVar19 - uVar6 & uRam10055cc4;
  uVar22 = uVar21 - uVar9 & uRam10055cc8;
  uVar24 = uVar23 - uVar12 & uRam10055ccc;
  uVar27 = uVar18 + uVar3 & _DAT_10055cc0;
  uVar28 = uVar19 + uVar6 & uRam10055cc4;
  uVar21 = uVar21 + uVar9 & uRam10055cc8;
  uVar23 = uVar23 + uVar12 & uRam10055ccc;
  uVar19 = -(uint)((float)(uVar3 << 0x1e) != 0.0);
  uVar6 = -(uint)((float)(uVar6 << 0x1e) != 0.0);
  uVar9 = -(uint)((float)(uVar9 << 0x1e) != 0.0);
  uVar12 = -(uint)((float)(uVar12 << 0x1e) != 0.0);
  fVar16 = (((_DAT_10055d00 * fVar25 + _DAT_10055cb0) * fVar25 + _DAT_10055c90) * fVar25 +
           _DAT_10055c70) * fVar16;
  fVar2 = (((fRam10055d04 * fVar8 + fRam10055cb4) * fVar8 + fRam10055c94) * fVar8 + fRam10055c74) *
          fVar2;
  fVar17 = (((fRam10055d08 * fVar26 + fRam10055cb8) * fVar26 + fRam10055c98) * fVar26 + fRam10055c78
           ) * fVar17;
  fVar5 = (((fRam10055d0c * fVar11 + fRam10055cbc) * fVar11 + fRam10055c9c) * fVar11 + fRam10055c7c)
          * fVar5;
  fVar1 = (((_DAT_10055cf0 * fVar25 + _DAT_10055ca0) * fVar25 + _DAT_10055c80) * fVar25 +
          _DAT_10055c60) * fVar25 + _DAT_10055c50;
  fVar4 = (((fRam10055cf4 * fVar8 + fRam10055ca4) * fVar8 + fRam10055c84) * fVar8 + fRam10055c64) *
          fVar8 + fRam10055c54;
  fVar25 = (((fRam10055cf8 * fVar26 + fRam10055ca8) * fVar26 + fRam10055c88) * fVar26 + fRam10055c68
           ) * fVar26 + fRam10055c58;
  fVar7 = (((fRam10055cfc * fVar11 + fRam10055cac) * fVar11 + fRam10055c8c) * fVar11 + fRam10055c6c)
          * fVar11 + fRam10055c5c;
  *param_2 = (~uVar19 & (uint)fVar16 | uVar19 & (uint)fVar1) ^
             (uVar18 - uVar3 & _DAT_10055cc0) << 0x1e ^ *param_1 & _DAT_10055d70;
  param_2[1] = (~uVar6 & (uint)fVar2 | uVar6 & (uint)fVar4) ^ uVar20 << 0x1e ^ uVar13;
  param_2[2] = (~uVar9 & (uint)fVar17 | uVar9 & (uint)fVar25) ^ uVar22 << 0x1e ^ uVar14;
  param_2[3] = (~uVar12 & (uint)fVar5 | uVar12 & (uint)fVar7) ^ uVar24 << 0x1e ^ uVar15;
  *param_3 = (uVar19 & (uint)fVar16 | ~uVar19 & (uint)fVar1) ^ uVar27 << 0x1e;
  param_3[1] = (uVar6 & (uint)fVar2 | ~uVar6 & (uint)fVar4) ^ uVar28 << 0x1e;
  param_3[2] = (uVar9 & (uint)fVar17 | ~uVar9 & (uint)fVar25) ^ uVar21 << 0x1e;
  param_3[3] = (uVar12 & (uint)fVar5 | ~uVar12 & (uint)fVar7) ^ uVar23 << 0x1e;
  return;
}



/* FUN_10034e00 @ 10034e00 */

ulonglong FUN_10034e00(void)

{
  ulonglong in_MM0;
  ulonglong uVar1;
  undefined8 uVar2;
  ulonglong in_MM1;
  ulonglong uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  uint uVar7;
  uint uVar8;
  ulonglong uVar9;
  
  uVar9 = (DAT_10055e58 & in_MM0) >> 1 | DAT_10055e58 & in_MM1;
  uVar3 = in_MM1 & DAT_10055e5c;
  uVar1 = in_MM0 & DAT_10055e5c;
  uVar2 = PackedFloatingMAX(uVar1,uVar3);
  uVar7 = (uint)((int)uVar1 < (int)uVar3) * -0x80000000;
  uVar4 = PackedFloatingMIN(uVar3,uVar1);
  uVar5 = FloatingReciprocalAprox(uVar1,uVar2);
  uVar2 = PackedFloatingReciprocalIter1(uVar2,uVar5);
  uVar2 = PackedFloatingReciprocalIter2(uVar2,uVar5);
  uVar2 = PackedFloatingMUL(uVar2,uVar4);
  uVar4 = PackedFloatingMUL(uVar2,uVar2);
  uVar5 = PackedFloatingADD((ulonglong)DAT_10055e90,uVar4);
  uVar6 = PackedFloatingMUL((ulonglong)DAT_10055e9c,uVar4);
  uVar5 = PackedFloatingMUL(uVar5,uVar4);
  uVar6 = PackedFloatingADD(uVar6,(ulonglong)DAT_10055e98);
  uVar5 = PackedFloatingADD(uVar5,(ulonglong)DAT_10055e8c);
  uVar6 = PackedFloatingMUL(uVar6,uVar4);
  uVar5 = PackedFloatingMUL(uVar5,uVar4);
  uVar6 = PackedFloatingADD(uVar6,(ulonglong)DAT_10055e94);
  uVar5 = PackedFloatingADD(uVar5,(ulonglong)DAT_10055e88);
  uVar4 = PackedFloatingMUL(uVar4,uVar6);
  uVar4 = PackedFloatingMUL(uVar4,uVar2);
  uVar6 = FloatingReciprocalAprox((ulonglong)DAT_10055e94,uVar5);
  uVar8 = (int)uVar9 << 1;
  uVar5 = PackedFloatingReciprocalIter1(uVar5,uVar6);
  uVar5 = PackedFloatingReciprocalIter2(uVar5,uVar6);
  uVar4 = PackedFloatingMUL(uVar4,uVar5);
  uVar1 = PackedFloatingADD(uVar4,uVar2);
  uVar2 = PackedFloatingSUB(~(ulonglong)(uint)((int)uVar7 >> 0x1f) &
                            (ulonglong)(uVar8 ^ DAT_10055eb8),(ulonglong)DAT_10055eb8);
  uVar1 = PackedFloatingADD(uVar1 | uVar8 ^ uVar7,uVar2);
  return uVar1 | DAT_10055e58 & uVar9;
}



/* FUN_10034f00 @ 10034f00 */

ulonglong FUN_10034f00(void)

{
  uint uVar1;
  ulonglong in_MM0;
  ulonglong uVar2;
  undefined8 uVar3;
  uint uVar4;
  uint uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  ulonglong uVar9;
  ulonglong uVar5;
  
  uVar2 = in_MM0 & DAT_10055e5c;
  uVar6 = -(uint)(DAT_10055e68 < (int)uVar2);
  uVar3 = PackedFloatingMUL(uVar2,(ulonglong)DAT_10055e6c);
  uVar3 = PackedFloatingSUBR(uVar3,(ulonglong)DAT_10055e6c);
  uVar7 = PackedFloatingReciprocalSQRAprox((ulonglong)DAT_10055e5c,uVar3);
  uVar8 = PackedFloatingMUL(uVar7,uVar7);
  uVar1 = (uint)((int)uVar2 < DAT_10055ea0);
  uVar4 = -uVar1;
  uVar5 = (ulonglong)uVar4;
  uVar8 = PackedFloatingReciprocalSQRIter1(uVar8,uVar3);
  uVar7 = PackedFloatingReciprocalIter2(uVar8,uVar7);
  uVar9 = PackedFloatingMUL(uVar7,uVar3);
  uVar2 = ~uVar5 & uVar9 | uVar2 & uVar4;
  uVar3 = PackedFloatingMUL(uVar2,uVar2);
  uVar8 = PackedFloatingMUL((ulonglong)DAT_10055ea8,uVar3);
  uVar7 = PackedFloatingADD((ulonglong)DAT_10055eb0,uVar3);
  uVar8 = PackedFloatingADD(uVar8,(ulonglong)DAT_10055ea4);
  uVar8 = PackedFloatingMUL(uVar8,uVar3);
  uVar3 = PackedFloatingMUL(uVar3,uVar7);
  uVar3 = PackedFloatingADD(uVar3,(ulonglong)DAT_10055eac);
  uVar8 = PackedFloatingMUL(uVar8,uVar2);
  uVar7 = FloatingReciprocalAprox(uVar7,uVar3);
  uVar3 = PackedFloatingReciprocalIter1(uVar3,uVar7);
  uVar3 = PackedFloatingReciprocalIter2(uVar3,uVar7);
  uVar3 = PackedFloatingMUL(uVar3,uVar8);
  uVar2 = PackedFloatingADD(uVar2,uVar3);
  uVar3 = PackedFloatingADD(~uVar5 & (ulonglong)DAT_10055eb8 ^ DAT_10055e58 & in_MM0,
                            (ulonglong)DAT_10055eb4);
  uVar2 = PackedFloatingADD(uVar2,~uVar5 & uVar2);
  uVar2 = PackedFloatingADD(uVar3,uVar2 | (ulonglong)(uVar1 * -0x80000000) ^ DAT_10055e58 & in_MM0);
  return (ulonglong)(DAT_10055e74 & uVar6) | ~(ulonglong)uVar6 & uVar2;
}



/* FUN_100354e0 @ 100354e0 */

ulonglong FUN_100354e0(void)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  ulonglong in_MM0;
  ulonglong uVar4;
  undefined8 uVar5;
  undefined4 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  
  uVar1 = (uint)in_MM0;
  if ((int)(uVar1 ^ uVar1 & 0x80000000) < DAT_10055f14) {
    uVar5 = PackedFloatingMUL(in_MM0 & DAT_10055e5c,(ulonglong)DAT_10055f10);
    uVar4 = PackedFloatingToIntDwordConv(uVar5,uVar5);
    uVar2 = (uint)uVar4;
    uVar5 = PackedIntToFloatingDwordConv(uVar4,uVar4);
    uVar5 = PackedFloatingMUL(CONCAT44((int)uVar5,(int)uVar5),DAT_10055e20);
    uVar7 = PackedFloatingADD(in_MM0 & DAT_10055e5c,uVar5);
    uVar6 = (undefined4)((ulonglong)uVar5 >> 0x20);
    uVar5 = PackedFloatingADD(uVar7,CONCAT44(uVar6,uVar6));
    uVar5 = CONCAT44((int)uVar5,(int)uVar5);
    if ((uVar4 & 1) != 0) {
      uVar5 = PackedFloatingSUBR(uVar5,DAT_10055e30);
    }
    iVar3 = (uVar1 >> 0x1f ^ uVar2 >> 2) << 0x1f;
    uVar7 = PackedFloatingMUL(uVar5,uVar5);
    uVar9 = PackedFloatingMUL(DAT_10055e28,uVar7);
    uVar8 = PackedFloatingMUL(DAT_10055e38,uVar7);
    uVar10 = PackedFloatingADD(uVar9,DAT_10055dd8);
    uVar9 = PackedFloatingMUL(DAT_10055e40,uVar7);
    uVar8 = PackedFloatingMUL(uVar10,uVar8);
    uVar10 = PackedFloatingADD(uVar8,DAT_10055dd8);
    uVar8 = PackedFloatingMUL(DAT_10055e48,uVar7);
    uVar7 = PackedFloatingMUL(uVar9,uVar10);
    uVar7 = PackedFloatingADD(uVar7,DAT_10055dd8);
    uVar7 = PackedFloatingMUL(uVar7,CONCAT44((int)DAT_10055dd8,(int)uVar8));
    uVar7 = PackedFloatingADD(uVar7,DAT_10055dd8 >> 0x20);
    uVar4 = PackedFloatingMUL(uVar7,CONCAT44((int)uVar5,(int)DAT_10055dd8));
    if (((uVar2 ^ uVar2 >> 1) & 1) != 0) {
      uVar4 = CONCAT44((int)uVar4,(int)(uVar4 >> 0x20));
    }
    uVar4 = CONCAT44(iVar3,iVar3) ^ uVar4 ^ (uVar1 & 0x80000000 ^ (uVar2 >> 1) << 0x1f);
  }
  else {
    uVar4 = (ulonglong)DAT_10055e68;
  }
  return uVar4;
}



/* FUN_10035600 @ 10035600 */

void FUN_10035600(void)

{
  ulonglong in_MM0;
  undefined8 uVar1;
  ulonglong uVar2;
  undefined4 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  
  if ((int)((uint)in_MM0 ^ (uint)in_MM0 & 0x80000000) < DAT_10055f14) {
    uVar1 = PackedFloatingMUL(in_MM0 & DAT_10055e5c,(ulonglong)DAT_10055f10);
    uVar2 = PackedFloatingToIntDwordConv(uVar1,uVar1);
    uVar1 = PackedIntToFloatingDwordConv(uVar2,uVar2);
    uVar1 = PackedFloatingMUL(CONCAT44((int)uVar1,(int)uVar1),DAT_10055e20);
    uVar4 = PackedFloatingADD(in_MM0 & DAT_10055e5c,uVar1);
    uVar3 = (undefined4)((ulonglong)uVar1 >> 0x20);
    uVar1 = PackedFloatingADD(uVar4,CONCAT44(uVar3,uVar3));
    uVar1 = CONCAT44((int)uVar1,(int)uVar1);
    if ((uVar2 & 1) != 0) {
      uVar1 = PackedFloatingSUBR(uVar1,DAT_10055e30);
    }
    uVar4 = PackedFloatingMUL(uVar1,uVar1);
    uVar6 = PackedFloatingMUL(DAT_10055e28,uVar4);
    uVar5 = PackedFloatingMUL(DAT_10055e38,uVar4);
    uVar7 = PackedFloatingADD(uVar6,DAT_10055dd8);
    uVar6 = PackedFloatingMUL(DAT_10055e40,uVar4);
    uVar5 = PackedFloatingMUL(uVar7,uVar5);
    uVar7 = PackedFloatingADD(uVar5,DAT_10055dd8);
    uVar5 = PackedFloatingMUL(DAT_10055e48,uVar4);
    uVar4 = PackedFloatingMUL(uVar6,uVar7);
    uVar4 = PackedFloatingADD(uVar4,DAT_10055dd8);
    uVar4 = PackedFloatingMUL(uVar4,CONCAT44((int)DAT_10055dd8,(int)uVar5));
    uVar4 = PackedFloatingADD(uVar4,DAT_10055dd8 >> 0x20);
    PackedFloatingMUL(uVar4,CONCAT44((int)uVar1,(int)DAT_10055dd8));
  }
  return;
}



/* FUN_100359f8 @ 100359f8 */

void __cdecl FUN_100359f8(int param_1,int param_2,int param_3,int param_4,int param_5)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  int iVar4;
  undefined1 *puVar5;
  short *psVar6;
  int *piVar7;
  int iVar8;
  int iVar9;
  undefined1 uVar10;
  ushort *puVar11;
  int iVar12;
  int local_9c;
  int local_98;
  int local_94;
  int local_90 [3];
  int local_84;
  int local_80 [25];
  uint local_1c;
  ushort *local_18;
  int *local_14;
  int local_10;
  uint local_c;
  int local_8;
  
  iVar8 = *(int *)(param_1 + 0x11c) + 0x80;
  puVar11 = (ushort *)(param_3 + 0x60);
  piVar7 = local_80 + 1;
  local_10 = iVar8;
  param_1 = 8;
  psVar6 = (short *)(*(int *)(param_2 + 0x50) + 0x60);
  do {
    if (param_1 != 4) {
      uVar1 = *puVar11;
      uVar2 = puVar11[-0x18];
      local_8 = CONCAT22(local_8._2_2_,uVar2);
      uVar3 = puVar11[-0x28];
      local_1c = (uint)uVar1;
      local_c = (uint)uVar3;
      if (((((uVar1 == 0 && uVar3 == 0) && uVar2 == 0) && puVar11[-8] == 0) && puVar11[8] == 0) &&
          puVar11[-0x20] == 0) {
        iVar4 = (int)psVar6[-0x30] * (int)(short)puVar11[-0x30] * 4;
        piVar7[-8] = iVar4;
        *piVar7 = iVar4;
        piVar7[0x10] = iVar4;
      }
      else {
        iVar12 = (short)(psVar6[-0x20] * puVar11[-0x20]) * 0x3b21 +
                 (short)(*psVar6 * uVar1) * -0x187e;
        iVar4 = (int)psVar6[-0x30] * (int)(short)puVar11[-0x30] * 0x4000;
        iVar8 = iVar12 + iVar4;
        iVar4 = iVar4 - iVar12;
        param_2._0_2_ = psVar6[-8] * puVar11[-8];
        param_3._0_2_ = psVar6[-0x18] * uVar2;
        local_c = (int)psVar6[-0x28] * (int)(short)uVar3;
        local_c._0_2_ = (short)((int)psVar6[-0x28] * (int)(short)uVar3);
        local_8 = (int)(short)local_c;
        iVar12 = (int)(short)(psVar6[8] * puVar11[8]);
        iVar9 = (short)param_2 * 0x2e75 + local_8 * 0x21f9 + iVar12 * -0x6c2 +
                (short)param_3 * -0x4587;
        iVar12 = (short)param_3 * 0x1ccd + (short)param_2 * -0x133e + iVar12 * -0x1050 +
                 local_8 * 0x5203;
        local_18 = puVar11;
        piVar7[-8] = iVar8 + 0x800 + iVar12 >> 0xc;
        piVar7[0x10] = (iVar8 - iVar12) + 0x800 >> 0xc;
        iVar8 = local_10;
        *piVar7 = iVar4 + 0x800 + iVar9 >> 0xc;
        iVar4 = (iVar4 - iVar9) + 0x800 >> 0xc;
        puVar11 = local_18;
      }
      piVar7[8] = iVar4;
    }
    puVar11 = puVar11 + 1;
    piVar7 = piVar7 + 1;
    psVar6 = psVar6 + 1;
    param_1 = param_1 + -1;
    local_18 = puVar11;
    local_14 = piVar7;
  } while (0 < param_1);
  param_1 = 0;
  piVar7 = &local_9c;
  do {
    puVar5 = (undefined1 *)(*(int *)(param_4 + param_1 * 4) + param_5);
    if (((((piVar7[1] == 0 && piVar7[3] == 0) && piVar7[5] == 0) && piVar7[7] == 0) &&
        piVar7[6] == 0) && piVar7[2] == 0) {
      uVar10 = *(undefined1 *)((*piVar7 + 0x10 >> 5 & 0x3ffU) + iVar8);
      *puVar5 = uVar10;
      puVar5[1] = uVar10;
      puVar5[3] = uVar10;
    }
    else {
      iVar4 = (short)piVar7[2] * 0x3b21 + (short)piVar7[6] * -0x187e;
      iVar8 = iVar4 + *piVar7 * 0x4000;
      local_c = *piVar7 * 0x4000 - iVar4;
      iVar4 = (int)(short)piVar7[5];
      local_8 = (int)(short)piVar7[1];
      iVar12 = iVar4 * 0x2e75 + local_8 * 0x21f9 + (short)piVar7[7] * -0x6c2 +
               (short)piVar7[3] * -0x4587;
      iVar4 = (short)piVar7[3] * 0x1ccd + iVar4 * -0x133e + (short)piVar7[7] * -0x1050 +
              local_8 * 0x5203;
      *puVar5 = *(undefined1 *)((iVar8 + 0x40000 + iVar4 >> 0x13 & 0x3ffU) + local_10);
      puVar5[3] = *(undefined1 *)(((iVar8 - iVar4) + 0x40000 >> 0x13 & 0x3ffU) + local_10);
      puVar5[1] = *(undefined1 *)(((int)(local_c + 0x40000 + iVar12) >> 0x13 & 0x3ffU) + local_10);
      uVar10 = *(undefined1 *)(((int)((local_c - iVar12) + 0x40000) >> 0x13 & 0x3ffU) + local_10);
      iVar8 = local_10;
    }
    piVar7 = piVar7 + 8;
    param_1 = param_1 + 1;
    puVar5[2] = uVar10;
  } while (param_1 < 4);
  return;
}



/* FUN_10035d0d @ 10035d0d */

void __cdecl FUN_10035d0d(int param_1,int param_2,int param_3,int param_4,int param_5)

{
  int iVar1;
  int *piVar2;
  undefined1 uVar3;
  short *psVar4;
  int iVar5;
  short *psVar6;
  undefined1 *puVar7;
  int local_4c;
  int local_48 [2];
  int local_40 [2];
  int local_38 [2];
  int local_30 [9];
  int local_c;
  int *local_8;
  
  iVar5 = *(int *)(param_1 + 0x11c) + 0x80;
  piVar2 = &local_4c;
  psVar6 = (short *)(param_3 + 0x30);
  local_c = iVar5;
  param_1 = 8;
  psVar4 = (short *)(*(int *)(param_2 + 0x50) + 0x30);
  do {
    if (((param_1 != 6) && (param_1 != 4)) && (param_1 != 2)) {
      if (((psVar6[0x20] == 0 && psVar6[0x10] == 0) && psVar6[-0x10] == 0) && *psVar6 == 0) {
        iVar1 = (int)psVar4[-0x18] * (int)psVar6[-0x18] * 4;
        *piVar2 = iVar1;
      }
      else {
        iVar5 = (int)psVar4[-0x18] * (int)psVar6[-0x18] * 0x8000;
        iVar1 = (short)(psVar4[0x10] * psVar6[0x10]) * 0x1b37 +
                (short)(psVar4[0x20] * psVar6[0x20]) * -0x1712 +
                (short)(psVar4[-0x10] * psVar6[-0x10]) * 0x73fc +
                (short)(*psVar4 * *psVar6) * -0x28ba;
        *piVar2 = iVar1 + 0x1000 + iVar5 >> 0xd;
        iVar1 = (iVar5 - iVar1) + 0x1000 >> 0xd;
        iVar5 = local_c;
      }
      piVar2[8] = iVar1;
    }
    psVar6 = psVar6 + 1;
    piVar2 = piVar2 + 1;
    psVar4 = psVar4 + 1;
    param_1 = param_1 + -1;
    local_8 = piVar2;
  } while (0 < param_1);
  param_1 = 0;
  piVar2 = &local_4c;
  do {
    puVar7 = (undefined1 *)(*(int *)(param_4 + param_1 * 4) + param_5);
    if (((piVar2[7] == 0 && piVar2[3] == 0) && piVar2[1] == 0) && piVar2[5] == 0) {
      uVar3 = *(undefined1 *)((*piVar2 + 0x10 >> 5 & 0x3ffU) + iVar5);
      *puVar7 = uVar3;
    }
    else {
      iVar5 = *piVar2 * 0x8000;
      iVar1 = (short)piVar2[3] * -0x28ba + (short)piVar2[7] * -0x1712 + (short)piVar2[1] * 0x73fc +
              (short)piVar2[5] * 0x1b37;
      *puVar7 = *(undefined1 *)((iVar1 + 0x80000 + iVar5 >> 0x14 & 0x3ffU) + local_c);
      uVar3 = *(undefined1 *)(((iVar5 - iVar1) + 0x80000 >> 0x14 & 0x3ffU) + local_c);
      iVar5 = local_c;
    }
    piVar2 = piVar2 + 8;
    param_1 = param_1 + 1;
    puVar7[1] = uVar3;
  } while (param_1 < 2);
  return;
}



/* FUN_10035ecb @ 10035ecb */

void __cdecl FUN_10035ecb(int param_1,int param_2,short *param_3,int *param_4,int param_5)

{
  *(undefined1 *)(param_5 + *param_4) =
       *(undefined1 *)
        (((int)**(short **)(param_2 + 0x50) * (int)*param_3 + 4 >> 3 & 0x3ffU) + 0x80 +
        *(int *)(param_1 + 0x11c));
  return;
}



/* FUN_10035f08 @ 10035f08 */

void __cdecl FUN_10035f08(int param_1,int param_2,short *param_3,int param_4,int param_5)

{
  int iVar1;
  int aiStack_90 [35];
  
  iVar1 = *(int *)(param_1 + 0x11c) + 0x80;
  if (DAT_100554e8 == '\0') {
    FUN_10036f75(param_3,*(short **)(param_2 + 0x50),aiStack_90,param_4,param_5,iVar1);
  }
  else {
    FUN_100373d7((undefined8 *)param_3,(undefined8 *)*(short **)(param_2 + 0x50),
                 (undefined8 *)aiStack_90,param_4,param_5,iVar1);
  }
  return;
}



/* FUN_10035f54 @ 10035f54 */

void __cdecl FUN_10035f54(int param_1,int param_2,short *param_3,int *param_4,int param_5)

{
  int iVar1;
  short asStack_90 [70];
  
  iVar1 = *(int *)(param_1 + 0x11c) + 0x80;
  if (DAT_100554e8 == '\0') {
    FUN_10037a8f(param_3,asStack_90,*(short **)(param_2 + 0x50),(int)param_4,param_5,iVar1);
  }
  else {
    FUN_10037dea((undefined8 *)param_3,(undefined8 *)asStack_90,
                 (undefined8 *)*(short **)(param_2 + 0x50),param_4,param_5,iVar1);
  }
  return;
}



/* FUN_10035fa0 @ 10035fa0 */

void __cdecl FUN_10035fa0(int param_1,int param_2,short *param_3,int param_4,int param_5)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float *pfVar7;
  int iVar8;
  float *pfVar9;
  undefined1 *puVar10;
  float10 fVar11;
  float10 fVar12;
  float10 fVar13;
  float10 fVar14;
  float10 fVar15;
  float10 fVar16;
  float10 fVar17;
  float10 extraout_ST0;
  float10 extraout_ST1;
  float local_11c [16];
  float local_dc [8];
  float local_bc [8];
  float local_9c [8];
  float local_7c [8];
  float local_5c [8];
  float local_3c [8];
  float local_1c;
  float local_18;
  int local_14;
  int local_10;
  float local_c;
  float local_8;
  
  fVar11 = (float10)1.4142135;
  fVar12 = (float10)1.847759;
  local_14 = *(int *)(param_1 + 0x11c) + 0x80;
  pfVar9 = *(float **)(param_2 + 0x50);
  pfVar7 = local_11c;
  local_1c = 1.12104e-44;
  do {
    if ((((((param_3[8] == 0 && param_3[0x10] == 0) && param_3[0x18] == 0) && param_3[0x20] == 0) &&
         param_3[0x28] == 0) && param_3[0x30] == 0) && param_3[0x38] == 0) {
      fVar1 = (float)(int)*param_3 * *pfVar9;
      *pfVar7 = fVar1;
      pfVar7[8] = fVar1;
      pfVar7[0x10] = fVar1;
      pfVar7[0x18] = fVar1;
      pfVar7[0x20] = fVar1;
      pfVar7[0x28] = fVar1;
      pfVar7[0x30] = fVar1;
      pfVar7[0x38] = fVar1;
    }
    else {
      fVar2 = (float)(int)param_3[0x30] * pfVar9[0x30];
      fVar1 = (float)((float10)(int)param_3[0x20] * (float10)pfVar9[0x20] +
                     (float10)(int)*param_3 * (float10)*pfVar9);
      fVar13 = (float10)(int)*param_3 * (float10)*pfVar9 -
               (float10)(int)param_3[0x20] * (float10)pfVar9[0x20];
      fVar14 = (float10)fVar2 + (float10)((float)(int)param_3[0x10] * pfVar9[0x10]);
      fVar15 = ((float10)((float)(int)param_3[0x10] * pfVar9[0x10]) - (float10)fVar2) * fVar11 -
               fVar14;
      local_18 = (float)(fVar14 + (float10)fVar1);
      fVar1 = (float)((float10)fVar1 - fVar14);
      fVar2 = (float)(fVar15 + fVar13);
      fVar13 = fVar13 - fVar15;
      fVar14 = (float10)(int)param_3[0x38] * (float10)pfVar9[0x38];
      fVar5 = (float)(int)param_3[0x28] * pfVar9[0x28] + (float)(int)param_3[0x18] * pfVar9[0x18];
      fVar6 = (float)(int)param_3[0x28] * pfVar9[0x28] - (float)(int)param_3[0x18] * pfVar9[0x18];
      fVar3 = (float)(fVar14 + (float10)(int)param_3[8] * (float10)pfVar9[8]);
      fVar14 = (float10)(int)param_3[8] * (float10)pfVar9[8] - fVar14;
      fVar15 = (float10)fVar3 + (float10)fVar5;
      fVar4 = (float)((fVar14 + (float10)fVar6) * fVar12);
      fVar16 = ((float10)fVar4 - (float10)fVar6 * (float10)2.613126) - fVar15;
      fVar17 = ((float10)fVar3 - (float10)fVar5) * fVar11 - fVar16;
      local_8 = (float)fVar17;
      local_c = (float)((fVar14 * (float10)1.0823922 - (float10)fVar4) + fVar17);
      *pfVar7 = (float)(fVar15 + (float10)local_18);
      pfVar7[0x38] = (float)((float10)local_18 - fVar15);
      pfVar7[8] = (float)((float10)fVar2 + fVar16);
      pfVar7[0x30] = (float)((float10)fVar2 - fVar16);
      pfVar7[0x10] = (float)((float10)local_8 + fVar13);
      pfVar7[0x28] = (float)(fVar13 - (float10)local_8);
      pfVar7[0x20] = local_c + fVar1;
      pfVar7[0x18] = fVar1 - local_c;
    }
    pfVar9 = pfVar9 + 1;
    param_3 = param_3 + 1;
    pfVar7 = pfVar7 + 1;
    local_1c = (float)((int)local_1c + -1);
  } while (local_1c != 0.0);
  local_10 = 0;
  pfVar7 = local_11c + 2;
  do {
    puVar10 = (undefined1 *)(*(int *)(param_4 + local_10 * 4) + param_5);
    local_18 = *pfVar7 + pfVar7[4] + pfVar7[2] + pfVar7[-2];
    local_c = (float)((float10)pfVar7[3] + (float10)pfVar7[1]);
    local_8 = pfVar7[5] + pfVar7[-1];
    local_1c = pfVar7[-1] - pfVar7[5];
    fVar12 = ((float10)local_1c + (float10)(pfVar7[3] - pfVar7[1])) * fVar12;
    fVar11 = ((float10)local_8 - (float10)local_c) * fVar11 -
             ((fVar12 - (float10)(pfVar7[3] - pfVar7[1]) * (float10)2.613126) -
             ((float10)pfVar7[3] + (float10)pfVar7[1] + (float10)local_8));
    local_8 = (float)fVar11;
    local_c = (float)(((float10)local_1c * (float10)1.0823922 - fVar12) + fVar11);
    iVar8 = ftol();
    *puVar10 = *(undefined1 *)((iVar8 + 4 >> 3 & 0x3ffU) + local_14);
    iVar8 = ftol();
    puVar10[7] = *(undefined1 *)((iVar8 + 4 >> 3 & 0x3ffU) + local_14);
    iVar8 = ftol();
    puVar10[1] = *(undefined1 *)((iVar8 + 4 >> 3 & 0x3ffU) + local_14);
    iVar8 = ftol();
    puVar10[6] = *(undefined1 *)((iVar8 + 4 >> 3 & 0x3ffU) + local_14);
    iVar8 = ftol();
    puVar10[2] = *(undefined1 *)((iVar8 + 4 >> 3 & 0x3ffU) + local_14);
    iVar8 = ftol();
    puVar10[5] = *(undefined1 *)((iVar8 + 4 >> 3 & 0x3ffU) + local_14);
    iVar8 = ftol();
    puVar10[4] = *(undefined1 *)((iVar8 + 4 >> 3 & 0x3ffU) + local_14);
    iVar8 = ftol();
    pfVar7 = pfVar7 + 8;
    local_10 = local_10 + 1;
    puVar10[3] = *(undefined1 *)((iVar8 + 4 >> 3 & 0x3ffU) + local_14);
    fVar12 = extraout_ST0;
    fVar11 = extraout_ST1;
  } while (local_10 < 8);
  return;
}



/* inflate_codes_new @ 10036381 */

/* zlib (internal): allocate codes state */

void * __cdecl inflate_codes_new(uInt bl,uInt bd,void *tl,void *td,z_streamp z)

{
  undefined4 *puVar1;
  
  puVar1 = (*z->zalloc)(z->opaque,1,0x1c);
  if (puVar1 != (undefined4 *)0x0) {
    *puVar1 = 0;
    *(undefined1 *)(puVar1 + 4) = (undefined1)bl;
    *(undefined1 *)((int)puVar1 + 0x11) = (undefined1)bd;
    puVar1[5] = tl;
    puVar1[6] = td;
  }
  return puVar1;
}



/* inflate_codes @ 100363b5 */

/* zlib (internal): decode codes */

int __cdecl inflate_codes(void *s,z_streamp z,int r)

{
  byte bVar1;
  int *piVar2;
  undefined1 *puVar3;
  Bytef *pBVar4;
  void *s_00;
  z_streamp z_00;
  byte *pbVar5;
  int iVar6;
  uint uVar7;
  undefined1 *puVar8;
  undefined1 *puVar9;
  undefined1 *puStack_18;
  undefined1 *local_10;
  uInt local_c;
  byte *local_8;
  
  z_00 = z;
  s_00 = s;
  local_8 = z->next_in;
  local_c = z->avail_in;
  puVar9 = *(undefined1 **)((int)s + 0x34);
  piVar2 = *(int **)((int)s + 4);
  z = *(z_streamp *)((int)s + 0x20);
  if (puVar9 < *(undefined1 **)((int)s + 0x30)) {
    local_10 = *(undefined1 **)((int)s + 0x30) + (-1 - (int)puVar9);
    s = *(void **)((int)s + 0x1c);
  }
  else {
    local_10 = (undefined1 *)(*(int *)((int)s + 0x2c) - (int)puVar9);
    s = *(void **)((int)s + 0x1c);
  }
  do {
    puVar8 = puVar9;
    switch(*piVar2) {
    case 0:
      if (((undefined1 *)0x101 < local_10) && (9 < local_c)) {
        *(z_streamp *)((int)s_00 + 0x20) = z;
        *(void **)((int)s_00 + 0x1c) = s;
        z_00->avail_in = local_c;
        z_00->total_in = (uLong)(local_8 + (z_00->total_in - (int)z_00->next_in));
        z_00->next_in = local_8;
        *(undefined1 **)((int)s_00 + 0x34) = puVar9;
        r = FUN_10038bbd((uint)*(byte *)(piVar2 + 4),(uint)*(byte *)((int)piVar2 + 0x11),piVar2[5],
                         piVar2[6],(int)s_00,(byte *)z_00);
        puVar9 = *(undefined1 **)((int)s_00 + 0x34);
        local_8 = z_00->next_in;
        local_c = z_00->avail_in;
        z = *(z_streamp *)((int)s_00 + 0x20);
        s = *(void **)((int)s_00 + 0x1c);
        if (puVar9 < *(undefined1 **)((int)s_00 + 0x30)) {
          local_10 = *(undefined1 **)((int)s_00 + 0x30) + (-1 - (int)puVar9);
        }
        else {
          local_10 = (undefined1 *)(*(int *)((int)s_00 + 0x2c) - (int)puVar9);
        }
        if (r != 0) {
          *piVar2 = (uint)(r != 1) * 2 + 7;
          break;
        }
      }
      piVar2[3] = (uint)*(byte *)(piVar2 + 4);
      piVar2[2] = piVar2[5];
      *piVar2 = 1;
    case 1:
      for (; s < (void *)piVar2[3]; s = (void *)((int)s + 8)) {
        if (local_c == 0) goto code_r0x1003687e;
        r = 0;
        local_c = local_c - 1;
        z = (z_streamp)((uint)z | (uint)*local_8 << ((byte)s & 0x1f));
        local_8 = local_8 + 1;
      }
      pbVar5 = (byte *)(piVar2[2] + (*(uint *)(&DAT_10057020 + piVar2[3] * 4) & (uint)z) * 8);
      z = (z_streamp)((uint)z >> (pbVar5[1] & 0x1f));
      s = (void *)((int)s - (uint)pbVar5[1]);
      bVar1 = *pbVar5;
      uVar7 = (uint)bVar1;
      if (uVar7 == 0) {
        pbVar5 = *(byte **)(pbVar5 + 4);
        *piVar2 = 6;
      }
      else {
        if ((bVar1 & 0x10) != 0) {
          piVar2[2] = uVar7 & 0xf;
          piVar2[1] = *(int *)(pbVar5 + 4);
          *piVar2 = 2;
          break;
        }
        if ((bVar1 & 0x40) != 0) {
          if ((bVar1 & 0x20) == 0) {
            *piVar2 = 9;
            z_00->msg = "invalid literal/length code";
code_r0x1003686b:
            r = -3;
            puVar8 = puVar9;
            goto code_r0x1003682e;
          }
          *piVar2 = 7;
          break;
        }
        piVar2[3] = uVar7;
        pbVar5 = pbVar5 + *(int *)(pbVar5 + 4) * 8;
      }
code_r0x1003663a:
      piVar2[2] = (int)pbVar5;
      break;
    case 2:
      for (; s < (void *)piVar2[2]; s = (void *)((int)s + 8)) {
        if (local_c == 0) goto code_r0x1003687e;
        r = 0;
        local_c = local_c - 1;
        z = (z_streamp)((uint)z | (uint)*local_8 << ((byte)s & 0x1f));
        local_8 = local_8 + 1;
      }
      piVar2[1] = piVar2[1] + (*(uint *)(&DAT_10057020 + piVar2[2] * 4) & (uint)z);
      z = (z_streamp)((uint)z >> ((byte)piVar2[2] & 0x1f));
      s = (void *)((int)s - piVar2[2]);
      piVar2[3] = (uint)*(byte *)((int)piVar2 + 0x11);
      piVar2[2] = piVar2[6];
      *piVar2 = 3;
    case 3:
      for (; s < (void *)piVar2[3]; s = (void *)((int)s + 8)) {
        if (local_c == 0) goto code_r0x1003687e;
        r = 0;
        local_c = local_c - 1;
        z = (z_streamp)((uint)z | (uint)*local_8 << ((byte)s & 0x1f));
        local_8 = local_8 + 1;
      }
      pbVar5 = (byte *)(piVar2[2] + (*(uint *)(&DAT_10057020 + piVar2[3] * 4) & (uint)z) * 8);
      z = (z_streamp)((uint)z >> (pbVar5[1] & 0x1f));
      s = (void *)((int)s - (uint)pbVar5[1]);
      bVar1 = *pbVar5;
      if ((bVar1 & 0x10) == 0) {
        if ((bVar1 & 0x40) != 0) {
          *piVar2 = 9;
          z_00->msg = "invalid distance code";
          goto code_r0x1003686b;
        }
        piVar2[3] = (uint)bVar1;
        pbVar5 = pbVar5 + *(int *)(pbVar5 + 4) * 8;
        goto code_r0x1003663a;
      }
      piVar2[2] = bVar1 & 0xf;
      piVar2[3] = *(int *)(pbVar5 + 4);
      *piVar2 = 4;
      break;
    case 4:
      for (; s < (void *)piVar2[2]; s = (void *)((int)s + 8)) {
        if (local_c == 0) goto code_r0x1003687e;
        r = 0;
        local_c = local_c - 1;
        z = (z_streamp)((uint)z | (uint)*local_8 << ((byte)s & 0x1f));
        local_8 = local_8 + 1;
      }
      piVar2[3] = piVar2[3] + (*(uint *)(&DAT_10057020 + piVar2[2] * 4) & (uint)z);
      z = (z_streamp)((uint)z >> ((byte)piVar2[2] & 0x1f));
      s = (void *)((int)s - piVar2[2]);
      *piVar2 = 5;
    case 5:
      if ((uint)((int)puVar9 - *(int *)((int)s_00 + 0x28)) < (uint)piVar2[3]) {
        iVar6 = (*(int *)((int)s_00 + 0x2c) - *(int *)((int)s_00 + 0x28)) - piVar2[3];
      }
      else {
        iVar6 = -piVar2[3];
      }
      puStack_18 = puVar9 + iVar6;
      while (piVar2[1] != 0) {
        puVar8 = puVar9;
        if (local_10 == (undefined1 *)0x0) {
          if (puVar9 == *(undefined1 **)((int)s_00 + 0x2c)) {
            local_10 = *(undefined1 **)((int)s_00 + 0x30);
            puVar8 = *(undefined1 **)((int)s_00 + 0x28);
            if (local_10 != puVar8) {
              if (puVar8 < local_10) {
                local_10 = local_10 + (-1 - (int)puVar8);
              }
              else {
                local_10 = *(undefined1 **)((int)s_00 + 0x2c) + -(int)puVar8;
              }
              puVar9 = puVar8;
              if (local_10 != (undefined1 *)0x0) goto code_r0x10036751;
            }
          }
          *(undefined1 **)((int)s_00 + 0x34) = puVar9;
          r = inflate_flush(s_00,z_00,r);
          puVar8 = *(undefined1 **)((int)s_00 + 0x34);
          puVar9 = *(undefined1 **)((int)s_00 + 0x30);
          if (puVar8 < puVar9) {
            local_10 = puVar9 + (-1 - (int)puVar8);
          }
          else {
            local_10 = (undefined1 *)(*(int *)((int)s_00 + 0x2c) - (int)puVar8);
          }
          if ((puVar8 == *(undefined1 **)((int)s_00 + 0x2c)) &&
             (puVar3 = *(undefined1 **)((int)s_00 + 0x28), puVar9 != puVar3)) {
            puVar8 = puVar3;
            if (puVar3 < puVar9) {
              local_10 = puVar9 + (-1 - (int)puVar3);
            }
            else {
              local_10 = *(undefined1 **)((int)s_00 + 0x2c) + -(int)puVar3;
            }
          }
          if (local_10 == (undefined1 *)0x0) goto code_r0x1003682e;
        }
code_r0x10036751:
        r = 0;
        *puVar8 = *puStack_18;
        puVar9 = puVar8 + 1;
        puStack_18 = puStack_18 + 1;
        local_10 = local_10 + -1;
        if (puStack_18 == *(undefined1 **)((int)s_00 + 0x2c)) {
          puStack_18 = *(undefined1 **)((int)s_00 + 0x28);
        }
        piVar2[1] = piVar2[1] + -1;
      }
      *piVar2 = 0;
      break;
    case 6:
      if (local_10 != (undefined1 *)0x0) goto code_r0x10036810;
      if (puVar9 == *(undefined1 **)((int)s_00 + 0x2c)) {
        local_10 = *(undefined1 **)((int)s_00 + 0x30);
        puVar8 = *(undefined1 **)((int)s_00 + 0x28);
        if (local_10 != puVar8) {
          if (puVar8 < local_10) {
            local_10 = local_10 + (-1 - (int)puVar8);
          }
          else {
            local_10 = *(undefined1 **)((int)s_00 + 0x2c) + -(int)puVar8;
          }
          puVar9 = puVar8;
          if (local_10 != (undefined1 *)0x0) goto code_r0x10036810;
        }
      }
      *(undefined1 **)((int)s_00 + 0x34) = puVar9;
      r = inflate_flush(s_00,z_00,r);
      puVar8 = *(undefined1 **)((int)s_00 + 0x34);
      puVar9 = *(undefined1 **)((int)s_00 + 0x30);
      if (puVar8 < puVar9) {
        local_10 = puVar9 + (-1 - (int)puVar8);
      }
      else {
        local_10 = (undefined1 *)(*(int *)((int)s_00 + 0x2c) - (int)puVar8);
      }
      if ((puVar8 == *(undefined1 **)((int)s_00 + 0x2c)) &&
         (puVar3 = *(undefined1 **)((int)s_00 + 0x28), puVar9 != puVar3)) {
        puVar8 = puVar3;
        if (puVar3 < puVar9) {
          local_10 = puVar9 + (-1 - (int)puVar3);
        }
        else {
          local_10 = *(undefined1 **)((int)s_00 + 0x2c) + -(int)puVar3;
        }
      }
      if (local_10 == (undefined1 *)0x0) goto code_r0x1003682e;
code_r0x10036810:
      r = 0;
      *puVar8 = (char)piVar2[2];
      puVar9 = puVar8 + 1;
      local_10 = local_10 + -1;
      *piVar2 = 0;
      break;
    case 7:
      if ((void *)0x7 < s) {
        s = (void *)((int)s + -8);
        local_c = local_c + 1;
        local_8 = local_8 + -1;
      }
      *(undefined1 **)((int)s_00 + 0x34) = puVar9;
      r = inflate_flush(s_00,z_00,r);
      puVar9 = *(undefined1 **)((int)s_00 + 0x34);
      if (*(undefined1 **)((int)s_00 + 0x30) == puVar9) {
        *piVar2 = 8;
code_r0x100368ea:
        r = 1;
        puVar8 = puVar9;
code_r0x1003682e:
        *(z_streamp *)((int)s_00 + 0x20) = z;
        *(void **)((int)s_00 + 0x1c) = s;
        z_00->avail_in = local_c;
        puVar9 = puVar8;
code_r0x10036840:
        pBVar4 = z_00->next_in;
        z_00->next_in = local_8;
        z_00->total_in = (uLong)(local_8 + (z_00->total_in - (int)pBVar4));
      }
      else {
        *(z_streamp *)((int)s_00 + 0x20) = z;
        *(void **)((int)s_00 + 0x1c) = s;
        z_00->avail_in = local_c;
        pBVar4 = z_00->next_in;
        z_00->next_in = local_8;
        z_00->total_in = (uLong)(local_8 + (z_00->total_in - (int)pBVar4));
      }
      *(undefined1 **)((int)s_00 + 0x34) = puVar9;
      iVar6 = inflate_flush(s_00,z_00,r);
      return iVar6;
    case 8:
      goto code_r0x100368ea;
    case 9:
      goto code_r0x1003686b;
    default:
      r = -2;
      goto code_r0x1003682e;
    }
  } while( true );
code_r0x1003687e:
  *(z_streamp *)((int)s_00 + 0x20) = z;
  *(void **)((int)s_00 + 0x1c) = s;
  z_00->avail_in = 0;
  goto code_r0x10036840;
}



/* inflate_codes_free @ 10036919 */

/* zlib (internal): free codes state */

void __cdecl inflate_codes_free(void *c,z_streamp z)

{
  (*z->zfree)(z->opaque,c);
  return;
}



/* huft_build @ 1003692a */

/* zlib (internal): build Huffman decoding tables */

int __cdecl huft_build(uInt *b,uInt n,uInt s,uInt *d,uInt *e,void **t,uInt *m,void *hp,uInt *hn)

{
  uint *puVar1;
  uint *in_EAX;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uInt *puVar8;
  uInt uVar9;
  uint uVar10;
  int iVar11;
  byte bVar12;
  int iVar13;
  int local_fc [15];
  uint local_c0 [16];
  uint local_80 [17];
  int local_3c;
  int local_38;
  int local_34;
  uint local_30;
  uInt *local_2c;
  uint *local_28;
  uint local_24;
  uint local_20;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  int local_10;
  uint local_c;
  uint local_8;
  
  local_80[0] = 0;
  local_80[1] = 0;
  local_80[2] = 0;
  local_80[3] = 0;
  local_80[4] = 0;
  local_80[5] = 0;
  local_80[6] = 0;
  local_80[7] = 0;
  local_80[8] = 0;
  local_80[9] = 0;
  local_80[10] = 0;
  local_80[0xb] = 0;
  local_80[0xc] = 0;
  local_80[0xd] = 0;
  local_80[0xe] = 0;
  local_80[0xf] = 0;
  puVar8 = b;
  uVar9 = n;
  do {
    local_80[*puVar8] = local_80[*puVar8] + 1;
    puVar8 = puVar8 + 1;
    uVar9 = uVar9 - 1;
  } while (uVar9 != 0);
  if (local_80[0] == n) {
    *t = (void *)0x0;
    *in_EAX = 0;
  }
  else {
    uVar10 = 1;
    local_8 = *in_EAX;
    uVar2 = 0xf;
    do {
      if (local_80[uVar10] != 0) break;
      uVar10 = uVar10 + 1;
    } while (uVar10 < 0x10);
    local_c = uVar10;
    if (*in_EAX < uVar10) {
      local_8 = uVar10;
    }
    do {
      if (local_80[uVar2] != 0) break;
      uVar2 = uVar2 - 1;
    } while (uVar2 != 0);
    local_30 = uVar2;
    if (uVar2 < local_8) {
      local_8 = uVar2;
    }
    *in_EAX = local_8;
    iVar11 = 1 << ((byte)uVar10 & 0x1f);
    for (; uVar10 < uVar2; uVar10 = uVar10 + 1) {
      if ((int)(iVar11 - local_80[uVar10]) < 0) {
        return -3;
      }
      iVar11 = (iVar11 - local_80[uVar10]) * 2;
    }
    uVar10 = local_80[uVar2];
    iVar11 = iVar11 - uVar10;
    local_38 = iVar11;
    if (iVar11 < 0) {
      return -3;
    }
    local_80[uVar2] = uVar10 + iVar11;
    iVar6 = 0;
    iVar3 = uVar2 - 1;
    local_c0[1] = 0;
    if (iVar3 != 0) {
      iVar13 = 0;
      do {
        iVar6 = iVar6 + *(int *)((int)local_80 + iVar13 + 4);
        iVar3 = iVar3 + -1;
        *(int *)((int)local_c0 + iVar13 + 8) = iVar6;
        iVar13 = iVar13 + 4;
      } while (iVar3 != 0);
    }
    uVar10 = 0;
    do {
      iVar3 = local_38;
      uVar9 = *b;
      b = b + 1;
      if (uVar9 != 0) {
        uVar7 = local_c0[uVar9];
        hn[uVar7] = uVar10;
        local_c0[uVar9] = uVar7 + 1;
        iVar11 = iVar3;
      }
      uVar10 = uVar10 + 1;
    } while (uVar10 < n);
    uVar2 = local_c0[uVar2];
    local_10 = -1;
    b = hn;
    iVar3 = -local_8;
    local_24 = 0;
    local_c0[0] = 0;
    local_fc[0] = 0;
    local_2c = (uInt *)0x0;
    local_14 = 0;
    if ((int)local_c <= (int)local_30) {
      local_34 = local_c - 1;
      local_28 = local_80 + local_c;
      do {
        local_20 = *local_28;
        uVar9 = local_1c;
        while (local_1c = uVar9, local_20 != 0) {
          local_1c._2_2_ = (undefined2)(uVar9 >> 0x10);
          local_20 = local_20 - 1;
          local_3c = local_8 + iVar3;
          if (local_3c < (int)local_c) {
            local_80[0x10] = iVar3 - local_8;
            do {
              iVar11 = local_10;
              local_10 = local_10 + 1;
              iVar3 = iVar3 + local_8;
              local_80[0x10] = local_80[0x10] + local_8;
              local_3c = local_3c + local_8;
              uVar10 = local_30 - iVar3;
              if (local_8 < local_30 - iVar3) {
                uVar10 = local_8;
              }
              uVar7 = local_c - iVar3;
              uVar4 = 1 << ((byte)uVar7 & 0x1f);
              if ((local_20 + 1 < uVar4) &&
                 (iVar6 = uVar4 + (-1 - local_20), puVar1 = local_28, uVar7 < uVar10)) {
                while (uVar7 = uVar7 + 1, uVar7 < uVar10) {
                  uVar4 = puVar1[1];
                  uVar5 = iVar6 * 2;
                  if (uVar5 < uVar4 || uVar5 - uVar4 == 0) break;
                  iVar6 = uVar5 - uVar4;
                  puVar1 = puVar1 + 1;
                }
              }
              local_14 = 1 << ((byte)uVar7 & 0x1f);
              uVar10 = *(int *)hp + local_14;
              if (0x5a0 < uVar10) {
                return -4;
              }
              local_2c = m + *(int *)hp * 2;
              local_fc[local_10] = (int)(m + *(int *)hp * 2);
              uVar4 = local_24;
              *(uint *)hp = uVar10;
              if (local_10 == 0) {
                *t = local_2c;
              }
              else {
                local_c0[local_10] = local_24;
                local_1c = CONCAT31(CONCAT21(local_1c._2_2_,(undefined1)local_8),(byte)uVar7);
                uVar4 = uVar4 >> ((byte)local_80[0x10] & 0x1f);
                iVar11 = local_fc[iVar11];
                local_18 = ((int)local_2c - iVar11 >> 3) - uVar4;
                *(uInt *)(iVar11 + uVar4 * 8) = local_1c;
                *(uint *)(iVar11 + 4 + uVar4 * 8) = local_18;
              }
              iVar11 = local_38;
            } while (local_3c < (int)local_c);
          }
          bVar12 = (byte)iVar3;
          if (b < hn + uVar2) {
            local_18 = *b;
            if (local_18 < s) {
              local_1c._0_1_ = (local_18 < 0x100) - 1U & 0x60;
            }
            else {
              local_1c._0_1_ = (char)e[local_18 - s] + 0x50;
              local_18 = d[local_18 - s];
            }
            b = b + 1;
          }
          else {
            local_1c._0_1_ = 0xc0;
          }
          local_1c = CONCAT31(CONCAT21(local_1c._2_2_,(char)local_c - bVar12),(byte)local_1c);
          iVar6 = 1 << ((char)local_c - bVar12 & 0x1f);
          uVar10 = local_24 >> (bVar12 & 0x1f);
          if (uVar10 < local_14) {
            puVar8 = local_2c + uVar10 * 2;
            do {
              *puVar8 = local_1c;
              puVar8[1] = local_18;
              uVar10 = uVar10 + iVar6;
              puVar8 = puVar8 + iVar6 * 2;
              iVar11 = local_38;
            } while (uVar10 < local_14);
          }
          uVar10 = 1 << ((byte)local_34 & 0x1f);
          while ((local_24 & uVar10) != 0) {
            local_24 = local_24 ^ uVar10;
            uVar10 = uVar10 >> 1;
          }
          local_24 = local_24 ^ uVar10;
          uVar9 = local_1c;
          if (((1 << (bVar12 & 0x1f)) - 1U & local_24) != local_c0[local_10]) {
            do {
              iVar3 = iVar3 - local_8;
              local_10 = local_10 + -1;
            } while (((1 << ((byte)iVar3 & 0x1f)) - 1U & local_24) != local_c0[local_10]);
          }
        }
        local_c = local_c + 1;
        local_28 = local_28 + 1;
        local_34 = local_34 + 1;
      } while ((int)local_c <= (int)local_30);
    }
    if ((iVar11 != 0) && (local_30 != 1)) {
      return -5;
    }
  }
  return 0;
}



/* inflate_trees_bits @ 10036caf */

/* zlib (internal): build bit length Huffman tree */

int __cdecl inflate_trees_bits(uInt *c,uInt *bb,void **tb,void *hp,z_streamp z)

{
  uInt *hn;
  int iVar1;
  undefined4 local_8;
  
  local_8 = 0;
  hn = (*z->zalloc)(z->opaque,0x13,4);
  if (hn == (uInt *)0x0) {
    iVar1 = -4;
  }
  else {
    iVar1 = huft_build(c,0x13,0x13,(uInt *)0x0,(uInt *)0x0,tb,hp,&local_8,hn);
    if (iVar1 == -3) {
      z->msg = "oversubscribed dynamic bit lengths tree";
    }
    else if ((iVar1 == -5) || (*bb == 0)) {
      z->msg = "incomplete dynamic bit lengths tree";
      iVar1 = -3;
    }
    (*z->zfree)(z->opaque,hn);
  }
  return iVar1;
}



/* inflate_trees_dynamic @ 10036d2e */

/* zlib (internal): build dynamic Huffman trees */

int __cdecl
inflate_trees_dynamic
          (uInt nl,uInt nd,uInt *c,uInt *bl,uInt *bd,void **tl,void **td,void *hp,z_streamp z)

{
  uInt *hn;
  int iVar1;
  undefined4 local_8;
  
  local_8 = 0;
  hn = (*z->zalloc)(z->opaque,0x120,4);
  if (hn == (uInt *)0x0) {
    return -4;
  }
  iVar1 = huft_build(c,nl,0x101,(uInt *)&DAT_1004f868,(uInt *)&DAT_1004f8e8,tl,hp,&local_8,hn);
  if (iVar1 == 0) {
    if (*bl == 0) goto LAB_10036e13;
    iVar1 = huft_build(c + nl,nd,0,(uInt *)&DAT_1004f968,(uInt *)&DAT_1004f9e0,td,hp,&local_8,hn);
    if (iVar1 == 0) {
      if ((*bd != 0) || (nl < 0x102)) {
        iVar1 = 0;
        goto LAB_10036e1f;
      }
LAB_10036df7:
      z->msg = "empty distance tree with lengths";
    }
    else {
      if (iVar1 == -3) {
        z->msg = "oversubscribed distance tree";
        goto LAB_10036e1f;
      }
      if (iVar1 != -5) {
        if (iVar1 == -4) goto LAB_10036e1f;
        goto LAB_10036df7;
      }
      z->msg = "incomplete distance tree";
    }
  }
  else {
    if (iVar1 == -3) {
      z->msg = "oversubscribed literal/length tree";
      goto LAB_10036e1f;
    }
    if (iVar1 == -4) goto LAB_10036e1f;
LAB_10036e13:
    z->msg = "incomplete literal/length tree";
  }
  iVar1 = -3;
LAB_10036e1f:
  (*z->zfree)(z->opaque,hn);
  return iVar1;
}



/* inflate_flush @ 10036e60 */

/* zlib (internal): flush pending output */

int __cdecl inflate_flush(void *s,z_streamp z,int r)

{
  Bytef *pBVar1;
  void *pvVar2;
  uLong uVar3;
  uint uVar4;
  Bytef *pBVar5;
  Bytef *pBVar6;
  uint uVar7;
  Bytef *pBVar8;
  Bytef *local_c;
  
  pvVar2 = s;
  pBVar1 = *(Bytef **)((int)s + 0x30);
  local_c = z->next_out;
  pBVar5 = *(Bytef **)((int)s + 0x34);
  if (pBVar5 < pBVar1) {
    pBVar5 = *(Bytef **)((int)s + 0x2c);
  }
  uVar4 = z->avail_out;
  uVar7 = (int)pBVar5 - (int)pBVar1;
  if (uVar4 < (uint)((int)pBVar5 - (int)pBVar1)) {
    uVar7 = uVar4;
  }
  if ((uVar7 != 0) && (r == -5)) {
    r = 0;
  }
  z->total_out = z->total_out + uVar7;
  z->avail_out = uVar4 - uVar7;
  if (*(code **)((int)s + 0x38) != (code *)0x0) {
    uVar3 = (**(code **)((int)s + 0x38))(*(undefined4 *)((int)s + 0x3c),pBVar1,uVar7);
    *(uLong *)((int)s + 0x3c) = uVar3;
    z->adler = uVar3;
  }
  pBVar5 = pBVar1;
  pBVar6 = local_c;
  for (uVar4 = uVar7 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
    *(undefined4 *)pBVar6 = *(undefined4 *)pBVar5;
    pBVar5 = pBVar5 + 4;
    pBVar6 = pBVar6 + 4;
  }
  local_c = local_c + uVar7;
  for (uVar4 = uVar7 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
    *pBVar6 = *pBVar5;
    pBVar5 = pBVar5 + 1;
    pBVar6 = pBVar6 + 1;
  }
  pBVar5 = pBVar1 + uVar7;
  if (pBVar1 + uVar7 == *(Bytef **)((int)s + 0x2c)) {
    pBVar1 = *(Bytef **)((int)s + 0x28);
    if (*(Bytef **)((int)s + 0x34) == *(Bytef **)((int)s + 0x2c)) {
      *(Bytef **)((int)s + 0x34) = pBVar1;
    }
    uVar4 = z->avail_out;
    uVar7 = *(int *)((int)s + 0x34) - (int)pBVar1;
    if (uVar4 < uVar7) {
      uVar7 = uVar4;
    }
    if ((uVar7 != 0) && (r == -5)) {
      r = 0;
    }
    z->total_out = z->total_out + uVar7;
    z->avail_out = uVar4 - uVar7;
    if (*(code **)((int)s + 0x38) != (code *)0x0) {
      uVar3 = (**(code **)((int)s + 0x38))(*(undefined4 *)((int)s + 0x3c),pBVar1,uVar7);
      *(uLong *)((int)s + 0x3c) = uVar3;
      z->adler = uVar3;
    }
    pBVar6 = pBVar1;
    pBVar8 = local_c;
    for (uVar4 = uVar7 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
      *(undefined4 *)pBVar8 = *(undefined4 *)pBVar6;
      pBVar6 = pBVar6 + 4;
      pBVar8 = pBVar8 + 4;
    }
    local_c = local_c + uVar7;
    for (uVar4 = uVar7 & 3; pBVar5 = pBVar1 + uVar7, uVar4 != 0; uVar4 = uVar4 - 1) {
      *pBVar8 = *pBVar6;
      pBVar6 = pBVar6 + 1;
      pBVar8 = pBVar8 + 1;
    }
  }
  s = pBVar5;
  z->next_out = local_c;
  *(void **)((int)pvVar2 + 0x30) = s;
  return r;
}



/* FUN_10036f75 @ 10036f75 */

void __cdecl
FUN_10036f75(short *param_1,short *param_2,int *param_3,int param_4,int param_5,int param_6)

{
  undefined1 uVar1;
  undefined1 uVar2;
  undefined1 uVar3;
  undefined1 uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int *piVar18;
  undefined4 *puVar19;
  short *local_48;
  short *local_44;
  int *local_40;
  int local_3c;
  int local_8;
  
  local_48 = param_1;
  local_44 = param_2;
  local_40 = param_3;
  local_3c = 8;
  do {
    iVar15 = ((int)local_48[0x10] * (int)local_44[0x10] + (int)local_48[0x30] * (int)local_44[0x30])
             * 0x1151;
    iVar8 = (int)local_48[0x30] * (int)local_44[0x30] * -0x3b21 + iVar15;
    iVar15 = (int)local_48[0x10] * (int)local_44[0x10] * 0x187e + iVar15;
    iVar9 = ((int)local_48[0x20] * (int)local_44[0x20] + (int)*local_48 * (int)*local_44) * 0x2000;
    iVar5 = ((int)*local_48 * (int)*local_44 - (int)local_48[0x20] * (int)local_44[0x20]) * 0x2000;
    iVar10 = iVar9 + iVar15;
    iVar6 = iVar5 + iVar8;
    iVar9 = iVar9 - iVar15;
    iVar5 = iVar5 - iVar8;
    iVar15 = (int)local_48[0x38] * (int)local_44[0x38];
    iVar11 = (int)local_48[0x18] * (int)local_44[0x18];
    iVar16 = (int)local_48[8] * (int)local_44[8];
    iVar8 = (int)local_48[0x28] * (int)local_44[0x28];
    iVar7 = (iVar15 + iVar16) * -0x1ccd;
    iVar13 = (iVar8 + iVar11) * -0x5203;
    iVar17 = (iVar15 + iVar11 + iVar8 + iVar16) * 0x25a1;
    iVar12 = (iVar15 + iVar11) * -0x3ec5 + iVar17;
    iVar17 = (iVar8 + iVar16) * -0xc7c + iVar17;
    iVar15 = iVar7 + iVar12 + iVar15 * 0x98e;
    iVar14 = iVar13 + iVar17 + iVar8 * 0x41b3;
    iVar8 = iVar12 + iVar13 + iVar11 * 0x6254;
    iVar7 = iVar7 + iVar17 + iVar16 * 0x300b;
    local_40[0x20] = (iVar9 - iVar15) + 0x400 >> 0xb;
    local_40[0x18] = iVar15 + iVar9 + 0x400 >> 0xb;
    local_40[0x28] = (iVar5 - iVar14) + 0x400 >> 0xb;
    local_40[0x30] = (iVar6 - iVar8) + 0x400 >> 0xb;
    local_40[0x10] = iVar14 + iVar5 + 0x400 >> 0xb;
    local_40[8] = iVar8 + iVar6 + 0x400 >> 0xb;
    local_40[0x38] = (iVar10 - iVar7) + 0x400 >> 0xb;
    *local_40 = iVar10 + iVar7 + 0x400 >> 0xb;
    local_48 = local_48 + 1;
    local_40 = local_40 + 1;
    local_44 = local_44 + 1;
    local_3c = local_3c + -1;
  } while (local_3c != 0);
  local_3c = 8;
  local_8 = 0;
  local_40 = param_3;
  do {
    piVar18 = (int *)(param_4 + local_8);
    local_8 = local_8 + 4;
    puVar19 = (undefined4 *)(*piVar18 + param_5);
    iVar15 = (local_40[2] + local_40[6]) * 0x1151;
    iVar5 = local_40[6] * -0x3b21 + iVar15;
    iVar15 = local_40[2] * 0x187e + iVar15;
    iVar11 = (local_40[4] + *local_40) * 0x2000;
    iVar7 = (*local_40 - local_40[4]) * 0x2000;
    iVar12 = iVar11 + iVar15;
    iVar9 = iVar7 + iVar5;
    iVar11 = iVar11 - iVar15;
    iVar7 = iVar7 - iVar5;
    iVar15 = local_40[7];
    iVar5 = local_40[3];
    iVar6 = local_40[1];
    iVar8 = local_40[5];
    iVar10 = (iVar15 + iVar6) * -0x1ccd;
    iVar14 = (iVar8 + iVar5) * -0x5203;
    iVar16 = (iVar15 + iVar5 + iVar8 + iVar6) * 0x25a1;
    iVar13 = (iVar15 + iVar5) * -0x3ec5 + iVar16;
    iVar16 = (iVar8 + iVar6) * -0xc7c + iVar16;
    iVar15 = iVar10 + iVar13 + iVar15 * 0x98e;
    iVar8 = iVar14 + iVar16 + iVar8 * 0x41b3;
    iVar5 = iVar13 + iVar14 + iVar5 * 0x6254;
    iVar6 = iVar10 + iVar16 + iVar6 * 0x300b;
    uVar1 = *(undefined1 *)(param_6 + ((iVar12 - iVar6) + 0x20000 >> 0x12 & 0x3ffU));
    uVar2 = *(undefined1 *)(param_6 + ((iVar9 - iVar5) + 0x20000 >> 0x12 & 0x3ffU));
    uVar3 = *(undefined1 *)(param_6 + ((iVar7 - iVar8) + 0x20000 >> 0x12 & 0x3ffU));
    uVar4 = *(undefined1 *)(param_6 + ((iVar11 - iVar15) + 0x20000 >> 0x12 & 0x3ffU));
    *puVar19 = CONCAT31(CONCAT21(CONCAT11(*(undefined1 *)
                                           (param_6 + (iVar11 + iVar15 + 0x20000 >> 0x12 & 0x3ffU)),
                                          *(undefined1 *)
                                           (param_6 + (iVar7 + iVar8 + 0x20000 >> 0x12 & 0x3ffU))),
                                 *(undefined1 *)
                                  (param_6 + (iVar9 + iVar5 + 0x20000 >> 0x12 & 0x3ffU))),
                        *(undefined1 *)(param_6 + (iVar12 + iVar6 + 0x20000 >> 0x12 & 0x3ffU)));
    puVar19[1] = CONCAT31(CONCAT21(CONCAT11(uVar1,uVar2),uVar3),uVar4);
    local_40 = local_40 + 8;
    local_3c = local_3c + -1;
  } while (local_3c != 0);
  return;
}



/* FUN_100373d7 @ 100373d7 */

void __cdecl
FUN_100373d7(undefined8 *param_1,undefined8 *param_2,undefined8 *param_3,int param_4,int param_5,
            int param_6)

{
  undefined2 uVar1;
  int *piVar2;
  short sVar3;
  int iVar4;
  short sVar6;
  short sVar7;
  short sVar10;
  undefined8 uVar5;
  int iVar8;
  int iVar9;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  short sVar17;
  int iVar18;
  int iVar19;
  int iVar20;
  short sVar24;
  short sVar25;
  short sVar29;
  ulonglong uVar21;
  int iVar26;
  int iVar27;
  ulonglong uVar22;
  ulonglong uVar23;
  int iVar28;
  int iVar30;
  int iVar31;
  int iVar32;
  int iVar33;
  ulonglong uVar34;
  int iVar38;
  int iVar39;
  ulonglong uVar35;
  ulonglong uVar36;
  int iVar40;
  ulonglong uVar37;
  short sVar41;
  int iVar42;
  int iVar43;
  int iVar44;
  short sVar50;
  undefined8 uVar45;
  short sVar49;
  int iVar51;
  int iVar52;
  short sVar54;
  ulonglong uVar47;
  int iVar53;
  undefined8 uVar48;
  int iVar55;
  int iVar56;
  int iVar57;
  undefined8 uVar58;
  int iVar60;
  int iVar61;
  int iVar62;
  undefined8 uVar59;
  short sVar63;
  int iVar64;
  short sVar67;
  short sVar68;
  undefined8 uVar65;
  int iVar69;
  short sVar70;
  int iVar71;
  int iVar72;
  ulonglong uVar73;
  int iVar74;
  int iVar75;
  undefined8 *local_18;
  undefined8 *local_14;
  undefined8 *local_10;
  int local_c;
  int local_8;
  ulonglong uVar46;
  ulonglong uVar66;
  
  local_18 = param_1;
  local_10 = param_2;
  local_8 = 2;
  local_14 = param_3;
  do {
    uVar5 = local_18[4];
    uVar45 = local_10[4];
    uVar58 = local_18[0xc];
    sVar3 = (short)uVar5 * (short)uVar45;
    sVar6 = (short)((ulonglong)uVar5 >> 0x10) * (short)((ulonglong)uVar45 >> 0x10);
    sVar7 = (short)((ulonglong)uVar5 >> 0x20) * (short)((ulonglong)uVar45 >> 0x20);
    sVar10 = (short)((ulonglong)uVar5 >> 0x30) * (short)((ulonglong)uVar45 >> 0x30);
    uVar37 = CONCAT26(sVar10,CONCAT24(sVar7,CONCAT22(sVar6,sVar3)));
    uVar5 = local_10[0xc];
    sVar17 = (short)uVar58 * (short)uVar5;
    sVar24 = (short)((ulonglong)uVar58 >> 0x10) * (short)((ulonglong)uVar5 >> 0x10);
    sVar25 = (short)((ulonglong)uVar58 >> 0x20) * (short)((ulonglong)uVar5 >> 0x20);
    sVar29 = (short)((ulonglong)uVar58 >> 0x30) * (short)((ulonglong)uVar5 >> 0x30);
    uVar34 = CONCAT26(sVar29,CONCAT24(sVar25,CONCAT22(sVar24,sVar17)));
    uVar45 = pmaddwd(uVar37,0x187e0000187e);
    uVar58 = pmaddwd(uVar37 >> 0x10,0x187e0000187e);
    uVar37 = CONCAT26(sVar10 + sVar29,
                      CONCAT24(sVar7 + sVar25,CONCAT22(sVar6 + sVar24,sVar3 + sVar17)));
    uVar21 = pmaddwd(uVar34,0x3b2100003b21);
    uVar34 = pmaddwd(uVar34 >> 0x10,0x3b2100003b21);
    uVar5 = pmaddwd(uVar37,0x115100001151);
    uVar65 = pmaddwd(uVar37 >> 0x10,0x115100001151);
    iVar18 = (int)(uVar21 ^ 0xffffffffffffffff) + 1 + (int)uVar5;
    iVar51 = (int)((ulonglong)uVar5 >> 0x20);
    iVar26 = (int)((uVar21 ^ 0xffffffffffffffff) >> 0x20) + 1 + iVar51;
    iVar42 = (int)uVar45 + (int)uVar5;
    iVar51 = (int)((ulonglong)uVar45 >> 0x20) + iVar51;
    uVar5 = *local_18;
    iVar30 = (int)(uVar34 ^ 0xffffffffffffffff) + 1 + (int)uVar65;
    iVar60 = (int)((ulonglong)uVar65 >> 0x20);
    iVar38 = (int)((uVar34 ^ 0xffffffffffffffff) >> 0x20) + 1 + iVar60;
    uVar45 = *local_10;
    iVar55 = (int)uVar58 + (int)uVar65;
    iVar60 = (int)((ulonglong)uVar58 >> 0x20) + iVar60;
    uVar58 = local_18[8];
    sVar3 = (short)uVar5 * (short)uVar45;
    sVar6 = (short)((ulonglong)uVar5 >> 0x10) * (short)((ulonglong)uVar45 >> 0x10);
    sVar7 = (short)((ulonglong)uVar5 >> 0x20) * (short)((ulonglong)uVar45 >> 0x20);
    sVar10 = (short)((ulonglong)uVar5 >> 0x30) * (short)((ulonglong)uVar45 >> 0x30);
    uVar5 = local_10[8];
    sVar17 = (short)uVar58 * (short)uVar5;
    sVar24 = (short)((ulonglong)uVar58 >> 0x10) * (short)((ulonglong)uVar5 >> 0x10);
    sVar25 = (short)((ulonglong)uVar58 >> 0x20) * (short)((ulonglong)uVar5 >> 0x20);
    sVar29 = (short)((ulonglong)uVar58 >> 0x30) * (short)((ulonglong)uVar5 >> 0x30);
    uVar37 = CONCAT26(sVar10 + sVar29,
                      CONCAT24(sVar7 + sVar25,CONCAT22(sVar6 + sVar24,sVar3 + sVar17)));
    uVar34 = CONCAT26(sVar10 - sVar29,
                      CONCAT24(sVar7 - sVar25,CONCAT22(sVar6 - sVar24,sVar3 - sVar17)));
    uVar5 = pmaddwd(uVar37,0x100000001);
    uVar65 = pmaddwd(uVar37 >> 0x10,0x100000001);
    uVar45 = pmaddwd(uVar34,0x100000001);
    uVar58 = pmaddwd(uVar34 >> 0x10,0x100000001);
    iVar4 = (int)uVar5 * 0x2000;
    iVar8 = (int)((ulonglong)uVar5 >> 0x20) * 0x2000;
    iVar64 = (int)uVar65 * 0x2000;
    iVar69 = (int)((ulonglong)uVar65 >> 0x20) * 0x2000;
    iVar43 = iVar42 + iVar4;
    iVar52 = iVar51 + iVar8;
    iVar4 = iVar4 - iVar42;
    iVar8 = iVar8 - iVar51;
    iVar19 = (int)uVar58 * 0x2000;
    iVar27 = (int)((ulonglong)uVar58 >> 0x20) * 0x2000;
    iVar56 = iVar55 + iVar64;
    iVar61 = iVar60 + iVar69;
    iVar64 = iVar64 - iVar55;
    iVar69 = iVar69 - iVar60;
    iVar31 = iVar30 + iVar19;
    iVar39 = iVar38 + iVar27;
    iVar11 = (int)uVar45 * 0x2000;
    iVar14 = (int)((ulonglong)uVar45 >> 0x20) * 0x2000;
    iVar19 = iVar19 - iVar30;
    iVar27 = iVar27 - iVar38;
    uVar5 = local_18[2];
    iVar30 = iVar18 + iVar11;
    iVar55 = iVar26 + iVar14;
    uVar45 = local_10[2];
    iVar11 = iVar11 - iVar18;
    iVar14 = iVar14 - iVar26;
    uVar58 = local_18[0xe];
    sVar63 = (short)uVar5 * (short)uVar45;
    sVar67 = (short)((ulonglong)uVar5 >> 0x10) * (short)((ulonglong)uVar45 >> 0x10);
    sVar68 = (short)((ulonglong)uVar5 >> 0x20) * (short)((ulonglong)uVar45 >> 0x20);
    sVar70 = (short)((ulonglong)uVar5 >> 0x30) * (short)((ulonglong)uVar45 >> 0x30);
    uVar66 = CONCAT26(sVar70,CONCAT24(sVar68,CONCAT22(sVar67,sVar63)));
    uVar5 = local_10[0xe];
    uVar45 = local_18[10];
    sVar3 = (short)uVar58 * (short)uVar5;
    sVar6 = (short)((ulonglong)uVar58 >> 0x10) * (short)((ulonglong)uVar5 >> 0x10);
    sVar7 = (short)((ulonglong)uVar58 >> 0x20) * (short)((ulonglong)uVar5 >> 0x20);
    sVar10 = (short)((ulonglong)uVar58 >> 0x30) * (short)((ulonglong)uVar5 >> 0x30);
    uVar37 = CONCAT26(sVar10,CONCAT24(sVar7,CONCAT22(sVar6,sVar3)));
    uVar5 = local_10[10];
    uVar58 = local_18[6];
    sVar17 = (short)uVar45 * (short)uVar5;
    sVar24 = (short)((ulonglong)uVar45 >> 0x10) * (short)((ulonglong)uVar5 >> 0x10);
    sVar25 = (short)((ulonglong)uVar45 >> 0x20) * (short)((ulonglong)uVar5 >> 0x20);
    sVar29 = (short)((ulonglong)uVar45 >> 0x30) * (short)((ulonglong)uVar5 >> 0x30);
    uVar22 = CONCAT26(sVar29,CONCAT24(sVar25,CONCAT22(sVar24,sVar17)));
    uVar5 = local_10[6];
    sVar41 = (short)uVar58 * (short)uVar5;
    sVar49 = (short)((ulonglong)uVar58 >> 0x10) * (short)((ulonglong)uVar5 >> 0x10);
    sVar50 = (short)((ulonglong)uVar58 >> 0x20) * (short)((ulonglong)uVar5 >> 0x20);
    sVar54 = (short)((ulonglong)uVar58 >> 0x30) * (short)((ulonglong)uVar5 >> 0x30);
    uVar46 = CONCAT26(sVar54,CONCAT24(sVar50,CONCAT22(sVar49,sVar41)));
    uVar34 = CONCAT26(sVar10 + sVar70,
                      CONCAT24(sVar7 + sVar68,CONCAT22(sVar6 + sVar67,sVar3 + sVar63)));
    uVar47 = CONCAT26(sVar29 + sVar54,
                      CONCAT24(sVar25 + sVar50,CONCAT22(sVar24 + sVar49,sVar17 + sVar41)));
    uVar36 = CONCAT26(sVar10 + sVar54,
                      CONCAT24(sVar7 + sVar50,CONCAT22(sVar6 + sVar49,sVar3 + sVar41)));
    uVar35 = CONCAT26(sVar29 + sVar70,
                      CONCAT24(sVar25 + sVar68,CONCAT22(sVar24 + sVar67,sVar17 + sVar63)));
    uVar23 = CONCAT26(sVar10 + sVar54 + sVar29 + sVar70,
                      CONCAT24(sVar7 + sVar50 + sVar25 + sVar68,
                               CONCAT22(sVar6 + sVar49 + sVar24 + sVar67,
                                        sVar3 + sVar41 + sVar17 + sVar63)));
    uVar5 = pmaddwd(uVar23,0x25a1000025a1);
    uVar21 = pmaddwd(uVar34,0x1ccd00001ccd);
    uVar45 = pmaddwd(uVar23 >> 0x10,0x25a1000025a1);
    iVar26 = (int)(uVar21 ^ 0xffffffffffffffff) + 1;
    iVar60 = (int)((uVar21 ^ 0xffffffffffffffff) >> 0x20) + 1;
    uVar23 = pmaddwd(uVar47,0x520300005203);
    uVar47 = pmaddwd(uVar47 >> 0x10,0x520300005203);
    uVar73 = pmaddwd(uVar34 >> 0x10,0x1ccd00001ccd);
    uVar21 = pmaddwd(uVar36,0x3ec500003ec5);
    iVar20 = (int)(uVar23 ^ 0xffffffffffffffff) + 1;
    iVar28 = (int)((uVar23 ^ 0xffffffffffffffff) >> 0x20) + 1;
    uVar23 = pmaddwd(uVar36 >> 0x10,0x3ec500003ec5);
    uVar36 = pmaddwd(uVar35,0xc7c00000c7c);
    iVar44 = (int)(uVar47 ^ 0xffffffffffffffff) + 1;
    iVar53 = (int)((uVar47 ^ 0xffffffffffffffff) >> 0x20) + 1;
    uVar34 = pmaddwd(uVar35 >> 0x10,0xc7c00000c7c);
    iVar71 = (int)(uVar73 ^ 0xffffffffffffffff) + 1;
    iVar74 = (int)((uVar73 ^ 0xffffffffffffffff) >> 0x20) + 1;
    iVar12 = (int)(uVar21 ^ 0xffffffffffffffff) + 1 + (int)uVar5;
    iVar51 = (int)((ulonglong)uVar5 >> 0x20);
    iVar15 = (int)((uVar21 ^ 0xffffffffffffffff) >> 0x20) + 1 + iVar51;
    iVar57 = (int)(uVar23 ^ 0xffffffffffffffff) + 1 + (int)uVar45;
    iVar18 = (int)((ulonglong)uVar45 >> 0x20);
    iVar62 = (int)((uVar23 ^ 0xffffffffffffffff) >> 0x20) + 1 + iVar18;
    iVar32 = (int)(uVar36 ^ 0xffffffffffffffff) + 1 + (int)uVar5;
    iVar51 = (int)((uVar36 ^ 0xffffffffffffffff) >> 0x20) + 1 + iVar51;
    iVar38 = (int)(uVar34 ^ 0xffffffffffffffff) + 1 + (int)uVar45;
    iVar18 = (int)((uVar34 ^ 0xffffffffffffffff) >> 0x20) + 1 + iVar18;
    uVar5 = pmaddwd(uVar37,0x98e0000098e);
    uVar45 = pmaddwd(uVar37 >> 0x10,0x98e0000098e);
    uVar65 = pmaddwd(uVar22,0x41b3000041b3);
    uVar58 = pmaddwd(uVar22 >> 0x10,0x41b3000041b3);
    uVar59 = pmaddwd(uVar46,0x625400006254);
    uVar48 = pmaddwd(uVar46 >> 0x10,0x625400006254);
    iVar42 = (int)uVar5 + iVar26 + iVar12;
    iVar9 = (int)((ulonglong)uVar5 >> 0x20) + iVar60 + iVar15;
    iVar13 = (int)uVar45 + iVar71 + iVar57;
    iVar16 = (int)((ulonglong)uVar45 >> 0x20) + iVar74 + iVar62;
    uVar45 = pmaddwd(uVar66,0x300b0000300b);
    iVar33 = (int)uVar65 + iVar20 + iVar32;
    iVar40 = (int)((ulonglong)uVar65 >> 0x20) + iVar28 + iVar51;
    uVar5 = pmaddwd(uVar66 >> 0x10,0x300b0000300b);
    iVar72 = (int)uVar45 + iVar32 + iVar26;
    iVar75 = (int)((ulonglong)uVar45 >> 0x20) + iVar51 + iVar60;
    iVar32 = (int)uVar5 + iVar38 + iVar71;
    iVar71 = (int)((ulonglong)uVar5 >> 0x20) + iVar18 + iVar74;
    iVar51 = (int)uVar58 + iVar44 + iVar38;
    iVar18 = (int)((ulonglong)uVar58 >> 0x20) + iVar53 + iVar18;
    iVar60 = (int)uVar59 + iVar12 + iVar20;
    iVar12 = (int)((ulonglong)uVar59 >> 0x20) + iVar15 + iVar28;
    iVar26 = (int)uVar48 + iVar57 + iVar44;
    iVar38 = (int)((ulonglong)uVar48 >> 0x20) + iVar62 + iVar53;
    local_14[0xe] =
         CONCAT44(CONCAT22((short)((iVar61 - iVar71) + 0x400 >> 0xb),
                           (short)((iVar52 - iVar75) + 0x400 >> 0xb)),
                  CONCAT22((short)((iVar56 - iVar32) + 0x400 >> 0xb),
                           (short)((iVar43 - iVar72) + 0x400 >> 0xb)));
    *local_14 = CONCAT44(CONCAT22((short)(iVar71 + iVar61 + 0x400 >> 0xb),
                                  (short)(iVar75 + iVar52 + 0x400 >> 0xb)),
                         CONCAT22((short)(iVar32 + iVar56 + 0x400 >> 0xb),
                                  (short)(iVar72 + iVar43 + 0x400 >> 0xb)));
    local_14[0xc] =
         CONCAT44(CONCAT22((short)((iVar39 - iVar38) + 0x400 >> 0xb),
                           (short)((iVar55 - iVar12) + 0x400 >> 0xb)),
                  CONCAT22((short)((iVar31 - iVar26) + 0x400 >> 0xb),
                           (short)((iVar30 - iVar60) + 0x400 >> 0xb)));
    local_14[2] = CONCAT44(CONCAT22((short)(iVar38 + iVar39 + 0x400 >> 0xb),
                                    (short)(iVar12 + iVar55 + 0x400 >> 0xb)),
                           CONCAT22((short)(iVar26 + iVar31 + 0x400 >> 0xb),
                                    (short)(iVar60 + iVar30 + 0x400 >> 0xb)));
    local_14[4] = CONCAT44(CONCAT22((short)(iVar27 + iVar18 + 0x400 >> 0xb),
                                    (short)(iVar14 + iVar40 + 0x400 >> 0xb)),
                           CONCAT22((short)(iVar19 + iVar51 + 0x400 >> 0xb),
                                    (short)(iVar11 + iVar33 + 0x400 >> 0xb)));
    local_14[10] = CONCAT44(CONCAT22((short)((iVar27 - iVar18) + 0x400 >> 0xb),
                                     (short)((iVar14 - iVar40) + 0x400 >> 0xb)),
                            CONCAT22((short)((iVar19 - iVar51) + 0x400 >> 0xb),
                                     (short)((iVar11 - iVar33) + 0x400 >> 0xb)));
    local_14[6] = CONCAT44(CONCAT22((short)(iVar69 + iVar16 + 0x400 >> 0xb),
                                    (short)(iVar8 + iVar9 + 0x400 >> 0xb)),
                           CONCAT22((short)(iVar64 + iVar13 + 0x400 >> 0xb),
                                    (short)(iVar4 + iVar42 + 0x400 >> 0xb)));
    local_18 = local_18 + 1;
    local_10 = local_10 + 1;
    local_14[8] = CONCAT44(CONCAT22((short)((iVar69 - iVar16) + 0x400 >> 0xb),
                                    (short)((iVar8 - iVar9) + 0x400 >> 0xb)),
                           CONCAT22((short)((iVar64 - iVar13) + 0x400 >> 0xb),
                                    (short)((iVar4 - iVar42) + 0x400 >> 0xb)));
    local_14 = local_14 + 1;
    local_8 = local_8 + -1;
  } while (local_8 != 0);
  local_8 = 8;
  local_14 = param_3;
  local_c = 0;
  do {
    uVar5 = *local_14;
    uVar45 = local_14[1];
    sVar3 = (short)uVar45;
    sVar17 = (short)uVar5;
    sVar6 = (short)((ulonglong)uVar45 >> 0x10);
    sVar24 = (short)((ulonglong)uVar5 >> 0x10);
    iVar51 = CONCAT22(sVar24 + sVar6,sVar17 + sVar3);
    sVar7 = (short)((ulonglong)uVar45 >> 0x20);
    sVar25 = (short)((ulonglong)uVar5 >> 0x20);
    sVar29 = (short)((ulonglong)uVar5 >> 0x30);
    sVar10 = (short)((ulonglong)uVar45 >> 0x30);
    uVar65 = pmaddwd(CONCAT44((int)((ulonglong)uVar45 >> 0x20),(int)((ulonglong)uVar5 >> 0x20)),
                     0x3b210000187e);
    uVar58 = pmaddwd(CONCAT26(sVar29 + sVar10,CONCAT24(sVar25 + sVar7,iVar51)),0x115100000000);
    iVar18 = (int)((ulonglong)uVar58 >> 0x20);
    iVar26 = (iVar51 << 0x10) >> 3;
    iVar42 = (int)((uint)(ushort)(sVar17 - sVar3) << 0x10) >> 3;
    iVar51 = (int)uVar65 + iVar18;
    iVar18 = ((uint)((ulonglong)uVar65 >> 0x20) ^ 0xffffffff) + 1 + iVar18;
    sVar41 = sVar17 + sVar3;
    sVar49 = sVar24 + sVar6;
    iVar38 = iVar26 + iVar51;
    iVar8 = iVar42 + iVar18;
    iVar26 = iVar26 - iVar51;
    iVar42 = iVar42 - iVar18;
    uVar5 = pmaddwd(uVar5,0x62540000300b0000);
    uVar58 = pmaddwd(CONCAT26(sVar49 + sVar29 + sVar10,
                              CONCAT24(sVar41 + sVar25 + sVar7,CONCAT22(sVar49 * 2,sVar41 * 2))),
                     0x25a1000000000000);
    uVar37 = pmaddwd(CONCAT26(sVar29 + sVar10,CONCAT24(sVar25 + sVar7,CONCAT22(sVar49,sVar41))),
                     0x3ec500000c7c0000);
    uVar34 = pmaddwd(CONCAT26(sVar24 + sVar10,
                              CONCAT24(sVar17 + sVar7,CONCAT22(sVar29 + sVar6,sVar25 + sVar3))),
                     0x1ccd000052030000);
    uVar45 = pmaddwd(uVar45,0x98e000041b30000);
    iVar18 = (int)((ulonglong)uVar58 >> 0x20);
    iVar55 = (int)(uVar34 ^ 0xffffffffffffffff) + 1;
    iVar60 = (int)((uVar34 ^ 0xffffffffffffffff) >> 0x20) + 1;
    iVar51 = (int)(uVar37 ^ 0xffffffffffffffff) + 1 + iVar18;
    iVar18 = (int)((uVar37 ^ 0xffffffffffffffff) >> 0x20) + 1 + iVar18;
    iVar4 = (int)uVar45 + iVar55 + iVar51;
    iVar30 = (int)((ulonglong)uVar45 >> 0x20) + iVar60 + iVar18;
    iVar51 = (int)uVar5 + iVar60 + iVar51;
    iVar18 = (int)((ulonglong)uVar5 >> 0x20) + iVar55 + iVar18;
    uVar34 = CONCAT44(iVar4 + iVar42 + 0x20000 >> 0x12,iVar30 + iVar26 + 0x20000 >> 0x12) &
             0x3ff000003ff;
    piVar2 = (int *)(param_4 + local_c);
    uVar37 = CONCAT44(iVar18 + iVar8 + 0x20000 >> 0x12,iVar51 + iVar38 + 0x20000 >> 0x12) &
             0x3ff000003ff;
    uVar1 = CONCAT11(*(undefined1 *)(param_6 + (int)uVar34),
                     *(undefined1 *)(param_6 + (int)(uVar34 >> 0x20)));
    local_c = local_c + 4;
    uVar21 = CONCAT44((iVar8 - iVar18) + 0x20000 >> 0x12,(iVar38 - iVar51) + 0x20000 >> 0x12) &
             0x3ff000003ff;
    uVar34 = CONCAT44((iVar42 - iVar4) + 0x20000 >> 0x12,(iVar26 - iVar30) + 0x20000 >> 0x12) &
             0x3ff000003ff;
    local_14 = local_14 + 2;
    *(ulonglong *)(*piVar2 + param_5) =
         CONCAT44(CONCAT22((short)CONCAT31(CONCAT21(uVar1,*(undefined1 *)(param_6 + (int)uVar21)),
                                           *(undefined1 *)(param_6 + (int)(uVar21 >> 0x20))),
                           CONCAT11(*(undefined1 *)(param_6 + (int)(uVar34 >> 0x20)),
                                    *(undefined1 *)(param_6 + (int)uVar34))),
                  CONCAT22(uVar1,CONCAT11(*(undefined1 *)(param_6 + (int)(uVar37 >> 0x20)),
                                          *(undefined1 *)(param_6 + (int)uVar37))));
    local_8 = local_8 + -1;
  } while (local_8 != 0);
  return;
}



/* FUN_10037a8f @ 10037a8f */

void __cdecl
FUN_10037a8f(short *param_1,short *param_2,short *param_3,int param_4,int param_5,int param_6)

{
  short sVar1;
  undefined1 uVar2;
  short sVar3;
  short sVar4;
  short sVar5;
  short sVar6;
  short sVar7;
  short sVar8;
  short sVar9;
  short sVar10;
  short sVar11;
  undefined1 *puVar12;
  short *local_30;
  short *local_2c;
  short *local_28;
  int local_24;
  short local_20;
  
  local_30 = param_1;
  local_2c = param_3;
  local_28 = param_2;
  local_20 = 8;
  do {
    sVar3 = *local_30 * *local_2c + local_30[0x20] * local_2c[0x20];
    sVar1 = *local_30 * *local_2c - local_30[0x20] * local_2c[0x20];
    sVar8 = local_30[0x10] * local_2c[0x10] + local_30[0x30] * local_2c[0x30];
    sVar4 = sVar3 + sVar8;
    sVar3 = sVar3 - sVar8;
    sVar8 = (short)((uint)((short)(local_30[0x10] * local_2c[0x10] - local_30[0x30] * local_2c[0x30]
                                  ) * 0x16a) >> 8) - sVar8;
    sVar5 = sVar1 + sVar8;
    sVar1 = sVar1 - sVar8;
    sVar6 = local_30[8] * local_2c[8] + local_30[0x38] * local_2c[0x38];
    sVar8 = local_30[8] * local_2c[8] - local_30[0x38] * local_2c[0x38];
    sVar9 = local_30[0x28] * local_2c[0x28] + local_30[0x18] * local_2c[0x18];
    sVar10 = local_30[0x28] * local_2c[0x28] - local_30[0x18] * local_2c[0x18];
    sVar7 = sVar6 + sVar9;
    sVar11 = (short)((uint)((short)(sVar10 + sVar8) * 0x1d9) >> 8);
    sVar10 = ((short)((uint)(sVar10 * -0x29d) >> 8) + sVar11) - sVar7;
    sVar6 = (short)((uint)((short)(sVar6 - sVar9) * 0x16a) >> 8) - sVar10;
    sVar8 = ((short)((uint)(sVar8 * 0x115) >> 8) - sVar11) + sVar6;
    *local_28 = sVar7 + sVar4;
    local_28[0x38] = sVar4 - sVar7;
    local_28[8] = sVar10 + sVar5;
    local_28[0x30] = sVar5 - sVar10;
    local_28[0x10] = sVar6 + sVar1;
    local_28[0x28] = sVar1 - sVar6;
    local_28[0x20] = sVar8 + sVar3;
    local_28[0x18] = sVar3 - sVar8;
    local_30 = local_30 + 1;
    local_2c = local_2c + 1;
    local_28 = local_28 + 1;
    local_20 = local_20 + -1;
  } while (local_20 != 0);
  local_24 = 0;
  local_20 = 8;
  local_28 = param_2;
  do {
    puVar12 = (undefined1 *)(*(int *)(param_4 + local_24) + param_5);
    local_24 = local_24 + 4;
    sVar3 = *local_28 + local_28[4];
    sVar1 = *local_28 - local_28[4];
    sVar8 = local_28[2] + local_28[6];
    sVar4 = sVar3 + sVar8;
    sVar3 = sVar3 - sVar8;
    sVar8 = (short)((uint)((short)(local_28[2] - local_28[6]) * 0x16a) >> 8) - sVar8;
    sVar5 = sVar1 + sVar8;
    sVar1 = sVar1 - sVar8;
    sVar6 = local_28[1] + local_28[7];
    sVar8 = local_28[1] - local_28[7];
    sVar9 = local_28[5] + local_28[3];
    sVar10 = local_28[5] - local_28[3];
    sVar7 = sVar6 + sVar9;
    sVar11 = (short)((uint)((short)(sVar10 + sVar8) * 0x1d9) >> 8);
    sVar10 = ((short)((uint)(sVar10 * -0x29d) >> 8) + sVar11) - sVar7;
    sVar6 = (short)((uint)((short)(sVar6 - sVar9) * 0x16a) >> 8) - sVar10;
    sVar8 = ((short)((uint)(sVar8 * 0x115) >> 8) - sVar11) + sVar6;
    uVar2 = *(undefined1 *)(param_6 + ((ushort)((short)(sVar4 - sVar7) >> 5) & 0x3ff));
    *puVar12 = *(undefined1 *)(param_6 + ((ushort)((short)(sVar7 + sVar4) >> 5) & 0x3ff));
    puVar12[7] = uVar2;
    uVar2 = *(undefined1 *)(param_6 + ((ushort)((short)(sVar5 - sVar10) >> 5) & 0x3ff));
    puVar12[1] = *(undefined1 *)(param_6 + ((ushort)((short)(sVar10 + sVar5) >> 5) & 0x3ff));
    puVar12[6] = uVar2;
    uVar2 = *(undefined1 *)(param_6 + ((ushort)((short)(sVar1 - sVar6) >> 5) & 0x3ff));
    puVar12[2] = *(undefined1 *)(param_6 + ((ushort)((short)(sVar6 + sVar1) >> 5) & 0x3ff));
    puVar12[5] = uVar2;
    uVar2 = *(undefined1 *)(param_6 + ((ushort)((short)(sVar3 - sVar8) >> 5) & 0x3ff));
    puVar12[4] = *(undefined1 *)(param_6 + ((ushort)((short)(sVar8 + sVar3) >> 5) & 0x3ff));
    puVar12[3] = uVar2;
    local_28 = local_28 + 8;
    local_20 = local_20 + -1;
  } while (local_20 != 0);
  return;
}



/* FUN_10037dea @ 10037dea */

void __cdecl
FUN_10037dea(undefined8 *param_1,undefined8 *param_2,undefined8 *param_3,int *param_4,int param_5,
            int param_6)

{
  undefined8 uVar1;
  undefined8 uVar2;
  int iVar3;
  undefined1 *puVar4;
  short sVar5;
  undefined4 uVar6;
  undefined6 uVar7;
  short sVar9;
  short sVar10;
  ushort uVar11;
  short sVar12;
  undefined8 uVar8;
  short sVar13;
  short sVar16;
  short sVar17;
  short sVar18;
  short sVar19;
  undefined8 uVar14;
  undefined8 uVar15;
  short sVar20;
  undefined4 uVar21;
  short sVar22;
  short sVar23;
  short sVar24;
  short sVar25;
  short sVar26;
  short sVar27;
  short sVar28;
  short sVar29;
  short sVar30;
  undefined4 uVar31;
  undefined8 uVar32;
  short sVar33;
  short sVar34;
  short sVar35;
  short sVar36;
  short sVar37;
  short sVar38;
  short sVar39;
  short sVar41;
  undefined8 uVar40;
  short sVar42;
  short sVar43;
  ushort uVar45;
  undefined8 uVar44;
  
  uVar14 = param_1[0xc];
  uVar40 = param_3[0xc];
  sVar5 = (short)uVar14 * (short)uVar40;
  sVar9 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar10 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar12 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  uVar14 = param_1[4];
  uVar40 = param_3[4];
  sVar13 = (short)uVar14 * (short)uVar40;
  sVar16 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar18 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar19 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  uVar14 = *param_1;
  uVar40 = *param_3;
  sVar24 = (short)uVar14 * (short)uVar40;
  sVar25 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar27 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar29 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  uVar14 = param_1[8];
  uVar40 = param_3[8];
  sVar33 = (short)uVar14 * (short)uVar40;
  sVar34 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar35 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar36 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  sVar17 = sVar16 - sVar9;
  sVar20 = sVar13 + sVar5;
  sVar16 = sVar16 + sVar9;
  sVar22 = sVar18 + sVar10;
  sVar23 = sVar19 + sVar12;
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar17,CONCAT22(sVar17,sVar13 - sVar5)) & 0xffffffff0000ffff,
                   0x16a0000016a);
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar19 - sVar12,(uint)(ushort)(sVar18 - sVar10)),
                   0x16a0000016a);
  sVar19 = sVar24 + sVar33;
  sVar26 = sVar25 + sVar34;
  sVar28 = sVar27 + sVar35;
  sVar30 = sVar29 + sVar36;
  sVar24 = sVar24 - sVar33;
  sVar25 = sVar25 - sVar34;
  sVar27 = sVar27 - sVar35;
  sVar29 = sVar29 - sVar36;
  uVar14 = packssdw(CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8),
                    CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8));
  sVar5 = (short)uVar14 - sVar20;
  sVar9 = (short)((ulonglong)uVar14 >> 0x10) - sVar16;
  sVar10 = (short)((ulonglong)uVar14 >> 0x20) - sVar22;
  sVar12 = (short)((ulonglong)uVar14 >> 0x30) - sVar23;
  param_2[4] = CONCAT26(sVar30 + sVar23,
                        CONCAT24(sVar28 + sVar22,CONCAT22(sVar26 + sVar16,sVar19 + sVar20)));
  param_2[0xc] = CONCAT26(sVar12 + sVar29,
                          CONCAT24(sVar10 + sVar27,CONCAT22(sVar9 + sVar25,sVar5 + sVar24)));
  sVar19 = sVar19 - sVar20;
  sVar26 = sVar26 - sVar16;
  sVar28 = sVar28 - sVar22;
  sVar30 = sVar30 - sVar23;
  *param_2 = CONCAT26(sVar29 - sVar12,
                      CONCAT24(sVar27 - sVar10,CONCAT22(sVar25 - sVar9,sVar24 - sVar5)));
  uVar14 = param_1[10];
  uVar40 = param_3[10];
  sVar18 = (short)uVar14 * (short)uVar40;
  sVar20 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar22 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar23 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  uVar14 = param_1[6];
  uVar40 = param_3[6];
  sVar5 = (short)uVar14 * (short)uVar40;
  sVar10 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar13 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar16 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  uVar14 = param_1[2];
  uVar40 = param_3[2];
  sVar9 = (short)uVar14 * (short)uVar40;
  sVar12 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar33 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar17 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  sVar34 = sVar18 - sVar5;
  sVar35 = sVar20 - sVar10;
  uVar45 = sVar22 - sVar13;
  sVar36 = sVar23 - sVar16;
  uVar14 = param_1[0xe];
  uVar40 = param_3[0xe];
  sVar24 = (short)uVar14 * (short)uVar40;
  sVar25 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar27 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar29 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  sVar18 = sVar18 + sVar5;
  sVar20 = sVar20 + sVar10;
  sVar22 = sVar22 + sVar13;
  sVar23 = sVar23 + sVar16;
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar35,CONCAT22(sVar35,sVar34)) & 0xffffffff0000ffff,
                   0xfd630000fd63);
  sVar10 = sVar9 + sVar24;
  sVar5 = sVar12 + sVar25;
  sVar13 = sVar33 + sVar27;
  sVar16 = sVar17 + sVar29;
  sVar9 = sVar9 - sVar24;
  sVar12 = sVar12 - sVar25;
  uVar11 = sVar33 - sVar27;
  sVar17 = sVar17 - sVar29;
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar36,(uint)uVar45),0xfd630000fd63);
  uVar44 = packssdw(CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8),
                    CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8));
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar12,CONCAT22(sVar12,sVar9)) & 0xffffffff0000ffff,
                   0x11500000115);
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar17,(uint)uVar11),0x11500000115);
  uVar8 = packssdw(CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8),
                   CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8));
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar35 + sVar12,CONCAT22(sVar35 + sVar12,sVar34 + sVar9)) &
                   0xffffffff0000ffff,0x1d9000001d9);
  sVar25 = sVar10 + sVar18;
  sVar27 = sVar5 + sVar20;
  sVar29 = sVar13 + sVar22;
  sVar33 = sVar16 + sVar23;
  sVar5 = sVar5 - sVar20;
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar36 + sVar17,(uint)(ushort)(uVar45 + uVar11)),
                   0x1d9000001d9);
  uVar32 = pmaddwd((ulonglong)CONCAT24(sVar5,CONCAT22(sVar5,sVar10 - sVar18)) & 0xffffffff0000ffff,
                   0x16a0000016a);
  uVar15 = packssdw(CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8),
                    CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8));
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar16 - sVar23,(uint)(ushort)(sVar13 - sVar22)),
                   0x16a0000016a);
  sVar9 = (short)((ulonglong)uVar15 >> 0x10);
  sVar10 = (short)((ulonglong)uVar15 >> 0x20);
  sVar12 = (short)((ulonglong)uVar15 >> 0x30);
  uVar14 = param_2[4];
  uVar32 = packssdw(CONCAT44((int)((longlong)uVar32 >> 0x28),(int)uVar32 >> 8),
                    CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8));
  sVar13 = ((short)uVar15 + (short)uVar44) - sVar25;
  sVar16 = (sVar9 + (short)((ulonglong)uVar44 >> 0x10)) - sVar27;
  sVar17 = (sVar10 + (short)((ulonglong)uVar44 >> 0x20)) - sVar29;
  sVar18 = (sVar12 + (short)((ulonglong)uVar44 >> 0x30)) - sVar33;
  uVar40 = param_2[0xc];
  sVar20 = (short)uVar32 - sVar13;
  sVar22 = (short)((ulonglong)uVar32 >> 0x10) - sVar16;
  sVar23 = (short)((ulonglong)uVar32 >> 0x20) - sVar17;
  sVar24 = (short)((ulonglong)uVar32 >> 0x30) - sVar18;
  sVar5 = ((short)uVar8 - (short)uVar15) + sVar20;
  sVar9 = ((short)((ulonglong)uVar8 >> 0x10) - sVar9) + sVar22;
  sVar10 = ((short)((ulonglong)uVar8 >> 0x20) - sVar10) + sVar23;
  sVar12 = ((short)((ulonglong)uVar8 >> 0x30) - sVar12) + sVar24;
  param_2[8] = CONCAT26(sVar30 + sVar12,
                        CONCAT24(sVar28 + sVar10,CONCAT22(sVar26 + sVar9,sVar19 + sVar5)));
  sVar34 = (short)((ulonglong)uVar14 >> 0x10);
  sVar35 = (short)((ulonglong)uVar14 >> 0x20);
  sVar36 = (short)((ulonglong)uVar14 >> 0x30);
  param_2[6] = CONCAT26(sVar30 - sVar12,
                        CONCAT24(sVar28 - sVar10,CONCAT22(sVar26 - sVar9,sVar19 - sVar5)));
  uVar8 = *param_2;
  *param_2 = CONCAT26(sVar36 + sVar33,
                      CONCAT24(sVar35 + sVar29,CONCAT22(sVar34 + sVar27,(short)uVar14 + sVar25)));
  sVar5 = (short)((ulonglong)uVar40 >> 0x10);
  sVar9 = (short)((ulonglong)uVar40 >> 0x20);
  sVar10 = (short)((ulonglong)uVar40 >> 0x30);
  param_2[0xe] = CONCAT26(sVar36 - sVar33,
                          CONCAT24(sVar35 - sVar29,CONCAT22(sVar34 - sVar27,(short)uVar14 - sVar25))
                         );
  param_2[2] = CONCAT26(sVar10 + sVar18,
                        CONCAT24(sVar9 + sVar17,CONCAT22(sVar5 + sVar16,(short)uVar40 + sVar13)));
  param_2[0xc] = CONCAT26(sVar10 - sVar18,
                          CONCAT24(sVar9 - sVar17,CONCAT22(sVar5 - sVar16,(short)uVar40 - sVar13)));
  sVar9 = (short)((ulonglong)uVar8 >> 0x10);
  sVar16 = (short)((ulonglong)uVar8 >> 0x20);
  sVar17 = (short)((ulonglong)uVar8 >> 0x30);
  uVar14 = param_1[5];
  uVar40 = param_3[5];
  sVar5 = (short)uVar14 * (short)uVar40;
  sVar12 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar10 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar13 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  param_2[4] = CONCAT26(sVar17 + sVar24,
                        CONCAT24(sVar16 + sVar23,CONCAT22(sVar9 + sVar22,(short)uVar8 + sVar20)));
  param_2[10] = CONCAT26(sVar17 - sVar24,
                         CONCAT24(sVar16 - sVar23,CONCAT22(sVar9 - sVar22,(short)uVar8 - sVar20)));
  uVar14 = param_1[0xd];
  uVar40 = param_3[0xd];
  sVar17 = (short)uVar14 * (short)uVar40;
  sVar22 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar25 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar27 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  uVar14 = param_1[1];
  uVar40 = param_3[1];
  sVar24 = (short)uVar14 * (short)uVar40;
  sVar26 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar28 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar30 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  uVar14 = param_1[9];
  sVar9 = sVar12 - sVar22;
  uVar40 = param_3[9];
  sVar16 = (short)uVar14 * (short)uVar40;
  sVar18 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar19 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar34 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  sVar20 = sVar5 + sVar17;
  sVar12 = sVar12 + sVar22;
  sVar22 = sVar10 + sVar25;
  sVar23 = sVar13 + sVar27;
  uVar8 = pmaddwd((ulonglong)CONCAT24(sVar9,CONCAT22(sVar9,sVar5 - sVar17)) & 0xffffffff0000ffff,
                  0x16a0000016a);
  uVar14 = param_1[0xb];
  uVar15 = pmaddwd((ulonglong)CONCAT24(sVar13 - sVar27,(uint)(ushort)(sVar10 - sVar25)),
                   0x16a0000016a);
  uVar40 = param_3[0xb];
  sVar5 = (short)uVar14 * (short)uVar40;
  sVar10 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar13 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar17 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  uVar14 = packssdw(CONCAT44((int)((longlong)uVar8 >> 0x28),(int)uVar8 >> 8),
                    CONCAT44((int)((longlong)uVar15 >> 0x28),(int)uVar15 >> 8));
  sVar25 = sVar24 + sVar16;
  sVar27 = sVar26 + sVar18;
  sVar29 = sVar28 + sVar19;
  sVar33 = sVar30 + sVar34;
  sVar24 = sVar24 - sVar16;
  sVar26 = sVar26 - sVar18;
  sVar28 = sVar28 - sVar19;
  sVar30 = sVar30 - sVar34;
  sVar9 = (short)uVar14 - sVar20;
  sVar16 = (short)((ulonglong)uVar14 >> 0x10) - sVar12;
  sVar18 = (short)((ulonglong)uVar14 >> 0x20) - sVar22;
  sVar19 = (short)((ulonglong)uVar14 >> 0x30) - sVar23;
  uVar14 = param_1[7];
  param_2[5] = CONCAT26(sVar33 + sVar23,
                        CONCAT24(sVar29 + sVar22,CONCAT22(sVar27 + sVar12,sVar25 + sVar20)));
  uVar40 = param_3[7];
  sVar34 = (short)uVar14 * (short)uVar40;
  sVar35 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar36 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar42 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  sVar25 = sVar25 - sVar20;
  sVar27 = sVar27 - sVar12;
  sVar29 = sVar29 - sVar22;
  sVar33 = sVar33 - sVar23;
  param_2[0xd] = CONCAT26(sVar30 + sVar19,
                          CONCAT24(sVar28 + sVar18,CONCAT22(sVar26 + sVar16,sVar24 + sVar9)));
  param_2[9] = CONCAT26(sVar30 - sVar19,
                        CONCAT24(sVar28 - sVar18,CONCAT22(sVar26 - sVar16,sVar24 - sVar9)));
  sVar9 = sVar5 + sVar34;
  sVar12 = sVar10 + sVar35;
  sVar16 = sVar13 + sVar36;
  sVar18 = sVar17 + sVar42;
  uVar14 = param_1[0xf];
  sVar5 = sVar5 - sVar34;
  sVar10 = sVar10 - sVar35;
  uVar11 = sVar13 - sVar36;
  sVar17 = sVar17 - sVar42;
  uVar40 = param_3[0xf];
  sVar13 = (short)uVar14 * (short)uVar40;
  sVar19 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar22 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar23 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  uVar14 = param_1[3];
  uVar40 = param_3[3];
  sVar24 = (short)uVar14 * (short)uVar40;
  sVar28 = (short)((ulonglong)uVar14 >> 0x10) * (short)((ulonglong)uVar40 >> 0x10);
  sVar30 = (short)((ulonglong)uVar14 >> 0x20) * (short)((ulonglong)uVar40 >> 0x20);
  sVar37 = (short)((ulonglong)uVar14 >> 0x30) * (short)((ulonglong)uVar40 >> 0x30);
  sVar26 = sVar24 + sVar13;
  sVar20 = sVar28 + sVar19;
  sVar34 = sVar30 + sVar22;
  sVar38 = sVar37 + sVar23;
  sVar24 = sVar24 - sVar13;
  sVar28 = sVar28 - sVar19;
  uVar45 = sVar30 - sVar22;
  sVar37 = sVar37 - sVar23;
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar10,CONCAT22(sVar10,sVar5)) & 0xffffffff0000ffff,
                   0xfd630000fd63);
  sVar35 = sVar26 + sVar9;
  sVar36 = sVar20 + sVar12;
  sVar42 = sVar34 + sVar16;
  sVar39 = sVar38 + sVar18;
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar17,(uint)uVar11),0xfd630000fd63);
  sVar20 = sVar20 - sVar12;
  uVar40 = packssdw(CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8),
                    CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8));
  uVar8 = pmaddwd((ulonglong)CONCAT24(sVar20,CONCAT22(sVar20,sVar26 - sVar9)) & 0xffffffff0000ffff,
                  0x16a0000016a);
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar38 - sVar18,(uint)(ushort)(sVar34 - sVar16)),
                   0x16a0000016a);
  uVar15 = packssdw(CONCAT44((int)((longlong)uVar8 >> 0x28),(int)uVar8 >> 8),
                    CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8));
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar10 + sVar28,CONCAT22(sVar10 + sVar28,sVar5 + sVar24)) &
                   0xffffffff0000ffff,0x1d9000001d9);
  uVar8 = pmaddwd((ulonglong)CONCAT24(sVar17 + sVar37,(uint)(ushort)(uVar11 + uVar45)),0x1d9000001d9
                 );
  uVar8 = packssdw(CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8),
                   CONCAT44((int)((longlong)uVar8 >> 0x28),(int)uVar8 >> 8));
  uVar32 = pmaddwd((ulonglong)CONCAT24(sVar28,CONCAT22(sVar28,sVar24)) & 0xffffffff0000ffff,
                   0x11500000115);
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar37,(uint)uVar45),0x11500000115);
  uVar32 = packssdw(CONCAT44((int)((longlong)uVar32 >> 0x28),(int)uVar32 >> 8),
                    CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8));
  uVar14 = param_2[5];
  sVar9 = (short)((ulonglong)uVar8 >> 0x10);
  sVar12 = (short)((ulonglong)uVar8 >> 0x20);
  sVar16 = (short)((ulonglong)uVar8 >> 0x30);
  sVar17 = ((short)uVar8 + (short)uVar40) - sVar35;
  sVar18 = (sVar9 + (short)((ulonglong)uVar40 >> 0x10)) - sVar36;
  sVar20 = (sVar12 + (short)((ulonglong)uVar40 >> 0x20)) - sVar42;
  sVar23 = (sVar16 + (short)((ulonglong)uVar40 >> 0x30)) - sVar39;
  sVar26 = (short)uVar15 - sVar17;
  sVar28 = (short)((ulonglong)uVar15 >> 0x10) - sVar18;
  sVar30 = (short)((ulonglong)uVar15 >> 0x20) - sVar20;
  sVar34 = (short)((ulonglong)uVar15 >> 0x30) - sVar23;
  sVar5 = (short)((ulonglong)uVar14 >> 0x10);
  sVar10 = (short)((ulonglong)uVar14 >> 0x20);
  sVar13 = (short)((ulonglong)uVar14 >> 0x30);
  uVar40 = param_2[0xd];
  sVar37 = ((short)uVar32 - (short)uVar8) + sVar26;
  sVar38 = ((short)((ulonglong)uVar32 >> 0x10) - sVar9) + sVar28;
  sVar41 = ((short)((ulonglong)uVar32 >> 0x20) - sVar12) + sVar30;
  sVar43 = ((short)((ulonglong)uVar32 >> 0x30) - sVar16) + sVar34;
  param_2[1] = CONCAT26(sVar13 + sVar39,
                        CONCAT24(sVar10 + sVar42,CONCAT22(sVar5 + sVar36,(short)uVar14 + sVar35)));
  uVar8 = param_2[9];
  param_2[7] = CONCAT26(sVar33 - sVar43,
                        CONCAT24(sVar29 - sVar41,CONCAT22(sVar27 - sVar38,sVar25 - sVar37)));
  sVar19 = (short)((ulonglong)uVar40 >> 0x10);
  sVar22 = (short)((ulonglong)uVar40 >> 0x20);
  sVar24 = (short)((ulonglong)uVar40 >> 0x30);
  param_2[3] = CONCAT26(sVar24 + sVar23,
                        CONCAT24(sVar22 + sVar20,CONCAT22(sVar19 + sVar18,(short)uVar40 + sVar17)));
  sVar9 = (short)((ulonglong)uVar8 >> 0x10);
  sVar12 = (short)((ulonglong)uVar8 >> 0x20);
  sVar16 = (short)((ulonglong)uVar8 >> 0x30);
  param_2[5] = CONCAT26(sVar16 + sVar34,
                        CONCAT24(sVar12 + sVar30,CONCAT22(sVar9 + sVar28,(short)uVar8 + sVar26)));
  uVar6 = CONCAT22(sVar12 - sVar30,sVar29 + sVar41);
  uVar15 = *param_2;
  uVar32 = param_2[2];
  uVar21 = CONCAT22(sVar10 - sVar42,sVar22 - sVar20);
  param_2[9] = CONCAT44(CONCAT22((short)uVar14 - sVar35,(short)uVar40 - sVar17),
                        CONCAT22((short)uVar8 - sVar26,sVar25 + sVar37));
  param_2[0xb] = CONCAT44(CONCAT22(sVar5 - sVar36,sVar19 - sVar18),
                          CONCAT22(sVar9 - sVar28,sVar27 + sVar38));
  param_2[0xd] = CONCAT44(uVar21,uVar6);
  param_2[0xf] = CONCAT44((int)(CONCAT26(sVar13 - sVar39,CONCAT24(sVar24 - sVar23,uVar21)) >> 0x20),
                          (int)(CONCAT26(sVar16 - sVar34,CONCAT24(sVar33 + sVar43,uVar6)) >> 0x20));
  uVar21 = CONCAT22((short)((ulonglong)uVar32 >> 0x20),(short)((ulonglong)uVar15 >> 0x20));
  uVar14 = param_2[4];
  uVar40 = param_2[6];
  uVar6 = CONCAT22((short)((ulonglong)uVar40 >> 0x20),(short)((ulonglong)uVar14 >> 0x20));
  *param_2 = CONCAT44(CONCAT22((short)uVar40,(short)uVar14),CONCAT22((short)uVar32,(short)uVar15));
  param_2[2] = CONCAT44(CONCAT22((short)((ulonglong)uVar40 >> 0x10),
                                 (short)((ulonglong)uVar14 >> 0x10)),
                        CONCAT22((short)((ulonglong)uVar32 >> 0x10),
                                 (short)((ulonglong)uVar15 >> 0x10)));
  param_2[4] = CONCAT44(uVar6,uVar21);
  param_2[6] = CONCAT44((int)(CONCAT26((short)((ulonglong)uVar40 >> 0x30),
                                       CONCAT24((short)((ulonglong)uVar14 >> 0x30),uVar6)) >> 0x20),
                        (int)(CONCAT26((short)((ulonglong)uVar32 >> 0x30),
                                       CONCAT24((short)((ulonglong)uVar15 >> 0x30),uVar21)) >> 0x20)
                       );
  uVar14 = param_2[1];
  uVar40 = param_2[3];
  uVar8 = param_2[5];
  uVar21 = CONCAT22((short)((ulonglong)uVar40 >> 0x20),(short)((ulonglong)uVar14 >> 0x20));
  uVar15 = param_2[7];
  uVar31 = CONCAT22((short)((ulonglong)uVar15 >> 0x20),(short)((ulonglong)uVar8 >> 0x20));
  uVar32 = param_2[8];
  param_2[8] = CONCAT44(CONCAT22((short)uVar15,(short)uVar8),CONCAT22((short)uVar40,(short)uVar14));
  uVar44 = param_2[10];
  param_2[10] = CONCAT44(CONCAT22((short)((ulonglong)uVar15 >> 0x10),
                                  (short)((ulonglong)uVar8 >> 0x10)),
                         CONCAT22((short)((ulonglong)uVar40 >> 0x10),
                                  (short)((ulonglong)uVar14 >> 0x10)));
  uVar1 = param_2[0xc];
  uVar6 = CONCAT22((short)((ulonglong)uVar44 >> 0x20),(short)((ulonglong)uVar32 >> 0x20));
  uVar2 = param_2[0xe];
  param_2[0xc] = CONCAT44(uVar31,uVar21);
  param_2[0xe] = CONCAT44((int)(CONCAT26((short)((ulonglong)uVar15 >> 0x30),
                                         CONCAT24((short)((ulonglong)uVar8 >> 0x30),uVar31)) >> 0x20
                               ),(int)(CONCAT26((short)((ulonglong)uVar40 >> 0x30),
                                                CONCAT24((short)((ulonglong)uVar14 >> 0x30),uVar21))
                                      >> 0x20));
  uVar21 = CONCAT22((short)((ulonglong)uVar2 >> 0x20),(short)((ulonglong)uVar1 >> 0x20));
  param_2[1] = CONCAT44(CONCAT22((short)uVar2,(short)uVar1),CONCAT22((short)uVar44,(short)uVar32));
  param_2[3] = CONCAT44(CONCAT22((short)((ulonglong)uVar2 >> 0x10),(short)((ulonglong)uVar1 >> 0x10)
                                ),
                        CONCAT22((short)((ulonglong)uVar44 >> 0x10),
                                 (short)((ulonglong)uVar32 >> 0x10)));
  param_2[5] = CONCAT44(uVar21,uVar6);
  param_2[7] = CONCAT44((int)(CONCAT26((short)((ulonglong)uVar2 >> 0x30),
                                       CONCAT24((short)((ulonglong)uVar1 >> 0x30),uVar21)) >> 0x20),
                        (int)(CONCAT26((short)((ulonglong)uVar44 >> 0x30),
                                       CONCAT24((short)((ulonglong)uVar32 >> 0x30),uVar6)) >> 0x20))
  ;
  uVar14 = param_2[0xc];
  uVar40 = param_2[4];
  uVar8 = *param_2;
  uVar15 = param_2[8];
  sVar5 = (short)((ulonglong)uVar14 >> 0x10);
  sVar13 = (short)((ulonglong)uVar40 >> 0x10);
  sVar12 = sVar13 - sVar5;
  sVar9 = (short)((ulonglong)uVar14 >> 0x20);
  sVar16 = (short)((ulonglong)uVar40 >> 0x20);
  sVar17 = (short)((ulonglong)uVar40 >> 0x30);
  sVar10 = (short)((ulonglong)uVar14 >> 0x30);
  sVar18 = (short)uVar40 + (short)uVar14;
  sVar13 = sVar13 + sVar5;
  sVar19 = sVar16 + sVar9;
  sVar20 = sVar17 + sVar10;
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar12,CONCAT22(sVar12,(short)uVar40 - (short)uVar14)) &
                   0xffffffff0000ffff,0x16a0000016a);
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar17 - sVar10,(uint)(ushort)(sVar16 - sVar9)),0x16a0000016a
                  );
  uVar14 = packssdw(CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8),
                    CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8));
  sVar22 = (short)uVar8 + (short)uVar15;
  sVar16 = (short)((ulonglong)uVar8 >> 0x10);
  sVar5 = (short)((ulonglong)uVar15 >> 0x10);
  sVar23 = sVar16 + sVar5;
  sVar17 = (short)((ulonglong)uVar8 >> 0x20);
  sVar26 = (short)((ulonglong)uVar8 >> 0x30);
  sVar9 = (short)((ulonglong)uVar15 >> 0x20);
  sVar24 = sVar17 + sVar9;
  sVar10 = (short)((ulonglong)uVar15 >> 0x30);
  sVar25 = sVar26 + sVar10;
  sVar27 = (short)uVar8 - (short)uVar15;
  sVar16 = sVar16 - sVar5;
  sVar17 = sVar17 - sVar9;
  sVar26 = sVar26 - sVar10;
  sVar5 = (short)uVar14 - sVar18;
  sVar9 = (short)((ulonglong)uVar14 >> 0x10) - sVar13;
  sVar10 = (short)((ulonglong)uVar14 >> 0x20) - sVar19;
  sVar12 = (short)((ulonglong)uVar14 >> 0x30) - sVar20;
  param_2[4] = CONCAT26(sVar25 + sVar20,
                        CONCAT24(sVar24 + sVar19,CONCAT22(sVar23 + sVar13,sVar22 + sVar18)));
  param_2[0xc] = CONCAT26(sVar12 + sVar26,
                          CONCAT24(sVar10 + sVar17,CONCAT22(sVar9 + sVar16,sVar5 + sVar27)));
  sVar22 = sVar22 - sVar18;
  sVar23 = sVar23 - sVar13;
  sVar24 = sVar24 - sVar19;
  sVar25 = sVar25 - sVar20;
  *param_2 = CONCAT26(sVar26 - sVar12,
                      CONCAT24(sVar17 - sVar10,CONCAT22(sVar16 - sVar9,sVar27 - sVar5)));
  uVar14 = param_2[10];
  uVar40 = param_2[6];
  uVar8 = param_2[2];
  sVar42 = (short)uVar14 - (short)uVar40;
  sVar5 = (short)((ulonglong)uVar40 >> 0x10);
  sVar12 = (short)((ulonglong)uVar14 >> 0x10);
  sVar37 = sVar12 - sVar5;
  sVar9 = (short)((ulonglong)uVar40 >> 0x20);
  sVar20 = (short)((ulonglong)uVar14 >> 0x20);
  sVar26 = (short)((ulonglong)uVar14 >> 0x30);
  uVar45 = sVar20 - sVar9;
  sVar10 = (short)((ulonglong)uVar40 >> 0x30);
  sVar38 = sVar26 - sVar10;
  uVar15 = param_2[0xe];
  sVar19 = (short)uVar14 + (short)uVar40;
  sVar12 = sVar12 + sVar5;
  sVar20 = sVar20 + sVar9;
  sVar26 = sVar26 + sVar10;
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar37,CONCAT22(sVar37,sVar42)) & 0xffffffff0000ffff,
                   0xfd630000fd63);
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar38,(uint)uVar45),0xfd630000fd63);
  uVar32 = packssdw(CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8),
                    CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8));
  sVar28 = (short)uVar8 + (short)uVar15;
  sVar13 = (short)((ulonglong)uVar15 >> 0x10);
  sVar9 = (short)((ulonglong)uVar8 >> 0x10);
  sVar27 = sVar9 + sVar13;
  sVar16 = (short)((ulonglong)uVar15 >> 0x20);
  sVar18 = (short)((ulonglong)uVar8 >> 0x20);
  sVar10 = (short)((ulonglong)uVar8 >> 0x30);
  sVar33 = sVar18 + sVar16;
  sVar17 = (short)((ulonglong)uVar15 >> 0x30);
  sVar35 = sVar10 + sVar17;
  sVar5 = (short)uVar8 - (short)uVar15;
  sVar9 = sVar9 - sVar13;
  uVar11 = sVar18 - sVar16;
  sVar10 = sVar10 - sVar17;
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar9,CONCAT22(sVar9,sVar5)) & 0xffffffff0000ffff,
                   0x11500000115);
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar10,(uint)uVar11),0x11500000115);
  uVar8 = packssdw(CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8),
                   CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8));
  sVar29 = sVar28 + sVar19;
  sVar30 = sVar27 + sVar12;
  sVar34 = sVar33 + sVar20;
  sVar36 = sVar35 + sVar26;
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar37 + sVar9,CONCAT22(sVar37 + sVar9,sVar42 + sVar5)) &
                   0xffffffff0000ffff,0x1d9000001d9);
  sVar27 = sVar27 - sVar12;
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar38 + sVar10,(uint)(ushort)(uVar45 + uVar11)),
                   0x1d9000001d9);
  uVar15 = packssdw(CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8),
                    CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8));
  sVar9 = (short)((ulonglong)uVar15 >> 0x10);
  sVar10 = (short)((ulonglong)uVar15 >> 0x20);
  sVar12 = (short)((ulonglong)uVar15 >> 0x30);
  sVar13 = ((short)uVar15 + (short)uVar32) - sVar29;
  sVar16 = (sVar9 + (short)((ulonglong)uVar32 >> 0x10)) - sVar30;
  sVar17 = (sVar10 + (short)((ulonglong)uVar32 >> 0x20)) - sVar34;
  sVar18 = (sVar12 + (short)((ulonglong)uVar32 >> 0x30)) - sVar36;
  uVar44 = pmaddwd((ulonglong)CONCAT24(sVar27,CONCAT22(sVar27,sVar28 - sVar19)) & 0xffffffff0000ffff
                   ,0x16a0000016a);
  uVar32 = pmaddwd((ulonglong)CONCAT24(sVar35 - sVar26,(uint)(ushort)(sVar33 - sVar20)),
                   0x16a0000016a);
  uVar14 = param_2[0xc];
  uVar40 = param_2[4];
  uVar32 = packssdw(CONCAT44((int)((longlong)uVar44 >> 0x28),(int)uVar44 >> 8),
                    CONCAT44((int)((longlong)uVar32 >> 0x28),(int)uVar32 >> 8));
  sVar19 = (short)uVar32 - sVar13;
  sVar20 = (short)((ulonglong)uVar32 >> 0x10) - sVar16;
  sVar26 = (short)((ulonglong)uVar32 >> 0x20) - sVar17;
  sVar27 = (short)((ulonglong)uVar32 >> 0x30) - sVar18;
  sVar5 = ((short)uVar8 - (short)uVar15) + sVar19;
  sVar9 = ((short)((ulonglong)uVar8 >> 0x10) - sVar9) + sVar20;
  sVar10 = ((short)((ulonglong)uVar8 >> 0x20) - sVar10) + sVar26;
  sVar12 = ((short)((ulonglong)uVar8 >> 0x30) - sVar12) + sVar27;
  param_2[8] = CONCAT26(sVar25 + sVar12,
                        CONCAT24(sVar24 + sVar10,CONCAT22(sVar23 + sVar9,sVar22 + sVar5)));
  sVar28 = (short)((ulonglong)uVar40 >> 0x10);
  sVar33 = (short)((ulonglong)uVar40 >> 0x20);
  sVar35 = (short)((ulonglong)uVar40 >> 0x30);
  param_2[6] = CONCAT26(sVar25 - sVar12,
                        CONCAT24(sVar24 - sVar10,CONCAT22(sVar23 - sVar9,sVar22 - sVar5)));
  uVar8 = *param_2;
  *param_2 = CONCAT26(sVar35 + sVar36,
                      CONCAT24(sVar33 + sVar34,CONCAT22(sVar28 + sVar30,(short)uVar40 + sVar29)));
  sVar5 = (short)((ulonglong)uVar14 >> 0x10);
  sVar9 = (short)((ulonglong)uVar14 >> 0x20);
  sVar10 = (short)((ulonglong)uVar14 >> 0x30);
  param_2[0xe] = CONCAT26(sVar35 - sVar36,
                          CONCAT24(sVar33 - sVar34,CONCAT22(sVar28 - sVar30,(short)uVar40 - sVar29))
                         );
  param_2[2] = CONCAT26(sVar10 + sVar18,
                        CONCAT24(sVar9 + sVar17,CONCAT22(sVar5 + sVar16,(short)uVar14 + sVar13)));
  param_2[0xc] = CONCAT26(sVar10 - sVar18,
                          CONCAT24(sVar9 - sVar17,CONCAT22(sVar5 - sVar16,(short)uVar14 - sVar13)));
  sVar5 = (short)((ulonglong)uVar8 >> 0x10);
  sVar9 = (short)((ulonglong)uVar8 >> 0x20);
  sVar10 = (short)((ulonglong)uVar8 >> 0x30);
  uVar14 = param_2[5];
  param_2[4] = CONCAT26(sVar10 + sVar27,
                        CONCAT24(sVar9 + sVar26,CONCAT22(sVar5 + sVar20,(short)uVar8 + sVar19)));
  param_2[10] = CONCAT26(sVar10 - sVar27,
                         CONCAT24(sVar9 - sVar26,CONCAT22(sVar5 - sVar20,(short)uVar8 - sVar19)));
  uVar40 = param_2[0xd];
  uVar8 = param_2[1];
  sVar9 = (short)((ulonglong)uVar14 >> 0x10);
  sVar13 = (short)((ulonglong)uVar40 >> 0x10);
  sVar5 = sVar9 - sVar13;
  sVar10 = (short)((ulonglong)uVar14 >> 0x20);
  sVar12 = (short)((ulonglong)uVar14 >> 0x30);
  sVar19 = (short)((ulonglong)uVar40 >> 0x20);
  sVar20 = (short)((ulonglong)uVar40 >> 0x30);
  uVar15 = param_2[9];
  sVar16 = (short)uVar14 + (short)uVar40;
  sVar9 = sVar9 + sVar13;
  sVar17 = sVar10 + sVar19;
  sVar18 = sVar12 + sVar20;
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar5,CONCAT22(sVar5,(short)uVar14 - (short)uVar40)) &
                   0xffffffff0000ffff,0x16a0000016a);
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar12 - sVar20,(uint)(ushort)(sVar10 - sVar19)),
                   0x16a0000016a);
  sVar19 = (short)uVar8 + (short)uVar15;
  sVar22 = (short)((ulonglong)uVar8 >> 0x10);
  sVar5 = (short)((ulonglong)uVar15 >> 0x10);
  sVar20 = sVar22 + sVar5;
  sVar23 = (short)((ulonglong)uVar8 >> 0x20);
  sVar25 = (short)((ulonglong)uVar8 >> 0x30);
  sVar10 = (short)((ulonglong)uVar15 >> 0x20);
  sVar24 = sVar23 + sVar10;
  sVar12 = (short)((ulonglong)uVar15 >> 0x30);
  sVar26 = sVar25 + sVar12;
  sVar27 = (short)uVar8 - (short)uVar15;
  sVar22 = sVar22 - sVar5;
  sVar23 = sVar23 - sVar10;
  sVar25 = sVar25 - sVar12;
  uVar14 = packssdw(CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8),
                    CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8));
  sVar5 = (short)uVar14 - sVar16;
  sVar10 = (short)((ulonglong)uVar14 >> 0x10) - sVar9;
  sVar12 = (short)((ulonglong)uVar14 >> 0x20) - sVar17;
  sVar13 = (short)((ulonglong)uVar14 >> 0x30) - sVar18;
  param_2[5] = CONCAT26(sVar26 + sVar18,
                        CONCAT24(sVar24 + sVar17,CONCAT22(sVar20 + sVar9,sVar19 + sVar16)));
  param_2[0xd] = CONCAT26(sVar25 + sVar13,
                          CONCAT24(sVar23 + sVar12,CONCAT22(sVar22 + sVar10,sVar27 + sVar5)));
  sVar19 = sVar19 - sVar16;
  sVar20 = sVar20 - sVar9;
  sVar24 = sVar24 - sVar17;
  sVar26 = sVar26 - sVar18;
  param_2[9] = CONCAT26(sVar25 - sVar13,
                        CONCAT24(sVar23 - sVar12,CONCAT22(sVar22 - sVar10,sVar27 - sVar5)));
  uVar14 = param_2[0xb];
  uVar40 = param_2[7];
  uVar8 = param_2[0xf];
  uVar15 = param_2[3];
  sVar5 = (short)uVar14 + (short)uVar40;
  sVar10 = (short)((ulonglong)uVar14 >> 0x10);
  sVar22 = (short)((ulonglong)uVar40 >> 0x10);
  sVar9 = sVar10 + sVar22;
  sVar13 = (short)((ulonglong)uVar14 >> 0x20);
  sVar16 = (short)((ulonglong)uVar14 >> 0x30);
  sVar23 = (short)((ulonglong)uVar40 >> 0x20);
  sVar12 = sVar13 + sVar23;
  sVar25 = (short)((ulonglong)uVar40 >> 0x30);
  sVar17 = sVar16 + sVar25;
  sVar18 = (short)uVar14 - (short)uVar40;
  sVar10 = sVar10 - sVar22;
  uVar11 = sVar13 - sVar23;
  sVar16 = sVar16 - sVar25;
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar10,CONCAT22(sVar10,sVar18)) & 0xffffffff0000ffff,
                   0xfd630000fd63);
  uVar40 = pmaddwd((ulonglong)CONCAT24(sVar16,(uint)uVar11),0xfd630000fd63);
  sVar27 = (short)uVar15 + (short)uVar8;
  sVar13 = (short)((ulonglong)uVar8 >> 0x10);
  sVar28 = (short)((ulonglong)uVar15 >> 0x10);
  sVar22 = sVar28 + sVar13;
  sVar23 = (short)((ulonglong)uVar8 >> 0x20);
  sVar30 = (short)((ulonglong)uVar15 >> 0x20);
  sVar34 = (short)((ulonglong)uVar15 >> 0x30);
  sVar29 = sVar30 + sVar23;
  sVar25 = (short)((ulonglong)uVar8 >> 0x30);
  sVar33 = sVar34 + sVar25;
  sVar38 = (short)uVar15 - (short)uVar8;
  sVar28 = sVar28 - sVar13;
  uVar45 = sVar30 - sVar23;
  sVar34 = sVar34 - sVar25;
  sVar35 = sVar27 + sVar5;
  sVar36 = sVar22 + sVar9;
  sVar42 = sVar29 + sVar12;
  sVar37 = sVar33 + sVar17;
  uVar40 = packssdw(CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8),
                    CONCAT44((int)((longlong)uVar40 >> 0x28),(int)uVar40 >> 8));
  sVar22 = sVar22 - sVar9;
  uVar8 = pmaddwd((ulonglong)CONCAT24(sVar22,CONCAT22(sVar22,sVar27 - sVar5)) & 0xffffffff0000ffff,
                  0x16a0000016a);
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar33 - sVar17,(uint)(ushort)(sVar29 - sVar12)),
                   0x16a0000016a);
  uVar32 = packssdw(CONCAT44((int)((longlong)uVar8 >> 0x28),(int)uVar8 >> 8),
                    CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8));
  uVar8 = pmaddwd((ulonglong)CONCAT24(sVar10 + sVar28,CONCAT22(sVar10 + sVar28,sVar18 + sVar38)) &
                  0xffffffff0000ffff,0x1d9000001d9);
  uVar14 = pmaddwd((ulonglong)CONCAT24(sVar16 + sVar34,(uint)(ushort)(uVar11 + uVar45)),
                   0x1d9000001d9);
  uVar15 = packssdw(CONCAT44((int)((longlong)uVar8 >> 0x28),(int)uVar8 >> 8),
                    CONCAT44((int)((longlong)uVar14 >> 0x28),(int)uVar14 >> 8));
  uVar44 = pmaddwd((ulonglong)CONCAT24(sVar28,CONCAT22(sVar28,sVar38)) & 0xffffffff0000ffff,
                   0x11500000115);
  uVar8 = pmaddwd((ulonglong)CONCAT24(sVar34,(uint)uVar45),0x11500000115);
  uVar14 = param_2[5];
  uVar8 = packssdw(CONCAT44((int)((longlong)uVar44 >> 0x28),(int)uVar44 >> 8),
                   CONCAT44((int)((longlong)uVar8 >> 0x28),(int)uVar8 >> 8));
  sVar9 = (short)((ulonglong)uVar15 >> 0x10);
  sVar12 = (short)((ulonglong)uVar15 >> 0x20);
  sVar16 = (short)((ulonglong)uVar15 >> 0x30);
  sVar17 = ((short)uVar15 + (short)uVar40) - sVar35;
  sVar18 = (sVar9 + (short)((ulonglong)uVar40 >> 0x10)) - sVar36;
  sVar23 = (sVar12 + (short)((ulonglong)uVar40 >> 0x20)) - sVar42;
  sVar27 = (sVar16 + (short)((ulonglong)uVar40 >> 0x30)) - sVar37;
  sVar29 = (short)uVar32 - sVar17;
  sVar30 = (short)((ulonglong)uVar32 >> 0x10) - sVar18;
  sVar33 = (short)((ulonglong)uVar32 >> 0x20) - sVar23;
  sVar34 = (short)((ulonglong)uVar32 >> 0x30) - sVar27;
  sVar5 = (short)((ulonglong)uVar14 >> 0x10);
  sVar10 = (short)((ulonglong)uVar14 >> 0x20);
  sVar13 = (short)((ulonglong)uVar14 >> 0x30);
  uVar40 = param_2[0xd];
  sVar38 = ((short)uVar8 - (short)uVar15) + sVar29;
  sVar39 = ((short)((ulonglong)uVar8 >> 0x10) - sVar9) + sVar30;
  sVar41 = ((short)((ulonglong)uVar8 >> 0x20) - sVar12) + sVar33;
  sVar43 = ((short)((ulonglong)uVar8 >> 0x30) - sVar16) + sVar34;
  param_2[1] = CONCAT26(sVar13 + sVar37,
                        CONCAT24(sVar10 + sVar42,CONCAT22(sVar5 + sVar36,(short)uVar14 + sVar35)));
  uVar8 = param_2[9];
  param_2[7] = CONCAT26(sVar26 - sVar43,
                        CONCAT24(sVar24 - sVar41,CONCAT22(sVar20 - sVar39,sVar19 - sVar38)));
  sVar22 = (short)((ulonglong)uVar40 >> 0x10);
  sVar25 = (short)((ulonglong)uVar40 >> 0x20);
  sVar28 = (short)((ulonglong)uVar40 >> 0x30);
  param_2[3] = CONCAT26(sVar28 + sVar27,
                        CONCAT24(sVar25 + sVar23,CONCAT22(sVar22 + sVar18,(short)uVar40 + sVar17)));
  sVar9 = (short)((ulonglong)uVar8 >> 0x10);
  sVar12 = (short)((ulonglong)uVar8 >> 0x20);
  sVar16 = (short)((ulonglong)uVar8 >> 0x30);
  param_2[5] = CONCAT26(sVar16 + sVar34,
                        CONCAT24(sVar12 + sVar33,CONCAT22(sVar9 + sVar30,(short)uVar8 + sVar29)));
  iVar3 = param_4[4] + param_5;
  uVar15 = *param_2;
  uVar32 = param_2[2];
  uVar11 = (ushort)(sVar19 + sVar38) >> 5;
  uVar7 = CONCAT24((ushort)((short)uVar40 - sVar17) >> 5,
                   CONCAT22((ushort)((short)uVar8 - sVar29) >> 5,uVar11));
  uVar45 = (ushort)((short)uVar14 - sVar35) >> 5;
  *(undefined1 *)(iVar3 + 4) = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  *(undefined1 *)(iVar3 + 5) = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  *(undefined1 *)(iVar3 + 6) =
       *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  *(undefined1 *)(iVar3 + 7) = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  iVar3 = param_4[5] + param_5;
  uVar11 = (ushort)(sVar20 + sVar39) >> 5;
  uVar7 = CONCAT24((ushort)(sVar22 - sVar18) >> 5,CONCAT22((ushort)(sVar9 - sVar30) >> 5,uVar11));
  uVar45 = (ushort)(sVar5 - sVar36) >> 5;
  *(undefined1 *)(iVar3 + 4) = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  *(undefined1 *)(iVar3 + 5) = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  *(undefined1 *)(iVar3 + 6) =
       *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  *(undefined1 *)(iVar3 + 7) = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  iVar3 = param_4[6] + param_5;
  uVar11 = (ushort)(sVar24 + sVar41) >> 5;
  uVar7 = CONCAT24((ushort)(sVar25 - sVar23) >> 5,CONCAT22((ushort)(sVar12 - sVar33) >> 5,uVar11));
  uVar45 = (ushort)(sVar10 - sVar42) >> 5;
  *(undefined1 *)(iVar3 + 4) = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  *(undefined1 *)(iVar3 + 5) = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  *(undefined1 *)(iVar3 + 6) =
       *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  *(undefined1 *)(iVar3 + 7) = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  iVar3 = param_4[7] + param_5;
  uVar11 = (ushort)(sVar26 + sVar43) >> 5;
  uVar7 = CONCAT24((ushort)(sVar28 - sVar27) >> 5,CONCAT22((ushort)(sVar16 - sVar34) >> 5,uVar11));
  uVar45 = (ushort)(sVar13 - sVar37) >> 5;
  *(undefined1 *)(iVar3 + 4) = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  *(undefined1 *)(iVar3 + 5) = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  *(undefined1 *)(iVar3 + 6) =
       *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  *(undefined1 *)(iVar3 + 7) = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  puVar4 = (undefined1 *)(*param_4 + param_5);
  uVar14 = param_2[6];
  uVar40 = param_2[4];
  uVar11 = (ushort)uVar15 >> 5;
  uVar7 = CONCAT24((ushort)uVar40 >> 5,CONCAT22((ushort)uVar32 >> 5,uVar11));
  uVar45 = (ushort)uVar14 >> 5;
  *puVar4 = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  puVar4[1] = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  puVar4[2] = *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  puVar4[3] = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  puVar4 = (undefined1 *)(param_4[1] + param_5);
  uVar11 = (ushort)((ulonglong)uVar15 >> 0x10) >> 5;
  uVar7 = CONCAT24((ushort)((ulonglong)uVar40 >> 0x10) >> 5,
                   CONCAT22((ushort)((ulonglong)uVar32 >> 0x10) >> 5,uVar11));
  uVar45 = (ushort)((ulonglong)uVar14 >> 0x10) >> 5;
  *puVar4 = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  puVar4[1] = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  puVar4[2] = *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  puVar4[3] = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  puVar4 = (undefined1 *)(param_4[2] + param_5);
  uVar11 = (ushort)((ulonglong)uVar15 >> 0x20) >> 5;
  uVar7 = CONCAT24((ushort)((ulonglong)uVar40 >> 0x20) >> 5,
                   CONCAT22((ushort)((ulonglong)uVar32 >> 0x20) >> 5,uVar11));
  uVar45 = (ushort)((ulonglong)uVar14 >> 0x20) >> 5;
  *puVar4 = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  puVar4[1] = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  puVar4[2] = *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  puVar4[3] = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  puVar4 = (undefined1 *)(param_4[3] + param_5);
  uVar11 = (ushort)((ulonglong)uVar15 >> 0x35);
  uVar7 = CONCAT24((ushort)((ulonglong)uVar40 >> 0x35),
                   CONCAT22((ushort)((ulonglong)uVar32 >> 0x35),uVar11));
  uVar45 = (ushort)((ulonglong)uVar14 >> 0x35);
  *puVar4 = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  puVar4[1] = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  puVar4[2] = *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  puVar4[3] = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  puVar4 = (undefined1 *)(param_4[4] + param_5);
  uVar14 = param_2[1];
  uVar40 = param_2[3];
  uVar8 = param_2[5];
  uVar15 = param_2[7];
  uVar32 = param_2[8];
  uVar11 = (ushort)uVar14 >> 5;
  uVar7 = CONCAT24((ushort)uVar8 >> 5,CONCAT22((ushort)uVar40 >> 5,uVar11));
  uVar45 = (ushort)uVar15 >> 5;
  *puVar4 = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  puVar4[1] = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  puVar4[2] = *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  puVar4[3] = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  puVar4 = (undefined1 *)(param_4[5] + param_5);
  uVar44 = param_2[10];
  uVar11 = (ushort)((ulonglong)uVar14 >> 0x10) >> 5;
  uVar7 = CONCAT24((ushort)((ulonglong)uVar8 >> 0x10) >> 5,
                   CONCAT22((ushort)((ulonglong)uVar40 >> 0x10) >> 5,uVar11));
  uVar45 = (ushort)((ulonglong)uVar15 >> 0x10) >> 5;
  *puVar4 = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  puVar4[1] = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  puVar4[2] = *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  puVar4[3] = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  puVar4 = (undefined1 *)(param_4[6] + param_5);
  uVar1 = param_2[0xc];
  uVar2 = param_2[0xe];
  uVar11 = (ushort)((ulonglong)uVar14 >> 0x20) >> 5;
  uVar7 = CONCAT24((ushort)((ulonglong)uVar8 >> 0x20) >> 5,
                   CONCAT22((ushort)((ulonglong)uVar40 >> 0x20) >> 5,uVar11));
  uVar45 = (ushort)((ulonglong)uVar15 >> 0x20) >> 5;
  *puVar4 = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  puVar4[1] = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  puVar4[2] = *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  puVar4[3] = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  puVar4 = (undefined1 *)(param_4[7] + param_5);
  uVar11 = (ushort)((ulonglong)uVar14 >> 0x35);
  uVar7 = CONCAT24((ushort)((ulonglong)uVar8 >> 0x35),
                   CONCAT22((ushort)((ulonglong)uVar40 >> 0x35),uVar11));
  uVar45 = (ushort)((ulonglong)uVar15 >> 0x35);
  *puVar4 = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  puVar4[1] = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  puVar4[2] = *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  puVar4[3] = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  iVar3 = *param_4 + param_5;
  uVar11 = (ushort)uVar32 >> 5;
  uVar7 = CONCAT24((ushort)uVar1 >> 5,CONCAT22((ushort)uVar44 >> 5,uVar11));
  uVar45 = (ushort)uVar2 >> 5;
  *(undefined1 *)(iVar3 + 4) = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  *(undefined1 *)(iVar3 + 5) = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  *(undefined1 *)(iVar3 + 6) =
       *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  *(undefined1 *)(iVar3 + 7) = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  iVar3 = param_4[1] + param_5;
  uVar11 = (ushort)((ulonglong)uVar32 >> 0x10) >> 5;
  uVar7 = CONCAT24((ushort)((ulonglong)uVar1 >> 0x10) >> 5,
                   CONCAT22((ushort)((ulonglong)uVar44 >> 0x10) >> 5,uVar11));
  uVar45 = (ushort)((ulonglong)uVar2 >> 0x10) >> 5;
  *(undefined1 *)(iVar3 + 4) = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  *(undefined1 *)(iVar3 + 5) = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  *(undefined1 *)(iVar3 + 6) =
       *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  *(undefined1 *)(iVar3 + 7) = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  iVar3 = param_4[2] + param_5;
  uVar11 = (ushort)((ulonglong)uVar32 >> 0x20) >> 5;
  uVar7 = CONCAT24((ushort)((ulonglong)uVar1 >> 0x20) >> 5,
                   CONCAT22((ushort)((ulonglong)uVar44 >> 0x20) >> 5,uVar11));
  uVar45 = (ushort)((ulonglong)uVar2 >> 0x20) >> 5;
  *(undefined1 *)(iVar3 + 4) = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  *(undefined1 *)(iVar3 + 5) = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  *(undefined1 *)(iVar3 + 6) =
       *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  *(undefined1 *)(iVar3 + 7) = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  iVar3 = param_4[3] + param_5;
  uVar11 = (ushort)((ulonglong)uVar32 >> 0x35);
  uVar7 = CONCAT24((ushort)((ulonglong)uVar1 >> 0x35),
                   CONCAT22((ushort)((ulonglong)uVar44 >> 0x35),uVar11));
  uVar45 = (ushort)((ulonglong)uVar2 >> 0x35);
  *(undefined1 *)(iVar3 + 4) = *(undefined1 *)(param_6 + (uVar11 & 0x3ff));
  *(undefined1 *)(iVar3 + 5) = *(undefined1 *)(param_6 + ((uint)((uint6)uVar7 >> 0x10) & 0x3ff));
  *(undefined1 *)(iVar3 + 6) =
       *(undefined1 *)(param_6 + ((uint)(CONCAT26(uVar45,uVar7) >> 0x20) & 0x3ff));
  *(undefined1 *)(iVar3 + 7) = *(undefined1 *)(param_6 + (uVar45 & 0x3ff));
  return;
}



/* FUN_10038bbd @ 10038bbd */

uint __cdecl
FUN_10038bbd(uint param_1,uint param_2,int param_3,int param_4,int param_5,byte *param_6)

{
  byte bVar1;
  int iVar2;
  byte *pbVar3;
  byte *pbVar4;
  byte *pbVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  byte *local_14;
  uint local_10;
  byte *local_c;
  uint local_8;
  
  pbVar3 = param_6;
  local_c = *(byte **)param_6;
  local_8 = *(uint *)(param_6 + 4);
  param_6 = *(byte **)(param_5 + 0x34);
  uVar9 = *(uint *)(param_5 + 0x1c);
  if (param_6 < *(byte **)(param_5 + 0x30)) {
    local_14 = *(byte **)(param_5 + 0x30) + (-1 - (int)param_6);
  }
  else {
    local_14 = (byte *)(*(int *)(param_5 + 0x2c) - (int)param_6);
  }
  uVar8 = *(uint *)(&DAT_10057020 + param_1 * 4);
  uVar6 = *(uint *)(&DAT_10057020 + param_2 * 4);
  param_1 = *(uint *)(param_5 + 0x20);
  do {
    for (; uVar9 < 0x14; uVar9 = uVar9 + 8) {
      local_8 = local_8 - 1;
      param_1 = param_1 | (uint)*local_c << ((byte)uVar9 & 0x1f);
      local_c = local_c + 1;
    }
    pbVar4 = (byte *)(param_3 + (uVar8 & param_1) * 8);
    bVar1 = *pbVar4;
LAB_10038c62:
    uVar7 = (uint)bVar1;
    if (uVar7 != 0) {
      param_1 = param_1 >> (pbVar4[1] & 0x1f);
      uVar9 = uVar9 - pbVar4[1];
      if ((bVar1 & 0x10) != 0) {
        uVar7 = uVar7 & 0xf;
        local_10 = (*(uint *)(&DAT_10057020 + uVar7 * 4) & param_1) + *(int *)(pbVar4 + 4);
        uVar10 = param_1 >> (sbyte)uVar7;
        for (uVar9 = uVar9 - uVar7; uVar9 < 0xf; uVar9 = uVar9 + 8) {
          local_8 = local_8 - 1;
          uVar10 = uVar10 | (uint)*local_c << ((byte)uVar9 & 0x1f);
          local_c = local_c + 1;
        }
        pbVar4 = (byte *)(param_4 + (uVar6 & uVar10) * 8);
        param_1 = uVar10 >> (pbVar4[1] & 0x1f);
        uVar9 = uVar9 - pbVar4[1];
        while( true ) {
          bVar1 = *pbVar4;
          if ((bVar1 & 0x10) != 0) {
            uVar7 = bVar1 & 0xf;
            for (; uVar9 < uVar7; uVar9 = uVar9 + 8) {
              local_8 = local_8 - 1;
              param_1 = param_1 | (uint)*local_c << ((byte)uVar9 & 0x1f);
              local_c = local_c + 1;
            }
            uVar10 = (*(uint *)(&DAT_10057020 + uVar7 * 4) & param_1) + *(int *)(pbVar4 + 4);
            local_14 = local_14 + -local_10;
            param_1 = param_1 >> (sbyte)uVar7;
            uVar9 = uVar9 - uVar7;
            if ((uint)((int)param_6 - *(int *)(param_5 + 0x28)) < uVar10) {
              param_2 = (*(int *)(param_5 + 0x28) - (int)param_6) + uVar10;
              pbVar5 = (byte *)(*(int *)(param_5 + 0x2c) - param_2);
              pbVar4 = param_6;
              if (param_2 < local_10) {
                local_10 = local_10 - param_2;
                do {
                  bVar1 = *pbVar5;
                  pbVar4 = param_6 + 1;
                  pbVar5 = pbVar5 + 1;
                  param_2 = param_2 - 1;
                  *param_6 = bVar1;
                  param_6 = pbVar4;
                } while (param_2 != 0);
                pbVar5 = *(byte **)(param_5 + 0x28);
              }
            }
            else {
              pbVar5 = param_6 + -uVar10;
              *param_6 = *pbVar5;
              param_6[1] = pbVar5[1];
              pbVar5 = pbVar5 + 2;
              local_10 = local_10 - 2;
              pbVar4 = param_6 + 2;
            }
            do {
              *pbVar4 = *pbVar5;
              param_6 = pbVar4 + 1;
              pbVar5 = pbVar5 + 1;
              local_10 = local_10 - 1;
              pbVar4 = param_6;
            } while (local_10 != 0);
            goto LAB_10038dc1;
          }
          if ((bVar1 & 0x40) != 0) break;
          pbVar4 = pbVar4 + ((*(uint *)(&DAT_10057020 + (uint)bVar1 * 4) & param_1) +
                            *(int *)(pbVar4 + 4)) * 8;
          param_1 = param_1 >> (pbVar4[1] & 0x1f);
          uVar9 = uVar9 - pbVar4[1];
        }
        *(char **)(pbVar3 + 0x18) = "invalid distance code";
        uVar8 = *(int *)(pbVar3 + 4) - local_8;
        if (uVar9 >> 3 < *(int *)(pbVar3 + 4) - local_8) {
          uVar8 = uVar9 >> 3;
        }
LAB_10038e3a:
        param_2 = 0xfffffffd;
        goto LAB_10038e41;
      }
      if ((bVar1 & 0x40) == 0) break;
      uVar6 = uVar9 >> 3;
      if ((bVar1 & 0x20) == 0) {
        uVar8 = *(int *)(pbVar3 + 4) - local_8;
        *(char **)(pbVar3 + 0x18) = "invalid literal/length code";
        if (uVar6 < uVar8) {
          uVar8 = uVar6;
        }
        goto LAB_10038e3a;
      }
      uVar8 = *(int *)(pbVar3 + 4) - local_8;
      if (uVar6 < uVar8) {
        uVar8 = uVar6;
      }
      param_2 = 1;
      goto LAB_10038e41;
    }
    param_1 = param_1 >> (pbVar4[1] & 0x1f);
    uVar9 = uVar9 - pbVar4[1];
    local_14 = local_14 + -1;
    *param_6 = pbVar4[4];
    param_6 = param_6 + 1;
LAB_10038dc1:
    if ((local_14 < (byte *)0x102) || (local_8 < 10)) {
      uVar8 = *(int *)(pbVar3 + 4) - local_8;
      if (uVar9 >> 3 < *(int *)(pbVar3 + 4) - local_8) {
        uVar8 = uVar9 >> 3;
      }
      param_2 = 0;
LAB_10038e41:
      *(uint *)(param_5 + 0x20) = param_1;
      *(uint *)(param_5 + 0x1c) = uVar9 + uVar8 * -8;
      *(uint *)(pbVar3 + 4) = uVar8 + local_8;
      iVar2 = *(int *)pbVar3;
      *(uint *)pbVar3 = (int)local_c - uVar8;
      *(uint *)(pbVar3 + 8) = *(int *)(pbVar3 + 8) + (((int)local_c - uVar8) - iVar2);
      *(byte **)(param_5 + 0x34) = param_6;
      return param_2;
    }
  } while( true );
  pbVar4 = pbVar4 + ((*(uint *)(&DAT_10057020 + uVar7 * 4) & param_1) + *(int *)(pbVar4 + 4)) * 8;
  bVar1 = *pbVar4;
  goto LAB_10038c62;
}



/* FUN_1003a990 @ 1003a990 */

void __cdecl FUN_1003a990(int param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 uVar3;
  
  if (*(int *)(param_1 + 0x14) == 0) {
    iVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x30);
    *(int *)(param_1 + 0x14) = iVar2;
    uVar3 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x1000);
    *(undefined4 *)(iVar2 + 0x28) = uVar3;
  }
  puVar1 = *(undefined4 **)(param_1 + 0x14);
  puVar1[2] = &LAB_1003aa10;
  puVar1[3] = FUN_1003aa20;
  puVar1[4] = FUN_1003aac0;
  puVar1[5] = &LAB_1003b560;
  puVar1[6] = &DAT_1003ab00;
  puVar1[7] = param_2;
  puVar1[8] = param_3;
  puVar1[9] = 0;
  puVar1[1] = 0;
  *puVar1 = 0;
  return;
}



/* FUN_1003aa20 @ 1003aa20 */

undefined4 __cdecl FUN_1003aa20(int *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  puVar1 = (undefined4 *)param_1[5];
  iVar2 = puVar1[9];
  if (iVar2 < (int)puVar1[8]) {
    uVar3 = puVar1[8] - iVar2;
    if (0x1000 < (int)uVar3) {
      uVar3 = 0x1000;
    }
    puVar5 = (undefined4 *)(puVar1[7] + iVar2);
    puVar6 = (undefined4 *)puVar1[10];
    for (uVar4 = uVar3 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
      *puVar6 = *puVar5;
      puVar5 = puVar5 + 1;
      puVar6 = puVar6 + 1;
    }
    for (uVar4 = uVar3 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
      *(undefined1 *)puVar6 = *(undefined1 *)puVar5;
      puVar5 = (undefined4 *)((int)puVar5 + 1);
      puVar6 = (undefined4 *)((int)puVar6 + 1);
    }
    puVar1[9] = puVar1[9] + uVar3;
    puVar1[1] = uVar3;
    *puVar1 = puVar1[10];
    *(undefined1 *)(puVar1 + 0xb) = 0;
    return CONCAT31((int3)(uVar3 >> 8),1);
  }
  if (*(char *)(puVar1 + 0xb) != '\0') {
    *(undefined4 *)(*param_1 + 0x14) = 0x29;
    (**(code **)*param_1)(param_1);
  }
  *(undefined4 *)(*param_1 + 0x14) = 0x74;
  (**(code **)(*param_1 + 4))(param_1,0xffffffff);
  *(undefined1 *)puVar1[10] = 0xff;
  *(undefined1 *)(puVar1[10] + 1) = 0xd9;
  puVar1[1] = 2;
  *puVar1 = puVar1[10];
  *(undefined1 *)(puVar1 + 0xb) = 0;
  return 1;
}



/* FUN_1003aac0 @ 1003aac0 */

void __cdecl FUN_1003aac0(int *param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  
  piVar1 = (int *)param_1[5];
  if (0 < param_2) {
    iVar2 = piVar1[1];
    if (iVar2 < param_2) {
      do {
        param_2 = param_2 - iVar2;
        FUN_1003aa20(param_1);
        iVar2 = piVar1[1];
      } while (iVar2 < param_2);
    }
    *piVar1 = *piVar1 + param_2;
    piVar1[1] = piVar1[1] - param_2;
  }
  return;
}



/* FUN_1003ab10 @ 1003ab10 */

void __cdecl FUN_1003ab10(undefined4 *param_1)

{
  *param_1 = FUN_1003ab60;
  param_1[1] = &LAB_1003abc0;
  param_1[2] = &LAB_1003ab80;
  param_1[3] = &LAB_1003ac00;
  param_1[4] = &LAB_1003acb0;
  param_1[0x1a] = 0;
  param_1[0x1b] = 0;
  param_1[5] = 0;
  param_1[0x1c] = &PTR_s_Bogus_message_code__d_1005035c;
  param_1[0x1d] = 0x77;
  param_1[0x1e] = 0;
  param_1[0x1f] = 0;
  param_1[0x20] = 0;
  return;
}



/* FUN_1003ab60 @ 1003ab60 */

void __cdecl FUN_1003ab60(int *param_1)

{
  (**(code **)(*param_1 + 8))(param_1);
  FUN_1003dd30((int)param_1);
  return;
}



/* FUN_1003acd0 @ 1003acd0 */

void __cdecl FUN_1003acd0(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x18);
  *(undefined4 **)(param_1 + 0x18c) = puVar1;
  *puVar1 = &LAB_1003afc0;
  puVar1[1] = FUN_1003b520;
  puVar1[2] = &LAB_1003ad20;
  puVar1[3] = &LAB_1003afa0;
  *(undefined1 *)(puVar1 + 4) = 0;
  *(undefined1 *)((int)puVar1 + 0x11) = 0;
  *(undefined1 *)(puVar1 + 5) = 1;
  return;
}



/* FUN_1003b370 @ 1003b370 */

uint __cdecl FUN_1003b370(int *param_1)

{
  uint uVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  int *piStack_4;
  
  piVar2 = param_1;
  iVar3 = param_1[0x48];
  if (iVar3 != 1) {
    if ((iVar3 < 1) || (4 < iVar3)) {
      *(undefined4 *)(*param_1 + 0x14) = 0x18;
      *(int *)(*param_1 + 0x18) = param_1[0x48];
      *(undefined4 *)(*param_1 + 0x1c) = 4;
      (**(code **)*param_1)(param_1);
    }
    iVar3 = FUN_1003e460(param_1[6],param_1[0x43] << 3);
    param_1[0x4d] = iVar3;
    iVar3 = FUN_1003e460(param_1[7],param_1[0x44] << 3);
    param_1[0x4e] = iVar3;
    piVar4 = (int *)param_1[0x48];
    param_1[0x4f] = 0;
    param_1 = (int *)0x0;
    if (0 < (int)piVar4) {
      piStack_4 = piVar2 + 0x49;
      do {
        iVar3 = *piStack_4;
        uVar6 = *(uint *)(iVar3 + 8);
        uVar1 = *(uint *)(iVar3 + 0xc);
        *(uint *)(iVar3 + 0x40) = *(int *)(iVar3 + 0x24) * uVar6;
        uVar5 = *(uint *)(iVar3 + 0x1c) % uVar6;
        iVar7 = uVar1 * uVar6;
        *(uint *)(iVar3 + 0x34) = uVar6;
        *(uint *)(iVar3 + 0x38) = uVar1;
        *(int *)(iVar3 + 0x3c) = iVar7;
        if (uVar5 == 0) {
          uVar5 = uVar6;
        }
        *(uint *)(iVar3 + 0x44) = uVar5;
        uVar6 = *(uint *)(iVar3 + 0x20) % uVar1;
        if (uVar6 == 0) {
          uVar6 = uVar1;
        }
        *(uint *)(iVar3 + 0x48) = uVar6;
        if (10 < piVar2[0x4f] + iVar7) {
          *(undefined4 *)(*piVar2 + 0x14) = 0xb;
          (**(code **)*piVar2)(piVar2);
        }
        if (0 < iVar7) {
          do {
            piVar2[piVar2[0x4f] + 0x50] = (int)param_1;
            iVar7 = iVar7 + -1;
            piVar2[0x4f] = piVar2[0x4f] + 1;
          } while (iVar7 != 0);
        }
        piVar4 = (int *)((int)param_1 + 1);
        piStack_4 = piStack_4 + 1;
        param_1 = piVar4;
      } while ((int)piVar4 < piVar2[0x48]);
    }
    return (uint)piVar4;
  }
  iVar3 = param_1[0x49];
  param_1[0x4d] = *(int *)(iVar3 + 0x1c);
  param_1[0x4e] = *(int *)(iVar3 + 0x20);
  uVar6 = *(uint *)(iVar3 + 0xc);
  *(undefined4 *)(iVar3 + 0x40) = *(undefined4 *)(iVar3 + 0x24);
  uVar1 = *(uint *)(iVar3 + 0x20);
  uVar5 = uVar1 % uVar6;
  *(undefined4 *)(iVar3 + 0x34) = 1;
  *(undefined4 *)(iVar3 + 0x38) = 1;
  *(undefined4 *)(iVar3 + 0x3c) = 1;
  *(undefined4 *)(iVar3 + 0x44) = 1;
  if (uVar5 == 0) {
    uVar5 = uVar6;
  }
  *(uint *)(iVar3 + 0x48) = uVar5;
  param_1[0x4f] = 1;
  param_1[0x50] = 0;
  return uVar1 / uVar6;
}



/* FUN_1003b520 @ 1003b520 */

void __cdecl FUN_1003b520(int *param_1)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)param_1[99];
  *puVar1 = &LAB_1003afc0;
  *(undefined1 *)(puVar1 + 4) = 0;
  *(undefined1 *)((int)puVar1 + 0x11) = 0;
  *(undefined1 *)(puVar1 + 5) = 1;
  (**(code **)(*param_1 + 0x10))(param_1);
  (**(code **)param_1[100])(param_1);
  param_1[0x23] = 0;
  return;
}



/* FUN_1003b660 @ 1003b660 */

uint __cdecl FUN_1003b660(int *param_1)

{
  byte bVar1;
  undefined4 *puVar2;
  uint uVar3;
  int iVar4;
  byte *pbVar5;
  
  puVar2 = (undefined4 *)param_1[5];
  iVar4 = puVar2[1];
  pbVar5 = (byte *)*puVar2;
  do {
    if (iVar4 == 0) {
      uVar3 = (*(code *)puVar2[3])(param_1);
      if ((char)uVar3 == '\0') {
LAB_1003b705:
        return uVar3 & 0xffffff00;
      }
      pbVar5 = (byte *)*puVar2;
      iVar4 = puVar2[1];
    }
    bVar1 = *pbVar5;
    while( true ) {
      pbVar5 = pbVar5 + 1;
      iVar4 = iVar4 + -1;
      if (bVar1 == 0xff) break;
      *(int *)(param_1[100] + 0x58) = *(int *)(param_1[100] + 0x58) + 1;
      *puVar2 = pbVar5;
      puVar2[1] = iVar4;
      if (iVar4 == 0) {
        uVar3 = (*(code *)puVar2[3])(param_1);
        if ((char)uVar3 == '\0') goto LAB_1003b705;
        pbVar5 = (byte *)*puVar2;
        iVar4 = puVar2[1];
      }
      bVar1 = *pbVar5;
    }
    do {
      if (iVar4 == 0) {
        uVar3 = (*(code *)puVar2[3])(param_1);
        if ((char)uVar3 == '\0') goto LAB_1003b705;
        pbVar5 = (byte *)*puVar2;
        iVar4 = puVar2[1];
      }
      uVar3 = (uint)*pbVar5;
      iVar4 = iVar4 + -1;
      pbVar5 = pbVar5 + 1;
    } while (uVar3 == 0xff);
    if (uVar3 != 0) {
      if (*(int *)(param_1[100] + 0x58) != 0) {
        *(undefined4 *)(*param_1 + 0x14) = 0x70;
        *(undefined4 *)(*param_1 + 0x18) = *(undefined4 *)(param_1[100] + 0x58);
        *(uint *)(*param_1 + 0x1c) = uVar3;
        (**(code **)(*param_1 + 4))(param_1,0xffffffff);
        *(undefined4 *)(param_1[100] + 0x58) = 0;
      }
      param_1[0x5e] = uVar3;
      *puVar2 = pbVar5;
      puVar2[1] = iVar4;
      return 1;
    }
    *(int *)(param_1[100] + 0x58) = *(int *)(param_1[100] + 0x58) + 2;
    *puVar2 = pbVar5;
    puVar2[1] = iVar4;
  } while( true );
}



/* FUN_1003b770 @ 1003b770 */

void __cdecl FUN_1003b770(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x5c);
  *(undefined4 **)(param_1 + 400) = puVar1;
  *puVar1 = &LAB_1003d090;
  *(undefined1 **)(*(int *)(param_1 + 400) + 4) = &LAB_1003bd30;
  *(code **)(*(int *)(param_1 + 400) + 8) = FUN_1003d000;
  *(code **)(*(int *)(param_1 + 400) + 0xc) = FUN_1003bc90;
  iVar2 = 0x10;
  do {
    *(code **)(*(int *)(param_1 + 400) + iVar2) = FUN_1003bc90;
    iVar2 = iVar2 + 4;
  } while (iVar2 < 0x50);
  *(undefined1 **)(*(int *)(param_1 + 400) + 0x10) = &LAB_1003b820;
  *(undefined1 **)(*(int *)(param_1 + 400) + 0x48) = &LAB_1003bac0;
  *(undefined4 *)(param_1 + 0xc4) = 0;
  *(undefined4 *)(param_1 + 0x7c) = 0;
  *(undefined4 *)(param_1 + 0x178) = 0;
  *(undefined1 *)(*(int *)(param_1 + 400) + 0x50) = 0;
  *(undefined1 *)(*(int *)(param_1 + 400) + 0x51) = 0;
  *(undefined4 *)(*(int *)(param_1 + 400) + 0x58) = 0;
  return;
}



/* FUN_1003bc90 @ 1003bc90 */

undefined4 __cdecl FUN_1003bc90(int *param_1)

{
  byte bVar1;
  byte bVar2;
  undefined4 *puVar3;
  uint uVar4;
  int iVar5;
  undefined4 uVar6;
  int iVar7;
  byte *pbVar8;
  
  puVar3 = (undefined4 *)param_1[5];
  iVar7 = puVar3[1];
  pbVar8 = (byte *)*puVar3;
  if (iVar7 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003bd27;
    pbVar8 = (byte *)*puVar3;
    iVar7 = puVar3[1];
  }
  bVar1 = *pbVar8;
  iVar7 = iVar7 + -1;
  pbVar8 = pbVar8 + 1;
  if (iVar7 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') {
LAB_1003bd27:
      return uVar4 & 0xffffff00;
    }
    pbVar8 = (byte *)*puVar3;
    iVar7 = puVar3[1];
  }
  bVar2 = *pbVar8;
  *(undefined4 *)(*param_1 + 0x14) = 0x5a;
  iVar5 = (uint)bVar1 * 0x100 + (uint)bVar2;
  *(int *)(*param_1 + 0x18) = param_1[0x5e];
  *(int *)(*param_1 + 0x1c) = iVar5;
  (**(code **)(*param_1 + 4))(param_1,1);
  *puVar3 = pbVar8 + 1;
  puVar3[1] = iVar7 + -1;
  uVar6 = (**(code **)(param_1[5] + 0x10))(param_1,iVar5 + -2);
  return CONCAT31((int3)((uint)uVar6 >> 8),1);
}



/* FUN_1003c320 @ 1003c320 */

uint __cdecl FUN_1003c320(int *param_1,undefined1 param_2,undefined1 param_3)

{
  byte bVar1;
  byte bVar2;
  undefined4 *puVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  uint *puVar7;
  byte *pbVar8;
  byte *pbVar9;
  
  puVar3 = (undefined4 *)param_1[5];
  iVar6 = puVar3[1];
  pbVar8 = (byte *)*puVar3;
  *(undefined1 *)(param_1 + 0x32) = param_2;
  *(undefined1 *)((int)param_1 + 0xc9) = param_3;
  if (iVar6 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003c635;
    pbVar8 = (byte *)*puVar3;
    iVar6 = puVar3[1];
  }
  bVar1 = *pbVar8;
  iVar6 = iVar6 + -1;
  pbVar8 = pbVar8 + 1;
  if (iVar6 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003c635;
    pbVar8 = (byte *)*puVar3;
    iVar6 = puVar3[1];
  }
  bVar2 = *pbVar8;
  iVar6 = iVar6 + -1;
  pbVar8 = pbVar8 + 1;
  if (iVar6 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003c635;
    pbVar8 = (byte *)*puVar3;
    iVar6 = puVar3[1];
  }
  iVar6 = iVar6 + -1;
  pbVar9 = pbVar8 + 1;
  param_1[0x30] = (uint)*pbVar8;
  if (iVar6 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003c635;
    pbVar9 = (byte *)*puVar3;
    iVar6 = puVar3[1];
  }
  iVar6 = iVar6 + -1;
  pbVar8 = pbVar9 + 1;
  param_1[7] = (uint)*pbVar9 << 8;
  if (iVar6 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003c635;
    pbVar8 = (byte *)*puVar3;
    iVar6 = puVar3[1];
  }
  iVar6 = iVar6 + -1;
  pbVar9 = pbVar8 + 1;
  param_1[7] = param_1[7] + (uint)*pbVar8;
  if (iVar6 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003c635;
    pbVar9 = (byte *)*puVar3;
    iVar6 = puVar3[1];
  }
  iVar6 = iVar6 + -1;
  pbVar8 = pbVar9 + 1;
  param_1[6] = (uint)*pbVar9 << 8;
  if (iVar6 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003c635;
    pbVar8 = (byte *)*puVar3;
    iVar6 = puVar3[1];
  }
  iVar6 = iVar6 + -1;
  pbVar9 = pbVar8 + 1;
  param_1[6] = param_1[6] + (uint)*pbVar8;
  if (iVar6 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') {
LAB_1003c635:
      return uVar4 & 0xffffff00;
    }
    pbVar9 = (byte *)*puVar3;
    iVar6 = puVar3[1];
  }
  iVar6 = iVar6 + -1;
  pbVar8 = pbVar9 + 1;
  param_1[8] = (uint)*pbVar9;
  iVar5 = *param_1;
  *(int *)(iVar5 + 0x18) = param_1[0x5e];
  *(int *)(iVar5 + 0x1c) = param_1[6];
  *(int *)(iVar5 + 0x20) = param_1[7];
  *(int *)(iVar5 + 0x24) = param_1[8];
  *(undefined4 *)(*param_1 + 0x14) = 99;
  (**(code **)(*param_1 + 4))(param_1,1);
  if (*(char *)(param_1[100] + 0x51) != '\0') {
    *(undefined4 *)(*param_1 + 0x14) = 0x39;
    (**(code **)*param_1)(param_1);
  }
  if (((param_1[7] == 0) || (param_1[6] == 0)) || (param_1[8] < 1)) {
    *(undefined4 *)(*param_1 + 0x14) = 0x1f;
    (**(code **)*param_1)(param_1);
  }
  if ((uint)bVar1 * 0x100 + (uint)bVar2 + -8 != param_1[8] * 3) {
    *(undefined4 *)(*param_1 + 0x14) = 9;
    (**(code **)*param_1)(param_1);
  }
  if (param_1[0x31] == 0) {
    iVar5 = (**(code **)param_1[1])(param_1,1,param_1[8] * 0x54);
    param_1[0x31] = iVar5;
  }
  puVar7 = (uint *)param_1[0x31];
  _param_2 = 0;
  if (0 < param_1[8]) {
    do {
      puVar7[1] = _param_2;
      if (iVar6 == 0) {
        uVar4 = (*(code *)puVar3[3])(param_1);
        if ((char)uVar4 == '\0') goto LAB_1003c635;
        pbVar8 = (byte *)*puVar3;
        iVar6 = puVar3[1];
      }
      iVar6 = iVar6 + -1;
      pbVar9 = pbVar8 + 1;
      *puVar7 = (uint)*pbVar8;
      if (iVar6 == 0) {
        uVar4 = (*(code *)puVar3[3])(param_1);
        if ((char)uVar4 == '\0') goto LAB_1003c635;
        pbVar9 = (byte *)*puVar3;
        iVar6 = puVar3[1];
      }
      bVar1 = *pbVar9;
      iVar6 = iVar6 + -1;
      pbVar9 = pbVar9 + 1;
      puVar7[2] = (int)(uint)bVar1 >> 4;
      puVar7[3] = bVar1 & 0xf;
      if (iVar6 == 0) {
        uVar4 = (*(code *)puVar3[3])(param_1);
        if ((char)uVar4 == '\0') goto LAB_1003c635;
        pbVar9 = (byte *)*puVar3;
        iVar6 = puVar3[1];
      }
      iVar6 = iVar6 + -1;
      pbVar8 = pbVar9 + 1;
      puVar7[4] = (uint)*pbVar9;
      iVar5 = *param_1;
      *(uint *)(iVar5 + 0x18) = *puVar7;
      *(uint *)(iVar5 + 0x1c) = puVar7[2];
      *(uint *)(iVar5 + 0x20) = puVar7[3];
      *(uint *)(iVar5 + 0x24) = puVar7[4];
      *(undefined4 *)(*param_1 + 0x14) = 100;
      (**(code **)(*param_1 + 4))(param_1,1);
      _param_2 = _param_2 + 1;
      puVar7 = puVar7 + 0x15;
    } while ((int)_param_2 < param_1[8]);
  }
  *(undefined1 *)(param_1[100] + 0x51) = 1;
  *puVar3 = pbVar8;
  puVar3[1] = iVar6;
  return CONCAT31((int3)((uint)puVar3 >> 8),1);
}



/* FUN_1003c640 @ 1003c640 */

uint __cdecl FUN_1003c640(int *param_1)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  undefined4 *puVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  byte *pbVar10;
  byte *pbVar11;
  uint *puVar12;
  int *piStack_10;
  int iStack_8;
  
  puVar4 = (undefined4 *)param_1[5];
  pbVar10 = (byte *)*puVar4;
  iVar9 = puVar4[1];
  if (*(char *)(param_1[100] + 0x51) == '\0') {
    *(undefined4 *)(*param_1 + 0x14) = 0x3d;
    (**(code **)*param_1)(param_1);
  }
  if (iVar9 == 0) {
    uVar5 = (*(code *)puVar4[3])(param_1);
    if ((char)uVar5 == '\0') goto LAB_1003c944;
    iVar9 = puVar4[1];
    pbVar10 = (byte *)*puVar4;
  }
  bVar1 = *pbVar10;
  iVar9 = iVar9 + -1;
  pbVar10 = pbVar10 + 1;
  if (iVar9 == 0) {
    uVar5 = (*(code *)puVar4[3])(param_1);
    if ((char)uVar5 == '\0') goto LAB_1003c944;
    iVar9 = puVar4[1];
    pbVar10 = (byte *)*puVar4;
  }
  bVar2 = *pbVar10;
  iVar9 = iVar9 + -1;
  pbVar10 = pbVar10 + 1;
  if (iVar9 == 0) {
    uVar5 = (*(code *)puVar4[3])(param_1);
    if ((char)uVar5 == '\0') goto LAB_1003c944;
    iVar9 = puVar4[1];
    pbVar10 = (byte *)*puVar4;
  }
  bVar3 = *pbVar10;
  uVar6 = (uint)bVar3;
  iVar9 = iVar9 + -1;
  pbVar10 = pbVar10 + 1;
  if ((((uint)bVar1 * 0x100 + (uint)bVar2 != uVar6 * 2 + 6) || (bVar3 == 0)) || (4 < bVar3)) {
    *(undefined4 *)(*param_1 + 0x14) = 9;
    (**(code **)*param_1)(param_1);
  }
  *(undefined4 *)(*param_1 + 0x14) = 0x66;
  *(uint *)(*param_1 + 0x18) = uVar6;
  (**(code **)(*param_1 + 4))(param_1,1);
  param_1[0x48] = uVar6;
  iStack_8 = 0;
  if (uVar6 != 0) {
    piStack_10 = param_1 + 0x49;
    do {
      if (iVar9 == 0) {
        uVar5 = (*(code *)puVar4[3])(param_1);
        if ((char)uVar5 == '\0') goto LAB_1003c944;
        iVar9 = puVar4[1];
        pbVar10 = (byte *)*puVar4;
      }
      uVar8 = (uint)*pbVar10;
      iVar9 = iVar9 + -1;
      pbVar10 = pbVar10 + 1;
      if (iVar9 == 0) {
        uVar5 = (*(code *)puVar4[3])(param_1);
        if ((char)uVar5 == '\0') goto LAB_1003c944;
        iVar9 = puVar4[1];
        pbVar10 = (byte *)*puVar4;
      }
      puVar12 = (uint *)param_1[0x31];
      iVar9 = iVar9 + -1;
      bVar1 = *pbVar10;
      pbVar10 = pbVar10 + 1;
      iVar7 = 0;
      if (0 < param_1[8]) {
        do {
          if (uVar8 == *puVar12) goto LAB_1003c7e9;
          iVar7 = iVar7 + 1;
          puVar12 = puVar12 + 0x15;
        } while (iVar7 < param_1[8]);
      }
      *(undefined4 *)(*param_1 + 0x14) = 5;
      *(uint *)(*param_1 + 0x18) = uVar8;
      (**(code **)*param_1)(param_1);
LAB_1003c7e9:
      *piStack_10 = (int)puVar12;
      puVar12[5] = (int)(uint)bVar1 >> 4;
      puVar12[6] = bVar1 & 0xf;
      iVar7 = *param_1;
      *(uint *)(iVar7 + 0x18) = uVar8;
      *(uint *)(iVar7 + 0x1c) = puVar12[5];
      *(uint *)(iVar7 + 0x20) = puVar12[6];
      *(undefined4 *)(*param_1 + 0x14) = 0x67;
      (**(code **)(*param_1 + 4))(param_1,1);
      iStack_8 = iStack_8 + 1;
      piStack_10 = piStack_10 + 1;
    } while (iStack_8 < (int)uVar6);
  }
  if (iVar9 == 0) {
    uVar5 = (*(code *)puVar4[3])(param_1);
    if ((char)uVar5 == '\0') goto LAB_1003c944;
    iVar9 = puVar4[1];
    pbVar10 = (byte *)*puVar4;
  }
  iVar9 = iVar9 + -1;
  pbVar11 = pbVar10 + 1;
  param_1[0x5a] = (uint)*pbVar10;
  if (iVar9 == 0) {
    uVar5 = (*(code *)puVar4[3])(param_1);
    if ((char)uVar5 == '\0') goto LAB_1003c944;
    iVar9 = puVar4[1];
    pbVar11 = (byte *)*puVar4;
  }
  iVar9 = iVar9 + -1;
  pbVar10 = pbVar11 + 1;
  param_1[0x5b] = (uint)*pbVar11;
  if (iVar9 == 0) {
    uVar5 = (*(code *)puVar4[3])(param_1);
    if ((char)uVar5 == '\0') {
LAB_1003c944:
      return uVar5 & 0xffffff00;
    }
    iVar9 = puVar4[1];
    pbVar10 = (byte *)*puVar4;
  }
  bVar1 = *pbVar10;
  param_1[0x5d] = bVar1 & 0xf;
  iVar7 = *param_1;
  param_1[0x5c] = (int)(uint)bVar1 >> 4;
  *(int *)(iVar7 + 0x18) = param_1[0x5a];
  *(int *)(iVar7 + 0x1c) = param_1[0x5b];
  *(int *)(iVar7 + 0x20) = param_1[0x5c];
  *(int *)(iVar7 + 0x24) = param_1[0x5d];
  *(undefined4 *)(*param_1 + 0x14) = 0x68;
  (**(code **)(*param_1 + 4))(param_1,1);
  *(undefined4 *)(param_1[100] + 0x54) = 0;
  iVar7 = param_1[0x1f];
  param_1[0x1f] = iVar7 + 1;
  *puVar4 = pbVar10 + 1;
  puVar4[1] = iVar9 + -1;
  return CONCAT31((int3)((uint)(iVar7 + 1) >> 8),1);
}



/* FUN_1003c950 @ 1003c950 */

uint __cdecl FUN_1003c950(int *param_1)

{
  undefined1 uVar1;
  byte bVar2;
  undefined4 *puVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  undefined1 *puVar7;
  byte *pbVar8;
  int iVar9;
  byte *pbVar10;
  int *piVar11;
  undefined4 *puVar12;
  int iStack_128;
  int iStack_120;
  byte abStack_118 [20];
  uint uStack_104;
  byte abStack_100 [256];
  
  puVar3 = (undefined4 *)param_1[5];
  puVar7 = (undefined1 *)*puVar3;
  iStack_128 = puVar3[1];
  if (iStack_128 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003cc8c;
    iStack_128 = puVar3[1];
    puVar7 = (undefined1 *)*puVar3;
  }
  uVar1 = *puVar7;
  iStack_128 = iStack_128 + -1;
  puVar7 = puVar7 + 1;
  if (iStack_128 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') {
LAB_1003cc8c:
      return uVar4 & 0xffffff00;
    }
    iStack_128 = puVar3[1];
    puVar7 = (undefined1 *)*puVar3;
  }
  iStack_128 = iStack_128 + -1;
  iVar5 = CONCAT11(uVar1,*puVar7) - 2;
  pbVar8 = puVar7 + 1;
  do {
    if (iVar5 < 1) {
      puVar3[1] = iStack_128;
      *puVar3 = pbVar8;
      return CONCAT31((int3)((uint)iVar5 >> 8),1);
    }
    if (iStack_128 == 0) {
      uVar4 = (*(code *)puVar3[3])(param_1);
      if ((char)uVar4 == '\0') goto LAB_1003cc8c;
      iStack_128 = puVar3[1];
      pbVar8 = (byte *)*puVar3;
    }
    uStack_104 = (uint)*pbVar8;
    *(undefined4 *)(*param_1 + 0x14) = 0x4f;
    iStack_128 = iStack_128 + -1;
    pbVar8 = pbVar8 + 1;
    *(uint *)(*param_1 + 0x18) = uStack_104;
    (**(code **)(*param_1 + 4))(param_1,1);
    abStack_118[0] = 0;
    iStack_120 = 0;
    iVar9 = 1;
    do {
      if (iStack_128 == 0) {
        uVar4 = (*(code *)puVar3[3])(param_1);
        if ((char)uVar4 == '\0') goto LAB_1003cc8c;
        iStack_128 = puVar3[1];
        pbVar8 = (byte *)*puVar3;
      }
      bVar2 = *pbVar8;
      abStack_118[iVar9] = bVar2;
      iStack_128 = iStack_128 + -1;
      pbVar8 = pbVar8 + 1;
      iVar6 = iStack_120 + (uint)bVar2;
      iVar9 = iVar9 + 1;
      iStack_120 = iVar6;
    } while (iVar9 < 0x11);
    iVar9 = *param_1;
    *(uint *)(iVar9 + 0x18) =
         CONCAT12(abStack_118[3],CONCAT11(abStack_118[2],abStack_118[1])) & 0xff;
    *(uint *)(iVar9 + 0x1c) =
         CONCAT12(abStack_118[4],CONCAT11(abStack_118[3],abStack_118[2])) & 0xff;
    *(uint *)(iVar9 + 0x20) =
         CONCAT12(abStack_118[5],CONCAT11(abStack_118[4],abStack_118[3])) & 0xff;
    *(uint *)(iVar9 + 0x24) =
         CONCAT12(abStack_118[6],CONCAT11(abStack_118[5],abStack_118[4])) & 0xff;
    *(uint *)(iVar9 + 0x28) =
         CONCAT12(abStack_118[7],CONCAT11(abStack_118[6],abStack_118[5])) & 0xff;
    *(uint *)(iVar9 + 0x2c) =
         CONCAT12(abStack_118[8],CONCAT11(abStack_118[7],abStack_118[6])) & 0xff;
    *(uint *)(iVar9 + 0x30) =
         CONCAT12(abStack_118[9],CONCAT11(abStack_118[8],abStack_118[7])) & 0xff;
    *(uint *)(iVar9 + 0x34) =
         CONCAT12(abStack_118[10],CONCAT11(abStack_118[9],abStack_118[8])) & 0xff;
    *(undefined4 *)(*param_1 + 0x14) = 0x55;
    (**(code **)(*param_1 + 4))(param_1,2);
    iVar9 = *param_1;
    *(uint *)(iVar9 + 0x18) =
         CONCAT12(abStack_118[0xb],CONCAT11(abStack_118[10],abStack_118[9])) & 0xff;
    *(uint *)(iVar9 + 0x1c) =
         CONCAT12(abStack_118[0xc],CONCAT11(abStack_118[0xb],abStack_118[10])) & 0xff;
    *(uint *)(iVar9 + 0x20) =
         CONCAT12(abStack_118[0xd],CONCAT11(abStack_118[0xc],abStack_118[0xb])) & 0xff;
    *(uint *)(iVar9 + 0x24) =
         CONCAT12(abStack_118[0xe],CONCAT11(abStack_118[0xd],abStack_118[0xc])) & 0xff;
    *(uint *)(iVar9 + 0x28) =
         CONCAT12(abStack_118[0xf],CONCAT11(abStack_118[0xe],abStack_118[0xd])) & 0xff;
    *(uint *)(iVar9 + 0x2c) =
         CONCAT12(abStack_118[0x10],CONCAT11(abStack_118[0xf],abStack_118[0xe])) & 0xff;
    *(uint *)(iVar9 + 0x30) = CONCAT11(abStack_118[0x10],abStack_118[0xf]) & 0xff;
    *(uint *)(iVar9 + 0x34) = (uint)abStack_118[0x10];
    *(undefined4 *)(*param_1 + 0x14) = 0x55;
    (**(code **)(*param_1 + 4))(param_1,2);
    if ((0x100 < iVar6) || (iVar5 + -0x11 < iVar6)) {
      *(undefined4 *)(*param_1 + 0x14) = 0x1c;
      (**(code **)*param_1)(param_1);
    }
    iStack_120 = 0;
    if (0 < iVar6) {
      do {
        if (iStack_128 == 0) {
          uVar4 = (*(code *)puVar3[3])(param_1);
          if ((char)uVar4 == '\0') goto LAB_1003cc8c;
          iStack_128 = puVar3[1];
          pbVar8 = (byte *)*puVar3;
        }
        bVar2 = *pbVar8;
        iStack_128 = iStack_128 + -1;
        pbVar8 = pbVar8 + 1;
        abStack_100[iStack_120] = bVar2;
        iStack_120 = iStack_120 + 1;
      } while (iStack_120 < iVar6);
    }
    iVar5 = (iVar5 + -0x11) - iVar6;
    if ((uStack_104 & 0x10) == 0) {
      iVar9 = uStack_104 + 0x28;
      uVar4 = uStack_104;
    }
    else {
      iVar9 = uStack_104 + 0x1c;
      uVar4 = uStack_104 - 0x10;
    }
    piVar11 = param_1 + iVar9;
    if (((int)uVar4 < 0) || (3 < (int)uVar4)) {
      *(undefined4 *)(*param_1 + 0x14) = 0x1d;
      *(uint *)(*param_1 + 0x18) = uVar4;
      (**(code **)*param_1)(param_1);
    }
    if (*piVar11 == 0) {
      iVar9 = FUN_1003dd70((int)param_1);
      *piVar11 = iVar9;
    }
    puVar12 = (undefined4 *)*piVar11;
    *puVar12 = CONCAT13(abStack_118[3],
                        CONCAT12(abStack_118[2],CONCAT11(abStack_118[1],abStack_118[0])));
    puVar12[1] = CONCAT13(abStack_118[7],
                          CONCAT12(abStack_118[6],CONCAT11(abStack_118[5],abStack_118[4])));
    puVar12[2] = CONCAT13(abStack_118[0xb],
                          CONCAT12(abStack_118[10],CONCAT11(abStack_118[9],abStack_118[8])));
    puVar12[3] = CONCAT13(abStack_118[0xf],
                          CONCAT12(abStack_118[0xe],CONCAT11(abStack_118[0xd],abStack_118[0xc])));
    *(byte *)(puVar12 + 4) = abStack_118[0x10];
    pbVar10 = abStack_100;
    puVar12 = (undefined4 *)(*piVar11 + 0x11);
    for (iVar9 = 0x40; iVar9 != 0; iVar9 = iVar9 + -1) {
      *puVar12 = *(undefined4 *)pbVar10;
      pbVar10 = pbVar10 + 4;
      puVar12 = puVar12 + 1;
    }
  } while( true );
}



/* FUN_1003cca0 @ 1003cca0 */

uint __cdecl FUN_1003cca0(int *param_1)

{
  undefined1 uVar1;
  byte bVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  ushort uVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  undefined1 *puVar10;
  byte *pbVar11;
  int iVar12;
  ushort *puVar13;
  int *piStack_c;
  
  puVar3 = (undefined4 *)param_1[5];
  iVar12 = puVar3[1];
  puVar10 = (undefined1 *)*puVar3;
  if (iVar12 == 0) {
    uVar7 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar7 == '\0') goto LAB_1003cf06;
    puVar10 = (undefined1 *)*puVar3;
    iVar12 = puVar3[1];
  }
  uVar1 = *puVar10;
  iVar12 = iVar12 + -1;
  puVar10 = puVar10 + 1;
  if (iVar12 == 0) {
    uVar7 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar7 == '\0') {
LAB_1003cf06:
      return uVar7 & 0xffffff00;
    }
    puVar10 = (undefined1 *)*puVar3;
    iVar12 = puVar3[1];
  }
  iVar12 = iVar12 + -1;
  pbVar11 = puVar10 + 1;
  iVar9 = CONCAT11(uVar1,*puVar10) - 2;
  do {
    iVar5 = iVar9;
    if (iVar5 < 1) {
      *puVar3 = pbVar11;
      puVar3[1] = iVar12;
      return CONCAT31((int3)((uint)iVar5 >> 8),1);
    }
    if (iVar12 == 0) {
      uVar7 = (*(code *)puVar3[3])(param_1);
      if ((char)uVar7 == '\0') goto LAB_1003cf06;
      pbVar11 = (byte *)*puVar3;
      iVar12 = puVar3[1];
    }
    bVar2 = *pbVar11;
    *(undefined4 *)(*param_1 + 0x14) = 0x50;
    iVar12 = iVar12 + -1;
    pbVar11 = pbVar11 + 1;
    uVar7 = bVar2 & 0xf;
    *(uint *)(*param_1 + 0x18) = uVar7;
    iVar8 = (int)(uint)bVar2 >> 4;
    *(int *)(*param_1 + 0x1c) = iVar8;
    (**(code **)(*param_1 + 4))(param_1,1);
    if (3 < uVar7) {
      *(undefined4 *)(*param_1 + 0x14) = 0x1e;
      *(uint *)(*param_1 + 0x18) = uVar7;
      (**(code **)*param_1)(param_1);
    }
    if (param_1[uVar7 + 0x24] == 0) {
      iVar9 = FUN_1003dd50((int)param_1);
      param_1[uVar7 + 0x24] = iVar9;
    }
    iVar9 = param_1[uVar7 + 0x24];
    piStack_c = (int *)&DAT_10050550;
    do {
      if (iVar8 == 0) {
        if (iVar12 == 0) {
          uVar7 = (*(code *)puVar3[3])(param_1);
          if ((char)uVar7 == '\0') goto LAB_1003cf06;
          pbVar11 = (byte *)*puVar3;
          iVar12 = puVar3[1];
        }
        uVar6 = (ushort)*pbVar11;
      }
      else {
        if (iVar12 == 0) {
          uVar7 = (*(code *)puVar3[3])(param_1);
          if ((char)uVar7 == '\0') goto LAB_1003cf06;
          pbVar11 = (byte *)*puVar3;
          iVar12 = puVar3[1];
        }
        bVar2 = *pbVar11;
        iVar12 = iVar12 + -1;
        pbVar11 = pbVar11 + 1;
        if (iVar12 == 0) {
          uVar7 = (*(code *)puVar3[3])(param_1);
          if ((char)uVar7 == '\0') goto LAB_1003cf06;
          pbVar11 = (byte *)*puVar3;
          iVar12 = puVar3[1];
        }
        uVar6 = (ushort)bVar2 * 0x100 + (ushort)*pbVar11;
      }
      iVar12 = iVar12 + -1;
      pbVar11 = pbVar11 + 1;
      iVar4 = *piStack_c;
      piStack_c = piStack_c + 1;
      *(ushort *)(iVar9 + iVar4 * 2) = uVar6;
    } while ((int)piStack_c < 0x10050650);
    if (1 < *(int *)(*param_1 + 0x68)) {
      puVar13 = (ushort *)(iVar9 + 4);
      piStack_c = (int *)0x8;
      do {
        iVar9 = *param_1;
        *(uint *)(iVar9 + 0x18) = (uint)puVar13[-2];
        *(uint *)(iVar9 + 0x1c) = (uint)puVar13[-1];
        *(uint *)(iVar9 + 0x20) = (uint)*puVar13;
        *(uint *)(iVar9 + 0x24) = (uint)puVar13[1];
        *(uint *)(iVar9 + 0x28) = (uint)puVar13[2];
        *(uint *)(iVar9 + 0x2c) = (uint)puVar13[3];
        *(uint *)(iVar9 + 0x30) = (uint)puVar13[4];
        *(uint *)(iVar9 + 0x34) = (uint)puVar13[5];
        *(undefined4 *)(*param_1 + 0x14) = 0x5c;
        (**(code **)(*param_1 + 4))(param_1,2);
        puVar13 = puVar13 + 8;
        piStack_c = (int *)((int)piStack_c + -1);
      } while (piStack_c != (int *)0x0);
    }
    iVar9 = iVar5 + -0x41;
    if (iVar8 != 0) {
      iVar9 = iVar5 + -0x81;
    }
  } while( true );
}



/* FUN_1003cf10 @ 1003cf10 */

undefined4 __cdecl FUN_1003cf10(int *param_1)

{
  undefined1 uVar1;
  byte bVar2;
  undefined4 *puVar3;
  uint uVar4;
  int iVar5;
  undefined4 uVar6;
  undefined1 *puVar7;
  byte *pbVar8;
  int iVar9;
  
  puVar3 = (undefined4 *)param_1[5];
  puVar7 = (undefined1 *)*puVar3;
  iVar9 = puVar3[1];
  if (iVar9 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003cff6;
    puVar7 = (undefined1 *)*puVar3;
    iVar9 = puVar3[1];
  }
  uVar1 = *puVar7;
  iVar9 = iVar9 + -1;
  puVar7 = puVar7 + 1;
  if (iVar9 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003cff6;
    puVar7 = (undefined1 *)*puVar3;
    iVar9 = puVar3[1];
  }
  iVar9 = iVar9 + -1;
  pbVar8 = puVar7 + 1;
  if (CONCAT11(uVar1,*puVar7) != 4) {
    *(undefined4 *)(*param_1 + 0x14) = 9;
    (**(code **)*param_1)(param_1);
  }
  if (iVar9 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') goto LAB_1003cff6;
    pbVar8 = (byte *)*puVar3;
    iVar9 = puVar3[1];
  }
  bVar2 = *pbVar8;
  iVar9 = iVar9 + -1;
  pbVar8 = pbVar8 + 1;
  if (iVar9 == 0) {
    uVar4 = (*(code *)puVar3[3])(param_1);
    if ((char)uVar4 == '\0') {
LAB_1003cff6:
      return uVar4 & 0xffffff00;
    }
    pbVar8 = (byte *)*puVar3;
    iVar9 = puVar3[1];
  }
  iVar5 = (uint)bVar2 * 0x100 + (uint)*pbVar8;
  *(undefined4 *)(*param_1 + 0x14) = 0x51;
  *(int *)(*param_1 + 0x18) = iVar5;
  uVar6 = (**(code **)(*param_1 + 4))(param_1,1);
  param_1[0x3f] = iVar5;
  puVar3[1] = iVar9 + -1;
  *puVar3 = pbVar8 + 1;
  return CONCAT31((int3)((uint)uVar6 >> 8),1);
}



/* FUN_1003d000 @ 1003d000 */

uint __cdecl FUN_1003d000(int *param_1)

{
  uint uVar1;
  
  if (param_1[0x5e] == 0) {
    uVar1 = FUN_1003b660(param_1);
    if ((char)uVar1 == '\0') {
      return uVar1;
    }
  }
  if (param_1[0x5e] == *(int *)(param_1[100] + 0x54) + 0xd0) {
    *(undefined4 *)(*param_1 + 0x14) = 0x61;
    *(undefined4 *)(*param_1 + 0x18) = *(undefined4 *)(param_1[100] + 0x54);
    uVar1 = (**(code **)(*param_1 + 4))(param_1,3);
    param_1[0x5e] = 0;
  }
  else {
    uVar1 = (**(code **)(param_1[5] + 0x14))(param_1,*(int *)(param_1[100] + 0x54));
    if ((char)uVar1 == '\0') {
      return uVar1;
    }
  }
  *(uint *)(param_1[100] + 0x54) = *(int *)(param_1[100] + 0x54) + 1U & 7;
  return CONCAT31((int3)(uVar1 >> 8),1);
}



/* FUN_1003d0d0 @ 1003d0d0 */

/* [binja] char* __fastcall sub_1003d0d0(int32_t arg1) */

char * __cdecl FUN_1003d0d0(int arg1)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  char *_Src;
  char *pcVar4;
  int iVar5;
  int local_4;
  
  iVar1 = arg1;
  *(undefined4 *)(arg1 + 4) = 0;
  local_4 = FUN_1003e560();
  puVar2 = operator_new(0x50);
  if (puVar2 == (undefined4 *)0x0) {
    iVar5 = iVar1;
    grim_noop();
    *(undefined4 *)(*(int *)iVar1 + 0x14) = 0x35;
    *(undefined4 *)(*(int *)iVar1 + 0x18) = 0;
    (*(code *)**(undefined4 **)iVar1)(iVar1,iVar5);
  }
  *puVar2 = FUN_1003d210;
  puVar2[1] = FUN_1003d360;
  puVar2[2] = FUN_1003d420;
  puVar2[3] = FUN_1003d4d0;
  puVar2[4] = FUN_1003d580;
  puVar2[5] = FUN_1003d5f0;
  puVar2[6] = &LAB_1003d660;
  puVar2[7] = &LAB_1003d7e0;
  puVar2[8] = &LAB_1003d9d0;
  puVar2[9] = FUN_1003dbc0;
  puVar2[10] = &LAB_1003dcc0;
  puVar2[0xb] = local_4;
  puVar3 = puVar2 + 0xf;
  iVar5 = 2;
  do {
    puVar3[-2] = 0;
    *puVar3 = 0;
    puVar3 = puVar3 + -1;
    iVar5 = iVar5 + -1;
  } while (iVar5 != 0);
  puVar2[0x10] = 0;
  puVar2[0x11] = 0;
  puVar2[0x12] = 0x50;
  *(undefined4 **)(iVar1 + 4) = puVar2;
  _Src = getenv(s_JPEGMEM_10058204);
  pcVar4 = (char *)0x0;
  if (_Src != (char *)0x0) {
    arg1 = CONCAT31(arg1._1_3_,0x78);
    pcVar4 = (char *)sscanf(_Src,s__ld_c_100581fc,&local_4,&arg1);
    if (0 < (int)pcVar4) {
      if (((char)arg1 == 'm') || ((char)arg1 == 'M')) {
        puVar2[0xb] = (char *)(local_4 * 1000000);
        return (char *)(local_4 * 1000000);
      }
      pcVar4 = (char *)(local_4 * 1000);
      puVar2[0xb] = pcVar4;
    }
  }
  return pcVar4;
}



/* FUN_1003d210 @ 1003d210 */

int __cdecl FUN_1003d210(int *param_1,int param_2,uint param_3)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  uint uVar5;
  int iVar6;
  
  iVar1 = param_1[1];
  if (0xffe0 < param_3) {
    *(undefined4 *)(*param_1 + 0x14) = 0x35;
    *(undefined4 *)(*param_1 + 0x18) = 1;
    (**(code **)*param_1)(param_1);
  }
  if ((param_3 & 7) != 0) {
    param_3 = param_3 + (8 - (param_3 & 7));
  }
  if ((param_2 < 0) || (1 < param_2)) {
    *(undefined4 *)(*param_1 + 0x14) = 0xc;
    *(int *)(*param_1 + 0x18) = param_2;
    (**(code **)*param_1)(param_1);
  }
  puVar3 = *(undefined4 **)(iVar1 + 0x30 + param_2 * 4);
  puVar2 = (undefined4 *)0x0;
  do {
    puVar4 = puVar3;
    if (puVar4 == (undefined4 *)0x0) {
LAB_1003d2a1:
      iVar6 = param_3 + 0x10;
      if (puVar2 == (undefined4 *)0x0) {
        uVar5 = *(uint *)(&DAT_10050540 + param_2 * 4);
      }
      else {
        uVar5 = *(uint *)(&DAT_10050548 + param_2 * 4);
      }
      if (0xfff0U - iVar6 < uVar5) {
        uVar5 = 0xfff0U - iVar6;
      }
      puVar4 = operator_new(uVar5 + iVar6);
      while (puVar4 == (undefined4 *)0x0) {
        uVar5 = uVar5 >> 1;
        if (uVar5 < 0x32) {
          *(undefined4 *)(*param_1 + 0x14) = 0x35;
          *(undefined4 *)(*param_1 + 0x18) = 2;
          (**(code **)*param_1)(param_1);
        }
        puVar4 = operator_new(uVar5 + iVar6);
      }
      *(uint *)(iVar1 + 0x48) = *(int *)(iVar1 + 0x48) + uVar5 + iVar6;
      *puVar4 = 0;
      puVar4[1] = 0;
      puVar4[2] = uVar5 + param_3;
      if (puVar2 == (undefined4 *)0x0) {
        *(undefined4 **)(iVar1 + 0x30 + param_2 * 4) = puVar4;
      }
      else {
        *puVar2 = puVar4;
      }
LAB_1003d340:
      iVar1 = puVar4[1];
      puVar4[1] = iVar1 + param_3;
      puVar4[2] = puVar4[2] - param_3;
      return iVar1 + 0x10 + (int)puVar4;
    }
    if (param_3 <= (uint)puVar4[2]) {
      if (puVar4 != (undefined4 *)0x0) goto LAB_1003d340;
      goto LAB_1003d2a1;
    }
    puVar3 = (undefined4 *)*puVar4;
    puVar2 = puVar4;
  } while( true );
}



/* FUN_1003d360 @ 1003d360 */

undefined4 * __cdecl FUN_1003d360(int *param_1,int param_2,uint param_3)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  
  iVar1 = param_1[1];
  if (0xffe0 < param_3) {
    *(undefined4 *)(*param_1 + 0x14) = 0x35;
    *(undefined4 *)(*param_1 + 0x18) = 3;
    (**(code **)*param_1)(param_1);
  }
  if ((param_3 & 7) != 0) {
    param_3 = param_3 + (8 - (param_3 & 7));
  }
  if ((param_2 < 0) || (1 < param_2)) {
    *(undefined4 *)(*param_1 + 0x14) = 0xc;
    *(int *)(*param_1 + 0x18) = param_2;
    (**(code **)*param_1)(param_1);
  }
  puVar3 = operator_new(param_3 + 0x10);
  if (puVar3 == (undefined4 *)0x0) {
    *(undefined4 *)(*param_1 + 0x14) = 0x35;
    *(undefined4 *)(*param_1 + 0x18) = 4;
    (**(code **)*param_1)(param_1);
  }
  *(uint *)(iVar1 + 0x48) = *(int *)(iVar1 + 0x48) + param_3 + 0x10;
  uVar2 = *(undefined4 *)(iVar1 + 0x38 + param_2 * 4);
  puVar3[1] = param_3;
  *puVar3 = uVar2;
  puVar3[2] = 0;
  *(undefined4 **)(iVar1 + 0x38 + param_2 * 4) = puVar3;
  return puVar3 + 4;
}



/* FUN_1003d420 @ 1003d420 */

int __cdecl FUN_1003d420(int *param_1,int param_2,uint param_3,uint param_4)

{
  uint uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  uint uVar5;
  uint uVar6;
  
  uVar1 = (uint)(0xffe0 / (ulonglong)param_3);
  iVar2 = param_1[1];
  if (uVar1 == 0) {
    *(undefined4 *)(*param_1 + 0x14) = 0x45;
    (**(code **)*param_1)(param_1);
  }
  if ((int)param_4 <= (int)uVar1) {
    uVar1 = param_4;
  }
  *(uint *)(iVar2 + 0x4c) = uVar1;
  iVar2 = FUN_1003d210(param_1,param_2,param_4 * 4);
  uVar6 = 0;
  if (param_4 != 0) {
    do {
      if (param_4 - uVar6 <= uVar1) {
        uVar1 = param_4 - uVar6;
      }
      puVar3 = FUN_1003d360(param_1,param_2,uVar1 * param_3);
      if (uVar1 != 0) {
        puVar4 = (undefined4 *)(iVar2 + uVar6 * 4);
        uVar6 = uVar6 + uVar1;
        uVar5 = uVar1;
        do {
          *puVar4 = puVar3;
          puVar4 = puVar4 + 1;
          puVar3 = (undefined4 *)((int)puVar3 + param_3);
          uVar5 = uVar5 - 1;
        } while (uVar5 != 0);
      }
    } while (uVar6 < param_4);
  }
  return iVar2;
}



/* FUN_1003d4d0 @ 1003d4d0 */

int __cdecl FUN_1003d4d0(int *param_1,int param_2,int param_3,uint param_4)

{
  uint uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  uint uVar5;
  uint uVar6;
  
  uVar1 = (uint)(0xffe0 / (ulonglong)(uint)(param_3 * 0x80));
  iVar2 = param_1[1];
  if (uVar1 == 0) {
    *(undefined4 *)(*param_1 + 0x14) = 0x45;
    (**(code **)*param_1)(param_1);
  }
  if ((int)param_4 <= (int)uVar1) {
    uVar1 = param_4;
  }
  *(uint *)(iVar2 + 0x4c) = uVar1;
  iVar2 = FUN_1003d210(param_1,param_2,param_4 * 4);
  uVar6 = 0;
  if (param_4 != 0) {
    do {
      if (param_4 - uVar6 <= uVar1) {
        uVar1 = param_4 - uVar6;
      }
      puVar3 = FUN_1003d360(param_1,param_2,uVar1 * param_3 * 0x80);
      if (uVar1 != 0) {
        puVar4 = (undefined4 *)(iVar2 + uVar6 * 4);
        uVar6 = uVar6 + uVar1;
        uVar5 = uVar1;
        do {
          *puVar4 = puVar3;
          puVar4 = puVar4 + 1;
          puVar3 = puVar3 + param_3 * 0x20;
          uVar5 = uVar5 - 1;
        } while (uVar5 != 0);
      }
    } while (uVar6 < param_4);
  }
  return iVar2;
}



/* FUN_1003d580 @ 1003d580 */

void __cdecl
FUN_1003d580(int *param_1,int param_2,undefined1 param_3,undefined4 param_4,undefined4 param_5,
            undefined4 param_6)

{
  int iVar1;
  undefined4 *puVar2;
  
  iVar1 = param_1[1];
  if (param_2 != 1) {
    *(undefined4 *)(*param_1 + 0x14) = 0xc;
    *(int *)(*param_1 + 0x18) = param_2;
    (**(code **)*param_1)(param_1);
  }
  puVar2 = (undefined4 *)FUN_1003d210(param_1,param_2,0x78);
  puVar2[1] = param_5;
  puVar2[2] = param_4;
  *puVar2 = 0;
  puVar2[3] = param_6;
  *(undefined1 *)(puVar2 + 8) = param_3;
  *(undefined1 *)((int)puVar2 + 0x22) = 0;
  puVar2[9] = *(undefined4 *)(iVar1 + 0x40);
  *(undefined4 **)(iVar1 + 0x40) = puVar2;
  return;
}



/* FUN_1003d5f0 @ 1003d5f0 */

void __cdecl
FUN_1003d5f0(int *param_1,int param_2,undefined1 param_3,undefined4 param_4,undefined4 param_5,
            undefined4 param_6)

{
  int iVar1;
  undefined4 *puVar2;
  
  iVar1 = param_1[1];
  if (param_2 != 1) {
    *(undefined4 *)(*param_1 + 0x14) = 0xc;
    *(int *)(*param_1 + 0x18) = param_2;
    (**(code **)*param_1)(param_1);
  }
  puVar2 = (undefined4 *)FUN_1003d210(param_1,param_2,0x78);
  puVar2[1] = param_5;
  puVar2[2] = param_4;
  *puVar2 = 0;
  puVar2[3] = param_6;
  *(undefined1 *)(puVar2 + 8) = param_3;
  *(undefined1 *)((int)puVar2 + 0x22) = 0;
  puVar2[9] = *(undefined4 *)(iVar1 + 0x44);
  *(undefined4 **)(iVar1 + 0x44) = puVar2;
  return;
}



/* FUN_1003d930 @ 1003d930 */

/* [binja] int32_t sub_1003d930(int32_t* arg1) */

int __cdecl FUN_1003d930(int *arg1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *in_stack_00000008;
  char in_stack_0000000c;
  
  iVar1 = in_stack_00000008[2];
  iVar3 = in_stack_00000008[4];
  iVar4 = in_stack_00000008[6] * iVar1;
  iVar5 = 0;
  if (0 < iVar3) {
    do {
      iVar2 = iVar3 - iVar5;
      if (in_stack_00000008[5] < iVar3 - iVar5) {
        iVar2 = in_stack_00000008[5];
      }
      iVar3 = in_stack_00000008[7] - (in_stack_00000008[6] + iVar5);
      if (iVar3 <= iVar2) {
        iVar2 = iVar3;
      }
      iVar3 = in_stack_00000008[1] - (in_stack_00000008[6] + iVar5);
      if (iVar3 <= iVar2) {
        iVar2 = iVar3;
      }
      if (iVar2 < 1) {
        return iVar2;
      }
      iVar2 = iVar2 * iVar1;
      if (in_stack_0000000c == '\0') {
        (*(code *)in_stack_00000008[10])
                  (arg1,in_stack_00000008 + 10,*(undefined4 *)(*in_stack_00000008 + iVar5 * 4),iVar4
                   ,iVar2);
      }
      else {
        (*(code *)in_stack_00000008[0xb])
                  (arg1,in_stack_00000008 + 10,*(undefined4 *)(*in_stack_00000008 + iVar5 * 4),iVar4
                   ,iVar2);
      }
      iVar3 = in_stack_00000008[4];
      iVar5 = iVar5 + in_stack_00000008[5];
      iVar4 = iVar4 + iVar2;
    } while (iVar5 < iVar3);
  }
  return iVar3;
}



/* FUN_1003db20 @ 1003db20 */

/* [binja] int32_t sub_1003db20(int32_t arg1) */

int __cdecl FUN_1003db20(int arg1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *in_stack_00000008;
  char in_stack_0000000c;
  
  iVar1 = in_stack_00000008[2];
  iVar3 = in_stack_00000008[4];
  iVar4 = iVar1 * 0x80 * in_stack_00000008[6];
  iVar5 = 0;
  if (0 < iVar3) {
    do {
      iVar2 = iVar3 - iVar5;
      if (in_stack_00000008[5] < iVar3 - iVar5) {
        iVar2 = in_stack_00000008[5];
      }
      iVar3 = in_stack_00000008[7] - (iVar5 + in_stack_00000008[6]);
      if (iVar3 <= iVar2) {
        iVar2 = iVar3;
      }
      iVar3 = in_stack_00000008[1] - (iVar5 + in_stack_00000008[6]);
      if (iVar3 <= iVar2) {
        iVar2 = iVar3;
      }
      if (iVar2 < 1) {
        return iVar2;
      }
      iVar2 = iVar2 * iVar1 * 0x80;
      if (in_stack_0000000c == '\0') {
        (*(code *)in_stack_00000008[10])
                  (arg1,in_stack_00000008 + 10,*(undefined4 *)(*in_stack_00000008 + iVar5 * 4),iVar4
                   ,iVar2);
      }
      else {
        (*(code *)in_stack_00000008[0xb])
                  (arg1,in_stack_00000008 + 10,*(undefined4 *)(*in_stack_00000008 + iVar5 * 4),iVar4
                   ,iVar2);
      }
      iVar3 = in_stack_00000008[4];
      iVar5 = iVar5 + in_stack_00000008[5];
      iVar4 = iVar4 + iVar2;
    } while (iVar5 < iVar3);
  }
  return iVar3;
}



/* FUN_1003dbc0 @ 1003dbc0 */

void __cdecl FUN_1003dbc0(int *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  
  iVar1 = param_1[1];
  if ((param_2 < 0) || (1 < param_2)) {
    *(undefined4 *)(*param_1 + 0x14) = 0xc;
    *(int *)(*param_1 + 0x18) = param_2;
    (**(code **)*param_1)(param_1);
  }
  if (param_2 == 1) {
    for (iVar2 = *(int *)(iVar1 + 0x40); iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x24)) {
      if (*(char *)(iVar2 + 0x22) != '\0') {
        *(undefined1 *)(iVar2 + 0x22) = 0;
        (**(code **)(iVar2 + 0x30))(param_1,iVar2 + 0x28);
      }
    }
    iVar2 = *(int *)(iVar1 + 0x44);
    *(undefined4 *)(iVar1 + 0x40) = 0;
    for (; iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x24)) {
      if (*(char *)(iVar2 + 0x22) != '\0') {
        *(undefined1 *)(iVar2 + 0x22) = 0;
        (**(code **)(iVar2 + 0x30))(param_1,iVar2 + 0x28);
      }
    }
    *(undefined4 *)(iVar1 + 0x44) = 0;
  }
  puVar3 = *(undefined4 **)(iVar1 + 0x38 + param_2 * 4);
  *(undefined4 *)(iVar1 + 0x38 + param_2 * 4) = 0;
  while (puVar3 != (undefined4 *)0x0) {
    iVar2 = puVar3[2];
    iVar4 = puVar3[1];
    puVar5 = (undefined4 *)*puVar3;
    if (puVar3 != (undefined4 *)0x0) {
      operator_delete(puVar3);
    }
    *(int *)(iVar1 + 0x48) = *(int *)(iVar1 + 0x48) - (iVar2 + 0x10 + iVar4);
    puVar3 = puVar5;
  }
  puVar3 = *(undefined4 **)(iVar1 + 0x30 + param_2 * 4);
  *(undefined4 *)(iVar1 + 0x30 + param_2 * 4) = 0;
  while (puVar3 != (undefined4 *)0x0) {
    iVar2 = puVar3[2];
    iVar4 = puVar3[1];
    puVar5 = (undefined4 *)*puVar3;
    if (puVar3 != (undefined4 *)0x0) {
      operator_delete(puVar3);
    }
    *(int *)(iVar1 + 0x48) = *(int *)(iVar1 + 0x48) - (iVar2 + 0x10 + iVar4);
    puVar3 = puVar5;
  }
  return;
}



/* FUN_1003dd00 @ 1003dd00 */

void __cdecl FUN_1003dd00(int param_1)

{
  (**(code **)(*(int *)(param_1 + 4) + 0x24))(param_1,1);
  *(uint *)(param_1 + 0x10) = (-(uint)(*(char *)(param_1 + 0xc) != '\0') & 100) + 100;
  return;
}



/* FUN_1003dd30 @ 1003dd30 */

void __cdecl FUN_1003dd30(int param_1)

{
  if (*(int *)(param_1 + 4) != 0) {
    (**(code **)(*(int *)(param_1 + 4) + 0x28))(param_1);
  }
  *(undefined4 *)(param_1 + 4) = 0;
  *(undefined4 *)(param_1 + 0x10) = 0;
  return;
}



/* FUN_1003dd50 @ 1003dd50 */

void __cdecl FUN_1003dd50(int param_1)

{
  int iVar1;
  
  iVar1 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x82);
  *(undefined1 *)(iVar1 + 0x80) = 0;
  return;
}



/* FUN_1003dd70 @ 1003dd70 */

void __cdecl FUN_1003dd70(int param_1)

{
  int iVar1;
  
  iVar1 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,0,0x112);
  *(undefined1 *)(iVar1 + 0x111) = 0;
  return;
}



/* FUN_1003dd90 @ 1003dd90 */

void __cdecl FUN_1003dd90(int *param_1)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int *piVar6;
  int iVar7;
  
  piVar2 = param_1;
  if (param_1[4] != 0xca) {
    *(undefined4 *)(*param_1 + 0x14) = 0x12;
    *(int *)(*param_1 + 0x18) = param_1[4];
    (**(code **)*param_1)(param_1);
  }
  iVar3 = param_1[0xb];
  uVar5 = param_1[0xc];
  if ((uint)(iVar3 * 8) < uVar5 || iVar3 * 8 - uVar5 == 0) {
    iVar3 = FUN_1003e460(param_1[6],8);
    param_1[0x17] = iVar3;
    iVar3 = FUN_1003e460(param_1[7],8);
    param_1[0x18] = iVar3;
    param_1[0x45] = 1;
  }
  else if ((uint)(iVar3 * 4) < uVar5 || iVar3 * 4 - uVar5 == 0) {
    iVar3 = FUN_1003e460(param_1[6],4);
    param_1[0x17] = iVar3;
    iVar3 = FUN_1003e460(param_1[7],4);
    param_1[0x18] = iVar3;
    param_1[0x45] = 2;
  }
  else if (uVar5 < (uint)(iVar3 * 2)) {
    param_1[0x17] = param_1[6];
    param_1[0x18] = param_1[7];
    param_1[0x45] = 8;
  }
  else {
    iVar3 = FUN_1003e460(param_1[6],2);
    param_1[0x17] = iVar3;
    iVar3 = FUN_1003e460(param_1[7],2);
    param_1[0x18] = iVar3;
    param_1[0x45] = 4;
  }
  piVar6 = param_1 + 8;
  piVar1 = param_1 + 0x31;
  param_1 = (int *)0x0;
  if (0 < *piVar6) {
    piVar6 = (int *)(*piVar1 + 0xc);
    do {
      iVar3 = piVar2[0x45];
      iVar4 = iVar3;
      if (iVar3 < 8) {
        do {
          iVar7 = piVar6[-1] * iVar4 * 2;
          if ((iVar7 - piVar2[0x43] * iVar3 != 0 && piVar2[0x43] * iVar3 <= iVar7) ||
             (iVar7 = *piVar6 * iVar4 * 2,
             iVar7 - piVar2[0x44] * iVar3 != 0 && piVar2[0x44] * iVar3 <= iVar7)) break;
          iVar4 = iVar4 * 2;
        } while (iVar4 < 8);
      }
      piVar6[6] = iVar4;
      param_1 = (int *)((int)param_1 + 1);
      piVar6 = piVar6 + 0x15;
    } while ((int)param_1 < piVar2[8]);
  }
  iVar3 = 0;
  if (0 < piVar2[8]) {
    piVar6 = (int *)(piVar2[0x31] + 0x24);
    do {
      iVar4 = FUN_1003e460(piVar6[-7] * *piVar6 * piVar2[6],piVar2[0x43] << 3);
      piVar6[1] = iVar4;
      iVar4 = FUN_1003e460(piVar6[-6] * *piVar6 * piVar2[7],piVar2[0x44] << 3);
      piVar6[2] = iVar4;
      iVar3 = iVar3 + 1;
      piVar6 = piVar6 + 0x15;
    } while (iVar3 < piVar2[8]);
  }
  switch(piVar2[10]) {
  case 1:
    piVar2[0x19] = 1;
    break;
  case 2:
  case 3:
    piVar2[0x19] = 3;
    break;
  case 4:
  case 5:
    piVar2[0x19] = 4;
    break;
  default:
    piVar2[0x19] = piVar2[8];
  }
  iVar3 = 1;
  if (*(char *)((int)piVar2 + 0x4a) == '\0') {
    iVar3 = piVar2[0x19];
  }
  piVar2[0x1a] = iVar3;
  uVar5 = FUN_1003dfb0((int)piVar2);
  if ((char)uVar5 == '\0') {
    piVar2[0x1b] = 1;
    return;
  }
  piVar2[0x1b] = piVar2[0x44];
  return;
}



/* FUN_1003dfb0 @ 1003dfb0 */

uint __cdecl FUN_1003dfb0(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 in_EAX;
  undefined3 uVar4;
  uint uVar3;
  
  uVar4 = (undefined3)((uint)in_EAX >> 8);
  uVar3 = CONCAT31(uVar4,*(char *)(param_1 + 0x48));
  if (((((*(char *)(param_1 + 0x48) != '\0') ||
        (uVar3 = CONCAT31(uVar4,*(char *)(param_1 + 0x108)), *(char *)(param_1 + 0x108) != '\0')) ||
       (uVar3 = 0, *(int *)(param_1 + 0x24) != 3)) ||
      (((*(int *)(param_1 + 0x20) != 3 || (*(int *)(param_1 + 0x28) != 2)) ||
       ((*(int *)(param_1 + 100) != 3 ||
        ((iVar1 = *(int *)(param_1 + 0xc4), *(int *)(iVar1 + 8) != 2 ||
         (uVar3 = 1, *(int *)(iVar1 + 0x5c) != 1)))))))) ||
     ((*(int *)(iVar1 + 0xb0) != 1 ||
      (((((2 < *(int *)(iVar1 + 0xc) || (*(int *)(iVar1 + 0x60) != 1)) ||
         (*(int *)(iVar1 + 0xb4) != 1)) ||
        ((iVar2 = *(int *)(param_1 + 0x114), *(int *)(iVar1 + 0x24) != iVar2 ||
         (*(int *)(iVar1 + 0x78) != iVar2)))) || (*(int *)(iVar1 + 0xcc) != iVar2)))))) {
    uVar3 = uVar3 & 0xffffff00;
  }
  return uVar3;
}



/* FUN_1003e040 @ 1003e040 */

void __cdecl FUN_1003e040(int *param_1)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  
  piVar3 = param_1;
  puVar4 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x1c);
  param_1[0x5f] = (int)puVar4;
  *puVar4 = FUN_1003e2d0;
  puVar4[1] = &LAB_1003e430;
  *(undefined1 *)(puVar4 + 2) = 0;
  iVar2 = param_1[0x5f];
  FUN_1003dd90(param_1);
  puVar5 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x580);
  iVar6 = 0;
  param_1[0x47] = (int)(puVar5 + 0x40);
  puVar4 = puVar5;
  for (iVar8 = 0x40; iVar8 != 0; iVar8 = iVar8 + -1) {
    *puVar4 = 0;
    puVar4 = puVar4 + 1;
  }
  do {
    *(char *)(iVar6 + (int)(puVar5 + 0x40)) = (char)iVar6;
    iVar6 = iVar6 + 1;
  } while (iVar6 < 0x100);
  puVar4 = puVar5 + 0x80;
  for (iVar6 = 0x60; iVar6 != 0; iVar6 = iVar6 + -1) {
    *puVar4 = 0xffffffff;
    puVar4 = puVar4 + 1;
  }
  puVar4 = puVar5 + 0xe0;
  for (iVar6 = 0x60; iVar6 != 0; iVar6 = iVar6 + -1) {
    *puVar4 = 0;
    puVar4 = puVar4 + 1;
  }
  puVar4 = (undefined4 *)param_1[0x47];
  puVar5 = puVar5 + 0x140;
  for (iVar6 = 0x20; iVar6 != 0; iVar6 = iVar6 + -1) {
    *puVar5 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar5 = puVar5 + 1;
  }
  *(undefined4 *)(iVar2 + 0xc) = 0;
  uVar7 = FUN_1003dfb0((int)param_1);
  *(char *)(iVar2 + 0x10) = (char)uVar7;
  *(undefined4 *)(iVar2 + 0x14) = 0;
  *(undefined4 *)(iVar2 + 0x18) = 0;
  if ((*(char *)((int)param_1 + 0x4a) == '\0') || ((char)param_1[0x10] == '\0')) {
    *(undefined1 *)(param_1 + 0x16) = 0;
    *(undefined1 *)((int)param_1 + 0x59) = 0;
    *(undefined1 *)((int)param_1 + 0x5a) = 0;
  }
  if (*(char *)((int)param_1 + 0x4a) != '\0') {
    if (*(char *)((int)param_1 + 0x41) != '\0') {
      *(undefined4 *)(*param_1 + 0x14) = 0x2e;
      (**(code **)*param_1)(param_1);
    }
    if (param_1[0x19] == 3) {
      if (param_1[0x1d] == 0) {
        if ((char)param_1[0x14] == '\0') {
          *(undefined1 *)(param_1 + 0x16) = 1;
        }
        else {
          *(undefined1 *)((int)param_1 + 0x5a) = 1;
        }
      }
      else {
        *(undefined1 *)((int)param_1 + 0x59) = 1;
      }
    }
    else {
      *(undefined1 *)(param_1 + 0x16) = 1;
      *(undefined1 *)((int)param_1 + 0x59) = 0;
      *(undefined1 *)((int)param_1 + 0x5a) = 0;
      param_1[0x1d] = 0;
    }
    if ((char)param_1[0x16] != '\0') {
      FUN_10044210(param_1);
      *(int *)(iVar2 + 0x14) = param_1[0x69];
    }
    if ((*(char *)((int)param_1 + 0x5a) != '\0') || (*(char *)((int)param_1 + 0x59) != '\0')) {
      FUN_10042ea0(param_1);
      *(int *)(iVar2 + 0x18) = param_1[0x69];
    }
  }
  if (*(char *)((int)param_1 + 0x41) == '\0') {
    if (*(char *)(iVar2 + 0x10) == '\0') {
      FUN_10042310(param_1);
      FUN_10041ba0(param_1);
    }
    else {
      FUN_100428e0((int)param_1);
    }
    FUN_10041850((int)param_1,*(char *)((int)param_1 + 0x5a));
  }
  FUN_10041590(param_1);
  if (*(char *)((int)param_1 + 0xc9) == '\0') {
    if ((char)param_1[0x32] == '\0') {
      FUN_10040070((int)param_1);
    }
    else {
      FUN_100406a0((int)param_1);
    }
  }
  else {
    *(undefined4 *)(*param_1 + 0x14) = 1;
    (**(code **)*param_1)(param_1);
  }
  if ((*(char *)(param_1[99] + 0x10) != '\0') ||
     (piVar1 = param_1 + 0x10, param_1._0_1_ = '\0', (char)*piVar1 != '\0')) {
    param_1._0_1_ = '\x01';
  }
  FUN_1003ec50((int)piVar3,(char)param_1);
  if (*(char *)((int)piVar3 + 0x41) == '\0') {
    FUN_1003e570(piVar3,'\0');
  }
  (**(code **)(piVar3[1] + 0x18))(piVar3);
  (**(code **)(piVar3[99] + 8))(piVar3);
  if (((piVar3[2] != 0) && ((char)piVar3[0x10] == '\0')) && (*(char *)(piVar3[99] + 0x10) != '\0'))
  {
    iVar6 = piVar3[8];
    if ((char)piVar3[0x32] != '\0') {
      iVar6 = iVar6 * 3 + 2;
    }
    *(undefined4 *)(piVar3[2] + 4) = 0;
    *(int *)(piVar3[2] + 8) = piVar3[0x46] * iVar6;
    *(undefined4 *)(piVar3[2] + 0xc) = 0;
    *(uint *)(piVar3[2] + 0x10) = (*(char *)((int)piVar3 + 0x5a) != '\0') + 2;
    *(int *)(iVar2 + 0xc) = *(int *)(iVar2 + 0xc) + 1;
  }
  return;
}



/* FUN_1003e2d0 @ 1003e2d0 */

void __cdecl FUN_1003e2d0(int *param_1)

{
  int iVar1;
  
  iVar1 = param_1[0x5f];
  if (*(char *)(iVar1 + 8) == '\0') {
    if ((*(char *)((int)param_1 + 0x4a) != '\0') && (param_1[0x1d] == 0)) {
      if (((char)param_1[0x14] == '\0') || (*(char *)((int)param_1 + 0x5a) == '\0')) {
        if ((char)param_1[0x16] == '\0') {
          *(undefined4 *)(*param_1 + 0x14) = 0x2d;
          (**(code **)*param_1)(param_1);
        }
        else {
          param_1[0x69] = *(int *)(iVar1 + 0x14);
        }
      }
      else {
        param_1[0x69] = *(int *)(iVar1 + 0x18);
        *(undefined1 *)(iVar1 + 8) = 1;
      }
    }
    (**(code **)param_1[0x66])(param_1);
    (**(code **)(param_1[0x61] + 8))(param_1);
    if (*(char *)((int)param_1 + 0x41) == '\0') {
      if (*(char *)(iVar1 + 0x10) == '\0') {
        (**(code **)param_1[0x68])(param_1);
      }
      (**(code **)param_1[0x67])(param_1);
      if (*(char *)((int)param_1 + 0x4a) != '\0') {
        (**(code **)param_1[0x69])(param_1,*(undefined1 *)(iVar1 + 8));
      }
      (**(code **)param_1[0x62])(param_1,-(*(char *)(iVar1 + 8) != '\0') & 3);
      (**(code **)param_1[0x60])(param_1,0);
    }
  }
  else {
    *(undefined1 *)(iVar1 + 8) = 0;
    (**(code **)param_1[0x69])(param_1,0);
    (**(code **)param_1[0x62])(param_1,2);
    (**(code **)param_1[0x60])(param_1,2);
  }
  if (param_1[2] != 0) {
    *(undefined4 *)(param_1[2] + 0xc) = *(undefined4 *)(iVar1 + 0xc);
    *(uint *)(param_1[2] + 0x10) = (*(char *)(iVar1 + 8) != '\0') + 1 + *(int *)(iVar1 + 0xc);
    if (((char)param_1[0x10] != '\0') && (*(char *)(param_1[99] + 0x11) == '\0')) {
      *(uint *)(param_1[2] + 0x10) =
           *(int *)(param_1[2] + 0x10) + (*(char *)((int)param_1 + 0x5a) != '\0') + 1;
    }
  }
  return;
}



/* FUN_1003e460 @ 1003e460 */

int __cdecl FUN_1003e460(int param_1,int param_2)

{
  return (param_1 + -1 + param_2) / param_2;
}



/* FUN_1003e470 @ 1003e470 */

int __cdecl FUN_1003e470(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = param_1 + -1 + param_2;
  return iVar1 - iVar1 % param_2;
}



/* FUN_1003e490 @ 1003e490 */

void __cdecl FUN_1003e490(int param_1,int param_2,int param_3,int param_4,int param_5,uint param_6)

{
  undefined4 *puVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
  puVar1 = (undefined4 *)(param_1 + param_2 * 4);
  puVar3 = (undefined4 *)(param_3 + param_4 * 4);
  if (0 < param_5) {
    do {
      puVar4 = (undefined4 *)*puVar1;
      puVar5 = (undefined4 *)*puVar3;
      for (uVar2 = param_6 >> 2; uVar2 != 0; uVar2 = uVar2 - 1) {
        *puVar5 = *puVar4;
        puVar4 = puVar4 + 1;
        puVar5 = puVar5 + 1;
      }
      puVar1 = puVar1 + 1;
      puVar3 = puVar3 + 1;
      param_5 = param_5 + -1;
      for (uVar2 = param_6 & 3; uVar2 != 0; uVar2 = uVar2 - 1) {
        *(undefined1 *)puVar5 = *(undefined1 *)puVar4;
        puVar4 = (undefined4 *)((int)puVar4 + 1);
        puVar5 = (undefined4 *)((int)puVar5 + 1);
      }
    } while (param_5 != 0);
  }
  return;
}



/* FUN_1003e4e0 @ 1003e4e0 */

void __cdecl FUN_1003e4e0(undefined4 *param_1,undefined4 *param_2,int param_3)

{
  uint uVar1;
  int iVar2;
  
  for (uVar1 = (uint)(param_3 << 7) >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
    *param_2 = *param_1;
    param_1 = param_1 + 1;
    param_2 = param_2 + 1;
  }
  for (iVar2 = 0; iVar2 != 0; iVar2 = iVar2 + -1) {
    *(undefined1 *)param_2 = *(undefined1 *)param_1;
    param_1 = (undefined4 *)((int)param_1 + 1);
    param_2 = (undefined4 *)((int)param_2 + 1);
  }
  return;
}



/* FUN_1003e510 @ 1003e510 */

void __cdecl FUN_1003e510(undefined4 *param_1,uint param_2)

{
  uint uVar1;
  
  for (uVar1 = param_2 >> 2; uVar1 != 0; uVar1 = uVar1 - 1) {
    *param_1 = 0;
    param_1 = param_1 + 1;
  }
  for (uVar1 = param_2 & 3; uVar1 != 0; uVar1 = uVar1 - 1) {
    *(undefined1 *)param_1 = 0;
    param_1 = (undefined4 *)((int)param_1 + 1);
  }
  return;
}



/* FUN_1003e530 @ 1003e530 */

/* [binja] int32_t sub_1003e530(int32_t arg1) __pure */

int __cdecl FUN_1003e530(int arg1)

{
  int in_stack_0000000c;
  
  return in_stack_0000000c;
}



/* FUN_1003e540 @ 1003e540 */

void __cdecl FUN_1003e540(int *param_1)

{
  *(undefined4 *)(*param_1 + 0x14) = 0x30;
  (**(code **)*param_1)(param_1);
  return;
}



/* FUN_1003e560 @ 1003e560 */

undefined4 FUN_1003e560(void)

{
  return 0;
}



/* FUN_1003e570 @ 1003e570 */

void __cdecl FUN_1003e570(int *param_1,char param_2)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  int *piVar7;
  int iVar8;
  int iVar9;
  
  puVar2 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x50);
  param_1[0x60] = (int)puVar2;
  *puVar2 = &LAB_1003e6f0;
  if (param_2 != '\0') {
    *(undefined4 *)(*param_1 + 0x14) = 4;
    (**(code **)*param_1)(param_1);
  }
  if (*(char *)(param_1[0x67] + 8) == '\0') {
    _param_2 = param_1[0x45];
  }
  else {
    if (param_1[0x45] < 2) {
      *(undefined4 *)(*param_1 + 0x14) = 0x2e;
      (**(code **)*param_1)(param_1);
    }
    iVar8 = param_1[0x60];
    iVar1 = param_1[0x45];
    iVar3 = (**(code **)param_1[1])(param_1,1,param_1[8] << 3);
    *(int *)(iVar8 + 0x38) = iVar3;
    *(int *)(iVar8 + 0x3c) = iVar3 + param_1[8] * 4;
    iVar3 = 0;
    if (0 < param_1[8]) {
      piVar7 = (int *)(param_1[0x31] + 0xc);
      do {
        iVar4 = (piVar7[6] * *piVar7) / param_1[0x45];
        iVar9 = (iVar1 + 4) * iVar4;
        iVar5 = (**(code **)param_1[1])(param_1,1,iVar9 * 8);
        iVar5 = iVar5 + iVar4 * 4;
        *(int *)(*(int *)(iVar8 + 0x38) + iVar3 * 4) = iVar5;
        *(int *)(*(int *)(iVar8 + 0x3c) + iVar3 * 4) = iVar5 + iVar9 * 4;
        iVar3 = iVar3 + 1;
        piVar7 = piVar7 + 0x15;
      } while (iVar3 < param_1[8]);
    }
    _param_2 = param_1[0x45] + 2;
  }
  iVar8 = 0;
  if (0 < param_1[8]) {
    piVar7 = (int *)(param_1[0x31] + 0x24);
    puVar2 = puVar2 + 2;
    do {
      uVar6 = (**(code **)(param_1[1] + 8))
                        (param_1,1,piVar7[-2] * *piVar7,
                         ((piVar7[-6] * *piVar7) / param_1[0x45]) * _param_2);
      *puVar2 = uVar6;
      iVar8 = iVar8 + 1;
      puVar2 = puVar2 + 1;
      piVar7 = piVar7 + 0x15;
    } while (iVar8 < param_1[8]);
  }
  return;
}



/* FUN_1003e8c0 @ 1003e8c0 */

void __cdecl FUN_1003e8c0(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  
  iVar2 = *(int *)(param_1 + 0x180);
  if (*(char *)(iVar2 + 0x30) == '\0') {
    iVar4 = (**(code **)(*(int *)(param_1 + 0x184) + 0xc))(param_1,iVar2 + 8);
    if (iVar4 == 0) {
      return;
    }
    *(undefined1 *)(iVar2 + 0x30) = 1;
  }
  uVar3 = *(uint *)(param_1 + 0x114);
  puVar1 = (uint *)(iVar2 + 0x34);
  (**(code **)(*(int *)(param_1 + 0x188) + 4))
            (param_1,iVar2 + 8,puVar1,uVar3,param_2,param_3,param_4);
  if (uVar3 <= *puVar1) {
    *(undefined1 *)(iVar2 + 0x30) = 0;
    *puVar1 = 0;
  }
  return;
}



/* FUN_1003ec50 @ 1003ec50 */

void __cdecl FUN_1003ec50(int param_1,char param_2)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  undefined4 *puVar7;
  int *piVar8;
  
  puVar2 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x74);
  *(undefined4 **)(param_1 + 0x184) = puVar2;
  *puVar2 = &LAB_1003ed60;
  puVar2[2] = &LAB_1003edc0;
  puVar2[0x1c] = 0;
  if (param_2 == '\0') {
    iVar3 = (**(code **)(*(int *)(param_1 + 4) + 4))(param_1,1,0x500);
    piVar8 = puVar2 + 8;
    iVar6 = 10;
    do {
      *piVar8 = iVar3;
      piVar8 = piVar8 + 1;
      iVar3 = iVar3 + 0x80;
      iVar6 = iVar6 + -1;
    } while (iVar6 != 0);
    puVar2[4] = 0;
    puVar2[1] = &LAB_1003f1f0;
    puVar2[3] = &LAB_1003ef50;
    return;
  }
  _param_2 = 0;
  if (0 < *(int *)(param_1 + 0x20)) {
    piVar8 = (int *)(*(int *)(param_1 + 0xc4) + 0xc);
    puVar7 = puVar2 + 0x12;
    do {
      iVar3 = *piVar8;
      iVar6 = iVar3;
      if (*(char *)(param_1 + 200) != '\0') {
        iVar6 = iVar3 * 3;
      }
      iVar1 = *(int *)(param_1 + 4);
      iVar3 = FUN_1003e470(piVar8[5],iVar3);
      iVar4 = FUN_1003e470(piVar8[4],piVar8[-1]);
      uVar5 = (**(code **)(iVar1 + 0x14))(param_1,1,1,iVar4,iVar3,iVar6);
      *puVar7 = uVar5;
      _param_2 = _param_2 + 1;
      puVar7 = puVar7 + 1;
      piVar8 = piVar8 + 0x15;
    } while (_param_2 < *(int *)(param_1 + 0x20));
  }
  puVar2[1] = &LAB_1003f200;
  puVar2[3] = &LAB_1003f470;
  puVar2[4] = puVar2 + 0x12;
  return;
}



/* FUN_1003fc90 @ 1003fc90 */

void __cdecl FUN_1003fc90(int param_1,int param_2,int *param_3)

{
  byte bVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  uint uVar6;
  int iVar7;
  undefined1 *puVar8;
  int iVar9;
  char *pcVar10;
  undefined4 *puVar11;
  undefined1 *puVar12;
  int local_51c;
  int *piStack_518;
  int iStack_514;
  int iStack_510;
  char local_508 [256];
  int aiStack_408 [258];
  
  if (*param_3 == 0) {
    iVar3 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x5d4);
    *param_3 = iVar3;
  }
  iVar3 = *param_3;
  iVar4 = 0;
  *(int *)(iVar3 + 0xd0) = param_2;
  local_51c = 0;
  iVar7 = 1;
  do {
    bVar1 = *(byte *)(iVar7 + param_2);
    if (bVar1 != 0) {
      cVar2 = (char)iVar7;
      pcVar10 = local_508 + iVar4;
      for (uVar6 = (uint)(bVar1 >> 2); uVar6 != 0; uVar6 = uVar6 - 1) {
        *(uint *)pcVar10 = CONCAT22(CONCAT11(cVar2,cVar2),CONCAT11(cVar2,cVar2));
        pcVar10 = pcVar10 + 4;
      }
      for (uVar6 = bVar1 & 3; uVar6 != 0; uVar6 = uVar6 - 1) {
        *pcVar10 = cVar2;
        pcVar10 = pcVar10 + 1;
      }
      iVar4 = local_51c + (uint)bVar1;
      local_51c = iVar4;
    }
    iVar7 = iVar7 + 1;
  } while (iVar7 < 0x11);
  local_508[iVar4] = '\0';
  iVar4 = 0;
  iVar7 = 0;
  iVar9 = (int)local_508[0];
  while (local_508[0] != '\0') {
    if (local_508[iVar7] == iVar9) {
      piVar5 = aiStack_408 + iVar7 + 1;
      do {
        cVar2 = local_508[iVar7 + 1];
        iVar7 = iVar7 + 1;
        *piVar5 = iVar4;
        piVar5 = piVar5 + 1;
        iVar4 = iVar4 + 1;
      } while (cVar2 == iVar9);
    }
    iVar4 = iVar4 << 1;
    iVar9 = iVar9 + 1;
    local_508[0] = local_508[iVar7];
  }
  iVar7 = 0;
  iVar4 = 1;
  piVar5 = (int *)(iVar3 + 0x48);
  do {
    if (*(char *)(iVar4 + param_2) == '\0') {
      *piVar5 = -1;
    }
    else {
      iVar9 = aiStack_408[iVar7 + 1];
      piVar5[0x12] = iVar7;
      piVar5[-0x11] = iVar9;
      iVar7 = iVar7 + (uint)*(byte *)(iVar4 + param_2);
      *piVar5 = aiStack_408[iVar7];
    }
    iVar4 = iVar4 + 1;
    piVar5 = piVar5 + 1;
  } while (iVar4 < 0x11);
  iVar4 = 0;
  *(undefined4 *)(iVar3 + 0x88) = 0xfffff;
  puVar11 = (undefined4 *)(iVar3 + 0xd4);
  for (iVar7 = 0x100; iVar7 != 0; iVar7 = iVar7 + -1) {
    *puVar11 = 0;
    puVar11 = puVar11 + 1;
  }
  local_51c = 0;
  iVar7 = 1;
  iStack_510 = 7;
  do {
    iStack_514 = 1;
    if (*(char *)(param_2 + iVar7) != '\0') {
      puVar12 = (undefined1 *)(iVar4 + 0x11 + param_2);
      piStack_518 = aiStack_408 + iVar4 + 1;
      iVar9 = 1 << ((byte)iStack_510 & 0x1f);
      do {
        iVar4 = *piStack_518 << ((byte)iStack_510 & 0x1f);
        if (0 < iVar9) {
          puVar8 = (undefined1 *)(iVar4 + 0x4d4 + iVar3);
          piVar5 = (int *)(iVar3 + 0xd4 + iVar4 * 4);
          iVar4 = iVar9;
          do {
            *piVar5 = iVar7;
            piVar5 = piVar5 + 1;
            *puVar8 = *puVar12;
            puVar8 = puVar8 + 1;
            iVar4 = iVar4 + -1;
          } while (iVar4 != 0);
        }
        iStack_514 = iStack_514 + 1;
        iVar4 = local_51c + 1;
        piStack_518 = piStack_518 + 1;
        puVar12 = puVar12 + 1;
        local_51c = iVar4;
      } while (iStack_514 <= (int)(uint)*(byte *)(param_2 + iVar7));
    }
    iVar7 = iVar7 + 1;
    iStack_510 = iStack_510 + -1;
  } while (-1 < iStack_510);
  return;
}



/* FUN_1003fe80 @ 1003fe80 */

undefined4 __cdecl FUN_1003fe80(undefined4 *param_1,uint param_2,int param_3,int param_4)

{
  uint in_EAX;
  uint uVar1;
  int iVar2;
  byte *pbVar3;
  
  iVar2 = param_1[1];
  pbVar3 = (byte *)*param_1;
  for (; param_3 < 0x19; param_3 = param_3 + 8) {
    in_EAX = param_1[2];
    if (in_EAX == 0) {
      if (iVar2 == 0) {
        uVar1 = (**(code **)(*(int *)(param_1[5] + 0x14) + 0xc))(param_1[5]);
        if ((char)uVar1 == '\0') {
LAB_1003ff70:
          return uVar1 & 0xffffff00;
        }
        pbVar3 = (byte *)**(undefined4 **)(param_1[5] + 0x14);
        iVar2 = (*(undefined4 **)(param_1[5] + 0x14))[1];
      }
      in_EAX = (uint)*pbVar3;
      iVar2 = iVar2 + -1;
      pbVar3 = pbVar3 + 1;
      if (in_EAX == 0xff) {
        do {
          if (iVar2 == 0) {
            uVar1 = (**(code **)(*(int *)(param_1[5] + 0x14) + 0xc))(param_1[5]);
            if ((char)uVar1 == '\0') goto LAB_1003ff70;
            pbVar3 = (byte *)**(undefined4 **)(param_1[5] + 0x14);
            iVar2 = (*(undefined4 **)(param_1[5] + 0x14))[1];
          }
          in_EAX = (uint)*pbVar3;
          iVar2 = iVar2 + -1;
          pbVar3 = pbVar3 + 1;
        } while (in_EAX == 0xff);
        if (in_EAX != 0) {
          param_1[2] = in_EAX;
          goto LAB_1003ff11;
        }
        in_EAX = 0xff;
      }
    }
    else {
LAB_1003ff11:
      if (param_4 <= param_3) break;
      if (*(char *)param_1[6] == '\0') {
        *(undefined4 *)(*(int *)param_1[5] + 0x14) = 0x71;
        (**(code **)(*(int *)param_1[5] + 4))((int *)param_1[5],0xffffffff);
        *(undefined1 *)param_1[6] = 1;
      }
      in_EAX = 0;
    }
    param_2 = param_2 << 8 | in_EAX;
  }
  *param_1 = pbVar3;
  param_1[1] = iVar2;
  param_1[4] = param_3;
  param_1[3] = param_2;
  return CONCAT31((int3)(in_EAX >> 8),1);
}



/* FUN_1003ff80 @ 1003ff80 */

uint __cdecl FUN_1003ff80(undefined4 *param_1,uint param_2,int param_3,int param_4,int param_5)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  
  if (param_3 < param_5) {
    uVar1 = FUN_1003fe80(param_1,param_2,param_3,param_5);
    if ((char)uVar1 == '\0') {
      return 0xffffffff;
    }
    param_2 = param_1[3];
    param_3 = param_1[4];
  }
  iVar2 = param_3 - param_5;
  piVar4 = (int *)(param_4 + 0x44 + param_5 * 4);
  uVar3 = (int)param_2 >> ((byte)iVar2 & 0x1f) & (1 << ((byte)param_5 & 0x1f)) - 1U;
  if (*piVar4 < (int)uVar3) {
    do {
      if (iVar2 < 1) {
        uVar1 = FUN_1003fe80(param_1,param_2,iVar2,1);
        if ((char)uVar1 == '\0') {
          return 0xffffffff;
        }
        param_2 = param_1[3];
        iVar2 = param_1[4];
      }
      iVar2 = iVar2 + -1;
      piVar4 = piVar4 + 1;
      uVar3 = uVar3 << 1 | (int)param_2 >> ((byte)iVar2 & 0x1f) & 1U;
      param_5 = param_5 + 1;
    } while (*piVar4 < (int)uVar3);
  }
  param_1[4] = iVar2;
  param_1[3] = param_2;
  if (0x10 < param_5) {
    *(undefined4 *)(*(int *)param_1[5] + 0x14) = 0x72;
    (**(code **)(*(int *)param_1[5] + 4))((int *)param_1[5],0xffffffff);
    return 0;
  }
  return (uint)*(byte *)((*(int *)(param_4 + 0x8c + param_5 * 4) - *(int *)(param_4 + param_5 * 4))
                         + *(int *)(param_4 + 0xd0) + 0x11 + uVar3);
}



/* FUN_10040070 @ 10040070 */

void __cdecl FUN_10040070(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x48);
  *(undefined4 **)(param_1 + 0x194) = puVar1;
  *puVar1 = &LAB_100400b0;
  puVar1[1] = &LAB_10040200;
  puVar1 = puVar1 + 10;
  iVar2 = 4;
  do {
    puVar1[4] = 0;
    *puVar1 = 0;
    puVar1 = puVar1 + 1;
    iVar2 = iVar2 + -1;
  } while (iVar2 != 0);
  return;
}



/* FUN_100406a0 @ 100406a0 */

void __cdecl FUN_100406a0(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x40);
  *(undefined4 **)(param_1 + 0x194) = puVar1;
  *puVar1 = &LAB_10040710;
  puVar1[0xb] = 0;
  puVar1[0xc] = 0;
  puVar1[0xd] = 0;
  puVar1[0xe] = 0;
  puVar1 = (undefined4 *)
           (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,*(int *)(param_1 + 0x20) << 8);
  *(undefined4 **)(param_1 + 0x8c) = puVar1;
  iVar3 = 0;
  if (0 < *(int *)(param_1 + 0x20)) {
    do {
      puVar4 = puVar1;
      for (iVar2 = 0x40; iVar2 != 0; iVar2 = iVar2 + -1) {
        *puVar4 = 0xffffffff;
        puVar4 = puVar4 + 1;
      }
      iVar3 = iVar3 + 1;
      puVar1 = puVar1 + 0x40;
    } while (iVar3 < *(int *)(param_1 + 0x20));
  }
  return;
}



/* FUN_10041590 @ 10041590 */

void __cdecl FUN_10041590(undefined4 *param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  
  puVar1 = param_1;
  puVar2 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x54);
  param_1[0x66] = puVar2;
  *puVar2 = &LAB_10041610;
  iVar5 = 0;
  if (0 < (int)param_1[8]) {
    param_1 = (undefined4 *)(param_1[0x31] + 0x50);
    puVar2 = puVar2 + 0xb;
    do {
      puVar3 = (undefined4 *)(**(code **)puVar1[1])(puVar1,1,0x100);
      *param_1 = puVar3;
      for (iVar4 = 0x40; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar3 = 0;
        puVar3 = puVar3 + 1;
      }
      *puVar2 = 0xffffffff;
      iVar5 = iVar5 + 1;
      param_1 = param_1 + 0x15;
      puVar2 = puVar2 + 1;
    } while (iVar5 < (int)puVar1[8]);
  }
  return;
}



/* FUN_10041850 @ 10041850 */

void __cdecl FUN_10041850(int param_1,char param_2)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  
  puVar2 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x1c);
  *(undefined4 **)(param_1 + 0x188) = puVar2;
  *puVar2 = &LAB_100418e0;
  puVar2[2] = 0;
  puVar2[3] = 0;
  if (*(char *)(param_1 + 0x4a) != '\0') {
    iVar5 = *(int *)(param_1 + 0x110);
    puVar2[4] = iVar5;
    if (param_2 != '\0') {
      iVar1 = *(int *)(param_1 + 4);
      iVar3 = FUN_1003e470(*(int *)(param_1 + 0x60),iVar5);
      uVar4 = (**(code **)(iVar1 + 0x10))
                        (param_1,1,0,*(int *)(param_1 + 100) * *(int *)(param_1 + 0x5c),iVar3,iVar5)
      ;
      puVar2[2] = uVar4;
      return;
    }
    uVar4 = (**(code **)(*(int *)(param_1 + 4) + 8))
                      (param_1,1,*(int *)(param_1 + 100) * *(int *)(param_1 + 0x5c),iVar5);
    puVar2[3] = uVar4;
  }
  return;
}



/* FUN_10041a60 @ 10041a60 */

/* [binja] int32_t sub_10041a60(void* arg1, int32_t arg2, int32_t arg3, int32_t arg4, void** arg5)
    */

int __cdecl FUN_10041a60(void *arg1,int arg2,int arg3,int arg4,void **arg5)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  int *in_stack_00000018;
  
  iVar2 = *(int *)((int)arg1 + 0x188);
  puVar1 = (uint *)(iVar2 + 0x18);
  if (*(int *)(iVar2 + 0x18) == 0) {
    uVar4 = (**(code **)(*(int *)((int)arg1 + 4) + 0x1c))
                      (arg1,*(undefined4 *)(iVar2 + 8),*(undefined4 *)(iVar2 + 0x14),
                       *(undefined4 *)(iVar2 + 0x10),1);
    *(undefined4 *)(iVar2 + 0xc) = uVar4;
  }
  uVar3 = *puVar1;
  (**(code **)(*(int *)((int)arg1 + 0x19c) + 4))
            (arg1,arg2,arg3,arg4,*(undefined4 *)(iVar2 + 0xc),puVar1,*(undefined4 *)(iVar2 + 0x10));
  if (uVar3 < *puVar1) {
    iVar5 = *puVar1 - uVar3;
    (**(code **)(*(int *)((int)arg1 + 0x1a4) + 4))(arg1,*(int *)(iVar2 + 0xc) + uVar3 * 4,0,iVar5);
    *in_stack_00000018 = *in_stack_00000018 + iVar5;
  }
  uVar3 = *(uint *)(iVar2 + 0x10);
  if (uVar3 <= *puVar1) {
    *(int *)(iVar2 + 0x14) = *(int *)(iVar2 + 0x14) + uVar3;
    *puVar1 = 0;
  }
  return uVar3;
}



/* FUN_10041b00 @ 10041b00 */

/* [binja] int32_t sub_10041b00(void* arg1, int32_t arg2, int32_t* arg3, int32_t arg4) */

int __cdecl FUN_10041b00(void *arg1,int arg2,int *arg3,int arg4)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  int in_stack_00000014;
  int *in_stack_00000018;
  int in_stack_0000001c;
  
  iVar1 = *(int *)((int)arg1 + 0x188);
  if (*(int *)(iVar1 + 0x18) == 0) {
    uVar2 = (**(code **)(*(int *)((int)arg1 + 4) + 0x1c))
                      (arg1,*(undefined4 *)(iVar1 + 8),*(undefined4 *)(iVar1 + 0x14),
                       *(undefined4 *)(iVar1 + 0x10),0);
    *(undefined4 *)(iVar1 + 0xc) = uVar2;
  }
  uVar4 = *(int *)(iVar1 + 0x10) - *(int *)(iVar1 + 0x18);
  uVar3 = in_stack_0000001c - *in_stack_00000018;
  if (uVar3 < uVar4) {
    uVar4 = uVar3;
  }
  uVar3 = *(int *)((int)arg1 + 0x60) - *(int *)(iVar1 + 0x14);
  if (uVar3 < uVar4) {
    uVar4 = uVar3;
  }
  (**(code **)(*(int *)((int)arg1 + 0x1a4) + 4))
            (arg1,*(int *)(iVar1 + 0xc) + *(int *)(iVar1 + 0x18) * 4,
             in_stack_00000014 + *in_stack_00000018 * 4,uVar4);
  *in_stack_00000018 = *in_stack_00000018 + uVar4;
  uVar3 = *(uint *)(iVar1 + 0x10);
  uVar4 = *(int *)(iVar1 + 0x18) + uVar4;
  *(uint *)(iVar1 + 0x18) = uVar4;
  if (uVar3 <= uVar4) {
    *(int *)(iVar1 + 0x14) = *(int *)(iVar1 + 0x14) + uVar3;
    *(undefined4 *)(iVar1 + 0x18) = 0;
  }
  return uVar3;
}



/* FUN_10041ba0 @ 10041ba0 */

void __cdecl FUN_10041ba0(int *param_1)

{
  int iVar1;
  bool bVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  int *piVar7;
  undefined4 *puVar8;
  int iVar9;
  int iStack_c;
  
  puVar3 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0xa0);
  param_1[0x67] = (int)puVar3;
  *puVar3 = &LAB_10041da0;
  puVar3[1] = &LAB_10041dc0;
  *(undefined1 *)(puVar3 + 2) = 0;
  if ((char)param_1[0x42] != '\0') {
    *(undefined4 *)(*param_1 + 0x14) = 0x17;
    (**(code **)*param_1)(param_1);
  }
  if (((char)param_1[0x12] == '\0') || (bVar2 = true, param_1[0x45] < 2)) {
    bVar2 = false;
  }
  iStack_c = 0;
  if (0 < param_1[8]) {
    piVar7 = (int *)(param_1[0x31] + 0x24);
    puVar8 = puVar3 + 0xd;
    do {
      iVar4 = (piVar7[-7] * *piVar7) / param_1[0x45];
      iVar5 = (piVar7[-6] * *piVar7) / param_1[0x45];
      iVar9 = param_1[0x44];
      iVar1 = param_1[0x43];
      puVar8[0xc] = iVar5;
      if ((char)piVar7[3] == '\0') {
        *puVar8 = &LAB_10041ec0;
      }
      else if ((iVar4 == iVar1) && (iVar5 == iVar9)) {
        *puVar8 = &LAB_10041eb0;
      }
      else {
        if (iVar4 * 2 == iVar1) {
          if (iVar5 == iVar9) {
            if ((bVar2) && (2 < (uint)piVar7[1])) {
              *puVar8 = &LAB_100420e0;
            }
            else {
              *puVar8 = &LAB_10041ff0;
            }
          }
          else {
            if ((iVar4 * 2 != iVar1) || (iVar5 * 2 != iVar9)) goto LAB_10041cf5;
            if ((bVar2) && (2 < (uint)piVar7[1])) {
              *puVar8 = &LAB_100421b0;
              *(undefined1 *)(puVar3 + 2) = 1;
            }
            else {
              *puVar8 = &LAB_10042050;
            }
          }
        }
        else {
LAB_10041cf5:
          if ((iVar1 % iVar4 == 0) && (iVar9 % iVar5 == 0)) {
            *puVar8 = &LAB_10041ed0;
            *(char *)(iStack_c + 0x8c + (int)puVar3) = (char)(iVar1 / iVar4);
            *(char *)(iStack_c + 0x96 + (int)puVar3) = (char)(iVar9 / iVar5);
          }
          else {
            *(undefined4 *)(*param_1 + 0x14) = 0x25;
            (**(code **)*param_1)(param_1);
          }
        }
        iVar9 = param_1[0x44];
        iVar1 = param_1[1];
        iVar4 = FUN_1003e470(param_1[0x17],param_1[0x43]);
        uVar6 = (**(code **)(iVar1 + 8))(param_1,1,iVar4,iVar9);
        puVar8[-10] = uVar6;
      }
      iStack_c = iStack_c + 1;
      puVar8 = puVar8 + 1;
      piVar7 = piVar7 + 0x15;
    } while (iStack_c < param_1[8]);
  }
  return;
}



/* FUN_10042310 @ 10042310 */

void __cdecl FUN_10042310(int *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  
  puVar1 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x18);
  param_1[0x68] = (int)puVar1;
  *puVar1 = &DAT_1003ab00;
  switch(param_1[9]) {
  case 1:
    if (param_1[8] != 1) {
LAB_1004237b:
      *(undefined4 *)(*param_1 + 0x14) = 8;
      (**(code **)*param_1)(param_1);
    }
    break;
  case 2:
  case 3:
    if (param_1[8] != 3) {
      *(undefined4 *)(*param_1 + 0x14) = 8;
      (**(code **)*param_1)(param_1);
    }
    break;
  case 4:
  case 5:
    if (param_1[8] != 4) {
      *(undefined4 *)(*param_1 + 0x14) = 8;
      (**(code **)*param_1)(param_1);
    }
    break;
  default:
    if (param_1[8] < 1) goto LAB_1004237b;
  }
  iVar2 = param_1[10];
  if (iVar2 == 1) {
    param_1[0x19] = 1;
    if ((param_1[9] == 1) || (param_1[9] == 3)) {
      puVar1[1] = &LAB_10042750;
      iVar2 = 1;
      if (1 < param_1[8]) {
        iVar3 = 0x54;
        do {
          *(undefined1 *)(param_1[0x31] + 0x30 + iVar3) = 0;
          iVar2 = iVar2 + 1;
          iVar3 = iVar3 + 0x54;
        } while (iVar2 < param_1[8]);
      }
      goto LAB_10042498;
    }
  }
  else {
    if (iVar2 == 2) {
      param_1[0x19] = 3;
      if (param_1[9] == 3) {
        puVar1[1] = &LAB_10042590;
        FUN_100424d0((int)param_1);
      }
      else if (param_1[9] == 2) {
        puVar1[1] = FUN_100426c0;
      }
      else {
        *(undefined4 *)(*param_1 + 0x14) = 0x19;
        (**(code **)*param_1)(param_1);
      }
      goto LAB_10042498;
    }
    if (iVar2 == 4) {
      param_1[0x19] = 4;
      if (param_1[9] == 5) {
        puVar1[1] = &LAB_10042780;
        FUN_100424d0((int)param_1);
      }
      else if (param_1[9] == 4) {
        puVar1[1] = FUN_100426c0;
      }
      else {
        *(undefined4 *)(*param_1 + 0x14) = 0x19;
        (**(code **)*param_1)(param_1);
      }
      goto LAB_10042498;
    }
    if (iVar2 == param_1[9]) {
      param_1[0x19] = param_1[8];
      puVar1[1] = FUN_100426c0;
      goto LAB_10042498;
    }
  }
  *(undefined4 *)(*param_1 + 0x14) = 0x19;
  (**(code **)*param_1)(param_1);
LAB_10042498:
  if (*(char *)((int)param_1 + 0x4a) == '\0') {
    param_1[0x1a] = param_1[0x19];
    return;
  }
  param_1[0x1a] = 1;
  return;
}



/* FUN_100424d0 @ 100424d0 */

void __cdecl FUN_100424d0(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  iVar1 = *(int *)(param_1 + 0x1a0);
  uVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x400);
  *(undefined4 *)(iVar1 + 8) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x400);
  *(undefined4 *)(iVar1 + 0xc) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x400);
  *(undefined4 *)(iVar1 + 0x10) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x400);
  *(undefined4 *)(iVar1 + 0x14) = uVar2;
  iVar3 = 0;
  param_1 = 0x5b6900;
  iVar6 = -0xe25100;
  iVar5 = -0xb2f480;
  iVar4 = 0x2c8d00;
  do {
    *(int *)(iVar3 + *(int *)(iVar1 + 8)) = iVar5 >> 0x10;
    *(int *)(iVar3 + *(int *)(iVar1 + 0xc)) = iVar6 >> 0x10;
    *(int *)(iVar3 + *(int *)(iVar1 + 0x10)) = param_1;
    *(int *)(iVar3 + *(int *)(iVar1 + 0x14)) = iVar4;
    param_1 = param_1 + -0xb6d2;
    iVar4 = iVar4 + -0x581a;
    iVar5 = iVar5 + 0x166e9;
    iVar6 = iVar6 + 0x1c5a2;
    iVar3 = iVar3 + 4;
  } while (-0x2b34e7 < iVar4);
  return;
}



/* FUN_100426c0 @ 100426c0 */

void __cdecl FUN_100426c0(int param_1,int *param_2,int param_3,int *param_4,int param_5)

{
  int iVar1;
  int iVar2;
  undefined1 *puVar3;
  undefined1 *puVar4;
  int *piVar5;
  int iVar6;
  int iVar7;
  
  iVar1 = *(int *)(param_1 + 0x20);
  iVar2 = *(int *)(param_1 + 0x5c);
  if (-1 < param_5 + -1) {
    param_1 = param_3 << 2;
    do {
      iVar6 = 0;
      piVar5 = param_2;
      if (0 < iVar1) {
        do {
          puVar4 = *(undefined1 **)(*piVar5 + param_1);
          puVar3 = (undefined1 *)(*param_4 + iVar6);
          for (iVar7 = iVar2; iVar7 != 0; iVar7 = iVar7 + -1) {
            *puVar3 = *puVar4;
            puVar4 = puVar4 + 1;
            puVar3 = puVar3 + iVar1;
          }
          iVar6 = iVar6 + 1;
          piVar5 = piVar5 + 1;
        } while (iVar6 < iVar1);
      }
      param_1 = param_1 + 4;
      param_4 = param_4 + 1;
      param_5 = param_5 + -1;
    } while (param_5 != 0);
  }
  return;
}



/* FUN_100428e0 @ 100428e0 */

void __cdecl FUN_100428e0(int param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  
  puVar1 = (undefined4 *)(*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x30);
  *(undefined4 **)(param_1 + 0x19c) = puVar1;
  *puVar1 = &LAB_10042a10;
  *(undefined1 *)(puVar1 + 2) = 0;
  iVar4 = *(int *)(param_1 + 100) * *(int *)(param_1 + 0x5c);
  puVar1[10] = iVar4;
  if (*(int *)(param_1 + 0x110) == 2) {
    puVar1[1] = &LAB_10042a30;
    puVar1[3] = &LAB_10042c90;
    uVar2 = (**(code **)(*(int *)(param_1 + 4) + 4))(param_1,1,iVar4);
    puVar1[8] = uVar2;
  }
  else {
    puVar1[1] = &LAB_10042b00;
    puVar1[3] = &LAB_10042b40;
    puVar1[8] = 0;
  }
  iVar4 = *(int *)(param_1 + 0x19c);
  uVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x400);
  *(undefined4 *)(iVar4 + 0x10) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x400);
  *(undefined4 *)(iVar4 + 0x14) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x400);
  *(undefined4 *)(iVar4 + 0x18) = uVar2;
  uVar2 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x400);
  *(undefined4 *)(iVar4 + 0x1c) = uVar2;
  iVar3 = 0;
  param_1 = 0x5b6900;
  iVar7 = -0xe25100;
  iVar6 = -0xb2f480;
  iVar5 = 0x2c8d00;
  do {
    *(int *)(iVar3 + *(int *)(iVar4 + 0x10)) = iVar6 >> 0x10;
    *(int *)(iVar3 + *(int *)(iVar4 + 0x14)) = iVar7 >> 0x10;
    *(int *)(iVar3 + *(int *)(iVar4 + 0x18)) = param_1;
    *(int *)(iVar3 + *(int *)(iVar4 + 0x1c)) = iVar5;
    param_1 = param_1 + -0xb6d2;
    iVar5 = iVar5 + -0x581a;
    iVar6 = iVar6 + 0x166e9;
    iVar7 = iVar7 + 0x1c5a2;
    iVar3 = iVar3 + 4;
  } while (-0x2b34e7 < iVar5);
  return;
}



/* FUN_10042ea0 @ 10042ea0 */

void __cdecl FUN_10042ea0(int *param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int iVar3;
  
  puVar1 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x2c);
  param_1[0x69] = (int)puVar1;
  *puVar1 = &LAB_10043070;
  puVar1[3] = &LAB_10044200;
  puVar1[8] = 0;
  puVar1[10] = 0;
  if (param_1[0x19] != 3) {
    *(undefined4 *)(*param_1 + 0x14) = 0x2e;
    (**(code **)*param_1)(param_1);
  }
  uVar2 = (**(code **)param_1[1])(param_1,1,0x80);
  puVar1[6] = uVar2;
  iVar3 = 0;
  do {
    uVar2 = (**(code **)(param_1[1] + 4))(param_1,1,0x1000);
    *(undefined4 *)(puVar1[6] + iVar3) = uVar2;
    iVar3 = iVar3 + 4;
  } while (iVar3 < 0x80);
  *(undefined1 *)(puVar1 + 7) = 1;
  if (*(char *)((int)param_1 + 0x5a) == '\0') {
    puVar1[4] = 0;
  }
  else {
    iVar3 = param_1[0x15];
    if (iVar3 < 8) {
      *(undefined4 *)(*param_1 + 0x14) = 0x37;
      *(undefined4 *)(*param_1 + 0x18) = 8;
      (**(code **)*param_1)(param_1);
    }
    if (0x100 < iVar3) {
      *(undefined4 *)(*param_1 + 0x14) = 0x38;
      *(undefined4 *)(*param_1 + 0x18) = 0x100;
      (**(code **)*param_1)(param_1);
    }
    uVar2 = (**(code **)(param_1[1] + 8))(param_1,1,iVar3,3);
    puVar1[4] = uVar2;
    puVar1[5] = iVar3;
  }
  if (param_1[0x13] != 0) {
    param_1[0x13] = 2;
  }
  if (param_1[0x13] == 2) {
    uVar2 = (**(code **)(param_1[1] + 4))(param_1,1,(param_1[0x17] + 2) * 6);
    puVar1[8] = uVar2;
    FUN_10042fd0((int)param_1);
  }
  return;
}



/* FUN_10042fd0 @ 10042fd0 */

void __cdecl FUN_10042fd0(int param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  int *piVar8;
  
  iVar3 = *(int *)(param_1 + 0x1a4);
  iVar1 = (*(code *)**(undefined4 **)(param_1 + 4))(param_1,1,0x7fc);
  piVar2 = (int *)(iVar1 + 0x3fc);
  iVar6 = 0x10;
  *(int **)(iVar3 + 0x28) = piVar2;
  iVar3 = 0;
  iVar5 = 0;
  uVar4 = 0x10;
  piVar7 = piVar2;
  piVar8 = piVar2;
  do {
    *piVar7 = iVar3;
    *piVar8 = iVar5;
    piVar7 = piVar7 + 1;
    piVar8 = piVar8 + -1;
    iVar3 = iVar3 + 1;
    iVar5 = iVar5 + -1;
    iVar6 = iVar6 + -1;
  } while (iVar6 != 0);
  piVar7 = (int *)(iVar1 + 0x43c);
  piVar8 = (int *)(iVar1 + 0x3bc);
  do {
    *piVar7 = iVar3;
    *piVar8 = -iVar3;
    uVar4 = uVar4 + 1;
    piVar7 = piVar7 + 1;
    piVar8 = piVar8 + -1;
    iVar3 = iVar3 + (~uVar4 & 1);
  } while ((int)uVar4 < 0x30);
  if ((int)uVar4 < 0x100) {
    piVar7 = piVar2 + uVar4;
    piVar2 = piVar2 + -uVar4;
    iVar1 = 0x100 - uVar4;
    do {
      *piVar7 = iVar3;
      *piVar2 = -iVar3;
      piVar7 = piVar7 + 1;
      piVar2 = piVar2 + -1;
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
  }
  return;
}



/* FUN_100432e0 @ 100432e0 */

void __cdecl FUN_100432e0(int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  short *psVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  byte *pbVar11;
  int *piVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  int local_5b0;
  int local_5ac;
  int *local_5a8;
  int local_5a4;
  byte local_580 [128];
  undefined1 local_500 [256];
  int local_400 [256];
  
  iVar9 = *(int *)(*(int *)(param_1 + 0x1a4) + 0x18);
  iVar15 = (param_3 >> 3) * 0x20;
  iVar16 = iVar15 + 2;
  iVar19 = *(int *)(param_1 + 0x70);
  iVar13 = (param_2 >> 2) * 0x20;
  iVar17 = (param_4 >> 2) * 0x20;
  iVar18 = iVar17 + 4;
  iVar14 = iVar13 + 4;
  local_5a4 = 0x7fffffff;
  local_5b0 = 0;
  if (0 < iVar19) {
    local_5a8 = local_400;
    piVar12 = *(int **)(param_1 + 0x74);
    iVar1 = *piVar12;
    iVar2 = piVar12[1];
    iVar3 = piVar12[2];
    do {
      uVar4 = (uint)*(byte *)(iVar1 + local_5b0);
      if ((int)uVar4 < iVar14) {
        iVar10 = (uVar4 - iVar14) * 2;
        iVar10 = iVar10 * iVar10;
        iVar5 = uVar4 - (iVar13 + 0x1c);
      }
      else {
        iVar5 = iVar13 + 0x1c;
        if (iVar5 < (int)uVar4) {
          iVar10 = (uVar4 - iVar5) * 2;
          iVar10 = iVar10 * iVar10;
        }
        else {
          iVar10 = 0;
          if ((int)uVar4 <= iVar13 + 0x1c + iVar14 >> 1) {
            iVar5 = uVar4 - iVar5;
            goto LAB_100433e8;
          }
        }
        iVar5 = uVar4 - iVar14;
      }
LAB_100433e8:
      uVar4 = (uint)*(byte *)(iVar2 + local_5b0);
      if ((int)uVar4 < iVar16) {
        iVar7 = (uVar4 - iVar16) * 3;
        iVar10 = iVar10 + iVar7 * iVar7;
        iVar7 = uVar4 - (iVar15 + 0x1e);
      }
      else {
        iVar7 = iVar15 + 0x1e;
        if (iVar7 < (int)uVar4) {
          iVar7 = (uVar4 - iVar7) * 3;
          iVar10 = iVar10 + iVar7 * iVar7;
        }
        else if ((int)uVar4 <= iVar15 + 0x1e + iVar16 >> 1) {
          iVar7 = uVar4 - iVar7;
          goto LAB_10043434;
        }
        iVar7 = uVar4 - iVar16;
      }
LAB_10043434:
      uVar4 = (uint)*(byte *)(iVar3 + local_5b0);
      if ((int)uVar4 < iVar18) {
        iVar10 = iVar10 + (uVar4 - iVar18) * (uVar4 - iVar18);
        iVar8 = uVar4 - (iVar17 + 0x1c);
      }
      else {
        iVar8 = iVar17 + 0x1c;
        if (iVar8 < (int)uVar4) {
          iVar10 = iVar10 + (uVar4 - iVar8) * (uVar4 - iVar8);
        }
        else if ((int)uVar4 <= iVar17 + 0x1c + iVar18 >> 1) {
          iVar8 = uVar4 - iVar8;
          goto LAB_1004348f;
        }
        iVar8 = uVar4 - iVar18;
      }
LAB_1004348f:
      *local_5a8 = iVar10;
      iVar5 = iVar5 * 2 * iVar5 * 2 + iVar7 * 3 * iVar7 * 3 + iVar8 * iVar8;
      if (iVar5 < local_5a4) {
        local_5a4 = iVar5;
      }
      local_5a8 = local_5a8 + 1;
      local_5b0 = local_5b0 + 1;
    } while (local_5b0 < iVar19);
  }
  local_5ac = 0;
  local_5b0 = 0;
  if (0 < iVar19) {
    local_5a8 = local_400;
    do {
      if (*local_5a8 <= local_5a4) {
        local_500[local_5ac] = (undefined1)local_5b0;
        local_5ac = local_5ac + 1;
      }
      local_5b0 = local_5b0 + 1;
      local_5a8 = local_5a8 + 1;
    } while (local_5b0 < iVar19);
  }
  FUN_100435e0(param_1,iVar14,iVar16,iVar18,local_5ac,(int)local_500,local_580);
  pbVar11 = local_580;
  piVar12 = (int *)(iVar9 + (param_2 >> 2) * 0x10);
  local_5a4 = 4;
  do {
    iVar9 = ((param_3 >> 3) * 0x100 + (param_4 >> 2) * 4) * 2;
    iVar19 = 8;
    do {
      iVar13 = 4;
      psVar6 = (short *)(*piVar12 + iVar9);
      do {
        *psVar6 = *pbVar11 + 1;
        pbVar11 = pbVar11 + 1;
        iVar13 = iVar13 + -1;
        psVar6 = psVar6 + 1;
      } while (iVar13 != 0);
      iVar9 = iVar9 + 0x40;
      iVar19 = iVar19 + -1;
    } while (iVar19 != 0);
    piVar12 = piVar12 + 1;
    local_5a4 = local_5a4 + -1;
  } while (local_5a4 != 0);
  return;
}



/* FUN_100435e0 @ 100435e0 */

void __cdecl
FUN_100435e0(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6,byte *param_7)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  byte *pbVar9;
  int iVar10;
  int *piVar11;
  int local_220;
  int local_218;
  int local_214;
  int local_210;
  int local_20c;
  int local_200 [128];
  
  piVar11 = local_200;
  for (iVar4 = 0x80; iVar4 != 0; iVar4 = iVar4 + -1) {
    *piVar11 = 0x7fffffff;
    piVar11 = piVar11 + 1;
  }
  local_218 = 0;
  if (0 < param_5) {
    do {
      bVar1 = *(byte *)(local_218 + param_6);
      uVar8 = (uint)bVar1;
      piVar11 = *(int **)(param_1 + 0x74);
      local_220 = 4;
      iVar2 = (param_2 - (uint)*(byte *)(uVar8 + *piVar11)) * 2;
      iVar5 = param_3 - (uint)*(byte *)(piVar11[1] + uVar8);
      iVar4 = iVar5 * 3;
      iVar6 = param_4 - (uint)*(byte *)(piVar11[2] + uVar8);
      iVar4 = iVar6 * iVar6 + iVar4 * iVar4 + iVar2 * iVar2;
      local_20c = (iVar2 + 8) * 0x20;
      piVar11 = local_200;
      pbVar9 = param_7;
      do {
        local_214 = 8;
        iVar2 = iVar4;
        local_210 = (iVar5 * 9 + 0x12) * 8;
        do {
          iVar10 = 4;
          iVar3 = iVar2;
          iVar7 = (iVar6 + 4) * 0x10;
          do {
            if (iVar3 < *piVar11) {
              *piVar11 = iVar3;
              *pbVar9 = bVar1;
            }
            iVar3 = iVar3 + iVar7;
            iVar7 = iVar7 + 0x80;
            piVar11 = piVar11 + 1;
            pbVar9 = pbVar9 + 1;
            iVar10 = iVar10 + -1;
          } while (iVar10 != 0);
          iVar2 = iVar2 + local_210;
          local_210 = local_210 + 0x120;
          local_214 = local_214 + -1;
        } while (local_214 != 0);
        iVar4 = iVar4 + local_20c;
        local_20c = local_20c + 0x200;
        local_220 = local_220 + -1;
      } while (local_220 != 0);
      local_218 = local_218 + 1;
    } while (local_218 < param_5);
  }
  return;
}



/* FUN_10043c40 @ 10043c40 */

void __cdecl FUN_10043c40(int param_1,int *param_2)

{
  short sVar1;
  short *psVar2;
  short *psVar3;
  int *piVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  int *local_4;
  
  iVar6 = *(int *)(*(int *)(param_1 + 0x1a4) + 0x18);
  local_1c = param_2[1];
  local_8 = param_2[5];
  local_14 = param_2[4];
  param_1 = param_2[2];
  local_20 = *param_2;
  local_18 = param_2[3];
  if (local_20 < local_1c) {
    if (local_20 <= local_1c) {
      local_4 = (int *)(iVar6 + local_20 * 4);
      local_10 = local_20;
      do {
        if (param_1 <= local_18) {
          psVar2 = (short *)(*local_4 + (param_1 * 0x20 + local_14) * 2);
          iVar8 = local_14;
          iVar7 = param_1;
          psVar3 = psVar2;
          do {
            for (; iVar8 <= local_8; iVar8 = iVar8 + 1) {
              sVar1 = *psVar2;
              psVar2 = psVar2 + 1;
              if (sVar1 != 0) {
                *param_2 = local_10;
                local_20 = local_10;
                goto LAB_10043d0f;
              }
            }
            iVar7 = iVar7 + 1;
            psVar2 = psVar3 + 0x20;
            iVar8 = local_14;
            psVar3 = psVar2;
          } while (iVar7 <= local_18);
        }
        local_10 = local_10 + 1;
        local_4 = local_4 + 1;
      } while (local_10 <= local_1c);
    }
LAB_10043d0f:
    if (local_20 < local_1c) {
      piVar4 = (int *)(iVar6 + local_1c * 4);
      local_10 = local_1c;
      do {
        if (param_1 <= local_18) {
          psVar2 = (short *)(*piVar4 + (param_1 * 0x20 + local_14) * 2);
          iVar8 = local_14;
          iVar7 = param_1;
          psVar3 = psVar2;
          do {
            for (; iVar8 <= local_8; iVar8 = iVar8 + 1) {
              sVar1 = *psVar2;
              psVar2 = psVar2 + 1;
              if (sVar1 != 0) {
                local_1c = local_10;
                param_2[1] = local_10;
                goto LAB_10043d8f;
              }
            }
            iVar7 = iVar7 + 1;
            psVar2 = psVar3 + 0x20;
            iVar8 = local_14;
            psVar3 = psVar2;
          } while (iVar7 <= local_18);
        }
        local_10 = local_10 + -1;
        piVar4 = piVar4 + -1;
      } while (local_20 <= local_10);
    }
  }
LAB_10043d8f:
  if (param_1 < local_18) {
    if (param_1 <= local_18) {
      iVar8 = (param_1 * 0x20 + local_14) * 2;
      local_10 = param_1;
      do {
        if (local_20 <= local_1c) {
          piVar4 = (int *)(iVar6 + local_20 * 4);
          iVar7 = local_20;
          do {
            psVar2 = (short *)(*piVar4 + iVar8);
            for (iVar5 = local_14; iVar5 <= local_8; iVar5 = iVar5 + 1) {
              sVar1 = *psVar2;
              psVar2 = psVar2 + 1;
              if (sVar1 != 0) {
                param_1 = local_10;
                param_2[2] = local_10;
                goto LAB_10043e16;
              }
            }
            iVar7 = iVar7 + 1;
            piVar4 = piVar4 + 1;
          } while (iVar7 <= local_1c);
        }
        local_10 = local_10 + 1;
        iVar8 = iVar8 + 0x40;
      } while (local_10 <= local_18);
    }
LAB_10043e16:
    if (param_1 < local_18) {
      iVar8 = (local_18 * 0x20 + local_14) * 2;
      local_10 = local_18;
      do {
        if (local_20 <= local_1c) {
          piVar4 = (int *)(iVar6 + local_20 * 4);
          iVar7 = local_20;
          do {
            psVar2 = (short *)(iVar8 + *piVar4);
            for (iVar5 = local_14; iVar5 <= local_8; iVar5 = iVar5 + 1) {
              sVar1 = *psVar2;
              psVar2 = psVar2 + 1;
              if (sVar1 != 0) {
                local_18 = local_10;
                param_2[3] = local_10;
                goto LAB_10043e91;
              }
            }
            iVar7 = iVar7 + 1;
            piVar4 = piVar4 + 1;
          } while (iVar7 <= local_1c);
        }
        local_10 = local_10 + -1;
        iVar8 = iVar8 + -0x40;
      } while (param_1 <= local_10);
    }
  }
LAB_10043e91:
  iVar8 = local_14;
  if (local_14 < local_8) {
    for (; iVar8 <= local_8; iVar8 = iVar8 + 1) {
      if (local_20 <= local_1c) {
        piVar4 = (int *)(iVar6 + local_20 * 4);
        iVar7 = local_20;
        do {
          psVar2 = (short *)(*piVar4 + (param_1 * 0x20 + iVar8) * 2);
          for (iVar5 = param_1; iVar5 <= local_18; iVar5 = iVar5 + 1) {
            if (*psVar2 != 0) {
              param_2[4] = iVar8;
              local_14 = iVar8;
              goto LAB_10043f0f;
            }
            psVar2 = psVar2 + 0x20;
          }
          iVar7 = iVar7 + 1;
          piVar4 = piVar4 + 1;
        } while (iVar7 <= local_1c);
      }
    }
LAB_10043f0f:
    iVar8 = local_8;
    if (local_14 < local_8) {
      do {
        if (local_20 <= local_1c) {
          piVar4 = (int *)(iVar6 + local_20 * 4);
          iVar7 = local_20;
          do {
            psVar2 = (short *)((param_1 * 0x20 + iVar8) * 2 + *piVar4);
            for (iVar5 = param_1; iVar5 <= local_18; iVar5 = iVar5 + 1) {
              if (*psVar2 != 0) {
                param_2[5] = iVar8;
                local_8 = iVar8;
                goto LAB_10043f85;
              }
              psVar2 = psVar2 + 0x20;
            }
            iVar7 = iVar7 + 1;
            piVar4 = piVar4 + 1;
          } while (iVar7 <= local_1c);
        }
        iVar8 = iVar8 + -1;
      } while (local_14 <= iVar8);
    }
  }
LAB_10043f85:
  iVar8 = (local_8 - local_14) * 8;
  iVar5 = (local_18 - param_1) * 0xc;
  iVar7 = (local_1c - local_20) * 0x10;
  param_2[6] = iVar8 * iVar8 + iVar5 * iVar5 + iVar7 * iVar7;
  iVar8 = 0;
  if (local_20 <= local_1c) {
    local_4 = (int *)(iVar6 + local_20 * 4);
    local_10 = (local_1c - local_20) + 1;
    do {
      if (param_1 <= local_18) {
        psVar2 = (short *)(*local_4 + (param_1 * 0x20 + local_14) * 2);
        local_c = (local_18 - param_1) + 1;
        do {
          if (local_14 <= local_8) {
            iVar6 = (local_8 - local_14) + 1;
            psVar3 = psVar2;
            do {
              if (*psVar3 != 0) {
                iVar8 = iVar8 + 1;
              }
              psVar3 = psVar3 + 1;
              iVar6 = iVar6 + -1;
            } while (iVar6 != 0);
          }
          psVar2 = psVar2 + 0x20;
          local_c = local_c + -1;
        } while (local_c != 0);
      }
      local_4 = local_4 + 1;
      local_10 = local_10 + -1;
    } while (local_10 != 0);
    param_2[7] = iVar8;
    return;
  }
  param_2[7] = 0;
  return;
}



/* FUN_10044070 @ 10044070 */

void __cdecl FUN_10044070(int param_1,int *param_2,int param_3)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  ushort *puVar10;
  ushort *puVar11;
  int iVar12;
  int iVar13;
  int local_30;
  int local_2c;
  int local_28;
  int local_24;
  int local_14;
  
  piVar1 = param_2 + 3;
  iVar8 = param_2[4];
  iVar4 = param_2[2];
  piVar2 = param_2 + 1;
  piVar3 = param_2 + 5;
  iVar9 = *param_2;
  iVar13 = 0;
  local_2c = 0;
  local_28 = 0;
  local_24 = 0;
  if (iVar9 <= *piVar2) {
    local_30 = iVar9 * 8 + 4;
    param_2 = (int *)(*(int *)(*(int *)(param_1 + 0x1a4) + 0x18) + iVar9 * 4);
    local_14 = (*piVar2 - iVar9) + 1;
    do {
      if (iVar4 <= *piVar1) {
        puVar10 = (ushort *)(*param_2 + (iVar4 * 0x20 + iVar8) * 2);
        iVar5 = (*piVar1 - iVar4) + 1;
        iVar9 = iVar4 * 4 + 2;
        do {
          if (iVar8 <= *piVar3) {
            iVar7 = iVar8 * 8 + 4;
            iVar12 = (*piVar3 - iVar8) + 1;
            puVar11 = puVar10;
            do {
              uVar6 = (uint)*puVar11;
              puVar11 = puVar11 + 1;
              if (uVar6 != 0) {
                local_2c = local_2c + local_30 * uVar6;
                local_28 = local_28 + iVar9 * uVar6;
                iVar13 = iVar13 + uVar6;
                local_24 = local_24 + iVar7 * uVar6;
              }
              iVar7 = iVar7 + 8;
              iVar12 = iVar12 + -1;
            } while (iVar12 != 0);
          }
          puVar10 = puVar10 + 0x20;
          iVar9 = iVar9 + 4;
          iVar5 = iVar5 + -1;
        } while (iVar5 != 0);
      }
      param_2 = param_2 + 1;
      local_30 = local_30 + 8;
      local_14 = local_14 + -1;
    } while (local_14 != 0);
  }
  iVar8 = iVar13 >> 1;
  *(char *)(**(int **)(param_1 + 0x74) + param_3) = (char)((iVar8 + local_2c) / iVar13);
  *(char *)(*(int *)(*(int *)(param_1 + 0x74) + 4) + param_3) = (char)((local_28 + iVar8) / iVar13);
  *(char *)(*(int *)(*(int *)(param_1 + 0x74) + 8) + param_3) = (char)((local_24 + iVar8) / iVar13);
  return;
}



/* FUN_10044210 @ 10044210 */

void __cdecl FUN_10044210(int *param_1)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  undefined4 *puVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  undefined4 uVar8;
  int iVar9;
  int iVar10;
  int *piVar11;
  int iVar12;
  int iVar13;
  int iStack_28;
  int *piStack_20;
  int iStack_1c;
  int iStack_14;
  
  piVar3 = param_1;
  puVar4 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x58);
  param_1[0x69] = (int)puVar4;
  *puVar4 = &LAB_10044690;
  puVar4[2] = &DAT_1003ab00;
  puVar4[3] = &LAB_10044e30;
  puVar4[0x11] = 0;
  puVar4[0xd] = 0;
  if (4 < param_1[0x19]) {
    *(undefined4 *)(*param_1 + 0x14) = 0x36;
    *(undefined4 *)(*param_1 + 0x18) = 4;
    (**(code **)*param_1)(param_1);
  }
  if (0x100 < param_1[0x15]) {
    *(undefined4 *)(*param_1 + 0x14) = 0x38;
    *(undefined4 *)(*param_1 + 0x18) = 0x100;
    (**(code **)*param_1)(param_1);
  }
  iVar2 = param_1[0x69];
  iVar5 = FUN_10044450(param_1,(int *)(iVar2 + 0x20));
  if (param_1[0x19] == 3) {
    iVar13 = *param_1;
    *(int *)(iVar13 + 0x18) = iVar5;
    *(int *)(iVar13 + 0x1c) = *(int *)(iVar2 + 0x20);
    *(undefined4 *)(iVar13 + 0x20) = *(undefined4 *)(iVar2 + 0x24);
    *(undefined4 *)(iVar13 + 0x24) = *(undefined4 *)(iVar2 + 0x28);
    *(undefined4 *)(*param_1 + 0x14) = 0x5d;
  }
  else {
    *(undefined4 *)(*param_1 + 0x14) = 0x5e;
    *(int *)(*param_1 + 0x18) = iVar5;
  }
  (**(code **)(*param_1 + 4))(param_1,1);
  piVar6 = (int *)(**(code **)(param_1[1] + 8))(param_1,1,iVar5,param_1[0x19]);
  iStack_14 = 0;
  if (0 < param_1[0x19]) {
    piStack_20 = (int *)(iVar2 + 0x20);
    piVar11 = piVar6;
    iVar13 = iVar5;
    do {
      iStack_1c = *piStack_20;
      iVar7 = iVar13 / iStack_1c;
      if (0 < iStack_1c) {
        iVar1 = iStack_1c + -1;
        iStack_28 = 0;
        param_1 = (int *)0x0;
        do {
          for (iVar10 = iStack_28; iVar10 < iVar5; iVar10 = iVar10 + iVar13) {
            iVar9 = 0;
            if (0 < iVar7) {
              do {
                iVar12 = *piVar11 + iVar9;
                iVar9 = iVar9 + 1;
                *(char *)(iVar10 + iVar12) = (char)((iVar1 / 2 + (int)param_1) / iVar1);
              } while (iVar9 < iVar7);
            }
          }
          param_1 = (int *)((int)param_1 + 0xff);
          iStack_28 = iStack_28 + iVar7;
          iStack_1c = iStack_1c + -1;
        } while (iStack_1c != 0);
      }
      piStack_20 = piStack_20 + 1;
      iStack_14 = iStack_14 + 1;
      piVar11 = piVar11 + 1;
      iVar13 = iVar7;
    } while (iStack_14 < piVar3[0x19]);
  }
  *(int **)(iVar2 + 0x10) = piVar6;
  *(int *)(iVar2 + 0x14) = iVar5;
  FUN_10044540((int)piVar3);
  if (piVar3[0x13] == 2) {
    iVar2 = piVar3[0x17];
    iVar5 = 0;
    if (0 < piVar3[0x19]) {
      puVar4 = (undefined4 *)(piVar3[0x69] + 0x44);
      do {
        uVar8 = (**(code **)(piVar3[1] + 4))(piVar3,1,iVar2 * 2 + 4);
        *puVar4 = uVar8;
        iVar5 = iVar5 + 1;
        puVar4 = puVar4 + 1;
      } while (iVar5 < piVar3[0x19]);
    }
  }
  return;
}



/* FUN_10044450 @ 10044450 */

int __cdecl FUN_10044450(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  bool bVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  int *piStack_c;
  
  iVar2 = param_1[0x19];
  iVar3 = param_1[0x15];
  iVar8 = 1;
  do {
    iVar7 = iVar8;
    iVar8 = iVar7 + 1;
    iVar5 = iVar8;
    if (1 < iVar2) {
      iVar6 = iVar2 + -1;
      do {
        iVar5 = iVar5 * iVar8;
        iVar6 = iVar6 + -1;
      } while (iVar6 != 0);
    }
  } while (iVar5 <= iVar3);
  if (iVar7 < 2) {
    *(undefined4 *)(*param_1 + 0x14) = 0x37;
    *(int *)(*param_1 + 0x18) = iVar5;
    (**(code **)*param_1)(param_1);
  }
  iVar5 = 1;
  iVar8 = iVar2;
  piVar9 = param_2;
  if (0 < iVar2) {
    for (; iVar6 = iVar2, iVar8 != 0; iVar8 = iVar8 + -1) {
      *piVar9 = iVar7;
      piVar9 = piVar9 + 1;
    }
    do {
      iVar5 = iVar5 * iVar7;
      iVar6 = iVar6 + -1;
    } while (iVar6 != 0);
  }
  do {
    iVar8 = 0;
    bVar4 = false;
    if (iVar2 < 1) {
      return iVar5;
    }
    piStack_c = &DAT_10050950;
    iVar7 = iVar5;
    do {
      iVar6 = iVar8;
      if (param_1[10] == 2) {
        iVar6 = *piStack_c;
      }
      iVar1 = param_2[iVar6] + 1;
      iVar5 = (iVar7 / param_2[iVar6]) * iVar1;
      if (iVar5 - iVar3 != 0 && iVar3 <= iVar5) {
        iVar5 = iVar7;
        if (!bVar4) {
          return iVar7;
        }
        break;
      }
      param_2[iVar6] = iVar1;
      iVar8 = iVar8 + 1;
      piStack_c = piStack_c + 1;
      bVar4 = true;
      iVar7 = iVar5;
    } while (iVar8 < iVar2);
  } while( true );
}



/* FUN_10044540 @ 10044540 */

void __cdecl FUN_10044540(int param_1)

{
  int iVar1;
  undefined1 *puVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined1 *puVar8;
  int iVar9;
  int iVar10;
  int local_18;
  int *piStack_14;
  char cStack_10;
  int iStack_c;
  
  iVar1 = *(int *)(param_1 + 0x1a4);
  if (*(int *)(param_1 + 0x4c) == 1) {
    local_18 = 0x1fe;
    *(undefined1 *)(iVar1 + 0x1c) = 1;
  }
  else {
    local_18 = 0;
    *(undefined1 *)(iVar1 + 0x1c) = 0;
  }
  uVar3 = (**(code **)(*(int *)(param_1 + 4) + 8))
                    (param_1,1,local_18 + 0x100,*(undefined4 *)(param_1 + 100));
  *(undefined4 *)(iVar1 + 0x18) = uVar3;
  iVar4 = *(int *)(iVar1 + 0x14);
  iStack_c = 0;
  if (0 < *(int *)(param_1 + 100)) {
    piStack_14 = (int *)(iVar1 + 0x20);
    do {
      iVar6 = *piStack_14;
      iVar4 = iVar4 / iVar6;
      if (local_18 != 0) {
        *(int *)(*(int *)(iVar1 + 0x18) + iStack_c * 4) =
             *(int *)(*(int *)(iVar1 + 0x18) + iStack_c * 4) + 0xff;
      }
      puVar2 = *(undefined1 **)(*(int *)(iVar1 + 0x18) + iStack_c * 4);
      iVar5 = (iVar6 + 0xfe) / (iVar6 * 2 + -2);
      iVar9 = 0;
      iVar10 = 0;
      do {
        if (iVar5 < iVar10) {
          iVar7 = iVar9 * 0x1fe;
          do {
            iVar5 = (iVar7 + 0x2fc + iVar6) / (iVar6 * 2 + -2);
            iVar9 = iVar9 + 1;
            iVar7 = iVar7 + 0x1fe;
          } while (iVar5 < iVar10);
        }
        cStack_10 = (char)iVar4;
        puVar2[iVar10] = cStack_10 * (char)iVar9;
        iVar10 = iVar10 + 1;
      } while (iVar10 < 0x100);
      if (local_18 != 0) {
        iVar6 = 1;
        puVar8 = puVar2;
        do {
          puVar8 = puVar8 + -1;
          *puVar8 = *puVar2;
          puVar2[iVar6 + 0xff] = puVar2[0xff];
          iVar6 = iVar6 + 1;
        } while (iVar6 < 0x100);
      }
      iStack_c = iStack_c + 1;
      piStack_14 = piStack_14 + 1;
    } while (iStack_c < *(int *)(param_1 + 100));
  }
  return;
}



/* FUN_10046400 @ 10046400 */

uint __cdecl FUN_10046400(undefined4 param_1,undefined4 *param_2,int param_3,undefined4 param_4)

{
  uint uVar1;
  uint uVar2;
  int local_38;
  undefined4 local_34;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_18;
  undefined4 local_14;
  
  local_34 = param_4;
  local_38 = param_3;
  local_28 = *param_2;
  local_2c = param_1;
  local_18 = 0;
  local_14 = 0;
  uVar1 = FUN_100475b0((int)&local_38,s_1_1_3_1005820c,0x38);
  if (uVar1 == 0) {
    uVar2 = FUN_100475d0(&local_38,4);
    if (uVar2 == 1) {
      *param_2 = local_24;
      uVar1 = FUN_100473f0((int)&local_38);
    }
    else {
      FUN_100473f0((int)&local_38);
      uVar1 = 0xfffffffb;
      if (uVar2 != 0) {
        return uVar2;
      }
    }
  }
  return uVar1;
}



/* FUN_100473f0 @ 100473f0 */

undefined4 __cdecl FUN_100473f0(int param_1)

{
  int *piVar1;
  
  if (((param_1 != 0) && (*(int *)(param_1 + 0x1c) != 0)) && (*(int *)(param_1 + 0x24) != 0)) {
    piVar1 = *(int **)(*(int *)(param_1 + 0x1c) + 0x14);
    if (piVar1 != (int *)0x0) {
      FUN_1004a100(piVar1,param_1);
    }
    (**(code **)(param_1 + 0x24))(*(undefined4 *)(param_1 + 0x28),*(undefined4 *)(param_1 + 0x1c));
    *(undefined4 *)(param_1 + 0x1c) = 0;
    return 0;
  }
  return 0xfffffffe;
}



/* FUN_10047440 @ 10047440 */

undefined4 __cdecl FUN_10047440(int param_1,int param_2,char *param_3,int param_4)

{
  uint *puVar1;
  int *piVar2;
  int iVar3;
  undefined4 *puVar4;
  
  if (((param_3 == (char *)0x0) || (*param_3 != s_1_1_3_1005820c[0])) || (param_4 != 0x38)) {
    return 0xfffffffa;
  }
  if (param_1 == 0) {
    return 0xfffffffe;
  }
  *(undefined4 *)(param_1 + 0x18) = 0;
  if (*(int *)(param_1 + 0x20) == 0) {
    *(code **)(param_1 + 0x20) = FUN_10047a00;
    *(undefined4 *)(param_1 + 0x28) = 0;
  }
  if (*(int *)(param_1 + 0x24) == 0) {
    *(code **)(param_1 + 0x24) = FUN_10047a20;
  }
  iVar3 = (**(code **)(param_1 + 0x20))(*(undefined4 *)(param_1 + 0x28),1,0x18);
  *(int *)(param_1 + 0x1c) = iVar3;
  if (iVar3 == 0) {
    return 0xfffffffc;
  }
  *(undefined4 *)(iVar3 + 0x14) = 0;
  *(undefined4 *)(*(int *)(param_1 + 0x1c) + 0xc) = 0;
  if (param_2 < 0) {
    param_2 = -param_2;
    *(undefined4 *)(*(int *)(param_1 + 0x1c) + 0xc) = 1;
  }
  if ((7 < param_2) && (param_2 < 0x10)) {
    *(int *)(*(int *)(param_1 + 0x1c) + 0x10) = param_2;
    puVar4 = FUN_10049340(param_1,(undefined *)
                                  (~-(uint)(*(int *)(*(int *)(param_1 + 0x1c) + 0xc) != 0) &
                                  0x10049190),1 << ((byte)param_2 & 0x1f));
    *(undefined4 **)(*(int *)(param_1 + 0x1c) + 0x14) = puVar4;
    puVar1 = *(uint **)(param_1 + 0x1c);
    if (puVar1[5] == 0) {
      if ((puVar1 != (uint *)0x0) && (*(code **)(param_1 + 0x24) != (code *)0x0)) {
        (**(code **)(param_1 + 0x24))(*(undefined4 *)(param_1 + 0x28),puVar1);
        *(undefined4 *)(param_1 + 0x1c) = 0;
      }
      return 0xfffffffc;
    }
    if (puVar1 != (uint *)0x0) {
      *(undefined4 *)(param_1 + 0x14) = 0;
      *(undefined4 *)(param_1 + 8) = 0;
      *(undefined4 *)(param_1 + 0x18) = 0;
      *puVar1 = -(uint)(puVar1[3] != 0) & 7;
      FUN_100492c0(*(int **)(*(int *)(param_1 + 0x1c) + 0x14),param_1,(int *)0x0);
    }
    return 0;
  }
  if ((*(int *)(param_1 + 0x1c) != 0) && (*(int *)(param_1 + 0x24) != 0)) {
    piVar2 = *(int **)(*(int *)(param_1 + 0x1c) + 0x14);
    if (piVar2 != (int *)0x0) {
      FUN_1004a100(piVar2,param_1);
    }
    (**(code **)(param_1 + 0x24))(*(undefined4 *)(param_1 + 0x28),*(undefined4 *)(param_1 + 0x1c));
    *(undefined4 *)(param_1 + 0x1c) = 0;
  }
  return 0xfffffffe;
}



/* FUN_100475b0 @ 100475b0 */

void __cdecl FUN_100475b0(int param_1,char *param_2,int param_3)

{
  FUN_10047440(param_1,0xf,param_2,param_3);
  return;
}



/* FUN_100475d0 @ 100475d0 */

uint __cdecl FUN_100475d0(int *param_1,int param_2)

{
  byte bVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  uint uVar4;
  uint uVar5;
  
  if (((param_1 == (int *)0x0) || (param_1[7] == 0)) || (*param_1 == 0)) {
switchD_10047620_default:
    return 0xfffffffe;
  }
  uVar5 = (param_2 != 4) - 1 & 0xfffffffb;
  uVar4 = 0xfffffffb;
  do {
    puVar2 = (undefined4 *)param_1[7];
    switch(*puVar2) {
    case 0:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[1] = param_1[1] + -1;
      param_1[2] = param_1[2] + 1;
      puVar2[1] = (uint)*(byte *)*param_1;
      puVar2 = (undefined4 *)param_1[7];
      uVar3 = puVar2[1];
      *param_1 = *param_1 + 1;
      if (((byte)uVar3 & 0xf) != 8) {
        *puVar2 = 0xd;
        param_1[6] = (int)s_unknown_compression_method_1005826c;
        *(undefined4 *)(param_1[7] + 4) = 5;
        uVar4 = uVar5;
        break;
      }
      if ((uint)puVar2[4] < ((uint)puVar2[1] >> 4) + 8) {
        *puVar2 = 0xd;
        param_1[6] = (int)s_invalid_window_size_10058258;
        *(undefined4 *)(param_1[7] + 4) = 5;
        uVar4 = uVar5;
        break;
      }
      *puVar2 = 1;
      uVar4 = uVar5;
    case 1:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[1] = param_1[1] + -1;
      puVar2 = (undefined4 *)param_1[7];
      param_1[2] = param_1[2] + 1;
      bVar1 = *(byte *)*param_1;
      *param_1 = (int)((byte *)*param_1 + 1);
      if ((puVar2[1] * 0x100 + (uint)bVar1) % 0x1f == 0) {
        if ((bVar1 & 0x20) != 0) {
          *(undefined4 *)param_1[7] = 2;
          uVar4 = uVar5;
          goto switchD_10047620_caseD_2;
        }
        *puVar2 = 7;
        uVar4 = uVar5;
      }
      else {
        *puVar2 = 0xd;
        param_1[6] = (int)s_incorrect_header_check_10058240;
        *(undefined4 *)(param_1[7] + 4) = 5;
        uVar4 = uVar5;
      }
      break;
    case 2:
switchD_10047620_caseD_2:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[2] = param_1[2] + 1;
      param_1[1] = param_1[1] + -1;
      *(uint *)(param_1[7] + 8) = (uint)*(byte *)*param_1 << 0x18;
      *param_1 = *param_1 + 1;
      *(undefined4 *)param_1[7] = 3;
      uVar4 = uVar5;
switchD_10047620_caseD_3:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[1] = param_1[1] + -1;
      param_1[2] = param_1[2] + 1;
      *(uint *)(param_1[7] + 8) = *(int *)(param_1[7] + 8) + (uint)*(byte *)*param_1 * 0x10000;
      *param_1 = *param_1 + 1;
      *(undefined4 *)param_1[7] = 4;
      uVar4 = uVar5;
switchD_10047620_caseD_4:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[1] = param_1[1] + -1;
      param_1[2] = param_1[2] + 1;
      *(uint *)(param_1[7] + 8) = *(int *)(param_1[7] + 8) + (uint)*(byte *)*param_1 * 0x100;
      *param_1 = *param_1 + 1;
      *(undefined4 *)param_1[7] = 5;
      uVar4 = uVar5;
switchD_10047620_caseD_5:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[1] = param_1[1] + -1;
      param_1[2] = param_1[2] + 1;
      *(uint *)(param_1[7] + 8) = *(int *)(param_1[7] + 8) + (uint)*(byte *)*param_1;
      *param_1 = *param_1 + 1;
      param_1[0xc] = ((undefined4 *)param_1[7])[2];
      *(undefined4 *)param_1[7] = 6;
      return 2;
    case 3:
      goto switchD_10047620_caseD_3;
    case 4:
      goto switchD_10047620_caseD_4;
    case 5:
      goto switchD_10047620_caseD_5;
    case 6:
      *(undefined4 *)param_1[7] = 0xd;
      param_1[6] = (int)s_need_dictionary_10058218;
      *(undefined4 *)(param_1[7] + 4) = 0;
      return 0xfffffffe;
    case 7:
      uVar4 = FUN_10049400((uint *)puVar2[5],param_1,uVar4);
      if (uVar4 == 0xfffffffd) {
        *(undefined4 *)param_1[7] = 0xd;
        *(undefined4 *)(param_1[7] + 4) = 0;
        uVar4 = 0xfffffffd;
      }
      else {
        if (uVar4 == 0) {
          uVar4 = uVar5;
        }
        if (uVar4 != 1) {
          return uVar4;
        }
        FUN_100492c0(*(int **)(param_1[7] + 0x14),(int)param_1,(int *)(param_1[7] + 4));
        puVar2 = (undefined4 *)param_1[7];
        if (puVar2[3] == 0) {
          *puVar2 = 8;
          uVar4 = uVar5;
          goto switchD_10047620_caseD_8;
        }
        *puVar2 = 0xc;
        uVar4 = uVar5;
      }
      break;
    case 8:
switchD_10047620_caseD_8:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[1] = param_1[1] + -1;
      param_1[2] = param_1[2] + 1;
      *(uint *)(param_1[7] + 8) = (uint)*(byte *)*param_1 << 0x18;
      *param_1 = *param_1 + 1;
      *(undefined4 *)param_1[7] = 9;
      uVar4 = uVar5;
switchD_10047620_caseD_9:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[2] = param_1[2] + 1;
      param_1[1] = param_1[1] + -1;
      *(uint *)(param_1[7] + 8) = *(int *)(param_1[7] + 8) + (uint)*(byte *)*param_1 * 0x10000;
      *param_1 = *param_1 + 1;
      *(undefined4 *)param_1[7] = 10;
      uVar4 = uVar5;
switchD_10047620_caseD_a:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[2] = param_1[2] + 1;
      param_1[1] = param_1[1] + -1;
      *(uint *)(param_1[7] + 8) = *(int *)(param_1[7] + 8) + (uint)*(byte *)*param_1 * 0x100;
      *param_1 = *param_1 + 1;
      *(undefined4 *)param_1[7] = 0xb;
      uVar4 = uVar5;
switchD_10047620_caseD_b:
      if (param_1[1] == 0) {
        return uVar4;
      }
      param_1[1] = param_1[1] + -1;
      param_1[2] = param_1[2] + 1;
      *(uint *)(param_1[7] + 8) = *(int *)(param_1[7] + 8) + (uint)*(byte *)*param_1;
      *param_1 = *param_1 + 1;
      puVar2 = (undefined4 *)param_1[7];
      if (puVar2[1] == puVar2[2]) {
        *(undefined4 *)param_1[7] = 0xc;
switchD_10047620_caseD_c:
        return 1;
      }
      *puVar2 = 0xd;
      param_1[6] = (int)s_incorrect_data_check_10058228;
      *(undefined4 *)(param_1[7] + 4) = 5;
      uVar4 = uVar5;
      break;
    case 9:
      goto switchD_10047620_caseD_9;
    case 10:
      goto switchD_10047620_caseD_a;
    case 0xb:
      goto switchD_10047620_caseD_b;
    case 0xc:
      goto switchD_10047620_caseD_c;
    case 0xd:
      return 0xfffffffd;
    default:
      goto switchD_10047620_default;
    }
  } while( true );
}



/* FUN_10047a00 @ 10047a00 */

/* [binja] int32_t sub_10047a00(uint32_t arg1, uint32_t arg2) */

int __cdecl FUN_10047a00(uint arg1,uint arg2)

{
  void *pvVar1;
  size_t in_stack_0000000c;
  
  pvVar1 = calloc(arg2,in_stack_0000000c);
  return (int)pvVar1;
}



/* FUN_10047a20 @ 10047a20 */

/* [binja] int32_t sub_10047a20(int32_t arg1) */

int __cdecl FUN_10047a20(int arg1)

{
  int extraout_EAX;
  void *in_stack_00000008;
  
  free(in_stack_00000008);
  return extraout_EAX;
}



/* FUN_10049190 @ 10049190 */

uint __cdecl FUN_10049190(uint param_1,byte *param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  uint uVar18;
  byte *pbVar19;
  uint uVar20;
  
  uVar2 = param_1 & 0xffff;
  uVar20 = param_1 >> 0x10;
  if (param_2 == (byte *)0x0) {
    return 1;
  }
  while (param_3 != 0) {
    uVar1 = param_3;
    if (0x15af < param_3) {
      uVar1 = 0x15b0;
    }
    param_3 = param_3 - uVar1;
    if (0xf < (int)uVar1) {
      uVar18 = uVar1 >> 4;
      uVar1 = uVar1 + uVar18 * -0x10;
      pbVar19 = param_2;
      do {
        param_2 = pbVar19 + 0x10;
        iVar3 = uVar2 + *pbVar19;
        iVar4 = iVar3 + (uint)pbVar19[1];
        iVar5 = iVar4 + (uint)pbVar19[2];
        iVar6 = iVar5 + (uint)pbVar19[3];
        iVar7 = iVar6 + (uint)pbVar19[4];
        iVar8 = iVar7 + (uint)pbVar19[5];
        iVar9 = iVar8 + (uint)pbVar19[6];
        iVar10 = iVar9 + (uint)pbVar19[7];
        iVar11 = iVar10 + (uint)pbVar19[8];
        iVar12 = iVar11 + (uint)pbVar19[9];
        iVar13 = iVar12 + (uint)pbVar19[10];
        iVar14 = iVar13 + (uint)pbVar19[0xb];
        iVar15 = iVar14 + (uint)pbVar19[0xc];
        iVar16 = iVar15 + (uint)pbVar19[0xd];
        iVar17 = iVar16 + (uint)pbVar19[0xe];
        uVar2 = iVar17 + (uint)pbVar19[0xf];
        uVar20 = uVar20 + iVar3 + iVar4 + iVar5 + iVar6 + iVar7 + iVar8 + iVar9 + iVar10 + iVar11 +
                 iVar12 + iVar13 + iVar14 + iVar15 + iVar16 + iVar17 + uVar2;
        uVar18 = uVar18 - 1;
        pbVar19 = param_2;
      } while (uVar18 != 0);
    }
    for (; uVar1 != 0; uVar1 = uVar1 - 1) {
      uVar2 = uVar2 + *param_2;
      param_2 = param_2 + 1;
      uVar20 = uVar20 + uVar2;
    }
    uVar2 = uVar2 % 0xfff1;
    uVar20 = uVar20 % 0xfff1;
  }
  return uVar20 << 0x10 | uVar2;
}



/* FUN_100492c0 @ 100492c0 */

void __cdecl FUN_100492c0(int *param_1,int param_2,int *param_3)

{
  int iVar1;
  
  if (param_3 != (int *)0x0) {
    *param_3 = param_1[0xf];
  }
  if ((*param_1 == 4) || (*param_1 == 5)) {
    (**(code **)(param_2 + 0x24))(*(undefined4 *)(param_2 + 0x28),param_1[3]);
  }
  if (*param_1 == 6) {
    FUN_1004a980(param_1[1],param_2);
  }
  *param_1 = 0;
  param_1[0xd] = param_1[10];
  param_1[0xc] = param_1[10];
  param_1[7] = 0;
  param_1[8] = 0;
  if ((code *)param_1[0xe] != (code *)0x0) {
    iVar1 = (*(code *)param_1[0xe])(0,0,0);
    param_1[0xf] = iVar1;
    *(int *)(param_2 + 0x30) = iVar1;
  }
  return;
}



/* FUN_10049340 @ 10049340 */

undefined4 * __cdecl FUN_10049340(int param_1,undefined *param_2,int param_3)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 uVar3;
  
  puVar1 = (undefined4 *)(**(code **)(param_1 + 0x20))(*(undefined4 *)(param_1 + 0x28),1,0x40);
  if (puVar1 == (undefined4 *)0x0) {
    return (undefined4 *)0x0;
  }
  iVar2 = (**(code **)(param_1 + 0x20))(*(undefined4 *)(param_1 + 0x28),8,0x5a0);
  puVar1[9] = iVar2;
  if (iVar2 == 0) {
    (**(code **)(param_1 + 0x24))(*(undefined4 *)(param_1 + 0x28),puVar1);
    return (undefined4 *)0x0;
  }
  iVar2 = (**(code **)(param_1 + 0x20))(*(undefined4 *)(param_1 + 0x28),1,param_3);
  puVar1[10] = iVar2;
  if (iVar2 == 0) {
    (**(code **)(param_1 + 0x24))(*(undefined4 *)(param_1 + 0x28),puVar1[9]);
    (**(code **)(param_1 + 0x24))(*(undefined4 *)(param_1 + 0x28),puVar1);
    return (undefined4 *)0x0;
  }
  *puVar1 = 0;
  puVar1[0xb] = iVar2 + param_3;
  puVar1[0xe] = param_2;
  puVar1[7] = 0;
  puVar1[8] = 0;
  puVar1[0xd] = iVar2;
  puVar1[0xc] = iVar2;
  if (param_2 != (undefined *)0x0) {
    uVar3 = (*(code *)param_2)(0,0,0);
    puVar1[0xf] = uVar3;
    *(undefined4 *)(param_1 + 0x30) = uVar3;
  }
  return puVar1;
}



/* FUN_10049400 @ 10049400 */

void __cdecl FUN_10049400(uint *param_1,int *param_2,int param_3)

{
  byte bVar1;
  int iVar2;
  uint *puVar3;
  uint uVar4;
  int iVar5;
  undefined4 uVar6;
  uint *puVar7;
  uint *puVar8;
  uint *puVar9;
  uint uVar10;
  uint *local_30;
  uint local_2c;
  uint local_28;
  uint local_24;
  uint *local_20;
  void *local_1c;
  void *local_18;
  uInt local_14;
  uInt local_10;
  uint local_c;
  uint local_8;
  uint local_4;
  
  puVar3 = param_1;
  local_30 = (uint *)*param_2;
  local_2c = param_2[1];
  local_28 = param_1[8];
  puVar7 = (uint *)param_1[7];
  puVar8 = (uint *)param_1[0xd];
  if (puVar8 < (uint *)param_1[0xc]) {
    local_24 = (int)param_1[0xc] + (-1 - (int)puVar8);
    param_1 = puVar8;
  }
  else {
    local_24 = param_1[0xb] - (int)puVar8;
    param_1 = puVar8;
  }
switchD_100494b1_default:
  uVar10 = local_28;
  switch(*puVar3) {
  case 0:
    goto switchD_1004944d_caseD_0;
  case 1:
    for (; puVar7 < (uint *)0x20; puVar7 = puVar7 + 2) {
      if (local_2c == 0) {
        puVar3[8] = local_28;
        puVar3[7] = (uint)puVar7;
        iVar5 = *param_2;
        param_2[1] = 0;
        *param_2 = (int)local_30;
        param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
        puVar3[0xd] = (uint)param_1;
        FUN_1004b0e0((int)puVar3,(int)param_2,param_3);
        return;
      }
      param_3 = 0;
      local_2c = local_2c - 1;
      local_28 = local_28 | (uint)(byte)*local_30 << ((byte)puVar7 & 0x1f);
      local_30 = (uint *)((int)local_30 + 1);
    }
    uVar10 = local_28 & 0xffff;
    if (~local_28 >> 0x10 != uVar10) {
      *puVar3 = 9;
      param_2[6] = (int)s_invalid_stored_block_lengths_100583a4;
      puVar3[8] = local_28;
      puVar3[7] = (uint)puVar7;
      iVar5 = *param_2;
      *param_2 = (int)local_30;
      param_2[1] = local_2c;
      param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
      puVar3[0xd] = (uint)param_1;
      FUN_1004b0e0((int)puVar3,(int)param_2,-3);
      return;
    }
    puVar7 = (uint *)0x0;
    puVar3[1] = uVar10;
    local_28 = 0;
    if (uVar10 != 0) {
      *puVar3 = 2;
      goto switchD_100494b1_default;
    }
    break;
  case 2:
    if (local_2c == 0) {
      puVar3[8] = local_28;
      puVar3[7] = (uint)puVar7;
      iVar5 = *param_2;
      *param_2 = (int)local_30;
      param_2[1] = 0;
      param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
      puVar3[0xd] = (uint)param_1;
      FUN_1004b0e0((int)puVar3,(int)param_2,param_3);
      return;
    }
    if (local_24 == 0) {
      if (param_1 == (uint *)puVar3[0xb]) {
        puVar8 = (uint *)puVar3[0xc];
        puVar9 = (uint *)puVar3[10];
        if (puVar8 != puVar9) {
          if (puVar9 < puVar8) {
            local_24 = (int)puVar8 + (-1 - (int)puVar9);
          }
          else {
            local_24 = (int)puVar3[0xb] - (int)puVar9;
          }
          param_1 = puVar9;
          if (local_24 != 0) goto LAB_10049676;
        }
      }
      puVar3[0xd] = (uint)param_1;
      iVar5 = FUN_1004b0e0((int)puVar3,(int)param_2,param_3);
      param_1 = (uint *)puVar3[0xd];
      puVar8 = (uint *)puVar3[0xc];
      if (param_1 < puVar8) {
        local_24 = (int)puVar8 + (-1 - (int)param_1);
      }
      else {
        local_24 = puVar3[0xb] - (int)param_1;
      }
      local_20 = (uint *)puVar3[0xb];
      if ((param_1 == local_20) && (puVar9 = (uint *)puVar3[10], puVar8 != puVar9)) {
        param_1 = puVar9;
        if (puVar9 < puVar8) {
          local_24 = (int)puVar8 + (-1 - (int)puVar9);
        }
        else {
          local_24 = (int)local_20 - (int)puVar9;
        }
      }
      if (local_24 == 0) {
        puVar3[8] = local_28;
        puVar3[7] = (uint)puVar7;
        iVar2 = *param_2;
        param_2[1] = local_2c;
        *param_2 = (int)local_30;
        param_2[2] = (int)((int)local_30 + (param_2[2] - iVar2));
        puVar3[0xd] = (uint)param_1;
        FUN_1004b0e0((int)puVar3,(int)param_2,iVar5);
        return;
      }
    }
LAB_10049676:
    param_3 = 0;
    uVar10 = puVar3[1];
    if (local_2c < puVar3[1]) {
      uVar10 = local_2c;
    }
    if (local_24 < uVar10) {
      uVar10 = local_24;
    }
    puVar8 = local_30;
    puVar9 = param_1;
    for (uVar4 = uVar10 >> 2; uVar4 != 0; uVar4 = uVar4 - 1) {
      *puVar9 = *puVar8;
      puVar8 = puVar8 + 1;
      puVar9 = puVar9 + 1;
    }
    local_24 = local_24 - uVar10;
    for (uVar4 = uVar10 & 3; uVar4 != 0; uVar4 = uVar4 - 1) {
      *(byte *)puVar9 = (byte)*puVar8;
      puVar8 = (uint *)((int)puVar8 + 1);
      puVar9 = (uint *)((int)puVar9 + 1);
    }
    local_30 = (uint *)((int)local_30 + uVar10);
    uVar4 = puVar3[1];
    local_2c = local_2c - uVar10;
    param_1 = (uint *)((int)param_1 + uVar10);
    puVar3[1] = uVar4 - uVar10;
    if (uVar4 - uVar10 != 0) goto switchD_100494b1_default;
    break;
  case 3:
    for (; puVar7 < (uint *)0xe; puVar7 = puVar7 + 2) {
      if (local_2c == 0) {
        puVar3[8] = local_28;
        puVar3[7] = (uint)puVar7;
        iVar5 = *param_2;
        *param_2 = (int)local_30;
        param_2[1] = 0;
        param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
        puVar3[0xd] = (uint)param_1;
        FUN_1004b0e0((int)puVar3,(int)param_2,param_3);
        return;
      }
      local_2c = local_2c - 1;
      param_3 = 0;
      local_28 = local_28 | (uint)(byte)*local_30 << ((byte)puVar7 & 0x1f);
      local_30 = (uint *)((int)local_30 + 1);
    }
    puVar3[1] = local_28 & 0x3fff;
    if ((0x1d < (local_28 & 0x1f)) || (0x3a0 < (local_28 & 0x3e0))) {
      *puVar3 = 9;
      param_2[6] = (int)s_too_many_length_or_distance_symb_10058380;
      puVar3[8] = local_28;
      puVar3[7] = (uint)puVar7;
      iVar5 = *param_2;
      param_2[1] = local_2c;
      *param_2 = (int)local_30;
      param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
      puVar3[0xd] = (uint)param_1;
      FUN_1004b0e0((int)puVar3,(int)param_2,-3);
      return;
    }
    uVar10 = (*(code *)param_2[8])
                       (param_2[10],((local_28 & 0x3fff) >> 5 & 0x1f) + 0x102 + (local_28 & 0x1f),4)
    ;
    puVar3[3] = uVar10;
    if (uVar10 == 0) {
      puVar3[8] = local_28;
      puVar3[7] = (uint)puVar7;
      iVar5 = *param_2;
      param_2[1] = local_2c;
      *param_2 = (int)local_30;
      param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
      puVar3[0xd] = (uint)param_1;
      FUN_1004b0e0((int)puVar3,(int)param_2,-4);
      return;
    }
    local_28 = local_28 >> 0xe;
    puVar7 = (uint *)((int)puVar7 - 0xe);
    puVar3[2] = 0;
    *puVar3 = 4;
    goto LAB_1004979d;
  case 4:
LAB_1004979d:
    if (puVar3[2] < (puVar3[1] >> 10) + 4) {
      do {
        for (; puVar7 < (uint *)0x3; puVar7 = puVar7 + 2) {
          if (local_2c == 0) {
            puVar3[8] = local_28;
            puVar3[7] = (uint)puVar7;
            iVar5 = *param_2;
            *param_2 = (int)local_30;
            param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
            param_2[1] = 0;
            puVar3[0xd] = (uint)param_1;
            FUN_1004b0e0((int)puVar3,(int)param_2,param_3);
            return;
          }
          local_2c = local_2c - 1;
          param_3 = 0;
          local_28 = local_28 | (uint)(byte)*local_30 << ((byte)puVar7 & 0x1f);
          local_30 = (uint *)((int)local_30 + 1);
        }
        uVar10 = local_28 & 7;
        puVar7 = (uint *)((int)puVar7 - 3);
        local_28 = local_28 >> 3;
        *(uint *)(puVar3[3] + *(int *)(&DAT_10051454 + puVar3[2] * 4) * 4) = uVar10;
        uVar10 = puVar3[2];
        puVar3[2] = uVar10 + 1;
      } while (uVar10 + 1 < (puVar3[1] >> 10) + 4);
    }
    uVar10 = puVar3[2];
    while (uVar10 < 0x13) {
      *(undefined4 *)(puVar3[3] + *(int *)(&DAT_10051454 + puVar3[2] * 4) * 4) = 0;
      uVar10 = puVar3[2] + 1;
      puVar3[2] = uVar10;
    }
    puVar3[4] = 7;
    iVar5 = FUN_1004a9a0((int *)puVar3[3],puVar3 + 4,puVar3 + 5,puVar3[9],(int)param_2);
    uVar10 = local_28;
    if (iVar5 == 0) {
      puVar3[2] = 0;
      *puVar3 = 5;
LAB_10049886:
      if (puVar3[2] < (puVar3[1] >> 5 & 0x1f) + 0x102 + (puVar3[1] & 0x1f)) {
        do {
          for (; puVar7 < (uint *)puVar3[4]; puVar7 = puVar7 + 2) {
            if (local_2c == 0) goto LAB_10049e69;
            local_2c = local_2c - 1;
            param_3 = 0;
            uVar10 = uVar10 | (uint)(byte)*local_30 << ((byte)puVar7 & 0x1f);
            local_30 = (uint *)((int)local_30 + 1);
          }
          bVar1 = *(byte *)(puVar3[5] + 1 +
                           (*(uint *)(&DAT_10059608 + (int)puVar3[4] * 4) & uVar10) * 8);
          uVar4 = (uint)bVar1;
          local_c = *(uint *)(puVar3[5] +
                              (*(uint *)(&DAT_10059608 + (int)puVar3[4] * 4) & uVar10) * 8 + 4);
          if (local_c < 0x10) {
            puVar7 = (uint *)((int)puVar7 - uVar4);
            uVar10 = uVar10 >> (bVar1 & 0x1f);
            *(uint *)(puVar3[3] + puVar3[2] * 4) = local_c;
            uVar4 = puVar3[2] + 1;
          }
          else {
            local_24 = 7;
            if (local_c != 0x12) {
              local_24 = local_c - 0xe;
            }
            local_20 = (uint *)(local_24 + uVar4);
            for (; puVar7 < local_20; puVar7 = puVar7 + 2) {
              if (local_2c == 0) {
LAB_10049e69:
                puVar3[8] = uVar10;
                puVar3[7] = (uint)puVar7;
                iVar5 = *param_2;
                *param_2 = (int)local_30;
                param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
                param_2[1] = 0;
                puVar3[0xd] = (uint)param_1;
                FUN_1004b0e0((int)puVar3,(int)param_2,param_3);
                return;
              }
              local_2c = local_2c - 1;
              param_3 = 0;
              uVar10 = uVar10 | (uint)(byte)*local_30 << ((byte)puVar7 & 0x1f);
              local_30 = (uint *)((int)local_30 + 1);
            }
            uVar10 = uVar10 >> (bVar1 & 0x1f);
            local_28 = (-(uint)(local_c != 0x12) & 0xfffffff8) + 0xb +
                       (*(uint *)(&DAT_10059608 + local_24 * 4) & uVar10);
            uVar10 = uVar10 >> ((byte)local_24 & 0x1f);
            puVar7 = (uint *)((int)puVar7 - (local_24 + uVar4));
            local_24 = puVar3[2];
            if ((puVar3[1] >> 5 & 0x1f) + 0x102 + (puVar3[1] & 0x1f) < local_28 + local_24) {
LAB_10049ea8:
              (*(code *)param_2[9])(param_2[10],puVar3[3]);
              *puVar3 = 9;
              param_2[6] = (int)s_invalid_bit_length_repeat_10058364;
              puVar3[8] = uVar10;
              puVar3[7] = (uint)puVar7;
              iVar5 = *param_2;
              param_2[1] = local_2c;
              *param_2 = (int)local_30;
              param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
              puVar3[0xd] = (uint)param_1;
              FUN_1004b0e0((int)puVar3,(int)param_2,-3);
              return;
            }
            uVar4 = local_24;
            if (local_c == 0x10) {
              if (local_24 == 0) goto LAB_10049ea8;
              uVar6 = *(undefined4 *)((puVar3[3] - 4) + local_24 * 4);
            }
            else {
              uVar6 = 0;
            }
            do {
              uVar4 = uVar4 + 1;
              *(undefined4 *)((puVar3[3] - 4) + uVar4 * 4) = uVar6;
              local_28 = local_28 + -1;
            } while (local_28 != 0);
          }
          puVar3[2] = uVar4;
        } while (puVar3[2] < (puVar3[1] >> 5 & 0x1f) + 0x102 + (puVar3[1] & 0x1f));
      }
      puVar3[5] = 0;
      local_20 = (uint *)0x9;
      local_24 = 6;
      local_28 = FUN_1004af20((puVar3[1] & 0x1f) + 0x101,(puVar3[1] >> 5 & 0x1f) + 1,
                              (int *)puVar3[3],(uint *)&local_20,&local_24,&local_4,&local_8,
                              puVar3[9],(int)param_2);
      (*(code *)param_2[9])(param_2[10],puVar3[3]);
      if (local_28 == 0) {
        uVar4 = FUN_1004a190((char)local_20,(char)local_24,local_4,local_8,(int)param_2);
        if (uVar4 == 0) {
          puVar3[8] = uVar10;
          puVar3[7] = (uint)puVar7;
          param_2[1] = local_2c;
          param_2[2] = (int)((int)local_30 + (param_2[2] - *param_2));
          *param_2 = (int)local_30;
          puVar3[0xd] = (uint)param_1;
          FUN_1004b0e0((int)puVar3,(int)param_2,-4);
          return;
        }
        puVar3[1] = uVar4;
        *puVar3 = 6;
LAB_10049ad6:
        puVar3[8] = uVar10;
        puVar3[7] = (uint)puVar7;
        iVar5 = *param_2;
        param_2[1] = local_2c;
        *param_2 = (int)local_30;
        param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
        puVar3[0xd] = (uint)param_1;
        iVar5 = FUN_1004a1d0((uint)puVar3,param_2,param_3);
        if (iVar5 == 1) {
          param_3 = 0;
          FUN_1004a980(puVar3[1],(int)param_2);
          local_28 = puVar3[8];
          param_1 = (uint *)puVar3[0xd];
          local_30 = (uint *)*param_2;
          local_2c = param_2[1];
          puVar7 = (uint *)puVar3[7];
          if (param_1 < (uint *)puVar3[0xc]) {
            local_24 = (int)puVar3[0xc] + (-1 - (int)param_1);
          }
          else {
            local_24 = puVar3[0xb] - (int)param_1;
          }
          if (puVar3[6] == 0) {
            *puVar3 = 0;
            goto switchD_100494b1_default;
          }
          *puVar3 = 7;
LAB_10049f98:
          puVar3[0xd] = (uint)param_1;
          iVar5 = FUN_1004b0e0((int)puVar3,(int)param_2,param_3);
          param_1 = (uint *)puVar3[0xd];
          if ((uint *)puVar3[0xc] == param_1) {
            *puVar3 = 8;
LAB_10049fff:
            puVar3[8] = local_28;
            puVar3[7] = (uint)puVar7;
            param_2[1] = local_2c;
            param_2[2] = (int)((int)local_30 + (param_2[2] - *param_2));
            *param_2 = (int)local_30;
            puVar3[0xd] = (uint)param_1;
            FUN_1004b0e0((int)puVar3,(int)param_2,1);
            return;
          }
          puVar3[7] = (uint)puVar7;
          puVar3[8] = local_28;
          iVar2 = *param_2;
          param_2[1] = local_2c;
          *param_2 = (int)local_30;
          param_2[2] = (int)((int)local_30 + (param_2[2] - iVar2));
          puVar3[0xd] = (uint)param_1;
        }
        FUN_1004b0e0((int)puVar3,(int)param_2,iVar5);
        return;
      }
    }
    else {
      (*(code *)param_2[9])(param_2[10],puVar3[3]);
      local_28 = iVar5;
    }
    if (local_28 == -3) {
      *puVar3 = 9;
    }
    puVar3[8] = uVar10;
    puVar3[7] = (uint)puVar7;
    iVar5 = *param_2;
    param_2[1] = local_2c;
    *param_2 = (int)local_30;
    param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
    puVar3[0xd] = (uint)param_1;
    FUN_1004b0e0((int)puVar3,(int)param_2,local_28);
    return;
  case 5:
    goto LAB_10049886;
  case 6:
    goto LAB_10049ad6;
  case 7:
    goto LAB_10049f98;
  case 8:
    goto LAB_10049fff;
  case 9:
    puVar3[8] = local_28;
    puVar3[7] = (uint)puVar7;
    iVar5 = *param_2;
    param_2[1] = local_2c;
    *param_2 = (int)local_30;
    param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
    puVar3[0xd] = (uint)param_1;
    FUN_1004b0e0((int)puVar3,(int)param_2,-3);
    return;
  default:
    puVar3[8] = local_28;
    puVar3[7] = (uint)puVar7;
    iVar5 = *param_2;
    param_2[1] = local_2c;
    *param_2 = (int)local_30;
    param_2[2] = (int)((int)local_30 + (param_2[2] - iVar5));
    puVar3[0xd] = (uint)param_1;
    FUN_1004b0e0((int)puVar3,(int)param_2,-2);
    return;
  }
  *puVar3 = -(uint)(puVar3[6] != 0) & 7;
  goto switchD_100494b1_default;
switchD_1004944d_caseD_0:
  for (; puVar7 < (uint *)0x3; puVar7 = puVar7 + 2) {
    if (local_2c == 0) {
      puVar3[8] = local_28;
      puVar3[7] = (uint)puVar7;
      param_2[1] = 0;
      param_2[2] = (int)((int)local_30 + (param_2[2] - *param_2));
      *param_2 = (int)local_30;
      puVar3[0xd] = (uint)param_1;
      FUN_1004b0e0((int)puVar3,(int)param_2,param_3);
      return;
    }
    local_2c = local_2c - 1;
    param_3 = 0;
    local_28 = local_28 | (uint)(byte)*local_30 << ((byte)puVar7 & 0x1f);
    local_30 = (uint *)((int)local_30 + 1);
  }
  puVar3[6] = local_28 & 1;
  switch((local_28 & 7) >> 1) {
  case 0:
    *puVar3 = 1;
    uVar10 = (int)puVar7 - 3U & 7;
    local_28 = (local_28 >> 3) >> (sbyte)uVar10;
    puVar7 = (uint *)(((int)puVar7 - 3U) - uVar10);
    break;
  case 1:
    inflate_trees_fixed(&local_10,&local_14,&local_18,&local_1c,(z_streamp)param_2);
    uVar10 = FUN_1004a190((char)local_10,(char)local_14,local_18,local_1c,(int)param_2);
    puVar3[1] = uVar10;
    if (uVar10 == 0) {
      puVar3[8] = local_28;
      puVar3[7] = (uint)puVar7;
      param_2[1] = local_2c;
      param_2[2] = (int)((int)local_30 + (param_2[2] - *param_2));
      *param_2 = (int)local_30;
      puVar3[0xd] = (uint)param_1;
      FUN_1004b0e0((int)puVar3,(int)param_2,-4);
      return;
    }
    local_28 = local_28 >> 3;
    puVar7 = (uint *)((int)puVar7 - 3);
    *puVar3 = 6;
    break;
  case 2:
    local_28 = local_28 >> 3;
    puVar7 = (uint *)((int)puVar7 - 3);
    *puVar3 = 3;
    break;
  case 3:
    *puVar3 = 9;
    param_2[6] = (int)s_invalid_block_type_100583c4;
    puVar3[8] = local_28 >> 3;
    puVar3[7] = (int)puVar7 - 3;
    param_2[1] = local_2c;
    param_2[2] = (int)((int)local_30 + (param_2[2] - *param_2));
    *param_2 = (int)local_30;
    puVar3[0xd] = (uint)param_1;
    FUN_1004b0e0((int)puVar3,(int)param_2,-3);
    return;
  }
  goto switchD_100494b1_default;
}



/* FUN_1004a100 @ 1004a100 */

undefined4 __cdecl FUN_1004a100(int *param_1,int param_2)

{
  int iVar1;
  
  if ((*param_1 == 4) || (*param_1 == 5)) {
    (**(code **)(param_2 + 0x24))(*(undefined4 *)(param_2 + 0x28),param_1[3]);
  }
  if (*param_1 == 6) {
    FUN_1004a980(param_1[1],param_2);
  }
  param_1[0xd] = param_1[10];
  param_1[0xc] = param_1[10];
  *param_1 = 0;
  param_1[7] = 0;
  param_1[8] = 0;
  if ((code *)param_1[0xe] != (code *)0x0) {
    iVar1 = (*(code *)param_1[0xe])(0,0,0);
    param_1[0xf] = iVar1;
    *(int *)(param_2 + 0x30) = iVar1;
  }
  (**(code **)(param_2 + 0x24))(*(undefined4 *)(param_2 + 0x28),param_1[10]);
  (**(code **)(param_2 + 0x24))(*(undefined4 *)(param_2 + 0x28),param_1[9]);
  (**(code **)(param_2 + 0x24))(*(undefined4 *)(param_2 + 0x28),param_1);
  return 0;
}



/* FUN_1004a190 @ 1004a190 */

void __cdecl
FUN_1004a190(undefined1 param_1,undefined1 param_2,undefined4 param_3,undefined4 param_4,int param_5
            )

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)(**(code **)(param_5 + 0x20))(*(undefined4 *)(param_5 + 0x28),1,0x1c);
  if (puVar1 != (undefined4 *)0x0) {
    *(undefined1 *)(puVar1 + 4) = param_1;
    *(undefined1 *)((int)puVar1 + 0x11) = param_2;
    *puVar1 = 0;
    puVar1[5] = param_3;
    puVar1[6] = param_4;
  }
  return;
}



/* FUN_1004a1d0 @ 1004a1d0 */

void __cdecl FUN_1004a1d0(uint param_1,int *param_2,int param_3)

{
  byte bVar1;
  int *piVar2;
  undefined1 *puVar3;
  uint uVar4;
  int *piVar5;
  int iVar6;
  uint uVar7;
  undefined1 *puVar8;
  undefined1 *puVar9;
  uint uVar10;
  byte *pbVar11;
  undefined1 *local_c;
  byte *local_8;
  undefined1 *local_4;
  
  piVar5 = param_2;
  uVar4 = param_1;
  piVar2 = *(int **)(param_1 + 4);
  pbVar11 = (byte *)*param_2;
  uVar10 = *(uint *)(param_1 + 0x1c);
  puVar9 = *(undefined1 **)(param_1 + 0x34);
  if (puVar9 < *(undefined1 **)(param_1 + 0x30)) {
    local_c = *(undefined1 **)(param_1 + 0x30) + (-1 - (int)puVar9);
    param_1 = *(uint *)(param_1 + 0x20);
    param_2 = (int *)param_2[1];
  }
  else {
    local_c = (undefined1 *)(*(int *)(param_1 + 0x2c) - (int)puVar9);
    param_1 = *(uint *)(param_1 + 0x20);
    param_2 = (int *)param_2[1];
  }
  do {
    switch(*piVar2) {
    case 0:
      if (((undefined1 *)0x101 < local_c) && ((int *)0x9 < param_2)) {
        *(uint *)(uVar4 + 0x20) = param_1;
        *(uint *)(uVar4 + 0x1c) = uVar10;
        iVar6 = *piVar5;
        piVar5[1] = (int)param_2;
        *piVar5 = (int)pbVar11;
        piVar5[2] = (int)(pbVar11 + (piVar5[2] - iVar6));
        *(undefined1 **)(uVar4 + 0x34) = puVar9;
        param_3 = FUN_1004b220((uint)*(byte *)(piVar2 + 4),(uint)*(byte *)((int)piVar2 + 0x11),
                               piVar2[5],piVar2[6],uVar4,piVar5);
        param_2 = (int *)piVar5[1];
        param_1 = *(uint *)(uVar4 + 0x20);
        pbVar11 = (byte *)*piVar5;
        uVar10 = *(uint *)(uVar4 + 0x1c);
        puVar9 = *(undefined1 **)(uVar4 + 0x34);
        if (puVar9 < *(undefined1 **)(uVar4 + 0x30)) {
          local_c = *(undefined1 **)(uVar4 + 0x30) + (-1 - (int)puVar9);
        }
        else {
          local_c = (undefined1 *)(*(int *)(uVar4 + 0x2c) - (int)puVar9);
        }
        if (param_3 != 0) {
          *piVar2 = (-(uint)(param_3 != 1) & 2) + 7;
          break;
        }
      }
      *piVar2 = 1;
      piVar2[3] = (uint)*(byte *)(piVar2 + 4);
      piVar2[2] = piVar2[5];
    case 1:
      for (; uVar10 < (uint)piVar2[3]; uVar10 = uVar10 + 8) {
        if (param_2 == (int *)0x0) {
LAB_1004a779:
          *(uint *)(uVar4 + 0x1c) = uVar10;
          *(uint *)(uVar4 + 0x20) = param_1;
          iVar6 = *piVar5;
          piVar5[1] = 0;
          *piVar5 = (int)pbVar11;
          piVar5[2] = (int)(pbVar11 + (piVar5[2] - iVar6));
          *(undefined1 **)(uVar4 + 0x34) = puVar9;
          FUN_1004b0e0(uVar4,(int)piVar5,param_3);
          return;
        }
        param_2 = (int *)((int)param_2 + -1);
        param_3 = 0;
        param_1 = param_1 | (uint)*pbVar11 << ((byte)uVar10 & 0x1f);
        pbVar11 = pbVar11 + 1;
      }
      local_8 = (byte *)(piVar2[2] + (*(uint *)(&DAT_10059608 + piVar2[3] * 4) & param_1) * 8);
      param_1 = param_1 >> (local_8[1] & 0x1f);
      uVar10 = uVar10 - local_8[1];
      bVar1 = *local_8;
      uVar7 = (uint)bVar1;
      if (uVar7 == 0) {
        piVar2[2] = *(int *)(local_8 + 4);
        *piVar2 = 6;
      }
      else if ((bVar1 & 0x10) == 0) {
        if ((bVar1 & 0x40) == 0) {
LAB_1004a3a4:
          piVar2[3] = uVar7;
          piVar2[2] = (int)(local_8 + *(int *)(local_8 + 4) * 8);
        }
        else {
          if ((bVar1 & 0x20) == 0) {
            *piVar2 = 9;
            piVar5[6] = (int)s_invalid_literal_length_code_100583f0;
LAB_1004a7c5:
            *(uint *)(uVar4 + 0x20) = param_1;
            *(uint *)(uVar4 + 0x1c) = uVar10;
            piVar5[1] = (int)param_2;
            piVar5[2] = (int)(pbVar11 + (piVar5[2] - *piVar5));
            *piVar5 = (int)pbVar11;
            *(undefined1 **)(uVar4 + 0x34) = puVar9;
            FUN_1004b0e0(uVar4,(int)piVar5,-3);
            return;
          }
          *piVar2 = 7;
        }
      }
      else {
        piVar2[2] = bVar1 & 0xf;
        iVar6 = *(int *)(local_8 + 4);
        *piVar2 = 2;
        piVar2[1] = iVar6;
      }
      break;
    case 2:
      uVar7 = piVar2[2];
      for (; uVar10 < uVar7; uVar10 = uVar10 + 8) {
        if (param_2 == (int *)0x0) goto LAB_1004a779;
        param_2 = (int *)((int)param_2 + -1);
        param_3 = 0;
        param_1 = param_1 | (uint)*pbVar11 << ((byte)uVar10 & 0x1f);
        pbVar11 = pbVar11 + 1;
      }
      piVar2[1] = piVar2[1] + (*(uint *)(&DAT_10059608 + uVar7 * 4) & param_1);
      param_1 = param_1 >> ((byte)uVar7 & 0x1f);
      uVar10 = uVar10 - uVar7;
      *piVar2 = 3;
      piVar2[3] = (uint)*(byte *)((int)piVar2 + 0x11);
      piVar2[2] = piVar2[6];
    case 3:
      for (; uVar10 < (uint)piVar2[3]; uVar10 = uVar10 + 8) {
        if (param_2 == (int *)0x0) goto LAB_1004a779;
        param_2 = (int *)((int)param_2 + -1);
        param_3 = 0;
        param_1 = param_1 | (uint)*pbVar11 << ((byte)uVar10 & 0x1f);
        pbVar11 = pbVar11 + 1;
      }
      local_8 = (byte *)(piVar2[2] + (*(uint *)(&DAT_10059608 + piVar2[3] * 4) & param_1) * 8);
      param_1 = param_1 >> (local_8[1] & 0x1f);
      uVar10 = uVar10 - local_8[1];
      bVar1 = *local_8;
      uVar7 = (uint)bVar1;
      if ((bVar1 & 0x10) == 0) {
        if ((bVar1 & 0x40) != 0) {
          *piVar2 = 9;
          piVar5[6] = (int)s_invalid_distance_code_100583d8;
          goto LAB_1004a7c5;
        }
        goto LAB_1004a3a4;
      }
      piVar2[2] = bVar1 & 0xf;
      iVar6 = *(int *)(local_8 + 4);
      *piVar2 = 4;
      piVar2[3] = iVar6;
      break;
    case 4:
      uVar7 = piVar2[2];
      for (; uVar10 < uVar7; uVar10 = uVar10 + 8) {
        if (param_2 == (int *)0x0) goto LAB_1004a779;
        param_2 = (int *)((int)param_2 + -1);
        param_3 = 0;
        param_1 = param_1 | (uint)*pbVar11 << ((byte)uVar10 & 0x1f);
        pbVar11 = pbVar11 + 1;
      }
      piVar2[3] = piVar2[3] + (*(uint *)(&DAT_10059608 + uVar7 * 4) & param_1);
      param_1 = param_1 >> ((byte)uVar7 & 0x1f);
      uVar10 = uVar10 - uVar7;
      *piVar2 = 5;
    case 5:
      if ((uint)((int)puVar9 - *(int *)(uVar4 + 0x28)) < (uint)piVar2[3]) {
        iVar6 = (*(int *)(uVar4 + 0x2c) - *(int *)(uVar4 + 0x28)) - piVar2[3];
      }
      else {
        iVar6 = -piVar2[3];
      }
      local_4 = puVar9 + iVar6;
      iVar6 = piVar2[1];
      while (iVar6 != 0) {
        puVar8 = puVar9;
        if (local_c == (undefined1 *)0x0) {
          if (puVar9 == *(undefined1 **)(uVar4 + 0x2c)) {
            local_c = *(undefined1 **)(uVar4 + 0x30);
            puVar8 = *(undefined1 **)(uVar4 + 0x28);
            if (local_c != puVar8) {
              if (puVar8 < local_c) {
                local_c = local_c + (-1 - (int)puVar8);
              }
              else {
                local_c = *(undefined1 **)(uVar4 + 0x2c) + -(int)puVar8;
              }
              puVar9 = puVar8;
              if (local_c != (undefined1 *)0x0) goto LAB_1004a65b;
            }
          }
          *(undefined1 **)(uVar4 + 0x34) = puVar9;
          param_3 = FUN_1004b0e0(uVar4,(int)piVar5,param_3);
          puVar8 = *(undefined1 **)(uVar4 + 0x34);
          puVar9 = *(undefined1 **)(uVar4 + 0x30);
          if (puVar8 < puVar9) {
            local_c = puVar9 + (-1 - (int)puVar8);
          }
          else {
            local_c = (undefined1 *)(*(int *)(uVar4 + 0x2c) - (int)puVar8);
          }
          if ((puVar8 == *(undefined1 **)(uVar4 + 0x2c)) &&
             (puVar3 = *(undefined1 **)(uVar4 + 0x28), puVar9 != puVar3)) {
            puVar8 = puVar3;
            if (puVar3 < puVar9) {
              local_c = puVar9 + (-1 - (int)puVar3);
            }
            else {
              local_c = *(undefined1 **)(uVar4 + 0x2c) + -(int)puVar3;
            }
          }
          if (local_c == (undefined1 *)0x0) goto LAB_1004a7fd;
        }
LAB_1004a65b:
        puVar9 = puVar8 + 1;
        param_3 = 0;
        *puVar8 = *local_4;
        local_4 = local_4 + 1;
        local_c = local_c + -1;
        if (local_4 == *(undefined1 **)(uVar4 + 0x2c)) {
          local_4 = *(undefined1 **)(uVar4 + 0x28);
        }
        iVar6 = piVar2[1] + -1;
        piVar2[1] = iVar6;
      }
      *piVar2 = 0;
      break;
    case 6:
      puVar8 = puVar9;
      if (local_c == (undefined1 *)0x0) {
        if (puVar9 == *(undefined1 **)(uVar4 + 0x2c)) {
          local_c = *(undefined1 **)(uVar4 + 0x30);
          puVar8 = *(undefined1 **)(uVar4 + 0x28);
          if (local_c != puVar8) {
            if (puVar8 < local_c) {
              local_c = local_c + (-1 - (int)puVar8);
            }
            else {
              local_c = *(undefined1 **)(uVar4 + 0x2c) + -(int)puVar8;
            }
            puVar9 = puVar8;
            if (local_c != (undefined1 *)0x0) goto LAB_1004a748;
          }
        }
        *(undefined1 **)(uVar4 + 0x34) = puVar9;
        param_3 = FUN_1004b0e0(uVar4,(int)piVar5,param_3);
        puVar8 = *(undefined1 **)(uVar4 + 0x34);
        puVar9 = *(undefined1 **)(uVar4 + 0x30);
        if (puVar8 < puVar9) {
          local_c = puVar9 + (-1 - (int)puVar8);
        }
        else {
          local_c = (undefined1 *)(*(int *)(uVar4 + 0x2c) - (int)puVar8);
        }
        if ((puVar8 == *(undefined1 **)(uVar4 + 0x2c)) &&
           (puVar3 = *(undefined1 **)(uVar4 + 0x28), puVar9 != puVar3)) {
          puVar8 = puVar3;
          if (puVar3 < puVar9) {
            local_c = puVar9 + (-1 - (int)puVar3);
          }
          else {
            local_c = *(undefined1 **)(uVar4 + 0x2c) + -(int)puVar3;
          }
        }
        if (local_c == (undefined1 *)0x0) {
LAB_1004a7fd:
          *(uint *)(uVar4 + 0x20) = param_1;
          *(uint *)(uVar4 + 0x1c) = uVar10;
          iVar6 = *piVar5;
          piVar5[1] = (int)param_2;
          *piVar5 = (int)pbVar11;
          piVar5[2] = (int)(pbVar11 + (piVar5[2] - iVar6));
          *(undefined1 **)(uVar4 + 0x34) = puVar8;
          FUN_1004b0e0(uVar4,(int)piVar5,param_3);
          return;
        }
      }
LAB_1004a748:
      param_3 = 0;
      *puVar8 = (char)piVar2[2];
      puVar9 = puVar8 + 1;
      local_c = local_c + -1;
      *piVar2 = 0;
      break;
    case 7:
      if (7 < uVar10) {
        uVar10 = uVar10 - 8;
        param_2 = (int *)((int)param_2 + 1);
        pbVar11 = pbVar11 + -1;
      }
      *(undefined1 **)(uVar4 + 0x34) = puVar9;
      iVar6 = FUN_1004b0e0(uVar4,(int)piVar5,param_3);
      puVar9 = *(undefined1 **)(uVar4 + 0x34);
      if (*(undefined1 **)(uVar4 + 0x30) != puVar9) {
        *(uint *)(uVar4 + 0x1c) = uVar10;
        *(uint *)(uVar4 + 0x20) = param_1;
        piVar5[1] = (int)param_2;
        piVar5[2] = (int)(pbVar11 + (piVar5[2] - *piVar5));
        *piVar5 = (int)pbVar11;
        *(undefined1 **)(uVar4 + 0x34) = puVar9;
        FUN_1004b0e0(uVar4,(int)piVar5,iVar6);
        return;
      }
      *piVar2 = 8;
    case 8:
      goto switchD_1004a21c_caseD_8;
    case 9:
      *(uint *)(uVar4 + 0x20) = param_1;
      *(uint *)(uVar4 + 0x1c) = uVar10;
      piVar5[1] = (int)param_2;
      piVar5[2] = (int)(pbVar11 + (piVar5[2] - *piVar5));
      *piVar5 = (int)pbVar11;
      *(undefined1 **)(uVar4 + 0x34) = puVar9;
      FUN_1004b0e0(uVar4,(int)piVar5,-3);
      return;
    default:
      *(uint *)(uVar4 + 0x20) = param_1;
      *(uint *)(uVar4 + 0x1c) = uVar10;
      piVar5[1] = (int)param_2;
      piVar5[2] = (int)(pbVar11 + (piVar5[2] - *piVar5));
      *piVar5 = (int)pbVar11;
      *(undefined1 **)(uVar4 + 0x34) = puVar9;
      FUN_1004b0e0(uVar4,(int)piVar5,-2);
      return;
    }
  } while( true );
switchD_1004a21c_caseD_8:
  *(uint *)(uVar4 + 0x20) = param_1;
  *(uint *)(uVar4 + 0x1c) = uVar10;
  piVar5[1] = (int)param_2;
  piVar5[2] = (int)(pbVar11 + (piVar5[2] - *piVar5));
  *piVar5 = (int)pbVar11;
  *(undefined1 **)(uVar4 + 0x34) = puVar9;
  FUN_1004b0e0(uVar4,(int)piVar5,1);
  return;
}



/* FUN_1004a980 @ 1004a980 */

void __cdecl FUN_1004a980(undefined4 param_1,int param_2)

{
  (**(code **)(param_2 + 0x24))(*(undefined4 *)(param_2 + 0x28),param_1);
  return;
}



/* FUN_1004a9a0 @ 1004a9a0 */

int __cdecl FUN_1004a9a0(int *param_1,uint *param_2,uint *param_3,int param_4,int param_5)

{
  uint *puVar1;
  int iVar2;
  uint local_4;
  
  local_4 = 0;
  puVar1 = (uint *)(**(code **)(param_5 + 0x20))(*(undefined4 *)(param_5 + 0x28),0x13,4);
  if (puVar1 == (uint *)0x0) {
    return -4;
  }
  iVar2 = FUN_1004aa50(param_1,0x13,0x13,0,0,param_3,param_2,param_4,&local_4,puVar1);
  if (iVar2 == -3) {
    *(char **)(param_5 + 0x18) = s_oversubscribed_dynamic_bit_lengt_1005953c;
    (**(code **)(param_5 + 0x24))(*(undefined4 *)(param_5 + 0x28),puVar1);
    return -3;
  }
  if ((iVar2 == -5) || (*param_2 == 0)) {
    *(char **)(param_5 + 0x18) = s_incomplete_dynamic_bit_lengths_t_10059518;
    iVar2 = -3;
  }
  (**(code **)(param_5 + 0x24))(*(undefined4 *)(param_5 + 0x28),puVar1);
  return iVar2;
}



/* FUN_1004aa50 @ 1004aa50 */

undefined4 __cdecl
FUN_1004aa50(int *param_1,uint param_2,uint param_3,int param_4,int param_5,uint *param_6,
            uint *param_7,int param_8,uint *param_9,uint *param_10)

{
  undefined4 uVar1;
  undefined2 uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint *puVar7;
  int *piVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  undefined4 *puVar12;
  uint uVar13;
  int iVar14;
  uint uVar15;
  byte bVar16;
  int iVar17;
  uint uVar18;
  uint local_100;
  uint local_fc;
  int local_f8;
  uint *local_f4;
  int local_f0;
  uint *local_e8;
  undefined4 local_e0;
  uint local_dc;
  uint local_d8;
  uint local_d4;
  uint local_d0;
  uint local_bc [47];
  
  uVar18 = 0;
  local_bc[0] = 0;
  local_bc[1] = 0;
  local_bc[2] = 0;
  local_bc[3] = 0;
  local_bc[4] = 0;
  local_bc[5] = 0;
  local_bc[6] = 0;
  local_bc[7] = 0;
  local_bc[8] = 0;
  local_bc[9] = 0;
  local_bc[10] = 0;
  local_bc[0xb] = 0;
  local_bc[0xc] = 0;
  local_bc[0xd] = 0;
  local_bc[0xe] = 0;
  local_bc[0xf] = 0;
  piVar8 = param_1;
  uVar13 = param_2;
  do {
    iVar17 = *piVar8;
    piVar8 = piVar8 + 1;
    uVar13 = uVar13 - 1;
    local_bc[iVar17] = local_bc[iVar17] + 1;
  } while (uVar13 != 0);
  if (local_bc[0] == param_2) {
    *param_6 = 0;
    *param_7 = 0;
  }
  else {
    local_fc = 1;
    puVar7 = local_bc;
    do {
      puVar7 = puVar7 + 1;
      if (*puVar7 != 0) break;
      local_fc = local_fc + 1;
    } while (local_fc < 0x10);
    local_100 = *param_7;
    if (*param_7 < local_fc) {
      local_100 = local_fc;
    }
    uVar13 = 0xf;
    puVar7 = local_bc + 0xf;
    do {
      if (*puVar7 != 0) break;
      uVar13 = uVar13 - 1;
      puVar7 = puVar7 + -1;
    } while (uVar13 != 0);
    if (uVar13 < local_100) {
      local_100 = uVar13;
    }
    *param_7 = local_100;
    iVar17 = 1 << ((byte)local_fc & 0x1f);
    if (local_fc < uVar13) {
      puVar7 = local_bc + local_fc;
      uVar9 = local_fc;
      do {
        uVar6 = *puVar7;
        if ((int)(iVar17 - uVar6) < 0) {
          return 0xfffffffd;
        }
        uVar9 = uVar9 + 1;
        puVar7 = puVar7 + 1;
        iVar17 = (iVar17 - uVar6) * 2;
      } while (uVar9 < uVar13);
    }
    iVar17 = iVar17 - local_bc[uVar13];
    if (iVar17 < 0) {
      return 0xfffffffd;
    }
    local_bc[0x11] = 0;
    local_bc[uVar13] = local_bc[uVar13] + iVar17;
    iVar10 = 0;
    iVar14 = uVar13 - 1;
    if (iVar14 != 0) {
      iVar4 = 0;
      do {
        iVar10 = iVar10 + *(int *)((int)local_bc + iVar4 + 4);
        iVar14 = iVar14 + -1;
        *(int *)((int)local_bc + iVar4 + 0x48) = iVar10;
        iVar4 = iVar4 + 4;
      } while (iVar14 != 0);
    }
    uVar9 = 0;
    do {
      iVar10 = *param_1;
      param_1 = param_1 + 1;
      if (iVar10 != 0) {
        uVar6 = local_bc[iVar10 + 0x10];
        param_10[uVar6] = uVar9;
        local_bc[iVar10 + 0x10] = uVar6 + 1;
      }
      uVar9 = uVar9 + 1;
    } while (uVar9 < param_2);
    iVar10 = -local_100;
    uVar9 = local_bc[uVar13 + 0x10];
    local_f4 = param_10;
    local_d8 = 0;
    local_bc[0x10] = 0;
    local_f8 = -1;
    local_bc[0x20] = 0;
    local_d0 = 0;
    local_d4 = 0;
    if ((int)local_fc <= (int)uVar13) {
      local_f0 = local_fc - 1;
      local_e8 = local_bc + local_fc;
      do {
        uVar6 = *local_e8;
        uVar1 = local_e0;
        while (uVar6 != 0) {
          uVar15 = uVar6 - 1;
          local_e0._2_2_ = (undefined2)((uint)uVar1 >> 0x10);
          uVar2 = local_e0._2_2_;
          iVar14 = iVar10;
          while (local_e0 = uVar1, iVar14 = iVar14 + local_100, iVar14 < (int)local_fc) {
            iVar10 = iVar10 + local_100;
            uVar18 = uVar13 - iVar10;
            if (local_100 < uVar13 - iVar10) {
              uVar18 = local_100;
            }
            uVar11 = local_fc - iVar10;
            uVar3 = 1 << ((byte)uVar11 & 0x1f);
            if ((uVar6 < uVar3) &&
               (iVar4 = uVar3 + (-1 - uVar15), puVar7 = local_e8, uVar11 < uVar18)) {
              while (uVar11 = uVar11 + 1, uVar11 < uVar18) {
                uVar3 = puVar7[1];
                uVar5 = iVar4 * 2;
                if (uVar5 < uVar3 || uVar5 - uVar3 == 0) break;
                iVar4 = uVar5 - uVar3;
                puVar7 = puVar7 + 1;
              }
            }
            local_d4 = 1 << ((byte)uVar11 & 0x1f);
            uVar18 = *param_9;
            uVar3 = local_d4 + uVar18;
            if (0x5a0 < uVar3) {
              return 0xfffffffc;
            }
            *param_9 = uVar3;
            local_d0 = param_8 + uVar18 * 8;
            local_bc[local_f8 + 0x21] = local_d0;
            if (local_f8 + 1 == 0) {
              *param_6 = local_d0;
            }
            else {
              local_bc[local_f8 + 0x11] = local_d8;
              local_e0._2_2_ = (undefined2)((uint)local_e0 >> 0x10);
              local_e0._0_2_ = CONCAT11((char)local_100,(byte)uVar11);
              uVar11 = local_d8 >> ((char)iVar10 - (char)local_100 & 0x1fU);
              uVar18 = local_bc[local_f8 + 0x20];
              local_dc = ((int)(local_d0 - uVar18) >> 3) - uVar11;
              *(undefined4 *)(uVar18 + uVar11 * 8) = local_e0;
              *(uint *)(uVar18 + 4 + uVar11 * 8) = local_dc;
            }
            uVar18 = local_d8;
            local_f8 = local_f8 + 1;
            uVar1 = local_e0;
            uVar2 = local_e0._2_2_;
          }
          bVar16 = (byte)iVar10;
          if (local_f4 < param_10 + uVar9) {
            local_dc = *local_f4;
            if (local_dc < param_3) {
              local_e0._0_1_ = (-(local_dc < 0x100) & 0xa0U) + 0x60;
            }
            else {
              iVar14 = (local_dc - param_3) * 4;
              local_e0._0_1_ = *(char *)(iVar14 + param_5) + 'P';
              local_dc = *(uint *)(iVar14 + param_4);
            }
            local_f4 = local_f4 + 1;
          }
          else {
            local_e0._0_1_ = -0x40;
          }
          local_e0 = CONCAT31(CONCAT21(uVar2,(char)local_fc - bVar16),(char)local_e0);
          iVar14 = 1 << ((char)local_fc - bVar16 & 0x1f);
          uVar6 = uVar18 >> (bVar16 & 0x1f);
          if (uVar6 < local_d4) {
            puVar12 = (undefined4 *)(local_d0 + uVar6 * 8);
            do {
              uVar6 = uVar6 + iVar14;
              *puVar12 = local_e0;
              puVar12[1] = local_dc;
              puVar12 = puVar12 + iVar14 * 2;
            } while (uVar6 < local_d4);
          }
          uVar11 = 1 << ((byte)local_f0 & 0x1f);
          uVar6 = uVar18 & uVar11;
          while (uVar6 != 0) {
            uVar18 = uVar18 ^ uVar11;
            uVar11 = uVar11 >> 1;
            uVar6 = uVar18 & uVar11;
          }
          uVar18 = uVar18 ^ uVar11;
          puVar7 = local_bc + local_f8 + 0x10;
          uVar6 = uVar15;
          uVar1 = local_e0;
          local_d8 = uVar18;
          if (((1 << (bVar16 & 0x1f)) - 1U & uVar18) != local_bc[local_f8 + 0x10]) {
            do {
              local_f8 = local_f8 + -1;
              iVar10 = iVar10 - local_100;
              puVar7 = puVar7 + -1;
            } while (((1 << ((byte)iVar10 & 0x1f)) - 1U & uVar18) != *puVar7);
          }
        }
        local_e8 = local_e8 + 1;
        local_fc = local_fc + 1;
        local_f0 = local_f0 + 1;
        local_e0 = uVar1;
      } while ((int)local_fc <= (int)uVar13);
    }
    if ((iVar17 != 0) && (uVar13 != 1)) {
      return 0xfffffffb;
    }
  }
  return 0;
}



/* FUN_1004af20 @ 1004af20 */

int __cdecl
FUN_1004af20(uint param_1,uint param_2,int *param_3,uint *param_4,uint *param_5,uint *param_6,
            uint *param_7,int param_8,int param_9)

{
  uint *puVar1;
  int iVar2;
  uint local_4;
  
  local_4 = 0;
  puVar1 = (uint *)(**(code **)(param_9 + 0x20))(*(undefined4 *)(param_9 + 0x28),0x120,4);
  if (puVar1 == (uint *)0x0) {
    return -4;
  }
  iVar2 = FUN_1004aa50(param_3,param_1,0x101,0x100514d0,0x1005154c,param_6,param_4,param_8,&local_4,
                       puVar1);
  if (iVar2 == 0) {
    if (*param_4 != 0) {
      iVar2 = FUN_1004aa50(param_3 + param_1,param_2,0,0x100515c8,0x10051640,param_7,param_5,param_8
                           ,&local_4,puVar1);
      if (iVar2 == 0) {
        if ((*param_5 != 0) || (param_1 < 0x102)) {
          (**(code **)(param_9 + 0x24))(*(undefined4 *)(param_9 + 0x28),puVar1);
          return 0;
        }
      }
      else {
        if (iVar2 == -3) {
          *(char **)(param_9 + 0x18) = s_oversubscribed_distance_tree_100595e8;
          (**(code **)(param_9 + 0x24))(*(undefined4 *)(param_9 + 0x28),puVar1);
          return -3;
        }
        if (iVar2 == -5) {
          *(char **)(param_9 + 0x18) = s_incomplete_distance_tree_100595cc;
          (**(code **)(param_9 + 0x24))(*(undefined4 *)(param_9 + 0x28),puVar1);
          return -3;
        }
        if (iVar2 == -4) goto LAB_1004b053;
      }
      *(char **)(param_9 + 0x18) = s_empty_distance_tree_with_lengths_100595a8;
      iVar2 = -3;
LAB_1004b053:
      (**(code **)(param_9 + 0x24))(*(undefined4 *)(param_9 + 0x28),puVar1);
      return iVar2;
    }
  }
  else {
    if (iVar2 == -3) {
      *(char **)(param_9 + 0x18) = s_oversubscribed_literal_length_tr_10059584;
      (**(code **)(param_9 + 0x24))(*(undefined4 *)(param_9 + 0x28),puVar1);
      return -3;
    }
    if (iVar2 == -4) goto LAB_1004b096;
  }
  *(char **)(param_9 + 0x18) = s_incomplete_literal_length_tree_10059564;
  iVar2 = -3;
LAB_1004b096:
  (**(code **)(param_9 + 0x24))(*(undefined4 *)(param_9 + 0x28),puVar1);
  return iVar2;
}



/* inflate_trees_fixed @ 1004b0b0 */

/* zlib (internal): return fixed Huffman trees */

int __cdecl inflate_trees_fixed(uInt *bl,uInt *bd,void **tl,void **td,z_streamp z)

{
  *bl = DAT_10058410;
  *bd = DAT_10058414;
  *tl = &DAT_10058418;
  *td = &DAT_10059418;
  return 0;
}



/* FUN_1004b0e0 @ 1004b0e0 */

int __cdecl FUN_1004b0e0(int param_1,int param_2,int param_3)

{
  undefined4 uVar1;
  undefined1 *puVar2;
  uint uVar3;
  undefined4 *puVar4;
  uint uVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined4 *local_4;
  
  puVar4 = *(undefined4 **)(param_1 + 0x34);
  puVar6 = *(undefined4 **)(param_1 + 0x30);
  local_4 = *(undefined4 **)(param_2 + 0xc);
  if (puVar4 < puVar6) {
    puVar4 = *(undefined4 **)(param_1 + 0x2c);
  }
  uVar3 = *(uint *)(param_2 + 0x10);
  uVar5 = (int)puVar4 - (int)puVar6;
  if (uVar3 < (uint)((int)puVar4 - (int)puVar6)) {
    uVar5 = uVar3;
  }
  if ((uVar5 != 0) && (param_3 == -5)) {
    param_3 = 0;
  }
  *(uint *)(param_2 + 0x10) = uVar3 - uVar5;
  *(uint *)(param_2 + 0x14) = *(int *)(param_2 + 0x14) + uVar5;
  if (*(code **)(param_1 + 0x38) != (code *)0x0) {
    uVar1 = (**(code **)(param_1 + 0x38))(*(undefined4 *)(param_1 + 0x3c),puVar6,uVar5);
    *(undefined4 *)(param_1 + 0x3c) = uVar1;
    *(undefined4 *)(param_2 + 0x30) = uVar1;
  }
  puVar4 = puVar6;
  puVar7 = local_4;
  for (uVar3 = uVar5 >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
    *puVar7 = *puVar4;
    puVar4 = puVar4 + 1;
    puVar7 = puVar7 + 1;
  }
  puVar2 = (undefined1 *)((int)puVar6 + uVar5);
  for (uVar3 = uVar5 & 3; uVar3 != 0; uVar3 = uVar3 - 1) {
    *(undefined1 *)puVar7 = *(undefined1 *)puVar4;
    puVar4 = (undefined4 *)((int)puVar4 + 1);
    puVar7 = (undefined4 *)((int)puVar7 + 1);
  }
  local_4 = (undefined4 *)((int)local_4 + uVar5);
  if (puVar2 == *(undefined1 **)(param_1 + 0x2c)) {
    puVar4 = *(undefined4 **)(param_1 + 0x28);
    if (*(undefined1 **)(param_1 + 0x34) == *(undefined1 **)(param_1 + 0x2c)) {
      *(undefined4 **)(param_1 + 0x34) = puVar4;
    }
    uVar5 = *(int *)(param_1 + 0x34) - (int)puVar4;
    uVar3 = *(uint *)(param_2 + 0x10);
    if (uVar3 < uVar5) {
      uVar5 = uVar3;
    }
    if ((uVar5 != 0) && (param_3 == -5)) {
      param_3 = 0;
    }
    *(uint *)(param_2 + 0x10) = uVar3 - uVar5;
    *(uint *)(param_2 + 0x14) = *(int *)(param_2 + 0x14) + uVar5;
    if (*(code **)(param_1 + 0x38) != (code *)0x0) {
      uVar1 = (**(code **)(param_1 + 0x38))(*(undefined4 *)(param_1 + 0x3c),puVar4,uVar5);
      *(undefined4 *)(param_1 + 0x3c) = uVar1;
      *(undefined4 *)(param_2 + 0x30) = uVar1;
    }
    puVar6 = puVar4;
    puVar7 = local_4;
    for (uVar3 = uVar5 >> 2; uVar3 != 0; uVar3 = uVar3 - 1) {
      *puVar7 = *puVar6;
      puVar6 = puVar6 + 1;
      puVar7 = puVar7 + 1;
    }
    local_4 = (undefined4 *)((int)local_4 + uVar5);
    puVar2 = (undefined1 *)((int)puVar4 + uVar5);
    for (uVar5 = uVar5 & 3; uVar5 != 0; uVar5 = uVar5 - 1) {
      *(undefined1 *)puVar7 = *(undefined1 *)puVar6;
      puVar6 = (undefined4 *)((int)puVar6 + 1);
      puVar7 = (undefined4 *)((int)puVar7 + 1);
    }
  }
  *(undefined4 **)(param_2 + 0xc) = local_4;
  *(undefined1 **)(param_1 + 0x30) = puVar2;
  return param_3;
}



/* FUN_1004b220 @ 1004b220 */

undefined4 __cdecl
FUN_1004b220(uint param_1,int param_2,int param_3,int param_4,int param_5,int *param_6)

{
  byte *pbVar1;
  byte bVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  byte *pbVar10;
  undefined1 *puVar11;
  undefined1 *puVar12;
  int iVar13;
  uint local_14;
  undefined1 *local_10;
  undefined1 *local_c;
  
  local_10 = *(undefined1 **)(param_5 + 0x34);
  uVar7 = *(uint *)(param_5 + 0x20);
  local_14 = param_6[1];
  pbVar10 = (byte *)*param_6;
  uVar3 = *(uint *)(param_5 + 0x1c);
  if (local_10 < *(undefined1 **)(param_5 + 0x30)) {
    local_c = *(undefined1 **)(param_5 + 0x30) + (-1 - (int)local_10);
  }
  else {
    local_c = (undefined1 *)(*(int *)(param_5 + 0x2c) - (int)local_10);
  }
  uVar6 = *(uint *)(&DAT_10059608 + param_1 * 4);
  uVar5 = *(uint *)(&DAT_10059608 + param_2 * 4);
  do {
    for (; uVar3 < 0x14; uVar3 = uVar3 + 8) {
      local_14 = local_14 - 1;
      uVar7 = uVar7 | (uint)*pbVar10 << ((byte)uVar3 & 0x1f);
      pbVar10 = pbVar10 + 1;
    }
    bVar2 = *(byte *)(param_3 + (uVar6 & uVar7) * 8);
    uVar9 = (uint)bVar2;
    iVar13 = param_3 + (uVar6 & uVar7) * 8;
    if (uVar9 == 0) {
LAB_1004b458:
      uVar7 = uVar7 >> (*(byte *)(iVar13 + 1) & 0x1f);
      uVar3 = uVar3 - *(byte *)(iVar13 + 1);
      *local_10 = *(undefined1 *)(iVar13 + 4);
      local_10 = local_10 + 1;
      local_c = local_c + -1;
    }
    else {
      uVar7 = uVar7 >> (*(byte *)(iVar13 + 1) & 0x1f);
      uVar3 = uVar3 - *(byte *)(iVar13 + 1);
      while ((bVar2 & 0x10) == 0) {
        if ((uVar9 & 0x40) != 0) {
          if ((uVar9 & 0x20) != 0) {
            uVar6 = param_6[1] - local_14;
            if (uVar3 >> 3 < param_6[1] - local_14) {
              uVar6 = uVar3 >> 3;
            }
            *(uint *)(param_5 + 0x20) = uVar7;
            *(uint *)(param_5 + 0x1c) = uVar3 + uVar6 * -8;
            iVar13 = *param_6;
            param_6[1] = uVar6 + local_14;
            *param_6 = (int)pbVar10 - uVar6;
            param_6[2] = param_6[2] + (((int)pbVar10 - uVar6) - iVar13);
            *(undefined1 **)(param_5 + 0x34) = local_10;
            return 1;
          }
          uVar5 = param_6[1] - local_14;
          param_6[6] = (int)s_invalid_literal_length_code_100583f0;
          uVar6 = uVar3 >> 3;
          if (uVar3 >> 3 < uVar5) goto LAB_1004b56f;
          goto LAB_1004b571;
        }
        iVar4 = (*(uint *)(&DAT_10059608 + uVar9 * 4) & uVar7) + *(int *)(iVar13 + 4);
        bVar2 = *(byte *)(iVar13 + iVar4 * 8);
        uVar9 = (uint)bVar2;
        iVar13 = iVar13 + iVar4 * 8;
        if (uVar9 == 0) goto LAB_1004b458;
        uVar7 = uVar7 >> (*(byte *)(iVar13 + 1) & 0x1f);
        uVar3 = uVar3 - *(byte *)(iVar13 + 1);
      }
      uVar9 = uVar9 & 0xf;
      param_1 = (*(uint *)(&DAT_10059608 + uVar9 * 4) & uVar7) + *(int *)(iVar13 + 4);
      uVar8 = uVar7 >> (sbyte)uVar9;
      for (uVar3 = uVar3 - uVar9; uVar3 < 0xf; uVar3 = uVar3 + 8) {
        local_14 = local_14 - 1;
        uVar8 = uVar8 | (uint)*pbVar10 << ((byte)uVar3 & 0x1f);
        pbVar10 = pbVar10 + 1;
      }
      iVar13 = param_4 + (uVar5 & uVar8) * 8;
      uVar7 = uVar8 >> (*(byte *)(iVar13 + 1) & 0x1f);
      uVar3 = uVar3 - *(byte *)(iVar13 + 1);
      bVar2 = *(byte *)(param_4 + (uVar5 & uVar8) * 8);
      while ((bVar2 & 0x10) == 0) {
        if ((bVar2 & 0x40) != 0) {
          uVar5 = param_6[1] - local_14;
          param_6[6] = (int)s_invalid_distance_code_100583d8;
          uVar6 = uVar3 >> 3;
          if (uVar3 >> 3 < uVar5) {
LAB_1004b56f:
            uVar5 = uVar6;
          }
LAB_1004b571:
          *(uint *)(param_5 + 0x20) = uVar7;
          *(uint *)(param_5 + 0x1c) = uVar3 + uVar5 * -8;
          iVar13 = *param_6;
          param_6[1] = uVar5 + local_14;
          *param_6 = (int)pbVar10 - uVar5;
          param_6[2] = param_6[2] + (((int)pbVar10 - uVar5) - iVar13);
          *(undefined1 **)(param_5 + 0x34) = local_10;
          return 0xfffffffd;
        }
        iVar4 = (*(uint *)(&DAT_10059608 + (uint)bVar2 * 4) & uVar7) + *(int *)(iVar13 + 4);
        pbVar1 = (byte *)(iVar13 + iVar4 * 8);
        iVar13 = iVar13 + iVar4 * 8;
        uVar7 = uVar7 >> (*(byte *)(iVar13 + 1) & 0x1f);
        uVar3 = uVar3 - *(byte *)(iVar13 + 1);
        bVar2 = *pbVar1;
      }
      uVar9 = bVar2 & 0xf;
      for (; uVar3 < uVar9; uVar3 = uVar3 + 8) {
        local_14 = local_14 - 1;
        uVar7 = uVar7 | (uint)*pbVar10 << ((byte)uVar3 & 0x1f);
        pbVar10 = pbVar10 + 1;
      }
      uVar8 = (*(uint *)(&DAT_10059608 + uVar9 * 4) & uVar7) + *(int *)(iVar13 + 4);
      uVar7 = uVar7 >> (sbyte)uVar9;
      uVar3 = uVar3 - uVar9;
      local_c = local_c + -param_1;
      if ((uint)((int)local_10 - *(int *)(param_5 + 0x28)) < uVar8) {
        uVar8 = (*(int *)(param_5 + 0x28) - (int)local_10) + uVar8;
        puVar12 = (undefined1 *)(*(int *)(param_5 + 0x2c) - uVar8);
        if (uVar8 < param_1) {
          param_1 = param_1 - uVar8;
          do {
            *local_10 = *puVar12;
            local_10 = local_10 + 1;
            puVar12 = puVar12 + 1;
            uVar8 = uVar8 - 1;
          } while (uVar8 != 0);
          puVar12 = *(undefined1 **)(param_5 + 0x28);
        }
      }
      else {
        puVar11 = local_10 + -uVar8;
        *local_10 = *puVar11;
        puVar12 = puVar11 + 2;
        local_10[1] = puVar11[1];
        param_1 = param_1 - 2;
        local_10 = local_10 + 2;
      }
      do {
        *local_10 = *puVar12;
        local_10 = local_10 + 1;
        puVar12 = puVar12 + 1;
        param_1 = param_1 - 1;
      } while (param_1 != 0);
    }
    if ((local_c < (undefined1 *)0x102) || (local_14 < 10)) {
      uVar6 = param_6[1] - local_14;
      if (uVar3 >> 3 < param_6[1] - local_14) {
        uVar6 = uVar3 >> 3;
      }
      *(uint *)(param_5 + 0x20) = uVar7;
      *(uint *)(param_5 + 0x1c) = uVar3 + uVar6 * -8;
      iVar13 = *param_6;
      param_6[1] = uVar6 + local_14;
      *param_6 = (int)pbVar10 - uVar6;
      param_6[2] = param_6[2] + (((int)pbVar10 - uVar6) - iVar13);
      *(undefined1 **)(param_5 + 0x34) = local_10;
      return 0;
    }
  } while( true );
}



/* seh_prolog @ 1004b5b0 */

/* MSVC SEH prolog helper (sets FS:[0]) */

void seh_prolog(void)

{
  undefined1 auStack_c [12];
  
  ExceptionList = auStack_c;
  return;
}



/* FUN_1004b5cf @ 1004b5cf */

/* [binja] int32_t __stdcall sub_1004b5cf(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

int FUN_1004b5cf(int arg1,int arg2,int arg3,int arg4)

{
  int iVar1;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_100516b8;
  puStack_10 = &DAT_1004b7cc;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  while( true ) {
    arg3 = arg3 + -1;
    if (arg3 < 0) break;
    (*(code *)arg4)();
  }
  local_8 = 0xffffffff;
  iVar1 = FUN_1004b637();
  ExceptionList = local_14;
  return iVar1;
}



/* FUN_1004b637 @ 1004b637 */

void FUN_1004b637(void)

{
  int unaff_EBP;
  
  if (*(int *)(unaff_EBP + -0x1c) == 0) {
    FUN_1004b64f(*(int *)(unaff_EBP + 8),*(int *)(unaff_EBP + 0xc),*(int *)(unaff_EBP + 0x10),
                 *(int *)(unaff_EBP + 0x14));
  }
  return;
}



/* FUN_1004b64f @ 1004b64f */

/* [binja] struct _EXCEPTION_REGISTRATION_RECORD* __stdcall sub_1004b64f(int32_t arg1, int32_t arg2,
   int32_t arg3, int32_t arg4) */

void * FUN_1004b64f(int arg1,int arg2,int arg3,int arg4)

{
  void *pvVar1;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_100516c8;
  puStack_10 = &DAT_1004b7cc;
  local_14 = ExceptionList;
  local_8 = 0;
  pvVar1 = ExceptionList;
  ExceptionList = &local_14;
  while( true ) {
    arg3 = arg3 + -1;
    if (arg3 < 0) break;
    pvVar1 = (void *)(*(code *)arg4)();
  }
  ExceptionList = local_14;
  return pvVar1;
}



/* FUN_1004b6c3 @ 1004b6c3 */

/* [binja] int32_t __stdcall sub_1004b6c3(int32_t arg1, int32_t arg2, int32_t arg3, int32_t arg4) */

int FUN_1004b6c3(int arg1,int arg2,int arg3,int arg4)

{
  int iVar1;
  int local_20;
  void *local_14;
  undefined *puStack_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  puStack_c = &DAT_100516d8;
  puStack_10 = &DAT_1004b7cc;
  local_14 = ExceptionList;
  local_8 = 0;
  ExceptionList = &local_14;
  for (local_20 = 0; local_20 < arg3; local_20 = local_20 + 1) {
    (*(code *)arg4)();
  }
  local_8 = 0xffffffff;
  iVar1 = FUN_1004b72d();
  ExceptionList = local_14;
  return iVar1;
}



/* FUN_1004b72d @ 1004b72d */

void FUN_1004b72d(void)

{
  int unaff_EBP;
  
  if (*(int *)(unaff_EBP + -0x20) == 0) {
    FUN_1004b64f(*(int *)(unaff_EBP + 8),*(int *)(unaff_EBP + 0xc),*(int *)(unaff_EBP + -0x1c),
                 *(int *)(unaff_EBP + 0x18));
  }
  return;
}



/* __aullshr @ 1004b770 */

/* Library Function - Single Match
    __aullshr
   
   Library: Visual Studio */

ulonglong __fastcall __aullshr(byte param_1,uint param_2)

{
  uint in_EAX;
  
  if (0x3f < param_1) {
    return 0;
  }
  if (param_1 < 0x20) {
    return CONCAT44(param_2 >> (param_1 & 0x1f),
                    in_EAX >> (param_1 & 0x1f) | param_2 << 0x20 - (param_1 & 0x1f));
  }
  return (ulonglong)(param_2 >> (param_1 & 0x1f));
}



/* FUN_1004b790 @ 1004b790 */

/* WARNING: Unable to track spacebase fully for stack */

void FUN_1004b790(void)

{
  uint in_EAX;
  undefined1 *puVar1;
  undefined4 unaff_retaddr;
  
  puVar1 = &stack0x00000004;
  for (; 0xfff < in_EAX; in_EAX = in_EAX - 0x1000) {
    puVar1 = puVar1 + -0x1000;
  }
  *(undefined4 *)(puVar1 + (-4 - in_EAX)) = unaff_retaddr;
  return;
}



/* Unwind@1004b7e0 @ 1004b7e0 */

void Unwind_1004b7e0(void)

{
  grim_noop();
  return;
}



/* Unwind@1004b800 @ 1004b800 */

void Unwind_1004b800(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 4));
  return;
}



/* Unwind@1004b820 @ 1004b820 */

void Unwind_1004b820(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 0xc));
  return;
}



/* Unwind@1004b835 @ 1004b835 */

void Unwind_1004b835(void)

{
  int unaff_EBP;
  
  FUN_1001029e((void *)(unaff_EBP + -0x70));
  return;
}



/* Unwind@1004b83d @ 1004b83d */

void Unwind_1004b83d(void)

{
  int unaff_EBP;
  
  FUN_100161b6((char *)(unaff_EBP + -0x1c));
  return;
}



/* Unwind@1004b84f @ 1004b84f */

void Unwind_1004b84f(void)

{
  int unaff_EBP;
  
  FUN_1001029e((void *)(unaff_EBP + -0x98));
  return;
}



/* Unwind@1004b85a @ 1004b85a */

void Unwind_1004b85a(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x2c));
  return;
}



/* Unwind@1004b864 @ 1004b864 */

void Unwind_1004b864(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x28));
  return;
}



/* Unwind@1004b86e @ 1004b86e */

void Unwind_1004b86e(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x34));
  return;
}



/* Unwind@1004b878 @ 1004b878 */

void Unwind_1004b878(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x44));
  return;
}



/* Unwind@1004b88c @ 1004b88c */

void Unwind_1004b88c(void)

{
  int unaff_EBP;
  
  FUN_1001029e((void *)(unaff_EBP + -0x8c));
  return;
}



/* Unwind@1004b8a1 @ 1004b8a1 */

void Unwind_1004b8a1(void)

{
  int unaff_EBP;
  
  FUN_1001bed2((int *)(unaff_EBP + -0x3c));
  return;
}



/* Unwind@1004b8a9 @ 1004b8a9 */

void Unwind_1004b8a9(void)

{
  int unaff_EBP;
  
  FUN_10012856((int *)(unaff_EBP + -0x2c));
  return;
}



/* Unwind@1004b8bb @ 1004b8bb */

void Unwind_1004b8bb(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x54));
  return;
}



/* Unwind@1004b8c5 @ 1004b8c5 */

void Unwind_1004b8c5(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x5c));
  return;
}



/* Unwind@1004b8cf @ 1004b8cf */

void Unwind_1004b8cf(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x48));
  return;
}



/* Unwind@1004b8e3 @ 1004b8e3 */

void Unwind_1004b8e3(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x10));
  return;
}



/* Unwind@1004b8f7 @ 1004b8f7 */

void Unwind_1004b8f7(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x14));
  return;
}



/* Unwind@1004b901 @ 1004b901 */

void Unwind_1004b901(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x14));
  return;
}



/* Unwind@1004b915 @ 1004b915 */

void Unwind_1004b915(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x30));
  return;
}



/* Unwind@1004b91f @ 1004b91f */

void Unwind_1004b91f(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x30));
  return;
}



/* Unwind@1004b933 @ 1004b933 */

void Unwind_1004b933(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x2c));
  return;
}



/* Unwind@1004b93d @ 1004b93d */

void Unwind_1004b93d(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x2c));
  return;
}



/* Unwind@1004b947 @ 1004b947 */

void Unwind_1004b947(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x2c));
  return;
}



/* Unwind@1004b95b @ 1004b95b */

void Unwind_1004b95b(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x14));
  return;
}



/* Unwind@1004b965 @ 1004b965 */

void Unwind_1004b965(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x14));
  return;
}



/* Unwind@1004b96f @ 1004b96f */

void Unwind_1004b96f(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x14));
  return;
}



/* Unwind@1004b983 @ 1004b983 */

void Unwind_1004b983(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x14));
  return;
}



/* Unwind@1004b98d @ 1004b98d */

void Unwind_1004b98d(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x1c));
  return;
}



/* Unwind@1004b9a1 @ 1004b9a1 */

void Unwind_1004b9a1(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x44));
  return;
}



/* Unwind@1004b9ab @ 1004b9ab */

void Unwind_1004b9ab(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x30));
  return;
}



/* Unwind@1004b9bf @ 1004b9bf */

void Unwind_1004b9bf(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x40));
  return;
}



/* Unwind@1004b9c9 @ 1004b9c9 */

void Unwind_1004b9c9(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x3c));
  return;
}



/* Unwind@1004b9d3 @ 1004b9d3 */

void Unwind_1004b9d3(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x40));
  return;
}



/* Unwind@1004b9e7 @ 1004b9e7 */

void Unwind_1004b9e7(void)

{
  int unaff_EBP;
  
  grim_vertex_space_converter_destroy(*(void **)(unaff_EBP + -0x14));
  return;
}



/* Unwind@1004b9f9 @ 1004b9f9 */

void Unwind_1004b9f9(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x14));
  return;
}



/* Unwind@1004ba0d @ 1004ba0d */

void Unwind_1004ba0d(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x10));
  return;
}



/* Unwind@1004ba21 @ 1004ba21 */

void Unwind_1004ba21(void)

{
  int unaff_EBP;
  
  grim_vertex_space_converter_destroy(*(void **)(unaff_EBP + -0x14));
  return;
}



/* Unwind@1004ba29 @ 1004ba29 */

void Unwind_1004ba29(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x10));
  return;
}



/* Unwind@1004ba3d @ 1004ba3d */

void Unwind_1004ba3d(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + -0x24));
  return;
}



/* Unwind@1004ba51 @ 1004ba51 */

void Unwind_1004ba51(void)

{
  int unaff_EBP;
  
  grim_vertex_space_converter_destroy(*(void **)(unaff_EBP + -0x10));
  return;
}



/* Unwind@1004ba63 @ 1004ba63 */

void Unwind_1004ba63(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004ba6d @ 1004ba6d */

void Unwind_1004ba6d(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004ba77 @ 1004ba77 */

void Unwind_1004ba77(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004ba81 @ 1004ba81 */

void Unwind_1004ba81(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004ba8b @ 1004ba8b */

void Unwind_1004ba8b(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004ba95 @ 1004ba95 */

void Unwind_1004ba95(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004ba9f @ 1004ba9f */

void Unwind_1004ba9f(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004baa9 @ 1004baa9 */

void Unwind_1004baa9(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bab3 @ 1004bab3 */

void Unwind_1004bab3(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004babd @ 1004babd */

void Unwind_1004babd(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bac7 @ 1004bac7 */

void Unwind_1004bac7(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bad1 @ 1004bad1 */

void Unwind_1004bad1(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004badb @ 1004badb */

void Unwind_1004badb(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bae5 @ 1004bae5 */

void Unwind_1004bae5(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004baef @ 1004baef */

void Unwind_1004baef(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004baf9 @ 1004baf9 */

void Unwind_1004baf9(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb03 @ 1004bb03 */

void Unwind_1004bb03(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb0d @ 1004bb0d */

void Unwind_1004bb0d(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb17 @ 1004bb17 */

void Unwind_1004bb17(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb21 @ 1004bb21 */

void Unwind_1004bb21(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb2b @ 1004bb2b */

void Unwind_1004bb2b(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb35 @ 1004bb35 */

void Unwind_1004bb35(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb3f @ 1004bb3f */

void Unwind_1004bb3f(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb49 @ 1004bb49 */

void Unwind_1004bb49(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb53 @ 1004bb53 */

void Unwind_1004bb53(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb5d @ 1004bb5d */

void Unwind_1004bb5d(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb67 @ 1004bb67 */

void Unwind_1004bb67(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb71 @ 1004bb71 */

void Unwind_1004bb71(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb7b @ 1004bb7b */

void Unwind_1004bb7b(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb85 @ 1004bb85 */

void Unwind_1004bb85(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb8f @ 1004bb8f */

void Unwind_1004bb8f(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bb99 @ 1004bb99 */

void Unwind_1004bb99(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bba3 @ 1004bba3 */

void Unwind_1004bba3(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bbad @ 1004bbad */

void Unwind_1004bbad(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bbb7 @ 1004bbb7 */

void Unwind_1004bbb7(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bbc1 @ 1004bbc1 */

void Unwind_1004bbc1(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



/* Unwind@1004bbcb @ 1004bbcb */

void Unwind_1004bbcb(void)

{
  int unaff_EBP;
  
  operator_delete(*(void **)(unaff_EBP + 8));
  return;
}



